\hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer}{}\doxysection{v8\+::internal\+::compiler\+::Move\+Optimizer Class Reference}
\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer}\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}


{\ttfamily \#include $<$move-\/optimizer.\+h$>$}



Collaboration diagram for v8\+::internal\+::compiler\+::Move\+Optimizer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a9d45811f6392ec0da6197335b9dba8aa}{Move\+Optimizer}} (\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}{local\+\_\+zone}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence}{Instruction\+Sequence}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a99617a05d0ccf5431375ae59b3d1e001}{Move\+Optimizer}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer}{Move\+Optimizer}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer}{Move\+Optimizer}} \& \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a8054f27cf72fa9852f4c23b05a5aeb4a}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer}{Move\+Optimizer}} \&)=delete
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a80cb8fa53aed4b4e7af65d13b58cf079}{Run}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}{Move\+Op\+Vector}} = \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOperands}{Move\+Operands}} $\ast$ $>$
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence}{Instruction\+Sequence}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}{local\+\_\+zone}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a018223cce8b1a7563f6416f8688c5030}{code\+\_\+zone}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}{Move\+Op\+Vector}} \& \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a1ebf2c011d28f05de7a1ce279b4006f9}{local\+\_\+vector}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a036465b10bbbac7957100e3c0fb95022}{Compress\+Gaps}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$instr)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a0a52c3c46bfbc78347044851045536dc}{Compress\+Block}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a39b04fa555bc623052988867960cd761}{Compress\+Moves}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ParallelMove}{Parallel\+Move}} $\ast$left, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}{Move\+Op\+Vector}} $\ast$right)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a22647c6bc89e5b09aa9fc13961163803}{Migrate\+Moves}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$to, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$from)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_aef05322f0d2e36ad6c4a0042652ee820}{Remove\+Clobbered\+Destinations}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$instruction)
\item 
const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_af544d072137fb323649af03b7d7e3edf}{Last\+Instruction}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$block) const
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3f0da1309a02af9ac1d82b44afef7832}{Optimize\+Merge}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a38cce70385ca2fbaa0c2f18fd94ba624}{Finalize\+Moves}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$instr)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_afd3dedf464d6f325079380eb89314b74}{local\+\_\+zone\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence}{Instruction\+Sequence}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3a59ba065d0c47c4914081719621411d}{code\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}{Move\+Op\+Vector}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a834a09d3787d831331a762059e3626ad}{local\+\_\+vector\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{Instruction\+Operand}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac053f3960b0b21ed7cf8dd9465dc8cd9}{operand\+\_\+buffer1}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{Instruction\+Operand}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a051d2e6476534a9f469ffd9c6140dc47}{operand\+\_\+buffer2}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 15 of file move-\/optimizer.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!MoveOpVector@{MoveOpVector}}
\index{MoveOpVector@{MoveOpVector}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{MoveOpVector}{MoveOpVector}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}{v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Move\+Op\+Vector}} =  \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOperands}{Move\+Operands}}$\ast$$>$\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 24 of file move-\/optimizer.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a9d45811f6392ec0da6197335b9dba8aa}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a9d45811f6392ec0da6197335b9dba8aa}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!MoveOptimizer@{MoveOptimizer}}
\index{MoveOptimizer@{MoveOptimizer}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{MoveOptimizer()}{MoveOptimizer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Move\+Optimizer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{local\+\_\+zone,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence}{Instruction\+Sequence}} $\ast$}]{code }\end{DoxyParamCaption})}



Definition at line 127 of file move-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{128     : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_afd3dedf464d6f325079380eb89314b74}{local\_zone\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}{local\_zone}}),}
\DoxyCodeLine{129       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3a59ba065d0c47c4914081719621411d}{code\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}),}
\DoxyCodeLine{130       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a834a09d3787d831331a762059e3626ad}{local\_vector\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}{local\_zone}}),}
\DoxyCodeLine{131       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac053f3960b0b21ed7cf8dd9465dc8cd9}{operand\_buffer1}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}{local\_zone}}),}
\DoxyCodeLine{132       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a051d2e6476534a9f469ffd9c6140dc47}{operand\_buffer2}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}{local\_zone}}) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a99617a05d0ccf5431375ae59b3d1e001}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a99617a05d0ccf5431375ae59b3d1e001}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!MoveOptimizer@{MoveOptimizer}}
\index{MoveOptimizer@{MoveOptimizer}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{MoveOptimizer()}{MoveOptimizer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Move\+Optimizer (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer}{Move\+Optimizer}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!code@{code}}
\index{code@{code}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{code()}{code()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence}{Instruction\+Sequence}}$\ast$ v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::code (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 26 of file move-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{26 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3a59ba065d0c47c4914081719621411d}{code\_}}; \}}

\end{DoxyCode}


Referenced by Compress\+Block(), Last\+Instruction(), Optimize\+Merge(), and Run().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a018223cce8b1a7563f6416f8688c5030}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a018223cce8b1a7563f6416f8688c5030}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!code\_zone@{code\_zone}}
\index{code\_zone@{code\_zone}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{code\_zone()}{code\_zone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$ v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::code\+\_\+zone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 28 of file move-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{28 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a5749a22c101c776c60cbe099e49cc03a}{zone}}(); \}}

\end{DoxyCode}


References code.



Referenced by Finalize\+Moves(), Migrate\+Moves(), and Optimize\+Merge().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a018223cce8b1a7563f6416f8688c5030_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a0a52c3c46bfbc78347044851045536dc}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a0a52c3c46bfbc78347044851045536dc}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!CompressBlock@{CompressBlock}}
\index{CompressBlock@{CompressBlock}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{CompressBlock()}{CompressBlock()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Compress\+Block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 353 of file move-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{353                                                          \{}
\DoxyCodeLine{354   \textcolor{keywordtype}{int} first\_instr\_index = block-\/>first\_instruction\_index();}
\DoxyCodeLine{355   \textcolor{keywordtype}{int} last\_instr\_index = block-\/>last\_instruction\_index();}
\DoxyCodeLine{356 }
\DoxyCodeLine{357   \textcolor{comment}{// Start by removing gap assignments where the output of the subsequent}}
\DoxyCodeLine{358   \textcolor{comment}{// instruction appears on LHS, as long as they are not needed by its input.}}
\DoxyCodeLine{359   Instruction* prev\_instr = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_aff8c0c48bf63774a6aedae505b258a48}{instructions}}()[first\_instr\_index];}
\DoxyCodeLine{360   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_aef05322f0d2e36ad6c4a0042652ee820}{RemoveClobberedDestinations}}(prev\_instr);}
\DoxyCodeLine{361 }
\DoxyCodeLine{362   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = first\_instr\_index + 1; \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} <= last\_instr\_index; ++\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}) \{}
\DoxyCodeLine{363     Instruction* instr = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_aff8c0c48bf63774a6aedae505b258a48}{instructions}}()[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}];}
\DoxyCodeLine{364     \textcolor{comment}{// Migrate to the gap of prev\_instr eligible moves from instr.}}
\DoxyCodeLine{365     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a22647c6bc89e5b09aa9fc13961163803}{MigrateMoves}}(instr, prev\_instr);}
\DoxyCodeLine{366     \textcolor{comment}{// Remove gap assignments clobbered by instr's output.}}
\DoxyCodeLine{367     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_aef05322f0d2e36ad6c4a0042652ee820}{RemoveClobberedDestinations}}(instr);}
\DoxyCodeLine{368     prev\_instr = instr;}
\DoxyCodeLine{369   \}}
\DoxyCodeLine{370 \}}

\end{DoxyCode}


References code(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::first\+\_\+instruction\+\_\+index(), v8\+::internal\+::index, v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::instructions(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::last\+\_\+instruction\+\_\+index(), Migrate\+Moves(), and Remove\+Clobbered\+Destinations().



Referenced by Optimize\+Merge(), and Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a0a52c3c46bfbc78347044851045536dc_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a0a52c3c46bfbc78347044851045536dc_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a036465b10bbbac7957100e3c0fb95022}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a036465b10bbbac7957100e3c0fb95022}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!CompressGaps@{CompressGaps}}
\index{CompressGaps@{CompressGaps}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{CompressGaps()}{CompressGaps()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Compress\+Gaps (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$}]{instr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 326 of file move-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{326                                                          \{}
\DoxyCodeLine{327   \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02move-optimizer_8cc_03_a83b583d434a9bbfec2fcbc2bbfeec7f0}{FindFirstNonEmptySlot}}(instruction);}
\DoxyCodeLine{328   \textcolor{keywordtype}{bool} has\_moves = \mbox{\hyperlink{namespacev8_1_1internal}{i}} <= \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa11e45069c25ab5b77d5c250d7bae847a}{Instruction::LAST\_GAP\_POSITION}};}
\DoxyCodeLine{329   \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(has\_moves);}
\DoxyCodeLine{330 }
\DoxyCodeLine{331   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal}{i}} == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa11e45069c25ab5b77d5c250d7bae847a}{Instruction::LAST\_GAP\_POSITION}}) \{}
\DoxyCodeLine{332     std::swap(instruction-\/>parallel\_moves()[\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa9021cbe7ad6b8f9c056ab8bc75237c58}{Instruction::FIRST\_GAP\_POSITION}}],}
\DoxyCodeLine{333               instruction-\/>parallel\_moves()[\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa11e45069c25ab5b77d5c250d7bae847a}{Instruction::LAST\_GAP\_POSITION}}]);}
\DoxyCodeLine{334   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal}{i}} == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa9021cbe7ad6b8f9c056ab8bc75237c58}{Instruction::FIRST\_GAP\_POSITION}}) \{}
\DoxyCodeLine{335     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a39b04fa555bc623052988867960cd761}{CompressMoves}}(}
\DoxyCodeLine{336         instruction-\/>parallel\_moves()[\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa9021cbe7ad6b8f9c056ab8bc75237c58}{Instruction::FIRST\_GAP\_POSITION}}],}
\DoxyCodeLine{337         instruction-\/>parallel\_moves()[\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa11e45069c25ab5b77d5c250d7bae847a}{Instruction::LAST\_GAP\_POSITION}}]);}
\DoxyCodeLine{338   \}}
\DoxyCodeLine{339   \textcolor{comment}{// We either have no moves, or, after swapping or compressing, we have}}
\DoxyCodeLine{340   \textcolor{comment}{// all the moves in the first gap position, and none in the second/end gap}}
\DoxyCodeLine{341   \textcolor{comment}{// position.}}
\DoxyCodeLine{342   ParallelMove* first =}
\DoxyCodeLine{343       instruction-\/>parallel\_moves()[\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa9021cbe7ad6b8f9c056ab8bc75237c58}{Instruction::FIRST\_GAP\_POSITION}}];}
\DoxyCodeLine{344   ParallelMove* last =}
\DoxyCodeLine{345       instruction-\/>parallel\_moves()[\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53aa11e45069c25ab5b77d5c250d7bae847a}{Instruction::LAST\_GAP\_POSITION}}];}
\DoxyCodeLine{346   \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(first);}
\DoxyCodeLine{347   \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(last);}
\DoxyCodeLine{348 }
\DoxyCodeLine{349   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!has\_moves ||}
\DoxyCodeLine{350          (first != \textcolor{keyword}{nullptr} \&\& (last == \textcolor{keyword}{nullptr} || last-\/>empty())));}
\DoxyCodeLine{351 \}}

\end{DoxyCode}


References Compress\+Moves(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{move-\/optimizer.\+cc\}\+::\+Find\+First\+Non\+Empty\+Slot(), v8\+::internal\+::compiler\+::\+Instruction\+::\+FIRST\+\_\+\+GAP\+\_\+\+POSITION, v8\+::internal\+::compiler\+::\+Instruction\+::\+LAST\+\_\+\+GAP\+\_\+\+POSITION, v8\+::internal\+::compiler\+::\+Instruction\+::parallel\+\_\+moves(), and USE.



Referenced by Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a036465b10bbbac7957100e3c0fb95022_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a036465b10bbbac7957100e3c0fb95022_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a39b04fa555bc623052988867960cd761}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a39b04fa555bc623052988867960cd761}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!CompressMoves@{CompressMoves}}
\index{CompressMoves@{CompressMoves}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{CompressMoves()}{CompressMoves()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Compress\+Moves (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ParallelMove}{Parallel\+Move}} $\ast$}]{left,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}{Move\+Op\+Vector}} $\ast$}]{right }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 297 of file move-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{297                                                                          \{}
\DoxyCodeLine{298   \textcolor{keywordflow}{if} (right == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{299 }
\DoxyCodeLine{300   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}{MoveOpVector}}\& eliminated = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a1ebf2c011d28f05de7a1ce279b4006f9}{local\_vector}}();}
\DoxyCodeLine{301   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(eliminated.empty());}
\DoxyCodeLine{302 }
\DoxyCodeLine{303   \textcolor{keywordflow}{if} (!left-\/>empty()) \{}
\DoxyCodeLine{304     \textcolor{comment}{// Modify the right moves in place and collect moves that will be killed by}}
\DoxyCodeLine{305     \textcolor{comment}{// merging the two gaps.}}
\DoxyCodeLine{306     \textcolor{keywordflow}{for} (MoveOperands* move : *right) \{}
\DoxyCodeLine{307       \textcolor{keywordflow}{if} (move-\/>IsRedundant()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{308       left-\/>PrepareInsertAfter(move, \&eliminated);}
\DoxyCodeLine{309     \}}
\DoxyCodeLine{310     \textcolor{comment}{// Eliminate dead moves.}}
\DoxyCodeLine{311     \textcolor{keywordflow}{for} (MoveOperands* to\_eliminate : eliminated) \{}
\DoxyCodeLine{312       to\_eliminate-\/>Eliminate();}
\DoxyCodeLine{313     \}}
\DoxyCodeLine{314     eliminated.clear();}
\DoxyCodeLine{315   \}}
\DoxyCodeLine{316   \textcolor{comment}{// Add all possibly modified moves from right side.}}
\DoxyCodeLine{317   \textcolor{keywordflow}{for} (MoveOperands* move : *right) \{}
\DoxyCodeLine{318     \textcolor{keywordflow}{if} (move-\/>IsRedundant()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{319     left-\/>push\_back(move);}
\DoxyCodeLine{320   \}}
\DoxyCodeLine{321   \textcolor{comment}{// Nuke right.}}
\DoxyCodeLine{322   right-\/>clear();}
\DoxyCodeLine{323   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(eliminated.empty());}
\DoxyCodeLine{324 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::clear(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::empty(), local\+\_\+vector(), and v8\+::internal\+::compiler\+::\+Parallel\+Move\+::\+Prepare\+Insert\+After().



Referenced by Compress\+Gaps(), Migrate\+Moves(), and Optimize\+Merge().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a39b04fa555bc623052988867960cd761_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a39b04fa555bc623052988867960cd761_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a38cce70385ca2fbaa0c2f18fd94ba624}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a38cce70385ca2fbaa0c2f18fd94ba624}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!FinalizeMoves@{FinalizeMoves}}
\index{FinalizeMoves@{FinalizeMoves}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{FinalizeMoves()}{FinalizeMoves()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Finalize\+Moves (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$}]{instr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 551 of file move-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{551                                                     \{}
\DoxyCodeLine{552   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}{MoveOpVector}}\& loads = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a1ebf2c011d28f05de7a1ce279b4006f9}{local\_vector}}();}
\DoxyCodeLine{553   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(loads.empty());}
\DoxyCodeLine{554 }
\DoxyCodeLine{555   ParallelMove* parallel\_moves = instr-\/>parallel\_moves()[0];}
\DoxyCodeLine{556   \textcolor{keywordflow}{if} (parallel\_moves == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{557   \textcolor{comment}{// Find all the loads.}}
\DoxyCodeLine{558   \textcolor{keywordflow}{for} (MoveOperands* move : *parallel\_moves) \{}
\DoxyCodeLine{559     \textcolor{keywordflow}{if} (move-\/>IsRedundant()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{560     \textcolor{keywordflow}{if} (move-\/>source().IsConstant() || \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02move-optimizer_8cc_03_a45d0393eda325b5d0ba6ebd21270bf56}{IsSlot}}(move-\/>source())) \{}
\DoxyCodeLine{561       loads.push\_back(move);}
\DoxyCodeLine{562     \}}
\DoxyCodeLine{563   \}}
\DoxyCodeLine{564   \textcolor{keywordflow}{if} (loads.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{565   \textcolor{comment}{// Group the loads by source, moving the preferred destination to the}}
\DoxyCodeLine{566   \textcolor{comment}{// beginning of the group.}}
\DoxyCodeLine{567   \mbox{\hyperlink{namespacev8_1_1base_ae8575343c68d7ad91cf7aaf24cd6643f}{std::sort}}(loads.begin(), loads.end(), \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02move-optimizer_8cc_03_a0ba692274b7bbed4ae6f02eb3c4821bf}{LoadCompare}});}
\DoxyCodeLine{568   MoveOperands* group\_begin = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{569   \textcolor{keywordflow}{for} (MoveOperands* load : loads) \{}
\DoxyCodeLine{570     \textcolor{comment}{// New group.}}
\DoxyCodeLine{571     \textcolor{keywordflow}{if} (group\_begin == \textcolor{keyword}{nullptr} ||}
\DoxyCodeLine{572         !load-\/>source().EqualsCanonicalized(group\_begin-\/>source())) \{}
\DoxyCodeLine{573       group\_begin = load;}
\DoxyCodeLine{574       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{575     \}}
\DoxyCodeLine{576     \textcolor{comment}{// Nothing to be gained from splitting here. However, due to the sorting}}
\DoxyCodeLine{577     \textcolor{comment}{// scheme, there could be optimizable groups of loads later in the group,}}
\DoxyCodeLine{578     \textcolor{comment}{// so bump the \{group\_begin\} along.}}
\DoxyCodeLine{579     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02move-optimizer_8cc_03_a45d0393eda325b5d0ba6ebd21270bf56}{IsSlot}}(group\_begin-\/>destination())) \{}
\DoxyCodeLine{580       group\_begin = load;}
\DoxyCodeLine{581       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{582     \}}
\DoxyCodeLine{583     \textcolor{comment}{// Insert new move into slot 1.}}
\DoxyCodeLine{584     ParallelMove* slot\_1 = instr-\/>GetOrCreateParallelMove(}
\DoxyCodeLine{585         \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53a}{Instruction::GapPosition}}\textcolor{keyword}{>}(1), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a018223cce8b1a7563f6416f8688c5030}{code\_zone}}());}
\DoxyCodeLine{586     slot\_1-\/>AddMove(group\_begin-\/>destination(), load-\/>destination());}
\DoxyCodeLine{587     load-\/>Eliminate();}
\DoxyCodeLine{588   \}}
\DoxyCodeLine{589   loads.clear();}
\DoxyCodeLine{590 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Parallel\+Move\+::\+Add\+Move(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::begin(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::clear(), code\+\_\+zone(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::compiler\+::\+Move\+Operands\+::destination(), v8\+::internal\+::compiler\+::\+Move\+Operands\+::\+Eliminate(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::empty(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::end(), v8\+::internal\+::compiler\+::\+Instruction\+Operand\+::\+Equals\+Canonicalized(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Get\+Or\+Create\+Parallel\+Move(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{move-\/optimizer.\+cc\}\+::\+Is\+Slot(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{move-\/optimizer.\+cc\}\+::\+Load\+Compare(), local\+\_\+vector(), v8\+::internal\+::compiler\+::\+Instruction\+::parallel\+\_\+moves(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::push\+\_\+back(), v8\+::base\+::sort(), and v8\+::internal\+::compiler\+::\+Move\+Operands\+::source().



Referenced by Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a38cce70385ca2fbaa0c2f18fd94ba624_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a38cce70385ca2fbaa0c2f18fd94ba624_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_af544d072137fb323649af03b7d7e3edf}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_af544d072137fb323649af03b7d7e3edf}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!LastInstruction@{LastInstruction}}
\index{LastInstruction@{LastInstruction}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{LastInstruction()}{LastInstruction()}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$ v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Last\+Instruction (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$}]{block }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 372 of file move-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{373                                          \{}
\DoxyCodeLine{374   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_aff8c0c48bf63774a6aedae505b258a48}{instructions}}()[block-\/>last\_instruction\_index()];}
\DoxyCodeLine{375 \}}

\end{DoxyCode}


References code(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::instructions(), and v8\+::internal\+::compiler\+::\+Instruction\+Block\+::last\+\_\+instruction\+\_\+index().



Referenced by Optimize\+Merge().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_af544d072137fb323649af03b7d7e3edf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_af544d072137fb323649af03b7d7e3edf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a1ebf2c011d28f05de7a1ce279b4006f9}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a1ebf2c011d28f05de7a1ce279b4006f9}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!local\_vector@{local\_vector}}
\index{local\_vector@{local\_vector}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{local\_vector()}{local\_vector()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}{Move\+Op\+Vector}}\& v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::local\+\_\+vector (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 29 of file move-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{29 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a834a09d3787d831331a762059e3626ad}{local\_vector\_}}; \}}

\end{DoxyCode}


Referenced by Compress\+Moves(), and Finalize\+Moves().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a1ebf2c011d28f05de7a1ce279b4006f9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!local\_zone@{local\_zone}}
\index{local\_zone@{local\_zone}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{local\_zone()}{local\_zone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$ v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::local\+\_\+zone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 27 of file move-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{27 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_afd3dedf464d6f325079380eb89314b74}{local\_zone\_}}; \}}

\end{DoxyCode}


Referenced by Migrate\+Moves(), and Optimize\+Merge().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a22647c6bc89e5b09aa9fc13961163803}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a22647c6bc89e5b09aa9fc13961163803}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!MigrateMoves@{MigrateMoves}}
\index{MigrateMoves@{MigrateMoves}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{MigrateMoves()}{MigrateMoves()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Migrate\+Moves (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$}]{to,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$}]{from }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 208 of file move-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{208                                                                    \{}
\DoxyCodeLine{209   \textcolor{keywordflow}{if} (from-\/>IsCall()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{210 }
\DoxyCodeLine{211   ParallelMove* from\_moves = from-\/>parallel\_moves()[0];}
\DoxyCodeLine{212   \textcolor{keywordflow}{if} (from\_moves == \textcolor{keyword}{nullptr} || from\_moves-\/>empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{213 }
\DoxyCodeLine{214   OperandSet dst\_cant\_be(\&\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac053f3960b0b21ed7cf8dd9465dc8cd9}{operand\_buffer1}});}
\DoxyCodeLine{215   OperandSet src\_cant\_be(\&\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a051d2e6476534a9f469ffd9c6140dc47}{operand\_buffer2}});}
\DoxyCodeLine{216 }
\DoxyCodeLine{217   \textcolor{comment}{// If an operand is an input to the instruction, we cannot move assignments}}
\DoxyCodeLine{218   \textcolor{comment}{// where it appears on the LHS.}}
\DoxyCodeLine{219   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < from-\/>InputCount(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{220     dst\_cant\_be.InsertOp(*from-\/>InputAt(\mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{221   \}}
\DoxyCodeLine{222   \textcolor{comment}{// If an operand is output to the instruction, we cannot move assignments}}
\DoxyCodeLine{223   \textcolor{comment}{// where it appears on the RHS, because we would lose its value before the}}
\DoxyCodeLine{224   \textcolor{comment}{// instruction.}}
\DoxyCodeLine{225   \textcolor{comment}{// Same for temp operands.}}
\DoxyCodeLine{226   \textcolor{comment}{// The output can't appear on the LHS because we performed}}
\DoxyCodeLine{227   \textcolor{comment}{// RemoveClobberedDestinations for the "{}from"{} instruction.}}
\DoxyCodeLine{228   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < from-\/>OutputCount(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{229     src\_cant\_be.InsertOp(*from-\/>OutputAt(\mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{230   \}}
\DoxyCodeLine{231   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < from-\/>TempCount(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{232     src\_cant\_be.InsertOp(*from-\/>TempAt(\mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{233   \}}
\DoxyCodeLine{234   \textcolor{keywordflow}{for} (MoveOperands* move : *from\_moves) \{}
\DoxyCodeLine{235     \textcolor{keywordflow}{if} (move-\/>IsRedundant()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{236     \textcolor{comment}{// Assume dest has a value "{}V"{}. If we have a "{}dest = y"{} move, then we can't}}
\DoxyCodeLine{237     \textcolor{comment}{// move "{}z = dest"{}, because z would become y rather than "{}V"{}.}}
\DoxyCodeLine{238     \textcolor{comment}{// We assume CompressMoves has happened before this, which means we don't}}
\DoxyCodeLine{239     \textcolor{comment}{// have more than one assignment to dest.}}
\DoxyCodeLine{240     src\_cant\_be.InsertOp(move-\/>destination());}
\DoxyCodeLine{241   \}}
\DoxyCodeLine{242 }
\DoxyCodeLine{243   \textcolor{comment}{// This set is usually small, e.g., for JetStream2 it has 16 elements or less}}
\DoxyCodeLine{244   \textcolor{comment}{// in 99.99\% of the cases, hence use inline storage and fast linear search.}}
\DoxyCodeLine{245   \textcolor{comment}{// It is encoded as a `SmallMap` to `Dummy` values, since we don't have an}}
\DoxyCodeLine{246   \textcolor{comment}{// equivalent `SmallSet` type.}}
\DoxyCodeLine{247   \textcolor{keyword}{struct }\mbox{\hyperlink{namespacev8_ac650e19aff88fabc2d187261fd631a99}{Dummy}} \{\};}
\DoxyCodeLine{248   SmallZoneMap<MoveKey, Dummy, 16> move\_candidates(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}{local\_zone}}());}
\DoxyCodeLine{249   \textcolor{comment}{// We start with all the moves that don't have conflicting source or}}
\DoxyCodeLine{250   \textcolor{comment}{// destination operands are eligible for being moved down.}}
\DoxyCodeLine{251   \textcolor{keywordflow}{for} (MoveOperands* move : *from\_moves) \{}
\DoxyCodeLine{252     \textcolor{keywordflow}{if} (move-\/>IsRedundant()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{253     \textcolor{keywordflow}{if} (!dst\_cant\_be.ContainsOpOrAlias(move-\/>destination())) \{}
\DoxyCodeLine{254       MoveKey \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}} = \{move-\/>source(), move-\/>destination()\};}
\DoxyCodeLine{255       move\_candidates.emplace(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{namespacev8_ac650e19aff88fabc2d187261fd631a99}{Dummy}}\{\});}
\DoxyCodeLine{256     \}}
\DoxyCodeLine{257   \}}
\DoxyCodeLine{258   \textcolor{keywordflow}{if} (move\_candidates.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{259 }
\DoxyCodeLine{260   \textcolor{comment}{// Stabilize the candidate set.}}
\DoxyCodeLine{261   \textcolor{keywordtype}{bool} changed = \textcolor{keyword}{false};}
\DoxyCodeLine{262   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{263     changed = \textcolor{keyword}{false};}
\DoxyCodeLine{264     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} iter = move\_candidates.begin(); iter != move\_candidates.end();) \{}
\DoxyCodeLine{265       \textcolor{keyword}{auto} [move, \mbox{\hyperlink{js-call-reducer_8cc_ae4dfd7b0d66121016d6466d2ff10e8ba}{\_}}] = *iter;}
\DoxyCodeLine{266       \textcolor{keywordflow}{if} (src\_cant\_be.ContainsOpOrAlias(move.source)) \{}
\DoxyCodeLine{267         src\_cant\_be.InsertOp(move.destination);}
\DoxyCodeLine{268         iter = move\_candidates.erase(iter);}
\DoxyCodeLine{269         changed = \textcolor{keyword}{true};}
\DoxyCodeLine{270       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{271         ++iter;}
\DoxyCodeLine{272       \}}
\DoxyCodeLine{273     \}}
\DoxyCodeLine{274   \} \textcolor{keywordflow}{while} (changed);}
\DoxyCodeLine{275 }
\DoxyCodeLine{276   ParallelMove to\_move(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}{local\_zone}}());}
\DoxyCodeLine{277   \textcolor{keywordflow}{for} (MoveOperands* move : *from\_moves) \{}
\DoxyCodeLine{278     \textcolor{keywordflow}{if} (move-\/>IsRedundant()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{279     MoveKey \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}} = \{move-\/>source(), move-\/>destination()\};}
\DoxyCodeLine{280     \textcolor{keywordflow}{if} (move\_candidates.find(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}) != move\_candidates.end()) \{}
\DoxyCodeLine{281       to\_move.AddMove(move-\/>source(), move-\/>destination(), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a018223cce8b1a7563f6416f8688c5030}{code\_zone}}());}
\DoxyCodeLine{282       move-\/>Eliminate();}
\DoxyCodeLine{283     \}}
\DoxyCodeLine{284   \}}
\DoxyCodeLine{285   \textcolor{keywordflow}{if} (to\_move.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{286 }
\DoxyCodeLine{287   ParallelMove* dest =}
\DoxyCodeLine{288       to-\/>GetOrCreateParallelMove(Instruction::GapPosition::START, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a018223cce8b1a7563f6416f8688c5030}{code\_zone}}());}
\DoxyCodeLine{289 }
\DoxyCodeLine{290   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a39b04fa555bc623052988867960cd761}{CompressMoves}}(\&to\_move, dest);}
\DoxyCodeLine{291   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(dest-\/>empty());}
\DoxyCodeLine{292   \textcolor{keywordflow}{for} (MoveOperands* m : to\_move) \{}
\DoxyCodeLine{293     dest-\/>push\_back(m);}
\DoxyCodeLine{294   \}}
\DoxyCodeLine{295 \}}

\end{DoxyCode}


References \+\_\+, v8\+::internal\+::compiler\+::\+Parallel\+Move\+::\+Add\+Move(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::begin(), code\+\_\+zone(), Compress\+Moves(), v8\+::internal\+::\+DCHECK(), v8\+::\+Dummy(), v8\+::internal\+::compiler\+::\+Move\+Operands\+::\+Eliminate(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::emplace(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::empty(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::end(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::erase(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::find(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Get\+Or\+Create\+Parallel\+Move(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Instruction\+::\+Input\+At(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Input\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Is\+Call(), v8\+::internal\+::key, local\+\_\+zone(), operand\+\_\+buffer1, operand\+\_\+buffer2, v8\+::internal\+::compiler\+::\+Instruction\+::\+Output\+At(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Output\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+::parallel\+\_\+moves(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Temp\+At(), and v8\+::internal\+::compiler\+::\+Instruction\+::\+Temp\+Count().



Referenced by Compress\+Block().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a22647c6bc89e5b09aa9fc13961163803_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a22647c6bc89e5b09aa9fc13961163803_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a8054f27cf72fa9852f4c23b05a5aeb4a}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a8054f27cf72fa9852f4c23b05a5aeb4a}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer}{Move\+Optimizer}}\& v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer}{Move\+Optimizer}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3f0da1309a02af9ac1d82b44afef7832}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3f0da1309a02af9ac1d82b44afef7832}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!OptimizeMerge@{OptimizeMerge}}
\index{OptimizeMerge@{OptimizeMerge}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{OptimizeMerge()}{OptimizeMerge()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Optimize\+Merge (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionBlock}{Instruction\+Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 377 of file move-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{377                                                          \{}
\DoxyCodeLine{378   \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(1, block-\/>PredecessorCount());}
\DoxyCodeLine{379   \textcolor{comment}{// Ensure that the last instruction in all incoming blocks don't contain}}
\DoxyCodeLine{380   \textcolor{comment}{// things that would prevent moving gap moves across them.}}
\DoxyCodeLine{381   \textcolor{keywordflow}{for} (RpoNumber\& pred\_index : block-\/>predecessors()) \{}
\DoxyCodeLine{382     \textcolor{keyword}{const} InstructionBlock* pred = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a9c3aecd79b289855c043cc27c2749b35}{InstructionBlockAt}}(pred\_index);}
\DoxyCodeLine{383 }
\DoxyCodeLine{384     \textcolor{comment}{// If the predecessor has more than one successor, we shouldn't attempt to}}
\DoxyCodeLine{385     \textcolor{comment}{// move down to this block (one of the successors) any of the gap moves,}}
\DoxyCodeLine{386     \textcolor{comment}{// because their effect may be necessary to the other successors.}}
\DoxyCodeLine{387     \textcolor{keywordflow}{if} (pred-\/>SuccessorCount() > 1) \textcolor{keywordflow}{return};}
\DoxyCodeLine{388 }
\DoxyCodeLine{389     \textcolor{keyword}{const} Instruction* last\_instr =}
\DoxyCodeLine{390         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_aff8c0c48bf63774a6aedae505b258a48}{instructions}}()[pred-\/>last\_instruction\_index()];}
\DoxyCodeLine{391     \textcolor{keywordflow}{if} (last\_instr-\/>IsCall()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{392     \textcolor{keywordflow}{if} (last\_instr-\/>TempCount() != 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{393     \textcolor{keywordflow}{if} (last\_instr-\/>OutputCount() != 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{394     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < last\_instr-\/>InputCount(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{395       \textcolor{keyword}{const} InstructionOperand* op = last\_instr-\/>InputAt(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{396       \textcolor{keywordflow}{if} (!op-\/>IsConstant() \&\& !op-\/>IsImmediate()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{397     \}}
\DoxyCodeLine{398   \}}
\DoxyCodeLine{399 }
\DoxyCodeLine{400   \textcolor{comment}{// This map is usually small, e.g., for JetStream2 in 99.5\% of the cases it}}
\DoxyCodeLine{401   \textcolor{comment}{// has 16 elements or less. Hence use a `SmallMap` with inline storage and}}
\DoxyCodeLine{402   \textcolor{comment}{// fast linear search in the common case.}}
\DoxyCodeLine{403   SmallZoneMap<MoveKey, \textcolor{comment}{/* count */} \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\_t}}, 16> move\_map(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a77fff2840320927605260a3ebad9356a}{local\_zone}}());}
\DoxyCodeLine{404   \textcolor{keywordtype}{size\_t} correct\_counts = 0;}
\DoxyCodeLine{405   \textcolor{comment}{// Accumulate set of shared moves.}}
\DoxyCodeLine{406   \textcolor{keywordflow}{for} (RpoNumber\& pred\_index : block-\/>predecessors()) \{}
\DoxyCodeLine{407     \textcolor{keyword}{const} InstructionBlock* pred = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a9c3aecd79b289855c043cc27c2749b35}{InstructionBlockAt}}(pred\_index);}
\DoxyCodeLine{408     \textcolor{keyword}{const} Instruction* instr = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_af544d072137fb323649af03b7d7e3edf}{LastInstruction}}(pred);}
\DoxyCodeLine{409     \textcolor{keywordflow}{if} (instr-\/>parallel\_moves()[0] == \textcolor{keyword}{nullptr} ||}
\DoxyCodeLine{410         instr-\/>parallel\_moves()[0]-\/>empty()) \{}
\DoxyCodeLine{411       \textcolor{keywordflow}{return};}
\DoxyCodeLine{412     \}}
\DoxyCodeLine{413     \textcolor{keywordflow}{for} (\textcolor{keyword}{const} MoveOperands* move : *instr-\/>parallel\_moves()[0]) \{}
\DoxyCodeLine{414       \textcolor{keywordflow}{if} (move-\/>IsRedundant()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{415       InstructionOperand src = move-\/>source();}
\DoxyCodeLine{416       InstructionOperand dst = move-\/>destination();}
\DoxyCodeLine{417       MoveKey \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}} = \{src, dst\};}
\DoxyCodeLine{418       \textcolor{keyword}{auto} [it, inserted] = move\_map.emplace(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, 1);}
\DoxyCodeLine{419       \textcolor{keywordflow}{if} (!inserted) \{}
\DoxyCodeLine{420         it-\/>second++;}
\DoxyCodeLine{421         \textcolor{keywordflow}{if} (it-\/>second == block-\/>PredecessorCount()) \{}
\DoxyCodeLine{422           correct\_counts++;}
\DoxyCodeLine{423         \}}
\DoxyCodeLine{424       \}}
\DoxyCodeLine{425     \}}
\DoxyCodeLine{426   \}}
\DoxyCodeLine{427   \textcolor{keywordflow}{if} (move\_map.empty() || correct\_counts == 0) \textcolor{keywordflow}{return};}
\DoxyCodeLine{428 }
\DoxyCodeLine{429   \textcolor{comment}{// Find insertion point.}}
\DoxyCodeLine{430   Instruction* instr = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_aff8c0c48bf63774a6aedae505b258a48}{instructions}}()[block-\/>first\_instruction\_index()];}
\DoxyCodeLine{431 }
\DoxyCodeLine{432   \textcolor{keywordflow}{if} (correct\_counts != move\_map.size()) \{}
\DoxyCodeLine{433     \textcolor{comment}{// Moves that are unique to each predecessor won't be pushed to the common}}
\DoxyCodeLine{434     \textcolor{comment}{// successor.}}
\DoxyCodeLine{435     OperandSet conflicting\_srcs(\&\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac053f3960b0b21ed7cf8dd9465dc8cd9}{operand\_buffer1}});}
\DoxyCodeLine{436     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} iter = move\_map.begin(); iter != move\_map.end();) \{}
\DoxyCodeLine{437       \textcolor{keyword}{auto} [move, count] = *iter;}
\DoxyCodeLine{438       \textcolor{keywordflow}{if} (count != block-\/>PredecessorCount()) \{}
\DoxyCodeLine{439         \textcolor{comment}{// Not all the moves in all the gaps are the same. Maybe some are. If}}
\DoxyCodeLine{440         \textcolor{comment}{// there are such moves, we could move them, but the destination of the}}
\DoxyCodeLine{441         \textcolor{comment}{// moves staying behind can't appear as a source of a common move,}}
\DoxyCodeLine{442         \textcolor{comment}{// because the move staying behind will clobber this destination.}}
\DoxyCodeLine{443         conflicting\_srcs.InsertOp(move.destination);}
\DoxyCodeLine{444         iter = move\_map.erase(iter);}
\DoxyCodeLine{445       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{446         ++iter;}
\DoxyCodeLine{447       \}}
\DoxyCodeLine{448     \}}
\DoxyCodeLine{449 }
\DoxyCodeLine{450     \textcolor{keywordtype}{bool} changed = \textcolor{keyword}{false};}
\DoxyCodeLine{451     \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{452       \textcolor{comment}{// If a common move can't be pushed to the common successor, then its}}
\DoxyCodeLine{453       \textcolor{comment}{// destination also can't appear as source to any move being pushed.}}
\DoxyCodeLine{454       changed = \textcolor{keyword}{false};}
\DoxyCodeLine{455       \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} iter = move\_map.begin(); iter != move\_map.end();) \{}
\DoxyCodeLine{456         \textcolor{keyword}{auto} [move, count] = *iter;}
\DoxyCodeLine{457         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(block-\/>PredecessorCount(), count);}
\DoxyCodeLine{458         \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(count);}
\DoxyCodeLine{459         \textcolor{keywordflow}{if} (conflicting\_srcs.ContainsOpOrAlias(move.source)) \{}
\DoxyCodeLine{460           conflicting\_srcs.InsertOp(move.destination);}
\DoxyCodeLine{461           iter = move\_map.erase(iter);}
\DoxyCodeLine{462           changed = \textcolor{keyword}{true};}
\DoxyCodeLine{463         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{464           ++iter;}
\DoxyCodeLine{465         \}}
\DoxyCodeLine{466       \}}
\DoxyCodeLine{467     \} \textcolor{keywordflow}{while} (changed);}
\DoxyCodeLine{468   \}}
\DoxyCodeLine{469 }
\DoxyCodeLine{470   \textcolor{keywordflow}{if} (move\_map.empty()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{471 }
\DoxyCodeLine{472   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(instr);}
\DoxyCodeLine{473   \textcolor{keywordtype}{bool} gap\_initialized = \textcolor{keyword}{true};}
\DoxyCodeLine{474   \textcolor{keywordflow}{if} (instr-\/>parallel\_moves()[0] != \textcolor{keyword}{nullptr} \&\&}
\DoxyCodeLine{475       !instr-\/>parallel\_moves()[0]-\/>empty()) \{}
\DoxyCodeLine{476     \textcolor{comment}{// Will compress after insertion.}}
\DoxyCodeLine{477     gap\_initialized = \textcolor{keyword}{false};}
\DoxyCodeLine{478     std::swap(instr-\/>parallel\_moves()[0], instr-\/>parallel\_moves()[1]);}
\DoxyCodeLine{479   \}}
\DoxyCodeLine{480   ParallelMove* moves = instr-\/>GetOrCreateParallelMove(}
\DoxyCodeLine{481       \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction_ac16ebb6b4b65e5787eebc6ddeb3ed53a}{Instruction::GapPosition}}\textcolor{keyword}{>}(0), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a018223cce8b1a7563f6416f8688c5030}{code\_zone}}());}
\DoxyCodeLine{482   \textcolor{comment}{// Delete relevant entries in predecessors and move everything to block.}}
\DoxyCodeLine{483   \textcolor{keywordtype}{bool} first\_iteration = \textcolor{keyword}{true};}
\DoxyCodeLine{484   \textcolor{keywordflow}{for} (RpoNumber\& pred\_index : block-\/>predecessors()) \{}
\DoxyCodeLine{485     \textcolor{keyword}{const} InstructionBlock* pred = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence_a9c3aecd79b289855c043cc27c2749b35}{InstructionBlockAt}}(pred\_index);}
\DoxyCodeLine{486     \textcolor{keywordflow}{for} (MoveOperands* move : *\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_af544d072137fb323649af03b7d7e3edf}{LastInstruction}}(pred)-\/>parallel\_moves()[0]) \{}
\DoxyCodeLine{487       \textcolor{keywordflow}{if} (move-\/>IsRedundant()) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{488       MoveKey \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}} = \{move-\/>source(), move-\/>destination()\};}
\DoxyCodeLine{489       \textcolor{keyword}{auto} it = move\_map.find(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{490       \textcolor{keywordflow}{if} (it != move\_map.end()) \{}
\DoxyCodeLine{491         \textcolor{keywordflow}{if} (first\_iteration) \{}
\DoxyCodeLine{492           moves-\/>AddMove(move-\/>source(), move-\/>destination());}
\DoxyCodeLine{493         \}}
\DoxyCodeLine{494         move-\/>Eliminate();}
\DoxyCodeLine{495       \}}
\DoxyCodeLine{496     \}}
\DoxyCodeLine{497     first\_iteration = \textcolor{keyword}{false};}
\DoxyCodeLine{498   \}}
\DoxyCodeLine{499   \textcolor{comment}{// Compress.}}
\DoxyCodeLine{500   \textcolor{keywordflow}{if} (!gap\_initialized) \{}
\DoxyCodeLine{501     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a39b04fa555bc623052988867960cd761}{CompressMoves}}(instr-\/>parallel\_moves()[0], instr-\/>parallel\_moves()[1]);}
\DoxyCodeLine{502   \}}
\DoxyCodeLine{503   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a0a52c3c46bfbc78347044851045536dc}{CompressBlock}}(block);}
\DoxyCodeLine{504 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Parallel\+Move\+::\+Add\+Move(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::begin(), code(), code\+\_\+zone(), Compress\+Block(), Compress\+Moves(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+LT, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::compiler\+::\+Move\+Operands\+::\+Eliminate(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::emplace(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::empty(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::end(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::erase(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::find(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::first\+\_\+instruction\+\_\+index(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Get\+Or\+Create\+Parallel\+Move(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Instruction\+::\+Input\+At(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Input\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::\+Instruction\+Block\+At(), v8\+::internal\+::compiler\+::\+Instruction\+Sequence\+::instructions(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Is\+Call(), v8\+::internal\+::key, v8\+::internal\+::compiler\+::\+Instruction\+Block\+::last\+\_\+instruction\+\_\+index(), Last\+Instruction(), local\+\_\+zone(), operand\+\_\+buffer1, v8\+::internal\+::compiler\+::\+Instruction\+::\+Output\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+::parallel\+\_\+moves(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Predecessor\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+Block\+::predecessors(), v8\+::base\+::\+Small\+Map$<$ Normal\+Map, k\+Array\+Size, Equal\+Key, Map\+Init $>$\+::size(), v8\+::internal\+::size\+\_\+t, v8\+::internal\+::compiler\+::\+Instruction\+Block\+::\+Successor\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Temp\+Count(), and USE.



Referenced by Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3f0da1309a02af9ac1d82b44afef7832_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3f0da1309a02af9ac1d82b44afef7832_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_aef05322f0d2e36ad6c4a0042652ee820}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_aef05322f0d2e36ad6c4a0042652ee820}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!RemoveClobberedDestinations@{RemoveClobberedDestinations}}
\index{RemoveClobberedDestinations@{RemoveClobberedDestinations}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{RemoveClobberedDestinations()}{RemoveClobberedDestinations()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Remove\+Clobbered\+Destinations (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Instruction}{Instruction}} $\ast$}]{instruction }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 164 of file move-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{164                                                                         \{}
\DoxyCodeLine{165   \textcolor{keywordflow}{if} (instruction-\/>IsCall()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{166   ParallelMove* moves = instruction-\/>parallel\_moves()[0];}
\DoxyCodeLine{167   \textcolor{keywordflow}{if} (moves == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{168 }
\DoxyCodeLine{169   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(instruction-\/>parallel\_moves()[1] == \textcolor{keyword}{nullptr} ||}
\DoxyCodeLine{170          instruction-\/>parallel\_moves()[1]-\/>empty());}
\DoxyCodeLine{171 }
\DoxyCodeLine{172   OperandSet outputs(\&\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac053f3960b0b21ed7cf8dd9465dc8cd9}{operand\_buffer1}});}
\DoxyCodeLine{173   OperandSet inputs(\&\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a051d2e6476534a9f469ffd9c6140dc47}{operand\_buffer2}});}
\DoxyCodeLine{174 }
\DoxyCodeLine{175   \textcolor{comment}{// Outputs and temps are treated together as potentially clobbering a}}
\DoxyCodeLine{176   \textcolor{comment}{// destination operand.}}
\DoxyCodeLine{177   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < instruction-\/>OutputCount(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{178     outputs.InsertOp(*instruction-\/>OutputAt(\mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{179   \}}
\DoxyCodeLine{180   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < instruction-\/>TempCount(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{181     outputs.InsertOp(*instruction-\/>TempAt(\mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{182   \}}
\DoxyCodeLine{183 }
\DoxyCodeLine{184   \textcolor{comment}{// Input operands block elisions.}}
\DoxyCodeLine{185   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < instruction-\/>InputCount(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{186     inputs.InsertOp(*instruction-\/>InputAt(\mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{187   \}}
\DoxyCodeLine{188 }
\DoxyCodeLine{189   \textcolor{comment}{// Elide moves made redundant by the instruction.}}
\DoxyCodeLine{190   \textcolor{keywordflow}{for} (MoveOperands* move : *moves) \{}
\DoxyCodeLine{191     \textcolor{keywordflow}{if} (outputs.ContainsOpOrAlias(move-\/>destination()) \&\&}
\DoxyCodeLine{192         !inputs.ContainsOpOrAlias(move-\/>destination())) \{}
\DoxyCodeLine{193       move-\/>Eliminate();}
\DoxyCodeLine{194     \}}
\DoxyCodeLine{195   \}}
\DoxyCodeLine{196 }
\DoxyCodeLine{197   \textcolor{comment}{// The ret instruction makes any assignment before it unnecessary, except for}}
\DoxyCodeLine{198   \textcolor{comment}{// the one for its input.}}
\DoxyCodeLine{199   \textcolor{keywordflow}{if} (instruction-\/>IsRet() || instruction-\/>IsTailCall()) \{}
\DoxyCodeLine{200     \textcolor{keywordflow}{for} (MoveOperands* move : *moves) \{}
\DoxyCodeLine{201       \textcolor{keywordflow}{if} (!inputs.ContainsOpOrAlias(move-\/>destination())) \{}
\DoxyCodeLine{202         move-\/>Eliminate();}
\DoxyCodeLine{203       \}}
\DoxyCodeLine{204     \}}
\DoxyCodeLine{205   \}}
\DoxyCodeLine{206 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Instruction\+::\+Input\+At(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Input\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Is\+Call(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Is\+Ret(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Is\+Tail\+Call(), operand\+\_\+buffer1, operand\+\_\+buffer2, v8\+::internal\+::compiler\+::\+Instruction\+::\+Output\+At(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Output\+Count(), v8\+::internal\+::compiler\+::\+Instruction\+::parallel\+\_\+moves(), v8\+::internal\+::compiler\+::\+Instruction\+::\+Temp\+At(), and v8\+::internal\+::compiler\+::\+Instruction\+::\+Temp\+Count().



Referenced by Compress\+Block().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_aef05322f0d2e36ad6c4a0042652ee820_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_aef05322f0d2e36ad6c4a0042652ee820_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a80cb8fa53aed4b4e7af65d13b58cf079}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a80cb8fa53aed4b4e7af65d13b58cf079}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!Run@{Run}}
\index{Run@{Run}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{Run()}{Run()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::\+Run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 134 of file move-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{134                         \{}
\DoxyCodeLine{135   \textcolor{keywordflow}{for} (Instruction* instruction : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>instructions()) \{}
\DoxyCodeLine{136     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a036465b10bbbac7957100e3c0fb95022}{CompressGaps}}(instruction);}
\DoxyCodeLine{137   \}}
\DoxyCodeLine{138   \textcolor{keywordflow}{for} (InstructionBlock* block : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>instruction\_blocks()) \{}
\DoxyCodeLine{139     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a0a52c3c46bfbc78347044851045536dc}{CompressBlock}}(block);}
\DoxyCodeLine{140   \}}
\DoxyCodeLine{141   \textcolor{keywordflow}{for} (InstructionBlock* block : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>instruction\_blocks()) \{}
\DoxyCodeLine{142     \textcolor{keywordflow}{if} (block-\/>PredecessorCount() <= 1) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{143     \textcolor{keywordflow}{if} (!block-\/>IsDeferred()) \{}
\DoxyCodeLine{144       \textcolor{keywordtype}{bool} has\_only\_deferred = \textcolor{keyword}{true};}
\DoxyCodeLine{145       \textcolor{keywordflow}{for} (RpoNumber\& pred\_id : block-\/>predecessors()) \{}
\DoxyCodeLine{146         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>InstructionBlockAt(pred\_id)-\/>\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_a992eed0ce9e8f4b2bc810b56e48dfc6f}{IsDeferred}}()) \{}
\DoxyCodeLine{147           has\_only\_deferred = \textcolor{keyword}{false};}
\DoxyCodeLine{148           \textcolor{keywordflow}{break};}
\DoxyCodeLine{149         \}}
\DoxyCodeLine{150       \}}
\DoxyCodeLine{151       \textcolor{comment}{// This would pull down common moves. If the moves occur in deferred}}
\DoxyCodeLine{152       \textcolor{comment}{// blocks, and the closest common successor is not deferred, we lose the}}
\DoxyCodeLine{153       \textcolor{comment}{// optimization of just spilling/filling in deferred blocks, when the}}
\DoxyCodeLine{154       \textcolor{comment}{// current block is not deferred.}}
\DoxyCodeLine{155       \textcolor{keywordflow}{if} (has\_only\_deferred) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{156     \}}
\DoxyCodeLine{157     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3f0da1309a02af9ac1d82b44afef7832}{OptimizeMerge}}(block);}
\DoxyCodeLine{158   \}}
\DoxyCodeLine{159   \textcolor{keywordflow}{for} (Instruction* gap : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac56f60ee9f34c9bae1ac21a31c4139df}{code}}()-\/>instructions()) \{}
\DoxyCodeLine{160     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a38cce70385ca2fbaa0c2f18fd94ba624}{FinalizeMoves}}(gap);}
\DoxyCodeLine{161   \}}
\DoxyCodeLine{162 \}}

\end{DoxyCode}


References code(), Compress\+Block(), Compress\+Gaps(), Finalize\+Moves(), v8\+::internal\+::torque\+::\+Is\+Deferred(), and Optimize\+Merge().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Optimize\+Moves\+Phase\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a80cb8fa53aed4b4e7af65d13b58cf079_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a80cb8fa53aed4b4e7af65d13b58cf079_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3a59ba065d0c47c4914081719621411d}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a3a59ba065d0c47c4914081719621411d}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!code\_@{code\_}}
\index{code\_@{code\_}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{code\_}{code\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionSequence}{Instruction\+Sequence}}$\ast$ const v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::code\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 54 of file move-\/optimizer.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a834a09d3787d831331a762059e3626ad}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a834a09d3787d831331a762059e3626ad}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!local\_vector\_@{local\_vector\_}}
\index{local\_vector\_@{local\_vector\_}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{local\_vector\_}{local\_vector\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ab8e3c0ab0f7fb9bb293ef3ebae09f13f}{Move\+Op\+Vector}} v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::local\+\_\+vector\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 55 of file move-\/optimizer.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_afd3dedf464d6f325079380eb89314b74}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_afd3dedf464d6f325079380eb89314b74}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!local\_zone\_@{local\_zone\_}}
\index{local\_zone\_@{local\_zone\_}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{local\_zone\_}{local\_zone\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$ const v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::local\+\_\+zone\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 53 of file move-\/optimizer.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac053f3960b0b21ed7cf8dd9465dc8cd9}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_ac053f3960b0b21ed7cf8dd9465dc8cd9}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!operand\_buffer1@{operand\_buffer1}}
\index{operand\_buffer1@{operand\_buffer1}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{operand\_buffer1}{operand\_buffer1}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{Instruction\+Operand}}$>$ v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::operand\+\_\+buffer1\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 59 of file move-\/optimizer.\+h.



Referenced by Migrate\+Moves(), Optimize\+Merge(), and Remove\+Clobbered\+Destinations().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a051d2e6476534a9f469ffd9c6140dc47}\label{classv8_1_1internal_1_1compiler_1_1MoveOptimizer_a051d2e6476534a9f469ffd9c6140dc47}} 
\index{v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}!operand\_buffer2@{operand\_buffer2}}
\index{operand\_buffer2@{operand\_buffer2}!v8::internal::compiler::MoveOptimizer@{v8::internal::compiler::MoveOptimizer}}
\doxysubsubsection{\texorpdfstring{operand\_buffer2}{operand\_buffer2}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1InstructionOperand}{Instruction\+Operand}}$>$ v8\+::internal\+::compiler\+::\+Move\+Optimizer\+::operand\+\_\+buffer2\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 60 of file move-\/optimizer.\+h.



Referenced by Migrate\+Moves(), and Remove\+Clobbered\+Destinations().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/backend/\mbox{\hyperlink{move-optimizer_8h}{move-\/optimizer.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/compiler/backend/\mbox{\hyperlink{move-optimizer_8cc}{move-\/optimizer.\+cc}}\end{DoxyCompactItemize}
