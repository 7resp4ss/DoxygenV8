\hypertarget{classv8_1_1internal_1_1WasmJs}{}\doxysection{v8\+::internal\+::Wasm\+Js Class Reference}
\label{classv8_1_1internal_1_1WasmJs}\index{v8::internal::WasmJs@{v8::internal::WasmJs}}


{\ttfamily \#include $<$wasm-\/js.\+h$>$}



Collaboration diagram for v8\+::internal\+::Wasm\+Js\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=271pt]{classv8_1_1internal_1_1WasmJs__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_ad9d30fdd56a8c38868338f9635ca9be9}{Prepare\+For\+Snapshot}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a81b37ed8690edccff511f1f75c28d29d}{Install}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_aa134bf6e4548150cc2c12469ecd5bcb0}{Install\+Conditional\+Features}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$ context)
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a2a0940bc2fcba99ed44657a4aa83db24}{Install\+Module}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$ webassembly)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a9e5abad388c39e337ce049e8fd94184f}{Install\+Memory\+Control}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$ context, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$ webassembly)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a9d48e1db9cb027ddf92cd6dcfb0f7779}{Install\+Type\+Reflection}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$ context, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$ webassembly)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a7180b759209d4540ac7339cd21e399f9}{Install\+JSPromise\+Integration}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$ context, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$ webassembly)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_ad8458346588cd4044c146ac959e35097}{Install\+Resizable\+Buffer\+Integration}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$ context, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$ webassembly)
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a371852143858f45b5f54e6222f8ae084}{Install\+Custom\+Descriptors}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$ context, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$ webassembly)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 72 of file wasm-\/js.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmJs_a81b37ed8690edccff511f1f75c28d29d}\label{classv8_1_1internal_1_1WasmJs_a81b37ed8690edccff511f1f75c28d29d}} 
\index{v8::internal::WasmJs@{v8::internal::WasmJs}!Install@{Install}}
\index{Install@{Install}!v8::internal::WasmJs@{v8::internal::WasmJs}}
\doxysubsubsection{\texorpdfstring{Install()}{Install()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Wasm\+Js\+::\+Install (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 3639 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3639                                      \{}
\DoxyCodeLine{3640   DirectHandle<JSGlobalObject> global = isolate-\/>global\_object();}
\DoxyCodeLine{3641   DirectHandle<NativeContext> \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}(global-\/>native\_context(), isolate);}
\DoxyCodeLine{3642 }
\DoxyCodeLine{3643   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>is\_wasm\_js\_installed() != \mbox{\hyperlink{classv8_1_1internal_1_1Smi_a5386e0cc44bcfd6a13c8481b95f5652f}{Smi::zero}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{3644   \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_is\_wasm\_js\_installed(\mbox{\hyperlink{classv8_1_1internal_1_1Smi_afe7f07102d90ccce48cbe677c88a0645}{Smi::FromInt}}(1));}
\DoxyCodeLine{3645 }
\DoxyCodeLine{3646   \textcolor{comment}{// We always use the WebAssembly object from the native context; as this code}}
\DoxyCodeLine{3647   \textcolor{comment}{// is executed before any user code, this is expected to be the same as the}}
\DoxyCodeLine{3648   \textcolor{comment}{// global "{}WebAssembly"{} property. But even later during execution we always}}
\DoxyCodeLine{3649   \textcolor{comment}{// want to use this preallocated object instead of whatever user code}}
\DoxyCodeLine{3650   \textcolor{comment}{// installed as "{}WebAssembly"{} property.}}
\DoxyCodeLine{3651   DirectHandle<JSObject> webassembly(\mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>wasm\_webassembly\_object(),}
\DoxyCodeLine{3652                                      isolate);}
\DoxyCodeLine{3653   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.js\_source\_phase\_imports) \{}
\DoxyCodeLine{3654     \textcolor{comment}{// Reinstall the Module object with the experimental interface.}}
\DoxyCodeLine{3655     \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a2a0940bc2fcba99ed44657a4aa83db24}{InstallModule}}(isolate, webassembly);}
\DoxyCodeLine{3656   \}}
\DoxyCodeLine{3657 }
\DoxyCodeLine{3658   \textcolor{comment}{// Expose the API on the global object if not in jitless mode (with more}}
\DoxyCodeLine{3659   \textcolor{comment}{// subtleties).}}
\DoxyCodeLine{3660   \textcolor{comment}{//}}
\DoxyCodeLine{3661   \textcolor{comment}{// Even in interpreter-\/only mode, wasm currently still creates executable}}
\DoxyCodeLine{3662   \textcolor{comment}{// memory at runtime. Unexpose wasm until this changes.}}
\DoxyCodeLine{3663   \textcolor{comment}{// The correctness fuzzers are a special case: many of their test cases are}}
\DoxyCodeLine{3664   \textcolor{comment}{// built by fetching a random property from the the global object, and thus}}
\DoxyCodeLine{3665   \textcolor{comment}{// the global object layout must not change between configs. That is why we}}
\DoxyCodeLine{3666   \textcolor{comment}{// continue exposing wasm on correctness fuzzers even in jitless mode.}}
\DoxyCodeLine{3667   \textcolor{comment}{// TODO(jgruber): Remove this once / if wasm can run without executable}}
\DoxyCodeLine{3668   \textcolor{comment}{// memory.}}
\DoxyCodeLine{3669   \textcolor{keywordtype}{bool} expose\_wasm = !\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{i::v8\_flags}}.jitless ||}
\DoxyCodeLine{3670                      \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{i::v8\_flags}}.correctness\_fuzzer\_suppressions ||}
\DoxyCodeLine{3671                      \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{i::v8\_flags}}.wasm\_jitless;}
\DoxyCodeLine{3672   \textcolor{keywordflow}{if} (expose\_wasm) \{}
\DoxyCodeLine{3673     DirectHandle<String> WebAssembly\_string = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}WebAssembly"{}});}
\DoxyCodeLine{3674     \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a16c9b19de5218c056da014960fba72ae}{JSObject::AddProperty}}(isolate, global, WebAssembly\_string, webassembly,}
\DoxyCodeLine{3675                           \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868}{DONT\_ENUM}});}
\DoxyCodeLine{3676   \}}
\DoxyCodeLine{3677 }
\DoxyCodeLine{3678   \{}
\DoxyCodeLine{3679     \textcolor{comment}{// Reset the JSTag's canonical\_type\_index based on this Isolate's}}
\DoxyCodeLine{3680     \textcolor{comment}{// type\_canonicalizer.}}
\DoxyCodeLine{3681     DirectHandle<WasmTagObject> js\_tag\_object(}
\DoxyCodeLine{3682         Cast<WasmTagObject>(\mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>wasm\_js\_tag()), isolate);}
\DoxyCodeLine{3683     js\_tag\_object-\/>set\_canonical\_type\_index(}
\DoxyCodeLine{3684         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{wasm::GetWasmEngine}}()}
\DoxyCodeLine{3685             -\/>type\_canonicalizer()}
\DoxyCodeLine{3686             -\/>AddRecursiveGroup(\&\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a8412b6f26abd7ea8cbf5f65b0481eaad}{kWasmExceptionTagSignature}})}
\DoxyCodeLine{3687             .\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{3688   \}}
\DoxyCodeLine{3689 }
\DoxyCodeLine{3690   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_test\_streaming) \{}
\DoxyCodeLine{3691     isolate-\/>set\_wasm\_streaming\_callback(\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2736eaaacaa0f666c3ecc732a6f740ea}{WasmStreamingCallbackForTesting}});}
\DoxyCodeLine{3692   \}}
\DoxyCodeLine{3693 }
\DoxyCodeLine{3694   \textcolor{keywordflow}{if} (isolate-\/>wasm\_streaming\_callback() != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{3695     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, webassembly, \textcolor{stringliteral}{"{}compileStreaming"{}},}
\DoxyCodeLine{3696                 \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23e73fb88240f64540fadc2c56c93a1}{WebAssemblyCompileStreaming}}, 1);}
\DoxyCodeLine{3697     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, webassembly, \textcolor{stringliteral}{"{}instantiateStreaming"{}},}
\DoxyCodeLine{3698                 \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae46de88e70ad47716f44e4bb74c8b44d}{WebAssemblyInstantiateStreaming}}, 1);}
\DoxyCodeLine{3699   \}}
\DoxyCodeLine{3700 }
\DoxyCodeLine{3701   \textcolor{comment}{// The native\_context is not set up completely yet. That's why we cannot use}}
\DoxyCodeLine{3702   \textcolor{comment}{// \{WasmEnabledFeatures::FromIsolate\} and have to use}}
\DoxyCodeLine{3703   \textcolor{comment}{// \{WasmEnabledFeatures::FromFlags\} instead.}}
\DoxyCodeLine{3704   \textcolor{keyword}{const} \textcolor{keyword}{auto} enabled\_features = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures_a85a0cab3c866e2476d9fab9504bf5e0b}{wasm::WasmEnabledFeatures::FromFlags}}();}
\DoxyCodeLine{3705 }
\DoxyCodeLine{3706   \textcolor{keywordflow}{if} (enabled\_features.has\_type\_reflection()) \{}
\DoxyCodeLine{3707     \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a9d48e1db9cb027ddf92cd6dcfb0f7779}{InstallTypeReflection}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}, webassembly);}
\DoxyCodeLine{3708   \}}
\DoxyCodeLine{3709 }
\DoxyCodeLine{3710   \textcolor{keywordflow}{if} (enabled\_features.has\_memory\_control()) \{}
\DoxyCodeLine{3711     \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a9e5abad388c39e337ce049e8fd94184f}{InstallMemoryControl}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}, webassembly);}
\DoxyCodeLine{3712   \}}
\DoxyCodeLine{3713 }
\DoxyCodeLine{3714   \textcolor{keywordflow}{if} (enabled\_features.has\_custom\_descriptors()) \{}
\DoxyCodeLine{3715     \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a371852143858f45b5f54e6222f8ae084}{InstallCustomDescriptors}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}, webassembly);}
\DoxyCodeLine{3716   \}}
\DoxyCodeLine{3717 }
\DoxyCodeLine{3718   \textcolor{comment}{// Initialize and install JSPI feature.}}
\DoxyCodeLine{3719   \textcolor{keywordflow}{if} (enabled\_features.has\_jspi()) \{}
\DoxyCodeLine{3720     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>is\_wasm\_jspi\_installed() == \mbox{\hyperlink{classv8_1_1internal_1_1Smi_a5386e0cc44bcfd6a13c8481b95f5652f}{Smi::zero}}());}
\DoxyCodeLine{3721     isolate-\/>WasmInitJSPIFeature();}
\DoxyCodeLine{3722     \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a7180b759209d4540ac7339cd21e399f9}{InstallJSPromiseIntegration}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}, webassembly);}
\DoxyCodeLine{3723     \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_is\_wasm\_jspi\_installed(\mbox{\hyperlink{classv8_1_1internal_1_1Smi_afe7f07102d90ccce48cbe677c88a0645}{Smi::FromInt}}(1));}
\DoxyCodeLine{3724   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.stress\_wasm\_stack\_switching) \{}
\DoxyCodeLine{3725     \textcolor{comment}{// Set up the JSPI objects necessary for stress-\/testing stack-\/switching, but}}
\DoxyCodeLine{3726     \textcolor{comment}{// don't install WebAssembly.promising and WebAssembly.Suspending.}}
\DoxyCodeLine{3727     isolate-\/>WasmInitJSPIFeature();}
\DoxyCodeLine{3728   \}}
\DoxyCodeLine{3729 }
\DoxyCodeLine{3730   \textcolor{keywordflow}{if} (enabled\_features.has\_rab\_integration()) \{}
\DoxyCodeLine{3731     \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_ad8458346588cd4044c146ac959e35097}{InstallResizableBufferIntegration}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}, webassembly);}
\DoxyCodeLine{3732   \}}
\DoxyCodeLine{3733 \}}

\end{DoxyCode}


References CHECK, v8\+::internal\+::\+DONT\+\_\+\+ENUM, v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::internal\+::\+Isolate\+::global\+\_\+object(), v8\+::internal\+::index, v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Func(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Wasm\+Exception\+Tag\+Signature, v8\+::internal\+::native\+\_\+context, v8\+::internal\+::v8\+\_\+flags, v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::v8\+\_\+str(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Wasm\+Streaming\+Callback\+For\+Testing(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Compile\+Streaming(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Instantiate\+Streaming(), and v8\+::internal\+::zero.



Referenced by v8\+::internal\+::\+Genesis\+::\+Install\+Special\+Objects().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_a81b37ed8690edccff511f1f75c28d29d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_a81b37ed8690edccff511f1f75c28d29d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmJs_aa134bf6e4548150cc2c12469ecd5bcb0}\label{classv8_1_1internal_1_1WasmJs_aa134bf6e4548150cc2c12469ecd5bcb0}} 
\index{v8::internal::WasmJs@{v8::internal::WasmJs}!InstallConditionalFeatures@{InstallConditionalFeatures}}
\index{InstallConditionalFeatures@{InstallConditionalFeatures}!v8::internal::WasmJs@{v8::internal::WasmJs}}
\doxysubsubsection{\texorpdfstring{InstallConditionalFeatures()}{InstallConditionalFeatures()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Conditional\+Features (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 3736 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3737                                                                              \{}
\DoxyCodeLine{3738   DirectHandle<JSObject> webassembly\{context-\/>wasm\_webassembly\_object(),}
\DoxyCodeLine{3739                                      isolate\};}
\DoxyCodeLine{3740   \textcolor{keywordflow}{if} (!webassembly-\/>map()-\/>is\_extensible()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{3741   \textcolor{keywordflow}{if} (webassembly-\/>map()-\/>is\_access\_check\_needed()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{3742 }
\DoxyCodeLine{3743   \textcolor{comment}{// If you need to install some optional features, follow the pattern:}}
\DoxyCodeLine{3744   \textcolor{comment}{//}}
\DoxyCodeLine{3745   \textcolor{comment}{// if (isolate-\/>IsMyWasmFeatureEnabled(context)) \{}}
\DoxyCodeLine{3746   \textcolor{comment}{//   DirectHandle<String> feature = isolate-\/>factory()-\/>...;}}
\DoxyCodeLine{3747   \textcolor{comment}{//   if (!JSObject::HasRealNamedProperty(isolate, webassembly, feature)}}
\DoxyCodeLine{3748   \textcolor{comment}{//            .FromMaybe(true)) \{}}
\DoxyCodeLine{3749   \textcolor{comment}{//     InstallFeature(isolate, webassembly);}}
\DoxyCodeLine{3750   \textcolor{comment}{//   \}}}
\DoxyCodeLine{3751   \textcolor{comment}{// \}}}
\DoxyCodeLine{3752 }
\DoxyCodeLine{3753   \textcolor{comment}{// Install JSPI-\/related features.}}
\DoxyCodeLine{3754   \textcolor{keywordflow}{if} (isolate-\/>IsWasmJSPIRequested(context)) \{}
\DoxyCodeLine{3755     \textcolor{keywordflow}{if} (context-\/>is\_wasm\_jspi\_installed() == \mbox{\hyperlink{classv8_1_1internal_1_1Smi_a5386e0cc44bcfd6a13c8481b95f5652f}{Smi::zero}}()) \{}
\DoxyCodeLine{3756       isolate-\/>WasmInitJSPIFeature();}
\DoxyCodeLine{3757       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a7180b759209d4540ac7339cd21e399f9}{InstallJSPromiseIntegration}}(isolate, context, webassembly)) \{}
\DoxyCodeLine{3758         context-\/>set\_is\_wasm\_jspi\_installed(\mbox{\hyperlink{classv8_1_1internal_1_1Smi_afe7f07102d90ccce48cbe677c88a0645}{Smi::FromInt}}(1));}
\DoxyCodeLine{3759       \}}
\DoxyCodeLine{3760     \}}
\DoxyCodeLine{3761   \}}
\DoxyCodeLine{3762 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::\+Is\+Wasm\+JSPIRequested(), and v8\+::internal\+::zero.



Referenced by v8\+::\+CALLBACK\+\_\+\+SETTER().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_aa134bf6e4548150cc2c12469ecd5bcb0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_aa134bf6e4548150cc2c12469ecd5bcb0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmJs_a371852143858f45b5f54e6222f8ae084}\label{classv8_1_1internal_1_1WasmJs_a371852143858f45b5f54e6222f8ae084}} 
\index{v8::internal::WasmJs@{v8::internal::WasmJs}!InstallCustomDescriptors@{InstallCustomDescriptors}}
\index{InstallCustomDescriptors@{InstallCustomDescriptors}!v8::internal::WasmJs@{v8::internal::WasmJs}}
\doxysubsubsection{\texorpdfstring{InstallCustomDescriptors()}{InstallCustomDescriptors()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Custom\+Descriptors (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$}]{webassembly }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 3800 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3802                                                                           \{}
\DoxyCodeLine{3803   DirectHandle<String> descriptor\_options\_string =}
\DoxyCodeLine{3804       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}DescriptorOptions"{}});}
\DoxyCodeLine{3805   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1JSObject_ad849a19f28b2c66491314930e1ba3f31}{JSObject::HasRealNamedProperty}}(isolate, webassembly,}
\DoxyCodeLine{3806                                      descriptor\_options\_string)}
\DoxyCodeLine{3807           .FromMaybe(\textcolor{keyword}{true})) \{}
\DoxyCodeLine{3808     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3809   \}}
\DoxyCodeLine{3810   DirectHandle<JSFunction> descriptor\_options\_constructor =}
\DoxyCodeLine{3811       \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(isolate, webassembly, \textcolor{stringliteral}{"{}DescriptorOptions"{}},}
\DoxyCodeLine{3812                              \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a22e798f57b4d736ad3f5c535c380864d}{WebAssemblyDescriptorOptionsImpl}});}
\DoxyCodeLine{3813   context-\/>set\_wasm\_descriptor\_options\_constructor(}
\DoxyCodeLine{3814       *descriptor\_options\_constructor);}
\DoxyCodeLine{3815   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_abfcc6ebe00bd232418d95a28859011bc}{SetupConstructor}}(}
\DoxyCodeLine{3816       isolate, descriptor\_options\_constructor, WASM\_DESCRIPTOR\_OPTIONS\_TYPE,}
\DoxyCodeLine{3817       WasmDescriptorOptions::kHeaderSize, \textcolor{stringliteral}{"{}WebAssembly.DescriptorOptions"{}});}
\DoxyCodeLine{3818   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3819 \}}

\end{DoxyCode}


References v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Constructor\+Func(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Setup\+Constructor(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::v8\+\_\+str(), and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Descriptor\+Options\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_a371852143858f45b5f54e6222f8ae084_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmJs_a7180b759209d4540ac7339cd21e399f9}\label{classv8_1_1internal_1_1WasmJs_a7180b759209d4540ac7339cd21e399f9}} 
\index{v8::internal::WasmJs@{v8::internal::WasmJs}!InstallJSPromiseIntegration@{InstallJSPromiseIntegration}}
\index{InstallJSPromiseIntegration@{InstallJSPromiseIntegration}!v8::internal::WasmJs@{v8::internal::WasmJs}}
\doxysubsubsection{\texorpdfstring{InstallJSPromiseIntegration()}{InstallJSPromiseIntegration()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Wasm\+Js\+::\+Install\+JSPromise\+Integration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$}]{webassembly }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 3766 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3768                                                                              \{}
\DoxyCodeLine{3769   DirectHandle<String> suspender\_string = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}Suspender"{}});}
\DoxyCodeLine{3770   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1JSObject_ad849a19f28b2c66491314930e1ba3f31}{JSObject::HasRealNamedProperty}}(isolate, webassembly, suspender\_string)}
\DoxyCodeLine{3771           .FromMaybe(\textcolor{keyword}{true})) \{}
\DoxyCodeLine{3772     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3773   \}}
\DoxyCodeLine{3774   DirectHandle<String> suspending\_string = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}Suspending"{}});}
\DoxyCodeLine{3775   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1JSObject_ad849a19f28b2c66491314930e1ba3f31}{JSObject::HasRealNamedProperty}}(isolate, webassembly, suspending\_string)}
\DoxyCodeLine{3776           .FromMaybe(\textcolor{keyword}{true})) \{}
\DoxyCodeLine{3777     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3778   \}}
\DoxyCodeLine{3779   DirectHandle<String> promising\_string = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}promising"{}});}
\DoxyCodeLine{3780   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1JSObject_ad849a19f28b2c66491314930e1ba3f31}{JSObject::HasRealNamedProperty}}(isolate, webassembly, promising\_string)}
\DoxyCodeLine{3781           .FromMaybe(\textcolor{keyword}{true})) \{}
\DoxyCodeLine{3782     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3783   \}}
\DoxyCodeLine{3784   DirectHandle<String> suspend\_error\_string = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}SuspendError"{}});}
\DoxyCodeLine{3785   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1JSObject_ad849a19f28b2c66491314930e1ba3f31}{JSObject::HasRealNamedProperty}}(isolate, webassembly, suspend\_error\_string)}
\DoxyCodeLine{3786           .FromMaybe(\textcolor{keyword}{true})) \{}
\DoxyCodeLine{3787     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3788   \}}
\DoxyCodeLine{3789   DirectHandle<JSFunction> suspending\_constructor = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(}
\DoxyCodeLine{3790       isolate, webassembly, \textcolor{stringliteral}{"{}Suspending"{}}, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab0c0a787d5c8f47ec9cd549345c95fad}{WebAssemblySuspendingImpl}});}
\DoxyCodeLine{3791   context-\/>set\_wasm\_suspending\_constructor(*suspending\_constructor);}
\DoxyCodeLine{3792   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_abfcc6ebe00bd232418d95a28859011bc}{SetupConstructor}}(isolate, suspending\_constructor, WASM\_SUSPENDING\_OBJECT\_TYPE,}
\DoxyCodeLine{3793                    WasmSuspendingObject::kHeaderSize, \textcolor{stringliteral}{"{}WebAssembly.Suspending"{}});}
\DoxyCodeLine{3794   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, webassembly, \textcolor{stringliteral}{"{}promising"{}}, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af2970aa8c31b970d7b3a7c100d439cf6}{WebAssemblyPromising}}, 1);}
\DoxyCodeLine{3795   \mbox{\hyperlink{namespacev8_1_1internal_ad6a87719e955c3d58bf7c12a1d33a76f}{InstallError}}(isolate, webassembly, isolate-\/>factory()-\/>SuspendError\_string(),}
\DoxyCodeLine{3796                Context::WASM\_SUSPEND\_ERROR\_FUNCTION\_INDEX);}
\DoxyCodeLine{3797   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3798 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Constructor\+Func(), v8\+::internal\+::\+Install\+Error(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Func(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Setup\+Constructor(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::v8\+\_\+str(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Promising(), and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Suspending\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_a7180b759209d4540ac7339cd21e399f9_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmJs_a9e5abad388c39e337ce049e8fd94184f}\label{classv8_1_1internal_1_1WasmJs_a9e5abad388c39e337ce049e8fd94184f}} 
\index{v8::internal::WasmJs@{v8::internal::WasmJs}!InstallMemoryControl@{InstallMemoryControl}}
\index{InstallMemoryControl@{InstallMemoryControl}!v8::internal::WasmJs@{v8::internal::WasmJs}}
\doxysubsubsection{\texorpdfstring{InstallMemoryControl()}{InstallMemoryControl()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Memory\+Control (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$}]{webassembly }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 3821 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3823                                                                       \{}
\DoxyCodeLine{3824   \textcolor{comment}{// Extensibility of the `WebAssembly` object should already have been checked}}
\DoxyCodeLine{3825   \textcolor{comment}{// by the caller.}}
\DoxyCodeLine{3826   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(webassembly-\/>map()-\/>is\_extensible());}
\DoxyCodeLine{3827 }
\DoxyCodeLine{3828   DirectHandle<JSFunction> descriptor\_constructor =}
\DoxyCodeLine{3829       \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(isolate, webassembly, \textcolor{stringliteral}{"{}MemoryMapDescriptor"{}},}
\DoxyCodeLine{3830                              wasm::WebAssemblyMemoryMapDescriptor);}
\DoxyCodeLine{3831   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_abfcc6ebe00bd232418d95a28859011bc}{SetupConstructor}}(}
\DoxyCodeLine{3832       isolate, descriptor\_constructor, WASM\_MEMORY\_MAP\_DESCRIPTOR\_TYPE,}
\DoxyCodeLine{3833       WasmMemoryMapDescriptor::kHeaderSize, \textcolor{stringliteral}{"{}WebAssembly.MemoryMapDescriptor"{}});}
\DoxyCodeLine{3834   context-\/>set\_wasm\_memory\_map\_descriptor\_constructor(*descriptor\_constructor);}
\DoxyCodeLine{3835 }
\DoxyCodeLine{3836   DirectHandle<JSObject> descriptor\_proto = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{3837       Cast<JSObject>(descriptor\_constructor-\/>instance\_prototype()), isolate);}
\DoxyCodeLine{3838 }
\DoxyCodeLine{3839   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, descriptor\_proto, \textcolor{stringliteral}{"{}map"{}},}
\DoxyCodeLine{3840               wasm::WebAssemblyMemoryMapDescriptorMap, 2);}
\DoxyCodeLine{3841   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, descriptor\_proto, \textcolor{stringliteral}{"{}unmap"{}},}
\DoxyCodeLine{3842               wasm::WebAssemblyMemoryMapDescriptorUnmap, 0);}
\DoxyCodeLine{3843 \}}

\end{DoxyCode}


References DCHECK, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Constructor\+Func(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Func(), and v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Setup\+Constructor().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_a9e5abad388c39e337ce049e8fd94184f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmJs_a2a0940bc2fcba99ed44657a4aa83db24}\label{classv8_1_1internal_1_1WasmJs_a2a0940bc2fcba99ed44657a4aa83db24}} 
\index{v8::internal::WasmJs@{v8::internal::WasmJs}!InstallModule@{InstallModule}}
\index{InstallModule@{InstallModule}!v8::internal::WasmJs@{v8::internal::WasmJs}}
\doxysubsubsection{\texorpdfstring{InstallModule()}{InstallModule()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Module (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$}]{webassembly }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 3582 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3583                                                                \{}
\DoxyCodeLine{3584   DirectHandle<JSGlobalObject> global = isolate-\/>global\_object();}
\DoxyCodeLine{3585   DirectHandle<NativeContext> \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}(global-\/>native\_context(), isolate);}
\DoxyCodeLine{3586 }
\DoxyCodeLine{3587   DirectHandle<JSFunction> module\_constructor;}
\DoxyCodeLine{3588   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.js\_source\_phase\_imports) \{}
\DoxyCodeLine{3589     DirectHandle<FunctionTemplateInfo>}
\DoxyCodeLine{3590         intrinsic\_abstract\_module\_source\_interface\_template =}
\DoxyCodeLine{3591             \mbox{\hyperlink{namespacev8_a1777425fadf90d9a148319f962ca4173}{NewFunctionTemplate}}(isolate, \textcolor{keyword}{nullptr}, \textcolor{keyword}{false});}
\DoxyCodeLine{3592     DirectHandle<JSObject> abstract\_module\_source\_prototype =}
\DoxyCodeLine{3593         DirectHandle<JSObject>(}
\DoxyCodeLine{3594             \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>abstract\_module\_source\_prototype(), isolate);}
\DoxyCodeLine{3595     \mbox{\hyperlink{classv8_1_1internal_1_1ApiNatives_a7c55523551d1be370dabea8224091aa8}{ApiNatives::AddDataProperty}}(}
\DoxyCodeLine{3596         isolate, intrinsic\_abstract\_module\_source\_interface\_template,}
\DoxyCodeLine{3597         isolate-\/>factory()-\/>prototype\_string(),}
\DoxyCodeLine{3598         abstract\_module\_source\_prototype, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}});}
\DoxyCodeLine{3599 }
\DoxyCodeLine{3600     \textcolor{comment}{// Check that this is a reinstallation of the Module object.}}
\DoxyCodeLine{3601     DirectHandle<String> \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}} = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}Module"{}});}
\DoxyCodeLine{3602     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(}
\DoxyCodeLine{3603         \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_ad849a19f28b2c66491314930e1ba3f31}{JSObject::HasRealNamedProperty}}(isolate, webassembly, \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}}).ToChecked());}
\DoxyCodeLine{3604     \textcolor{comment}{// Reinstall the Module object with AbstractModuleSource as prototype.}}
\DoxyCodeLine{3605     module\_constructor =}
\DoxyCodeLine{3606         \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a3003282aca3921966ea5b8a3efb77de7}{CreateFunc}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}}, wasm::WebAssemblyModule, \textcolor{keyword}{true},}
\DoxyCodeLine{3607                    \mbox{\hyperlink{namespacev8_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51}{SideEffectType::kHasNoSideEffect}},}
\DoxyCodeLine{3608                    intrinsic\_abstract\_module\_source\_interface\_template);}
\DoxyCodeLine{3609     \textcolor{comment}{// WebAssembly.Module is a subclass of \%AbstractModuleSource\%, hence}}
\DoxyCodeLine{3610     \textcolor{comment}{// Object.GetPrototypeOf(WebAssembly.Module) === \%AbstractModuleSource\%.}}
\DoxyCodeLine{3611     \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a55e777b15aaf23f685bfcc39ffc5c7e2}{JSObject::ForceSetPrototype}}(}
\DoxyCodeLine{3612         isolate, module\_constructor,}
\DoxyCodeLine{3613         \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(\mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>abstract\_module\_source\_function(),}
\DoxyCodeLine{3614                       isolate));}
\DoxyCodeLine{3615     module\_constructor-\/>shared()-\/>set\_length(1);}
\DoxyCodeLine{3616     \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a7828b3b6e753173996c1b22ee1987615}{JSObject::SetOwnPropertyIgnoreAttributes}}(webassembly, \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}},}
\DoxyCodeLine{3617                                              module\_constructor, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868}{DONT\_ENUM}})}
\DoxyCodeLine{3618         .Assert();}
\DoxyCodeLine{3619   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3620     module\_constructor = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(isolate, webassembly, \textcolor{stringliteral}{"{}Module"{}},}
\DoxyCodeLine{3621                                                 wasm::WebAssemblyModule);}
\DoxyCodeLine{3622   \}}
\DoxyCodeLine{3623   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_abfcc6ebe00bd232418d95a28859011bc}{SetupConstructor}}(isolate, module\_constructor, WASM\_MODULE\_OBJECT\_TYPE,}
\DoxyCodeLine{3624                    WasmModuleObject::kHeaderSize, \textcolor{stringliteral}{"{}WebAssembly.Module"{}});}
\DoxyCodeLine{3625   \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_wasm\_module\_constructor(*module\_constructor);}
\DoxyCodeLine{3626 }
\DoxyCodeLine{3627   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, module\_constructor, \textcolor{stringliteral}{"{}imports"{}},}
\DoxyCodeLine{3628               wasm::WebAssemblyModuleImports, 1, \textcolor{keyword}{false}, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}},}
\DoxyCodeLine{3629               \mbox{\hyperlink{namespacev8_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51}{SideEffectType::kHasNoSideEffect}});}
\DoxyCodeLine{3630   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, module\_constructor, \textcolor{stringliteral}{"{}exports"{}},}
\DoxyCodeLine{3631               wasm::WebAssemblyModuleExports, 1, \textcolor{keyword}{false}, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}},}
\DoxyCodeLine{3632               \mbox{\hyperlink{namespacev8_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51}{SideEffectType::kHasNoSideEffect}});}
\DoxyCodeLine{3633   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, module\_constructor, \textcolor{stringliteral}{"{}customSections"{}},}
\DoxyCodeLine{3634               wasm::WebAssemblyModuleCustomSections, 2, \textcolor{keyword}{false}, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}},}
\DoxyCodeLine{3635               \mbox{\hyperlink{namespacev8_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51}{SideEffectType::kHasNoSideEffect}});}
\DoxyCodeLine{3636 \}}

\end{DoxyCode}


References CHECK, v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Create\+Func(), v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::\+DONT\+\_\+\+ENUM, v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+Isolate\+::global\+\_\+object(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Constructor\+Func(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Func(), v8\+::k\+Has\+No\+Side\+Effect, name, v8\+::internal\+::native\+\_\+context, v8\+::\+New\+Function\+Template(), v8\+::internal\+::\+NONE, v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Setup\+Constructor(), v8\+::internal\+::v8\+\_\+flags, and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::v8\+\_\+str().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_a2a0940bc2fcba99ed44657a4aa83db24_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmJs_ad8458346588cd4044c146ac959e35097}\label{classv8_1_1internal_1_1WasmJs_ad8458346588cd4044c146ac959e35097}} 
\index{v8::internal::WasmJs@{v8::internal::WasmJs}!InstallResizableBufferIntegration@{InstallResizableBufferIntegration}}
\index{InstallResizableBufferIntegration@{InstallResizableBufferIntegration}!v8::internal::WasmJs@{v8::internal::WasmJs}}
\doxysubsubsection{\texorpdfstring{InstallResizableBufferIntegration()}{InstallResizableBufferIntegration()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Resizable\+Buffer\+Integration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$}]{webassembly }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 3932 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3934                                         \{}
\DoxyCodeLine{3935   \textcolor{comment}{// Extensibility of the `WebAssembly` object should already have been checked}}
\DoxyCodeLine{3936   \textcolor{comment}{// by the caller.}}
\DoxyCodeLine{3937   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(webassembly-\/>map()-\/>is\_extensible());}
\DoxyCodeLine{3938 }
\DoxyCodeLine{3939   DirectHandle<JSObject> memory\_proto = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{3940       Cast<JSObject>(context-\/>wasm\_memory\_constructor()-\/>instance\_prototype()),}
\DoxyCodeLine{3941       isolate);}
\DoxyCodeLine{3942   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, memory\_proto, \textcolor{stringliteral}{"{}toFixedLengthBuffer"{}},}
\DoxyCodeLine{3943               wasm::WebAssemblyMemoryToFixedLengthBuffer, 0);}
\DoxyCodeLine{3944   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, memory\_proto, \textcolor{stringliteral}{"{}toResizableBuffer"{}},}
\DoxyCodeLine{3945               wasm::WebAssemblyMemoryToResizableBuffer, 0);}
\DoxyCodeLine{3946 \}}

\end{DoxyCode}


References DCHECK, v8\+::internal\+::direct\+\_\+handle(), and v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Func().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_ad8458346588cd4044c146ac959e35097_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmJs_a9d48e1db9cb027ddf92cd6dcfb0f7779}\label{classv8_1_1internal_1_1WasmJs_a9d48e1db9cb027ddf92cd6dcfb0f7779}} 
\index{v8::internal::WasmJs@{v8::internal::WasmJs}!InstallTypeReflection@{InstallTypeReflection}}
\index{InstallTypeReflection@{InstallTypeReflection}!v8::internal::WasmJs@{v8::internal::WasmJs}}
\doxysubsubsection{\texorpdfstring{InstallTypeReflection()}{InstallTypeReflection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Type\+Reflection (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1NativeContext}{Native\+Context}} $>$}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$}]{webassembly }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 3847 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3849                                                                        \{}
\DoxyCodeLine{3850   \textcolor{comment}{// Extensibility of the `WebAssembly` object should already have been checked}}
\DoxyCodeLine{3851   \textcolor{comment}{// by the caller.}}
\DoxyCodeLine{3852   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(webassembly-\/>map()-\/>is\_extensible());}
\DoxyCodeLine{3853 }
\DoxyCodeLine{3854   \textcolor{comment}{// First check if any of the type reflection fields already exist. If so, bail}}
\DoxyCodeLine{3855   \textcolor{comment}{// out and don't install any new fields.}}
\DoxyCodeLine{3856   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1JSObject_ad849a19f28b2c66491314930e1ba3f31}{JSObject::HasRealNamedProperty}}(isolate, webassembly,}
\DoxyCodeLine{3857                                      isolate-\/>factory()-\/>Function\_string())}
\DoxyCodeLine{3858           .FromMaybe(\textcolor{keyword}{true})) \{}
\DoxyCodeLine{3859     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3860   \}}
\DoxyCodeLine{3861 }
\DoxyCodeLine{3862   \textcolor{keyword}{auto} GetProto = [isolate](Tagged<JSFunction> constructor) \{}
\DoxyCodeLine{3863     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}(Cast<JSObject>(constructor-\/>instance\_prototype()), isolate);}
\DoxyCodeLine{3864   \};}
\DoxyCodeLine{3865   DirectHandle<JSObject> table\_proto =}
\DoxyCodeLine{3866       GetProto(context-\/>wasm\_table\_constructor());}
\DoxyCodeLine{3867   DirectHandle<JSObject> global\_proto =}
\DoxyCodeLine{3868       GetProto(context-\/>wasm\_global\_constructor());}
\DoxyCodeLine{3869   DirectHandle<JSObject> memory\_proto =}
\DoxyCodeLine{3870       GetProto(context-\/>wasm\_memory\_constructor());}
\DoxyCodeLine{3871   DirectHandle<JSObject> tag\_proto = GetProto(context-\/>wasm\_tag\_constructor());}
\DoxyCodeLine{3872 }
\DoxyCodeLine{3873   DirectHandle<String> type\_string = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}type"{}});}
\DoxyCodeLine{3874   \textcolor{keyword}{auto} CheckProto = [isolate, type\_string](DirectHandle<JSObject> proto) \{}
\DoxyCodeLine{3875     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1JSObject_ad849a19f28b2c66491314930e1ba3f31}{JSObject::HasRealNamedProperty}}(isolate, proto, type\_string)}
\DoxyCodeLine{3876             .FromMaybe(\textcolor{keyword}{true})) \{}
\DoxyCodeLine{3877       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3878     \}}
\DoxyCodeLine{3879     \textcolor{comment}{// Also check extensibility, otherwise adding properties will fail.}}
\DoxyCodeLine{3880     \textcolor{keywordflow}{if} (!proto-\/>map()-\/>is\_extensible()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3881     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3882   \};}
\DoxyCodeLine{3883   \textcolor{keywordflow}{if} (!CheckProto(table\_proto)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3884   \textcolor{keywordflow}{if} (!CheckProto(global\_proto)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3885   \textcolor{keywordflow}{if} (!CheckProto(memory\_proto)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3886   \textcolor{keywordflow}{if} (!CheckProto(tag\_proto)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3887 }
\DoxyCodeLine{3888   \textcolor{comment}{// Checks are done, start installing the new fields.}}
\DoxyCodeLine{3889   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, table\_proto, type\_string, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acaccef9db6ddc927c8e58fb29de30502}{WebAssemblyTableType}}, 0, \textcolor{keyword}{false},}
\DoxyCodeLine{3890               \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}}, \mbox{\hyperlink{namespacev8_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51}{SideEffectType::kHasNoSideEffect}});}
\DoxyCodeLine{3891   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, memory\_proto, type\_string, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4efe057cb210e2909aa30b47767a7c01}{WebAssemblyMemoryType}}, 0,}
\DoxyCodeLine{3892               \textcolor{keyword}{false}, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}}, \mbox{\hyperlink{namespacev8_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51}{SideEffectType::kHasNoSideEffect}});}
\DoxyCodeLine{3893   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, global\_proto, type\_string, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aecd2a67ed5f761d905eed967a5a4e9e4}{WebAssemblyGlobalType}}, 0,}
\DoxyCodeLine{3894               \textcolor{keyword}{false}, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}}, \mbox{\hyperlink{namespacev8_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51}{SideEffectType::kHasNoSideEffect}});}
\DoxyCodeLine{3895   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, tag\_proto, type\_string, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4205bbb2cdbecd8548f0062a0158fd6a}{WebAssemblyTagType}}, 0, \textcolor{keyword}{false},}
\DoxyCodeLine{3896               \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}}, \mbox{\hyperlink{namespacev8_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51}{SideEffectType::kHasNoSideEffect}});}
\DoxyCodeLine{3897 }
\DoxyCodeLine{3898   \textcolor{comment}{// Create the Function object.}}
\DoxyCodeLine{3899   DirectHandle<JSFunction> function\_constructor = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(}
\DoxyCodeLine{3900       isolate, webassembly, \textcolor{stringliteral}{"{}Function"{}}, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac70d98b3dfb9bcdb067ff8a7a713926e}{WebAssemblyFunction}});}
\DoxyCodeLine{3901   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_acfc430f21a2bff2a0e65815f9db46b1f}{SetDummyInstanceTemplate}}(isolate, function\_constructor);}
\DoxyCodeLine{3902   \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction_a1f8a7738f818c0ba05ba4c86bee0a3b6}{JSFunction::EnsureHasInitialMap}}(isolate, function\_constructor);}
\DoxyCodeLine{3903   DirectHandle<JSObject> function\_proto(}
\DoxyCodeLine{3904       Cast<JSObject>(function\_constructor-\/>instance\_prototype()), isolate);}
\DoxyCodeLine{3905   DirectHandle<Map> \mbox{\hyperlink{namespacev8_1_1internal_1_1libvtune_a0fcf6e701e6a3e10310c2126f52732e9}{function\_map}} =}
\DoxyCodeLine{3906       \mbox{\hyperlink{classv8_1_1internal_1_1Map_a31f4e88f932422b60a98260488dba52a}{Map::Copy}}(isolate, isolate-\/>sloppy\_function\_without\_prototype\_map(),}
\DoxyCodeLine{3907                 \textcolor{stringliteral}{"{}WebAssembly.Function"{}});}
\DoxyCodeLine{3908   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a793b022df61dd2831e6049bac4a28c1f}{JSObject::SetPrototype}}(}
\DoxyCodeLine{3909             isolate, function\_proto,}
\DoxyCodeLine{3910             \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(context-\/>function\_function()-\/>prototype(), isolate),}
\DoxyCodeLine{3911             \textcolor{keyword}{false}, \mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{kDontThrow}})}
\DoxyCodeLine{3912             .FromJust());}
\DoxyCodeLine{3913   \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction_ac45d8dddfbc31b38a1f9cb60b8b6ff40}{JSFunction::SetInitialMap}}(isolate, function\_constructor, \mbox{\hyperlink{namespacev8_1_1internal_1_1libvtune_a0fcf6e701e6a3e10310c2126f52732e9}{function\_map}},}
\DoxyCodeLine{3914                             function\_proto);}
\DoxyCodeLine{3915 }
\DoxyCodeLine{3916   constexpr \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{PropertyAttributes}} ro\_attributes =}
\DoxyCodeLine{3917       \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{PropertyAttributes}}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868}{DONT\_ENUM}} | \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f}{READ\_ONLY}});}
\DoxyCodeLine{3918   \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a16c9b19de5218c056da014960fba72ae}{JSObject::AddProperty}}(isolate, function\_proto,}
\DoxyCodeLine{3919                         isolate-\/>factory()-\/>to\_string\_tag\_symbol(),}
\DoxyCodeLine{3920                         \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}WebAssembly.Function"{}}), ro\_attributes);}
\DoxyCodeLine{3921 }
\DoxyCodeLine{3922   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, function\_proto, type\_string, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a82b07981395ae632c3887915a53d27a2}{WebAssemblyFunctionType}}, 0);}
\DoxyCodeLine{3923   \mbox{\hyperlink{namespacev8_1_1internal_a0d9ddccbc8883ed03a104e38cb679871}{SimpleInstallFunction}}(isolate, function\_proto, \textcolor{stringliteral}{"{}bind"{}},}
\DoxyCodeLine{3924                         Builtin::kWebAssemblyFunctionPrototypeBind, 1,}
\DoxyCodeLine{3925                         \mbox{\hyperlink{namespacev8_1_1internal_a894f7eed49bf3b73ca39321905ff6e38}{kDontAdapt}});}
\DoxyCodeLine{3926   \textcolor{comment}{// Make all exported functions an instance of \{WebAssembly.Function\}.}}
\DoxyCodeLine{3927   context-\/>set\_wasm\_exported\_function\_map(*\mbox{\hyperlink{namespacev8_1_1internal_1_1libvtune_a0fcf6e701e6a3e10310c2126f52732e9}{function\_map}});}
\DoxyCodeLine{3928   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3929 \}}

\end{DoxyCode}


References CHECK, v8\+::bigint\+::anonymous\+\_\+namespace\{div-\/helpers.\+cc\}\+::\+Copy(), DCHECK, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::\+DONT\+\_\+\+ENUM, v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::libvtune\+::function\+\_\+map, v8\+::internal\+::handle(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Constructor\+Func(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Func(), v8\+::internal\+::k\+Dont\+Adapt, v8\+::internal\+::k\+Dont\+Throw, v8\+::k\+Has\+No\+Side\+Effect, v8\+::internal\+::\+NONE, v8\+::internal\+::\+READ\+\_\+\+ONLY, v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Set\+Dummy\+Instance\+Template(), v8\+::internal\+::\+Simple\+Install\+Function(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::v8\+\_\+str(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Function(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Function\+Type(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Global\+Type(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Memory\+Type(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Table\+Type(), and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Web\+Assembly\+Tag\+Type().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1WasmJs_a9d48e1db9cb027ddf92cd6dcfb0f7779_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1WasmJs_ad9d30fdd56a8c38868338f9635ca9be9}\label{classv8_1_1internal_1_1WasmJs_ad9d30fdd56a8c38868338f9635ca9be9}} 
\index{v8::internal::WasmJs@{v8::internal::WasmJs}!PrepareForSnapshot@{PrepareForSnapshot}}
\index{PrepareForSnapshot@{PrepareForSnapshot}!v8::internal::WasmJs@{v8::internal::WasmJs}}
\doxysubsubsection{\texorpdfstring{PrepareForSnapshot()}{PrepareForSnapshot()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Wasm\+Js\+::\+Prepare\+For\+Snapshot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 3413 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3413                                                 \{}
\DoxyCodeLine{3414   DirectHandle<JSGlobalObject> global = isolate-\/>global\_object();}
\DoxyCodeLine{3415   DirectHandle<NativeContext> \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}(global-\/>native\_context(), isolate);}
\DoxyCodeLine{3416 }
\DoxyCodeLine{3417   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(IsUndefined(}
\DoxyCodeLine{3418       \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>GetNoCell(Context::WASM\_WEBASSEMBLY\_OBJECT\_INDEX),}
\DoxyCodeLine{3419       isolate));}
\DoxyCodeLine{3420   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(IsUndefined(}
\DoxyCodeLine{3421       \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>GetNoCell(Context::WASM\_MODULE\_CONSTRUCTOR\_INDEX),}
\DoxyCodeLine{3422       isolate));}
\DoxyCodeLine{3423 }
\DoxyCodeLine{3424   Factory* \textcolor{keyword}{const} f = isolate-\/>factory();}
\DoxyCodeLine{3425   \textcolor{keyword}{static} constexpr \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{PropertyAttributes}} ro\_attributes =}
\DoxyCodeLine{3426       \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{PropertyAttributes}}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868}{DONT\_ENUM}} | \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f}{READ\_ONLY}});}
\DoxyCodeLine{3427 }
\DoxyCodeLine{3428   \textcolor{comment}{// Create the WebAssembly object.}}
\DoxyCodeLine{3429   DirectHandle<JSObject> webassembly;}
\DoxyCodeLine{3430   \{}
\DoxyCodeLine{3431     DirectHandle<String> WebAssembly\_string = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}WebAssembly"{}});}
\DoxyCodeLine{3432     \textcolor{comment}{// Not supposed to be called, hence using the kIllegal builtin as code.}}
\DoxyCodeLine{3433     DirectHandle<SharedFunctionInfo> sfi = f-\/>NewSharedFunctionInfoForBuiltin(}
\DoxyCodeLine{3434         WebAssembly\_string, Builtin::kIllegal, 0, \mbox{\hyperlink{namespacev8_1_1internal_a894f7eed49bf3b73ca39321905ff6e38}{kDontAdapt}});}
\DoxyCodeLine{3435     sfi-\/>set\_language\_mode(\mbox{\hyperlink{namespacev8_1_1internal_aff2483f817f329c2b4c7c1d7149f858ba35215d4c3b69349b967c421fd68b0b36}{LanguageMode::kStrict}});}
\DoxyCodeLine{3436 }
\DoxyCodeLine{3437     DirectHandle<JSFunction> ctor =}
\DoxyCodeLine{3438         Factory::JSFunctionBuilder\{isolate, sfi, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}\}.Build();}
\DoxyCodeLine{3439     \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction_a1c279ee3a4c277def6afe88af24389b8}{JSFunction::SetPrototype}}(isolate, ctor,}
\DoxyCodeLine{3440                              isolate-\/>initial\_object\_prototype());}
\DoxyCodeLine{3441     webassembly = f-\/>NewJSObject(ctor, \mbox{\hyperlink{namespacev8_1_1internal_a604d5beeb6fc8639670f737ed201e20aa0aa38c28f349d65a6819e03844b73dff}{AllocationType::kOld}});}
\DoxyCodeLine{3442     \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_wasm\_webassembly\_object(*webassembly);}
\DoxyCodeLine{3443 }
\DoxyCodeLine{3444     \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a16c9b19de5218c056da014960fba72ae}{JSObject::AddProperty}}(isolate, webassembly, f-\/>to\_string\_tag\_symbol(),}
\DoxyCodeLine{3445                           WebAssembly\_string, ro\_attributes);}
\DoxyCodeLine{3446     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, webassembly, \textcolor{stringliteral}{"{}compile"{}}, wasm::WebAssemblyCompile, 1);}
\DoxyCodeLine{3447     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, webassembly, \textcolor{stringliteral}{"{}validate"{}}, wasm::WebAssemblyValidate, 1);}
\DoxyCodeLine{3448     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, webassembly, \textcolor{stringliteral}{"{}instantiate"{}},}
\DoxyCodeLine{3449                 wasm::WebAssemblyInstantiate, 1);}
\DoxyCodeLine{3450   \}}
\DoxyCodeLine{3451 }
\DoxyCodeLine{3452   \textcolor{comment}{// Create the Module object.}}
\DoxyCodeLine{3453   \mbox{\hyperlink{classv8_1_1internal_1_1WasmJs_a2a0940bc2fcba99ed44657a4aa83db24}{InstallModule}}(isolate, webassembly);}
\DoxyCodeLine{3454 }
\DoxyCodeLine{3455   \textcolor{comment}{// Create the Instance object.}}
\DoxyCodeLine{3456   \{}
\DoxyCodeLine{3457     DirectHandle<JSFunction> instance\_constructor = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(}
\DoxyCodeLine{3458         isolate, webassembly, \textcolor{stringliteral}{"{}Instance"{}}, wasm::WebAssemblyInstance);}
\DoxyCodeLine{3459     DirectHandle<JSObject> instance\_proto = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_abfcc6ebe00bd232418d95a28859011bc}{SetupConstructor}}(}
\DoxyCodeLine{3460         isolate, instance\_constructor, WASM\_INSTANCE\_OBJECT\_TYPE,}
\DoxyCodeLine{3461         WasmInstanceObject::kHeaderSize, \textcolor{stringliteral}{"{}WebAssembly.Instance"{}});}
\DoxyCodeLine{3462     \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_wasm\_instance\_constructor(*instance\_constructor);}
\DoxyCodeLine{3463     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_ad04016809f9a3de12934636e7f335ccd}{InstallGetter}}(isolate, instance\_proto, \textcolor{stringliteral}{"{}exports"{}},}
\DoxyCodeLine{3464                   wasm::WebAssemblyInstanceGetExports);}
\DoxyCodeLine{3465   \}}
\DoxyCodeLine{3466 }
\DoxyCodeLine{3467   \textcolor{comment}{// Create the Table object.}}
\DoxyCodeLine{3468   \{}
\DoxyCodeLine{3469     DirectHandle<JSFunction> table\_constructor = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(}
\DoxyCodeLine{3470         isolate, webassembly, \textcolor{stringliteral}{"{}Table"{}}, wasm::WebAssemblyTable);}
\DoxyCodeLine{3471     DirectHandle<JSObject> table\_proto =}
\DoxyCodeLine{3472         \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_abfcc6ebe00bd232418d95a28859011bc}{SetupConstructor}}(isolate, table\_constructor, WASM\_TABLE\_OBJECT\_TYPE,}
\DoxyCodeLine{3473                          WasmTableObject::kHeaderSize, \textcolor{stringliteral}{"{}WebAssembly.Table"{}});}
\DoxyCodeLine{3474     \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_wasm\_table\_constructor(*table\_constructor);}
\DoxyCodeLine{3475     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_ad04016809f9a3de12934636e7f335ccd}{InstallGetter}}(isolate, table\_proto, \textcolor{stringliteral}{"{}length"{}},}
\DoxyCodeLine{3476                   wasm::WebAssemblyTableGetLength);}
\DoxyCodeLine{3477     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, table\_proto, \textcolor{stringliteral}{"{}grow"{}}, wasm::WebAssemblyTableGrow, 1);}
\DoxyCodeLine{3478     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, table\_proto, \textcolor{stringliteral}{"{}set"{}}, wasm::WebAssemblyTableSet, 1);}
\DoxyCodeLine{3479     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, table\_proto, \textcolor{stringliteral}{"{}get"{}}, wasm::WebAssemblyTableGet, 1,}
\DoxyCodeLine{3480                 \textcolor{keyword}{false}, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}}, \mbox{\hyperlink{namespacev8_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51}{SideEffectType::kHasNoSideEffect}});}
\DoxyCodeLine{3481   \}}
\DoxyCodeLine{3482 }
\DoxyCodeLine{3483   \textcolor{comment}{// Create the Memory object.}}
\DoxyCodeLine{3484   \{}
\DoxyCodeLine{3485     DirectHandle<JSFunction> memory\_constructor = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(}
\DoxyCodeLine{3486         isolate, webassembly, \textcolor{stringliteral}{"{}Memory"{}}, wasm::WebAssemblyMemory);}
\DoxyCodeLine{3487     DirectHandle<JSObject> memory\_proto =}
\DoxyCodeLine{3488         \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_abfcc6ebe00bd232418d95a28859011bc}{SetupConstructor}}(isolate, memory\_constructor, WASM\_MEMORY\_OBJECT\_TYPE,}
\DoxyCodeLine{3489                          WasmMemoryObject::kHeaderSize, \textcolor{stringliteral}{"{}WebAssembly.Memory"{}});}
\DoxyCodeLine{3490     \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_wasm\_memory\_constructor(*memory\_constructor);}
\DoxyCodeLine{3491     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, memory\_proto, \textcolor{stringliteral}{"{}grow"{}}, wasm::WebAssemblyMemoryGrow, 1);}
\DoxyCodeLine{3492     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_ad04016809f9a3de12934636e7f335ccd}{InstallGetter}}(isolate, memory\_proto, \textcolor{stringliteral}{"{}buffer"{}},}
\DoxyCodeLine{3493                   wasm::WebAssemblyMemoryGetBuffer);}
\DoxyCodeLine{3494   \}}
\DoxyCodeLine{3495 }
\DoxyCodeLine{3496   \textcolor{comment}{// Create the Global object.}}
\DoxyCodeLine{3497   \{}
\DoxyCodeLine{3498     DirectHandle<JSFunction> global\_constructor = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(}
\DoxyCodeLine{3499         isolate, webassembly, \textcolor{stringliteral}{"{}Global"{}}, wasm::WebAssemblyGlobal);}
\DoxyCodeLine{3500     DirectHandle<JSObject> global\_proto =}
\DoxyCodeLine{3501         \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_abfcc6ebe00bd232418d95a28859011bc}{SetupConstructor}}(isolate, global\_constructor, WASM\_GLOBAL\_OBJECT\_TYPE,}
\DoxyCodeLine{3502                          WasmGlobalObject::kHeaderSize, \textcolor{stringliteral}{"{}WebAssembly.Global"{}});}
\DoxyCodeLine{3503     \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_wasm\_global\_constructor(*global\_constructor);}
\DoxyCodeLine{3504     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, global\_proto, \textcolor{stringliteral}{"{}valueOf"{}},}
\DoxyCodeLine{3505                 wasm::WebAssemblyGlobalValueOf, 0, \textcolor{keyword}{false}, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}},}
\DoxyCodeLine{3506                 \mbox{\hyperlink{namespacev8_a29711319c2b9fc7716d65faee2f7b9cba5168ab38be99edd5ce1e4cb991b21f51}{SideEffectType::kHasNoSideEffect}});}
\DoxyCodeLine{3507     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a6cbbe7d60ce5aa0c6ce129e691faece7}{InstallGetterSetter}}(isolate, global\_proto, \textcolor{stringliteral}{"{}value"{}},}
\DoxyCodeLine{3508                         wasm::WebAssemblyGlobalGetValue,}
\DoxyCodeLine{3509                         wasm::WebAssemblyGlobalSetValue);}
\DoxyCodeLine{3510   \}}
\DoxyCodeLine{3511 }
\DoxyCodeLine{3512   \textcolor{comment}{// Create the Exception object.}}
\DoxyCodeLine{3513   \{}
\DoxyCodeLine{3514     DirectHandle<JSFunction> tag\_constructor = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(}
\DoxyCodeLine{3515         isolate, webassembly, \textcolor{stringliteral}{"{}Tag"{}}, wasm::WebAssemblyTag);}
\DoxyCodeLine{3516     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_abfcc6ebe00bd232418d95a28859011bc}{SetupConstructor}}(isolate, tag\_constructor, WASM\_TAG\_OBJECT\_TYPE,}
\DoxyCodeLine{3517                      WasmTagObject::kHeaderSize, \textcolor{stringliteral}{"{}WebAssembly.Tag"{}});}
\DoxyCodeLine{3518     \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_wasm\_tag\_constructor(*tag\_constructor);}
\DoxyCodeLine{3519     \textcolor{keyword}{auto} js\_tag = \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionTag_a16f4ecfd034d8f83eb0b57c2dfeb7e86}{WasmExceptionTag::New}}(isolate, 0);}
\DoxyCodeLine{3520     \textcolor{comment}{// Note the canonical\_type\_index is reset in WasmJs::Install s.t.}}
\DoxyCodeLine{3521     \textcolor{comment}{// type\_canonicalizer bookkeeping remains valid.}}
\DoxyCodeLine{3522     \textcolor{keyword}{static} constexpr wasm::CanonicalTypeIndex kInitialCanonicalTypeIndex\{0\};}
\DoxyCodeLine{3523     DirectHandle<JSObject> js\_tag\_object = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTagObject_a80e21a9531997c9d7c95d9bd95d86cd4}{WasmTagObject::New}}(}
\DoxyCodeLine{3524         isolate, \&\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a8412b6f26abd7ea8cbf5f65b0481eaad}{kWasmExceptionTagSignature}}, kInitialCanonicalTypeIndex,}
\DoxyCodeLine{3525         js\_tag, DirectHandle<WasmTrustedInstanceData>());}
\DoxyCodeLine{3526     \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_wasm\_js\_tag(*js\_tag\_object);}
\DoxyCodeLine{3527     \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a16c9b19de5218c056da014960fba72ae}{JSObject::AddProperty}}(isolate, webassembly, \textcolor{stringliteral}{"{}JSTag"{}}, js\_tag\_object,}
\DoxyCodeLine{3528                           ro\_attributes);}
\DoxyCodeLine{3529   \}}
\DoxyCodeLine{3530 }
\DoxyCodeLine{3531   \textcolor{comment}{// Set up the runtime exception constructor.}}
\DoxyCodeLine{3532   \{}
\DoxyCodeLine{3533     DirectHandle<JSFunction> exception\_constructor = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_aba01530f130336b4b5dfcef830115757}{InstallConstructorFunc}}(}
\DoxyCodeLine{3534         isolate, webassembly, \textcolor{stringliteral}{"{}Exception"{}}, wasm::WebAssemblyException);}
\DoxyCodeLine{3535     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_acfc430f21a2bff2a0e65815f9db46b1f}{SetDummyInstanceTemplate}}(isolate, exception\_constructor);}
\DoxyCodeLine{3536     DirectHandle<JSObject> exception\_proto = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_abfcc6ebe00bd232418d95a28859011bc}{SetupConstructor}}(}
\DoxyCodeLine{3537         isolate, exception\_constructor, WASM\_EXCEPTION\_PACKAGE\_TYPE,}
\DoxyCodeLine{3538         \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionPackage_a56dbc595afcc4c0a3be9b234c881eb53}{WasmExceptionPackage::kSize}}, \textcolor{stringliteral}{"{}WebAssembly.Exception"{}},}
\DoxyCodeLine{3539         \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionPackage_a7a460589a60bdb8f714ae48c9ea6868ca63a83fe6a986b4960024d0b857f377aa}{WasmExceptionPackage::kInObjectFieldCount}});}
\DoxyCodeLine{3540     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, exception\_proto, \textcolor{stringliteral}{"{}getArg"{}},}
\DoxyCodeLine{3541                 wasm::WebAssemblyExceptionGetArg, 2);}
\DoxyCodeLine{3542     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02wasm-js_8cc_03_a740601b207b1b3d64b63a868ea598ba6}{InstallFunc}}(isolate, exception\_proto, \textcolor{stringliteral}{"{}is"{}}, wasm::WebAssemblyExceptionIs,}
\DoxyCodeLine{3543                 1);}
\DoxyCodeLine{3544     \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_wasm\_exception\_constructor(*exception\_constructor);}
\DoxyCodeLine{3545 }
\DoxyCodeLine{3546     DirectHandle<Map> \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a4547ea68c972ac14663623ed7adab8d8}{initial\_map}}(exception\_constructor-\/>initial\_map(),}
\DoxyCodeLine{3547                                   isolate);}
\DoxyCodeLine{3548     \mbox{\hyperlink{classv8_1_1internal_1_1Map_a191ce82487f39a16749e1d5f195ce8b9}{Map::EnsureDescriptorSlack}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a4547ea68c972ac14663623ed7adab8d8}{initial\_map}}, 2);}
\DoxyCodeLine{3549     \{}
\DoxyCodeLine{3550       Descriptor d = \mbox{\hyperlink{classv8_1_1internal_1_1Descriptor_a2782160995ef5a9c515d8cee9a6b2d85}{Descriptor::DataField}}(}
\DoxyCodeLine{3551           isolate, f-\/>wasm\_exception\_tag\_symbol(),}
\DoxyCodeLine{3552           \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionPackage_a7a460589a60bdb8f714ae48c9ea6868caed5075d6670bcb3fbea0070f8a69fb27}{WasmExceptionPackage::kTagIndex}}, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868}{DONT\_ENUM}}, \mbox{\hyperlink{classv8_1_1internal_1_1Representation_af5ac13ce30d154a376b85764d1ad2760}{Representation::Tagged}}());}
\DoxyCodeLine{3553       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a4547ea68c972ac14663623ed7adab8d8}{initial\_map}}-\/>AppendDescriptor(isolate, \&d);}
\DoxyCodeLine{3554     \}}
\DoxyCodeLine{3555     \{}
\DoxyCodeLine{3556       Descriptor d =}
\DoxyCodeLine{3557           \mbox{\hyperlink{classv8_1_1internal_1_1Descriptor_a2782160995ef5a9c515d8cee9a6b2d85}{Descriptor::DataField}}(isolate, f-\/>wasm\_exception\_values\_symbol(),}
\DoxyCodeLine{3558                                 \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionPackage_a7a460589a60bdb8f714ae48c9ea6868cadfaf00fe3bca39744c0eaf6637917b71}{WasmExceptionPackage::kValuesIndex}}, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a7a681885f7c5656b01ef8ba9f9bde868}{DONT\_ENUM}},}
\DoxyCodeLine{3559                                 \mbox{\hyperlink{classv8_1_1internal_1_1Representation_af5ac13ce30d154a376b85764d1ad2760}{Representation::Tagged}}());}
\DoxyCodeLine{3560       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a4547ea68c972ac14663623ed7adab8d8}{initial\_map}}-\/>AppendDescriptor(isolate, \&d);}
\DoxyCodeLine{3561     \}}
\DoxyCodeLine{3562   \}}
\DoxyCodeLine{3563 }
\DoxyCodeLine{3564   \textcolor{comment}{// By default, make all exported functions an instance of \{Function\}.}}
\DoxyCodeLine{3565   \{}
\DoxyCodeLine{3566     DirectHandle<Map> \mbox{\hyperlink{namespacev8_1_1internal_1_1libvtune_a0fcf6e701e6a3e10310c2126f52732e9}{function\_map}} =}
\DoxyCodeLine{3567         isolate-\/>sloppy\_function\_without\_prototype\_map();}
\DoxyCodeLine{3568     \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}}-\/>set\_wasm\_exported\_function\_map(*\mbox{\hyperlink{namespacev8_1_1internal_1_1libvtune_a0fcf6e701e6a3e10310c2126f52732e9}{function\_map}});}
\DoxyCodeLine{3569   \}}
\DoxyCodeLine{3570 }
\DoxyCodeLine{3571   \textcolor{comment}{// Setup errors.}}
\DoxyCodeLine{3572   \{}
\DoxyCodeLine{3573     \mbox{\hyperlink{namespacev8_1_1internal_ad6a87719e955c3d58bf7c12a1d33a76f}{InstallError}}(isolate, webassembly, f-\/>CompileError\_string(),}
\DoxyCodeLine{3574                  Context::WASM\_COMPILE\_ERROR\_FUNCTION\_INDEX);}
\DoxyCodeLine{3575     \mbox{\hyperlink{namespacev8_1_1internal_ad6a87719e955c3d58bf7c12a1d33a76f}{InstallError}}(isolate, webassembly, f-\/>LinkError\_string(),}
\DoxyCodeLine{3576                  Context::WASM\_LINK\_ERROR\_FUNCTION\_INDEX);}
\DoxyCodeLine{3577     \mbox{\hyperlink{namespacev8_1_1internal_ad6a87719e955c3d58bf7c12a1d33a76f}{InstallError}}(isolate, webassembly, f-\/>RuntimeError\_string(),}
\DoxyCodeLine{3578                  Context::WASM\_RUNTIME\_ERROR\_FUNCTION\_INDEX);}
\DoxyCodeLine{3579   \}}
\DoxyCodeLine{3580 \}}

\end{DoxyCode}


References CHECK, v8\+::internal\+::\+DONT\+\_\+\+ENUM, v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::libvtune\+::function\+\_\+map, v8\+::internal\+::\+Isolate\+::global\+\_\+object(), v8\+::internal\+::compiler\+::initial\+\_\+map, v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Constructor\+Func(), v8\+::internal\+::\+Install\+Error(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Func(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Getter(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Getter\+Setter(), v8\+::internal\+::k\+Dont\+Adapt, v8\+::k\+Has\+No\+Side\+Effect, v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Wasm\+Exception\+Tag\+Signature, v8\+::internal\+::native\+\_\+context, v8\+::internal\+::anonymous\+\_\+namespace\{intl-\/objects.\+cc\}\+::\+New(), v8\+::internal\+::\+Factory\+::\+New\+JSObject(), v8\+::internal\+::\+Factory\+::\+New\+Shared\+Function\+Info\+For\+Builtin(), v8\+::internal\+::\+NONE, v8\+::internal\+::\+READ\+\_\+\+ONLY, v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Set\+Dummy\+Instance\+Template(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Setup\+Constructor(), v8\+::internal\+::\+Tagged(), and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::v8\+\_\+str().



Referenced by v8\+::internal\+::\+Genesis\+::\+Genesis().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_ad9d30fdd56a8c38868338f9635ca9be9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1WasmJs_ad9d30fdd56a8c38868338f9635ca9be9_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-js_8h}{wasm-\/js.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-js_8cc}{wasm-\/js.\+cc}}\end{DoxyCompactItemize}
