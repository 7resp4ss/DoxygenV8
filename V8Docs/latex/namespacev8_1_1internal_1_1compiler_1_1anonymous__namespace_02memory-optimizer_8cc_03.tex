\hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03}{}\doxysection{v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{memory-\/optimizer.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03}\index{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a170998c6aa06c355e58dbf9db344f964}{Can\+Allocate}} (const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a4965c9e772ba587d54121adc38264922}{Search\+Allocating\+Node}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$start, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$limit, \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$temp\+\_\+zone)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a3540a07adeb985bf5a29d58cf2fc6e34}{Can\+Loop\+Allocate}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$loop\+\_\+effect\+\_\+phi, \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$temp\+\_\+zone)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a66c8ad1bc0b7a54b92961e31bee2065b}{Effect\+Phi\+For\+Phi}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$phi)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a9cc8779ecd4dcd67310b5021bd3bec44}{Write\+Barrier\+Assert\+Failed}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$object, const char $\ast$\mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}}, \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$temp\+\_\+zone)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a170998c6aa06c355e58dbf9db344f964}\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a170998c6aa06c355e58dbf9db344f964}} 
\index{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}!CanAllocate@{CanAllocate}}
\index{CanAllocate@{CanAllocate}!v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{CanAllocate()}{CanAllocate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{memory-\/optimizer.\+cc\}\+::Can\+Allocate (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})}



Definition at line 22 of file memory-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{22                                    \{}
\DoxyCodeLine{23   \textcolor{keywordflow}{switch} (node-\/>opcode()) \{}
\DoxyCodeLine{24     \textcolor{keywordflow}{case} IrOpcode::kAbortCSADcheck:}
\DoxyCodeLine{25     \textcolor{keywordflow}{case} IrOpcode::kBitcastTaggedToWord:}
\DoxyCodeLine{26     \textcolor{keywordflow}{case} IrOpcode::kBitcastWordToTagged:}
\DoxyCodeLine{27     \textcolor{keywordflow}{case} IrOpcode::kCheckTurboshaftTypeOf:}
\DoxyCodeLine{28     \textcolor{keywordflow}{case} IrOpcode::kComment:}
\DoxyCodeLine{29     \textcolor{keywordflow}{case} IrOpcode::kDebugBreak:}
\DoxyCodeLine{30     \textcolor{keywordflow}{case} IrOpcode::kDeoptimizeIf:}
\DoxyCodeLine{31     \textcolor{keywordflow}{case} IrOpcode::kDeoptimizeUnless:}
\DoxyCodeLine{32     \textcolor{keywordflow}{case} IrOpcode::kEffectPhi:}
\DoxyCodeLine{33     \textcolor{keywordflow}{case} IrOpcode::kIfException:}
\DoxyCodeLine{34     \textcolor{keywordflow}{case} IrOpcode::kLoad:}
\DoxyCodeLine{35     \textcolor{keywordflow}{case} IrOpcode::kLoadImmutable:}
\DoxyCodeLine{36     \textcolor{keywordflow}{case} IrOpcode::kLoadElement:}
\DoxyCodeLine{37     \textcolor{keywordflow}{case} IrOpcode::kLoadField:}
\DoxyCodeLine{38     \textcolor{keywordflow}{case} IrOpcode::kLoadFromObject:}
\DoxyCodeLine{39     \textcolor{keywordflow}{case} IrOpcode::kLoadImmutableFromObject:}
\DoxyCodeLine{40     \textcolor{keywordflow}{case} IrOpcode::kMemoryBarrier:}
\DoxyCodeLine{41     \textcolor{keywordflow}{case} IrOpcode::kProtectedLoad:}
\DoxyCodeLine{42     \textcolor{keywordflow}{case} IrOpcode::kLoadTrapOnNull:}
\DoxyCodeLine{43     \textcolor{keywordflow}{case} IrOpcode::kProtectedStore:}
\DoxyCodeLine{44     \textcolor{keywordflow}{case} IrOpcode::kStoreTrapOnNull:}
\DoxyCodeLine{45     \textcolor{keywordflow}{case} IrOpcode::kRetain:}
\DoxyCodeLine{46     \textcolor{keywordflow}{case} IrOpcode::kStackPointerGreaterThan:}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{48     \textcolor{keywordflow}{case} IrOpcode::kLoadLane:}
\DoxyCodeLine{49     \textcolor{keywordflow}{case} IrOpcode::kLoadTransform:}
\DoxyCodeLine{50     \textcolor{keywordflow}{case} IrOpcode::kStoreLane:}
\DoxyCodeLine{51     \textcolor{keywordflow}{case} IrOpcode::kLoadStackPointer:}
\DoxyCodeLine{52     \textcolor{keywordflow}{case} IrOpcode::kSetStackPointer:}
\DoxyCodeLine{53 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{54     \textcolor{keywordflow}{case} IrOpcode::kStaticAssert:}
\DoxyCodeLine{55     \textcolor{comment}{// TODO(turbofan): Store nodes might do a bump-\/pointer allocation.}}
\DoxyCodeLine{56     \textcolor{comment}{//              We should introduce a special bump-\/pointer store node to}}
\DoxyCodeLine{57     \textcolor{comment}{//              differentiate that.}}
\DoxyCodeLine{58     \textcolor{keywordflow}{case} IrOpcode::kStore:}
\DoxyCodeLine{59     \textcolor{keywordflow}{case} IrOpcode::kStoreElement:}
\DoxyCodeLine{60     \textcolor{keywordflow}{case} IrOpcode::kStoreField:}
\DoxyCodeLine{61     \textcolor{keywordflow}{case} IrOpcode::kStoreToObject:}
\DoxyCodeLine{62     \textcolor{keywordflow}{case} IrOpcode::kTraceInstruction:}
\DoxyCodeLine{63     \textcolor{keywordflow}{case} IrOpcode::kInitializeImmutableInObject:}
\DoxyCodeLine{64     \textcolor{keywordflow}{case} IrOpcode::kTrapIf:}
\DoxyCodeLine{65     \textcolor{keywordflow}{case} IrOpcode::kTrapUnless:}
\DoxyCodeLine{66     \textcolor{keywordflow}{case} IrOpcode::kUnalignedLoad:}
\DoxyCodeLine{67     \textcolor{keywordflow}{case} IrOpcode::kUnalignedStore:}
\DoxyCodeLine{68     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a5cfb0012e61e1f64d8d6fbb154b0f7a9a76859ec6bec05f96d425db2a8bdf0567}{IrOpcode::kUnreachable}}:}
\DoxyCodeLine{69     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicAdd:}
\DoxyCodeLine{70     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicAnd:}
\DoxyCodeLine{71     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicCompareExchange:}
\DoxyCodeLine{72     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicExchange:}
\DoxyCodeLine{73     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicLoad:}
\DoxyCodeLine{74     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicOr:}
\DoxyCodeLine{75     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicPairAdd:}
\DoxyCodeLine{76     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicPairAnd:}
\DoxyCodeLine{77     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicPairCompareExchange:}
\DoxyCodeLine{78     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicPairExchange:}
\DoxyCodeLine{79     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicPairLoad:}
\DoxyCodeLine{80     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicPairOr:}
\DoxyCodeLine{81     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicPairStore:}
\DoxyCodeLine{82     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicPairSub:}
\DoxyCodeLine{83     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicPairXor:}
\DoxyCodeLine{84     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicStore:}
\DoxyCodeLine{85     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicSub:}
\DoxyCodeLine{86     \textcolor{keywordflow}{case} IrOpcode::kWord32AtomicXor:}
\DoxyCodeLine{87     \textcolor{keywordflow}{case} IrOpcode::kWord64AtomicAdd:}
\DoxyCodeLine{88     \textcolor{keywordflow}{case} IrOpcode::kWord64AtomicAnd:}
\DoxyCodeLine{89     \textcolor{keywordflow}{case} IrOpcode::kWord64AtomicCompareExchange:}
\DoxyCodeLine{90     \textcolor{keywordflow}{case} IrOpcode::kWord64AtomicExchange:}
\DoxyCodeLine{91     \textcolor{keywordflow}{case} IrOpcode::kWord64AtomicLoad:}
\DoxyCodeLine{92     \textcolor{keywordflow}{case} IrOpcode::kWord64AtomicOr:}
\DoxyCodeLine{93     \textcolor{keywordflow}{case} IrOpcode::kWord64AtomicStore:}
\DoxyCodeLine{94     \textcolor{keywordflow}{case} IrOpcode::kWord64AtomicSub:}
\DoxyCodeLine{95     \textcolor{keywordflow}{case} IrOpcode::kWord64AtomicXor:}
\DoxyCodeLine{96       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{97 }
\DoxyCodeLine{98     \textcolor{keywordflow}{case} IrOpcode::kCall:}
\DoxyCodeLine{99       \textcolor{keywordflow}{return} !(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a4fc674ae8591498c40e11ca25f992b3e}{CallDescriptorOf}}(node-\/>op())-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1CallDescriptor_ab94bf23bf7230e01533c130eafe76493}{flags}}() \&}
\DoxyCodeLine{100                CallDescriptor::kNoAllocate);}
\DoxyCodeLine{101     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{102       \textcolor{keywordflow}{break};}
\DoxyCodeLine{103   \}}
\DoxyCodeLine{104   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{105 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Call\+Descriptor\+Of(), v8\+::internal\+::compiler\+::\+Call\+Descriptor\+::flags(), v8\+::internal\+::compiler\+::\+Call\+Descriptor\+::k\+No\+Allocate, v8\+::internal\+::wasm\+::k\+Unreachable, v8\+::internal\+::compiler\+::\+Node\+::op(), and v8\+::internal\+::compiler\+::\+Node\+::opcode().



Referenced by v8\+::internal\+::\+Free\+List\+Category\+::\+Pick\+Node\+From\+List(), Search\+Allocating\+Node(), v8\+::internal\+::\+Free\+List\+Category\+::\+Search\+For\+Node\+In\+List(), and v8\+::internal\+::compiler\+::\+Memory\+Optimizer\+::\+Visit\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a170998c6aa06c355e58dbf9db344f964_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a170998c6aa06c355e58dbf9db344f964_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a3540a07adeb985bf5a29d58cf2fc6e34}\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a3540a07adeb985bf5a29d58cf2fc6e34}} 
\index{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}!CanLoopAllocate@{CanLoopAllocate}}
\index{CanLoopAllocate@{CanLoopAllocate}!v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{CanLoopAllocate()}{CanLoopAllocate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{memory-\/optimizer.\+cc\}\+::Can\+Loop\+Allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{loop\+\_\+effect\+\_\+phi,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{temp\+\_\+zone }\end{DoxyParamCaption})}



Definition at line 131 of file memory-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{131                                                              \{}
\DoxyCodeLine{132   Node* \textcolor{keyword}{const} control = NodeProperties::GetControlInput(loop\_effect\_phi);}
\DoxyCodeLine{133   \textcolor{comment}{// Start the effect chain walk from the loop back edges.}}
\DoxyCodeLine{134   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 1; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < control-\/>InputCount(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{135     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a4965c9e772ba587d54121adc38264922}{SearchAllocatingNode}}(loop\_effect\_phi-\/>InputAt(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), loop\_effect\_phi,}
\DoxyCodeLine{136                              temp\_zone) != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{137       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{138     \}}
\DoxyCodeLine{139   \}}
\DoxyCodeLine{140   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{141 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Node\+Properties\+::\+Get\+Control\+Input(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::compiler\+::\+Node\+::\+Input\+At(), v8\+::internal\+::compiler\+::\+Node\+::\+Input\+Count(), and Search\+Allocating\+Node().



Referenced by v8\+::internal\+::compiler\+::\+Memory\+Optimizer\+::\+Enqueue\+Merge().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a3540a07adeb985bf5a29d58cf2fc6e34_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a3540a07adeb985bf5a29d58cf2fc6e34_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a66c8ad1bc0b7a54b92961e31bee2065b}\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a66c8ad1bc0b7a54b92961e31bee2065b}} 
\index{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}!EffectPhiForPhi@{EffectPhiForPhi}}
\index{EffectPhiForPhi@{EffectPhiForPhi}!v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{EffectPhiForPhi()}{EffectPhiForPhi()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}}$\ast$ v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{memory-\/optimizer.\+cc\}\+::Effect\+Phi\+For\+Phi (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{phi }\end{DoxyParamCaption})}



Definition at line 143 of file memory-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{143                                  \{}
\DoxyCodeLine{144   Node* control = NodeProperties::GetControlInput(phi);}
\DoxyCodeLine{145   \textcolor{keywordflow}{for} (Node* \mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}} : control-\/>uses()) \{}
\DoxyCodeLine{146     \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}}-\/>opcode() == IrOpcode::kEffectPhi) \{}
\DoxyCodeLine{147       \textcolor{keywordflow}{return} \mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}};}
\DoxyCodeLine{148     \}}
\DoxyCodeLine{149   \}}
\DoxyCodeLine{150   \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{151 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Node\+Properties\+::\+Get\+Control\+Input(), use(), and v8\+::internal\+::compiler\+::\+Node\+::uses().



Referenced by Write\+Barrier\+Assert\+Failed().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a66c8ad1bc0b7a54b92961e31bee2065b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a66c8ad1bc0b7a54b92961e31bee2065b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a4965c9e772ba587d54121adc38264922}\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a4965c9e772ba587d54121adc38264922}} 
\index{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}!SearchAllocatingNode@{SearchAllocatingNode}}
\index{SearchAllocatingNode@{SearchAllocatingNode}!v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SearchAllocatingNode()}{SearchAllocatingNode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}}$\ast$ v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{memory-\/optimizer.\+cc\}\+::Search\+Allocating\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{start,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{limit,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{temp\+\_\+zone }\end{DoxyParamCaption})}



Definition at line 107 of file memory-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{107                                                                       \{}
\DoxyCodeLine{108   ZoneQueue<Node*> queue(temp\_zone);}
\DoxyCodeLine{109   ZoneSet<Node*> visited(temp\_zone);}
\DoxyCodeLine{110   visited.insert(limit);}
\DoxyCodeLine{111   queue.push(start);}
\DoxyCodeLine{112 }
\DoxyCodeLine{113   \textcolor{keywordflow}{while} (!queue.empty()) \{}
\DoxyCodeLine{114     Node* \textcolor{keyword}{const} current = queue.front();}
\DoxyCodeLine{115     queue.pop();}
\DoxyCodeLine{116     \textcolor{keywordflow}{if} (visited.find(current) == visited.end()) \{}
\DoxyCodeLine{117       visited.insert(current);}
\DoxyCodeLine{118 }
\DoxyCodeLine{119       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a170998c6aa06c355e58dbf9db344f964}{CanAllocate}}(current)) \{}
\DoxyCodeLine{120         \textcolor{keywordflow}{return} current;}
\DoxyCodeLine{121       \}}
\DoxyCodeLine{122 }
\DoxyCodeLine{123       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < current-\/>op()-\/>EffectInputCount(); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{124         queue.push(NodeProperties::GetEffectInput(current, \mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{125       \}}
\DoxyCodeLine{126     \}}
\DoxyCodeLine{127   \}}
\DoxyCodeLine{128   \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{129 \}}

\end{DoxyCode}


References Can\+Allocate(), v8\+::internal\+::compiler\+::\+Node\+Properties\+::\+Get\+Effect\+Input(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, and v8\+::internal\+::compiler\+::\+Node\+::op().



Referenced by Can\+Loop\+Allocate(), and Write\+Barrier\+Assert\+Failed().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a4965c9e772ba587d54121adc38264922_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a4965c9e772ba587d54121adc38264922_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a9cc8779ecd4dcd67310b5021bd3bec44}\label{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a9cc8779ecd4dcd67310b5021bd3bec44}} 
\index{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}!WriteBarrierAssertFailed@{WriteBarrierAssertFailed}}
\index{WriteBarrierAssertFailed@{WriteBarrierAssertFailed}!v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}@{v8::internal::compiler::anonymous\_namespace\lcurly{}memory-\/optimizer.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WriteBarrierAssertFailed()}{WriteBarrierAssertFailed()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{memory-\/optimizer.\+cc\}\+::Write\+Barrier\+Assert\+Failed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{object,  }\item[{const char $\ast$}]{name,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{temp\+\_\+zone }\end{DoxyParamCaption})}



Definition at line 153 of file memory-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{154                                                \{}
\DoxyCodeLine{155   std::stringstream str;}
\DoxyCodeLine{156   str << \textcolor{stringliteral}{"{}MemoryOptimizer could not remove write barrier for node \#"{}}}
\DoxyCodeLine{157       << node-\/>id() << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{158   str << \textcolor{stringliteral}{"{}  Run mksnapshot with -\/-\/csa-\/trap-\/on-\/node="{}} << \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}} << \textcolor{stringliteral}{"{},"{}}}
\DoxyCodeLine{159       << node-\/>id() << \textcolor{stringliteral}{"{} to break in CSA code.\(\backslash\)n"{}};}
\DoxyCodeLine{160   Node* object\_position = object;}
\DoxyCodeLine{161   \textcolor{keywordflow}{if} (object\_position-\/>opcode() == IrOpcode::kPhi) \{}
\DoxyCodeLine{162     object\_position = \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a66c8ad1bc0b7a54b92961e31bee2065b}{EffectPhiForPhi}}(object\_position);}
\DoxyCodeLine{163   \}}
\DoxyCodeLine{164   Node* allocating\_node = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{165   \textcolor{keywordflow}{if} (object\_position \&\& object\_position-\/>op()-\/>EffectOutputCount() > 0) \{}
\DoxyCodeLine{166     allocating\_node = \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a4965c9e772ba587d54121adc38264922}{SearchAllocatingNode}}(node, object\_position, temp\_zone);}
\DoxyCodeLine{167   \}}
\DoxyCodeLine{168   \textcolor{keywordflow}{if} (allocating\_node) \{}
\DoxyCodeLine{169     str << \textcolor{stringliteral}{"{}\(\backslash\)n  There is a potentially allocating node in between:\(\backslash\)n"{}};}
\DoxyCodeLine{170     str << \textcolor{stringliteral}{"{}    "{}} << *allocating\_node << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{171     str << \textcolor{stringliteral}{"{}  Run mksnapshot with -\/-\/csa-\/trap-\/on-\/node="{}} << \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}} << \textcolor{stringliteral}{"{},"{}}}
\DoxyCodeLine{172         << allocating\_node-\/>id() << \textcolor{stringliteral}{"{} to break there.\(\backslash\)n"{}};}
\DoxyCodeLine{173     \textcolor{keywordflow}{if} (allocating\_node-\/>opcode() == IrOpcode::kCall) \{}
\DoxyCodeLine{174       str << \textcolor{stringliteral}{"{}  If this is a never-\/allocating runtime call, you can add an "{}}}
\DoxyCodeLine{175              \textcolor{stringliteral}{"{}exception to Runtime::MayAllocate.\(\backslash\)n"{}};}
\DoxyCodeLine{176     \}}
\DoxyCodeLine{177   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{178     str << \textcolor{stringliteral}{"{}\(\backslash\)n  It seems the store happened to something different than a "{}}}
\DoxyCodeLine{179            \textcolor{stringliteral}{"{}direct "{}}}
\DoxyCodeLine{180            \textcolor{stringliteral}{"{}allocation:\(\backslash\)n"{}};}
\DoxyCodeLine{181     str << \textcolor{stringliteral}{"{}    "{}} << *\textcolor{keywordtype}{object} << \textcolor{stringliteral}{"{}\(\backslash\)n"{}};}
\DoxyCodeLine{182     str << \textcolor{stringliteral}{"{}  Run mksnapshot with -\/-\/csa-\/trap-\/on-\/node="{}} << \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}} << \textcolor{stringliteral}{"{},"{}}}
\DoxyCodeLine{183         << \textcolor{keywordtype}{object}-\/>id() << \textcolor{stringliteral}{"{} to break there.\(\backslash\)n"{}};}
\DoxyCodeLine{184   \}}
\DoxyCodeLine{185   \mbox{\hyperlink{src_2base_2logging_8h_a0d093cb749cfc7ab5993726392df681f}{FATAL}}(\textcolor{stringliteral}{"{}\%s"{}}, str.str().c\_str());}
\DoxyCodeLine{186 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Operator\+::\+Effect\+Output\+Count(), Effect\+Phi\+For\+Phi(), FATAL, v8\+::internal\+::compiler\+::\+Node\+::id(), v8\+::internal\+::name, v8\+::internal\+::compiler\+::\+Node\+::op(), v8\+::internal\+::compiler\+::\+Node\+::opcode(), and Search\+Allocating\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02memory-optimizer_8cc_03_a9cc8779ecd4dcd67310b5021bd3bec44_cgraph}
\end{center}
\end{figure}
