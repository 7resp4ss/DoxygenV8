\hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor}{}\doxysection{v8\+::internal\+::wasm\+::Async\+Streaming\+Processor Class Reference}
\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor}\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}


Inheritance diagram for v8\+::internal\+::wasm\+::Async\+Streaming\+Processor\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::wasm\+::Async\+Streaming\+Processor\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a9da068ebd21214867da972e51689bee5}{Async\+Streaming\+Processor}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob}{Async\+Compile\+Job}} $\ast$job)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aee9a0b6fb579488ab89cc95ea9e6caef}{Process\+Module\+Header}} (\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ bytes) override
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aac7514bd78200ea2d33761023d266de4}{Process\+Section}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a42a2fc870f8946e6ffe986e629a5693b}{Section\+Code}} section\+\_\+code, \mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ bytes, uint32\+\_\+t offset) override
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a707cf5b73e892c3ddd7b74cef826c429}{Process\+Code\+Section\+Header}} (\mbox{\hyperlink{classint}{int}} num\+\_\+functions, uint32\+\_\+t functions\+\_\+mismatch\+\_\+error\+\_\+offset, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WireBytesStorage}{Wire\+Bytes\+Storage}} $>$, \mbox{\hyperlink{classint}{int}} code\+\_\+section\+\_\+start, \mbox{\hyperlink{classint}{int}} code\+\_\+section\+\_\+length) override
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aa26940dbb1434275daab70cdf12e8326}{Process\+Function\+Body}} (\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ bytes, uint32\+\_\+t offset) override
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a19842d57ed6e47f88fc3ccb57cd43619}{On\+Finished\+Chunk}} () override
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a1299b61f757fe2cfa5ec698e755650e0}{On\+Finished\+Stream}} (\mbox{\hyperlink{classv8_1_1base_1_1OwnedVector}{base\+::\+Owned\+Vector}}$<$ const uint8\+\_\+t $>$ bytes, \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} after\+\_\+error) override
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a807224ecf5ba4eaf8434dea9b99a78a8}{On\+Abort}} () override
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac33024dbe8bff894aec911642a350dc6}{Deserialize}} (\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ wire\+\_\+bytes, \mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ module\+\_\+bytes) override
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ae4c1a9be1a289f121f11888233dc2065}{Commit\+Compilation\+Units}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder}{Module\+Decoder}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob}{Async\+Compile\+Job}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\+\_\+}}
\item 
std\+::unique\+\_\+ptr$<$ Compilation\+Unit\+Builder $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}{compilation\+\_\+unit\+\_\+builder\+\_\+}}
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac67a8f7664b800ae0d94e1bb983cbae3}{num\+\_\+functions\+\_\+}} = 0
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aef24faaab0279a141c00469c1e66b617}{prefix\+\_\+cache\+\_\+hit\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a41aab3efc6dfb1d49db122d8d43176f6}{before\+\_\+code\+\_\+section\+\_\+}} = \mbox{\hyperlink{namespacev8_1_1internal_a7f5302a7c7fd292ffd4a5f9758bd3686}{true}}
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData}{Validate\+Functions\+Streaming\+Job\+Data}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_abd92e250972b00568ca25570a16ab1f1}{validate\+\_\+functions\+\_\+job\+\_\+data\+\_\+}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}{validate\+\_\+functions\+\_\+job\+\_\+handle\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Hasher}{base\+::\+Hasher}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a51402d2262d54931c0b503f9c652f89f}{prefix\+\_\+hasher\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 2618 of file module-\/compiler.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a9da068ebd21214867da972e51689bee5}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a9da068ebd21214867da972e51689bee5}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!AsyncStreamingProcessor@{AsyncStreamingProcessor}}
\index{AsyncStreamingProcessor@{AsyncStreamingProcessor}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{AsyncStreamingProcessor()}{AsyncStreamingProcessor()}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+Async\+Streaming\+Processor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob}{Async\+Compile\+Job}} $\ast$}]{job }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Definition at line 3227 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3228     : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}(job-\/>enabled\_features\_, \&job-\/>detected\_features\_),}
\DoxyCodeLine{3229       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}(job),}
\DoxyCodeLine{3230       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}{compilation\_unit\_builder\_}}(\textcolor{keyword}{nullptr}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ae4c1a9be1a289f121f11888233dc2065}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ae4c1a9be1a289f121f11888233dc2065}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!CommitCompilationUnits@{CommitCompilationUnits}}
\index{CommitCompilationUnits@{CommitCompilationUnits}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{CommitCompilationUnits()}{CommitCompilationUnits()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+Commit\+Compilation\+Units (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 3376 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3376                                                      \{}
\DoxyCodeLine{3377   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}{compilation\_unit\_builder\_}});}
\DoxyCodeLine{3378   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}{compilation\_unit\_builder\_}}-\/>Commit();}
\DoxyCodeLine{3379 \}}

\end{DoxyCode}


References compilation\+\_\+unit\+\_\+builder\+\_\+, and v8\+::internal\+::\+DCHECK().



Referenced by On\+Finished\+Chunk(), and Process\+Section().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ae4c1a9be1a289f121f11888233dc2065_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ae4c1a9be1a289f121f11888233dc2065_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac33024dbe8bff894aec911642a350dc6}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac33024dbe8bff894aec911642a350dc6}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!Deserialize@{Deserialize}}
\index{Deserialize@{Deserialize}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{Deserialize()}{Deserialize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+Deserialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$}]{wire\+\_\+bytes,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$}]{module\+\_\+bytes }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1StreamingProcessor_a7c2f593b58036ef64f0164f6f9457938}{v8\+::internal\+::wasm\+::\+Streaming\+Processor}}.



Definition at line 3535 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3537                                           \{}
\DoxyCodeLine{3538   \mbox{\hyperlink{trace-event-no-perfetto_8h_a3feabb76c0ac2918798bc11ab55c6a79}{TRACE\_EVENT0}}(\textcolor{stringliteral}{"{}v8.wasm"{}}, \textcolor{stringliteral}{"{}wasm.Deserialize"{}});}
\DoxyCodeLine{3539   std::optional<TimedHistogramScope> time\_scope;}
\DoxyCodeLine{3540   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_acdd9f8482c321164c58f46bc65372c9b}{base::TimeTicks::IsHighResolution}}()) \{}
\DoxyCodeLine{3541     time\_scope.emplace(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a63b00b6733c1470d1ab5d592880bce73}{isolate}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a9690b82e4f9b4c8a9160630396cde0b3}{counters}}()-\/>wasm\_deserialization\_time(),}
\DoxyCodeLine{3542                        \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a63b00b6733c1470d1ab5d592880bce73}{isolate}}());}
\DoxyCodeLine{3543   \}}
\DoxyCodeLine{3544   \textcolor{comment}{// DeserializeNativeModule and FinishCompile assume that they are executed in}}
\DoxyCodeLine{3545   \textcolor{comment}{// a HandleScope, and that a context is set on the isolate.}}
\DoxyCodeLine{3546   HandleScope scope(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5770958190200f2689b976a6a38ed15b}{isolate\_}});}
\DoxyCodeLine{3547   SaveAndSwitchContext saved\_context(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5770958190200f2689b976a6a38ed15b}{isolate\_}}, *\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a64f04fcf6cdb5b478e9aa48809ae9566}{native\_context\_}});}
\DoxyCodeLine{3548 }
\DoxyCodeLine{3549   MaybeDirectHandle<WasmModuleObject> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a9185844f778e363e0f879498161aab47}{DeserializeNativeModule}}(}
\DoxyCodeLine{3550       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5770958190200f2689b976a6a38ed15b}{isolate\_}}, module\_bytes, wire\_bytes, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a035c432ed94d826d1746c7d879003dc4}{compile\_imports\_}},}
\DoxyCodeLine{3551       \mbox{\hyperlink{namespacev8_1_1base_a5bfc65f27076e49eb7752a4fb4d45acb}{base::VectorOf}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a793199d0fbb4820d9397652ca4ff8be9}{stream\_}}-\/>url()));}
\DoxyCodeLine{3552 }
\DoxyCodeLine{3553   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.is\_null()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3554 }
\DoxyCodeLine{3555   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a3baacc156ce42c61fa72fefff5552930}{module\_object\_}} =}
\DoxyCodeLine{3556       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5770958190200f2689b976a6a38ed15b}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a2714e74bceacf9555c6a02745a0319e2}{global\_handles}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1GlobalHandles_a486c475da54faf1fe78e4752ed20e23c}{Create}}(*\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.ToHandleChecked());}
\DoxyCodeLine{3557   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a3baacc156ce42c61fa72fefff5552930}{module\_object\_}}-\/>shared\_native\_module();}
\DoxyCodeLine{3558   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_af6b76f3ffe061364d7d7b2e2b2090e5b}{wire\_bytes\_}} = ModuleWireBytes(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}-\/>wire\_bytes());}
\DoxyCodeLine{3559   \textcolor{comment}{// Calling \{FinishCompile\} deletes the \{AsyncCompileJob\} and \{this\}.}}
\DoxyCodeLine{3560   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a2136db2ee2be12a3efaca49297536eb1}{FinishCompile}}(\textcolor{keyword}{false});}
\DoxyCodeLine{3561   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3562 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::compile\+\_\+imports\+\_\+, v8\+::internal\+::\+Isolate\+::counters(), v8\+::internal\+::\+Global\+Handles\+::\+Create(), v8\+::internal\+::wasm\+::\+Deserialize\+Native\+Module(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Finish\+Compile(), v8\+::internal\+::\+Isolate\+::global\+\_\+handles(), v8\+::base\+::\+Time\+Ticks\+::\+Is\+High\+Resolution(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::isolate(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::isolate\+\_\+, job\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::module\+\_\+object\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::native\+\_\+context\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::native\+\_\+module\+\_\+, v8\+::base\+::internal\+::result, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::stream\+\_\+, TRACE\+\_\+\+EVENT0, v8\+::base\+::\+Vector\+Of(), and v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::wire\+\_\+bytes\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac33024dbe8bff894aec911642a350dc6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a807224ecf5ba4eaf8434dea9b99a78a8}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a807224ecf5ba4eaf8434dea9b99a78a8}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!OnAbort@{OnAbort}}
\index{OnAbort@{OnAbort}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{OnAbort()}{OnAbort()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+On\+Abort (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1StreamingProcessor_af11adece44483b8191cd1c8feb616224}{v8\+::internal\+::wasm\+::\+Streaming\+Processor}}.



Definition at line 3520 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3520                                       \{}
\DoxyCodeLine{3521   \mbox{\hyperlink{module-compiler_8cc_ad0e56b939512b07a9f4022e490043302}{TRACE\_STREAMING}}(\textcolor{stringliteral}{"{}Abort stream...\(\backslash\)n"{}});}
\DoxyCodeLine{3522   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}{validate\_functions\_job\_handle\_}}) \{}
\DoxyCodeLine{3523     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}{validate\_functions\_job\_handle\_}}-\/>Cancel();}
\DoxyCodeLine{3524     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}{validate\_functions\_job\_handle\_}}.reset();}
\DoxyCodeLine{3525   \}}
\DoxyCodeLine{3526   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}} \&\& \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}-\/>wire\_bytes().empty()) \{}
\DoxyCodeLine{3527     \textcolor{comment}{// Clean up the temporary cache entry.}}
\DoxyCodeLine{3528     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_a9df42171758a2a5af30388a2b7e97de8}{StreamingCompilationFailed}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a51402d2262d54931c0b503f9c652f89f}{prefix\_hasher\_}}.\mbox{\hyperlink{classv8_1_1base_1_1Hasher_a70be1a634ad5c9c0d93ac9ead95ff163}{hash}}(),}
\DoxyCodeLine{3529                                                 \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a035c432ed94d826d1746c7d879003dc4}{compile\_imports\_}});}
\DoxyCodeLine{3530   \}}
\DoxyCodeLine{3531   \textcolor{comment}{// \{Abort\} invalidates the \{AsyncCompileJob\}, which in turn deletes \{this\}.}}
\DoxyCodeLine{3532   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a1969624508b5f667f28f0bb9ff9dfb1a}{Abort}}();}
\DoxyCodeLine{3533 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Abort(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::compile\+\_\+imports\+\_\+, v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::base\+::\+Hasher\+::hash(), job\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::native\+\_\+module\+\_\+, prefix\+\_\+hasher\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Streaming\+Compilation\+Failed(), TRACE\+\_\+\+STREAMING, and validate\+\_\+functions\+\_\+job\+\_\+handle\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a807224ecf5ba4eaf8434dea9b99a78a8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a19842d57ed6e47f88fc3ccb57cd43619}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a19842d57ed6e47f88fc3ccb57cd43619}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!OnFinishedChunk@{OnFinishedChunk}}
\index{OnFinishedChunk@{OnFinishedChunk}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{OnFinishedChunk()}{OnFinishedChunk()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+On\+Finished\+Chunk (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1StreamingProcessor_a63c3c428516c2fd39f1f8ca7f3048868}{v8\+::internal\+::wasm\+::\+Streaming\+Processor}}.



Definition at line 3381 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3381                                               \{}
\DoxyCodeLine{3382   \mbox{\hyperlink{module-compiler_8cc_ad0e56b939512b07a9f4022e490043302}{TRACE\_STREAMING}}(\textcolor{stringliteral}{"{}FinishChunk...\(\backslash\)n"{}});}
\DoxyCodeLine{3383   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}{compilation\_unit\_builder\_}}) \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ae4c1a9be1a289f121f11888233dc2065}{CommitCompilationUnits}}();}
\DoxyCodeLine{3384 \}}

\end{DoxyCode}


References Commit\+Compilation\+Units(), compilation\+\_\+unit\+\_\+builder\+\_\+, and TRACE\+\_\+\+STREAMING.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a19842d57ed6e47f88fc3ccb57cd43619_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a1299b61f757fe2cfa5ec698e755650e0}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a1299b61f757fe2cfa5ec698e755650e0}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!OnFinishedStream@{OnFinishedStream}}
\index{OnFinishedStream@{OnFinishedStream}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{OnFinishedStream()}{OnFinishedStream()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+On\+Finished\+Stream (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1OwnedVector}{base\+::\+Owned\+Vector}}$<$ const uint8\+\_\+t $>$}]{bytes,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{after\+\_\+error }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1StreamingProcessor_ae99eaff389f3e7d76ee5bb888be8f312}{v8\+::internal\+::wasm\+::\+Streaming\+Processor}}.



Definition at line 3387 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3388                                                             \{}
\DoxyCodeLine{3389   \mbox{\hyperlink{module-compiler_8cc_ad0e56b939512b07a9f4022e490043302}{TRACE\_STREAMING}}(\textcolor{stringliteral}{"{}Finish stream...\(\backslash\)n"{}});}
\DoxyCodeLine{3390   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a24a40a897766a19d97d04ef9c02ea315}{ModuleResult}} module\_result = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_ab269c7b3c86924c81fcad654b3e3a446}{FinishDecoding}}();}
\DoxyCodeLine{3391   \textcolor{keywordflow}{if} (module\_result.failed()) after\_error = \textcolor{keyword}{true};}
\DoxyCodeLine{3392 }
\DoxyCodeLine{3393   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}{validate\_functions\_job\_handle\_}}) \{}
\DoxyCodeLine{3394     \textcolor{comment}{// Wait for background validation to finish, then check if a validation}}
\DoxyCodeLine{3395     \textcolor{comment}{// error was found.}}
\DoxyCodeLine{3396     \textcolor{comment}{// TODO(13447): Do not block here; register validation as another finisher}}
\DoxyCodeLine{3397     \textcolor{comment}{// instead.}}
\DoxyCodeLine{3398     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}{validate\_functions\_job\_handle\_}}-\/>Join();}
\DoxyCodeLine{3399     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}{validate\_functions\_job\_handle\_}}.reset();}
\DoxyCodeLine{3400     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_abd92e250972b00568ca25570a16ab1f1}{validate\_functions\_job\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a9cfdfc887c8e71d8e6f5e70352b372c2}{found\_error}}) after\_error = \textcolor{keyword}{true};}
\DoxyCodeLine{3401     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a4578e31793025cea1409125dcd09c0a9}{detected\_features\_}} |=}
\DoxyCodeLine{3402         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_abd92e250972b00568ca25570a16ab1f1}{validate\_functions\_job\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_ace23482eb9e8803b07a5f797fb9a0985}{detected\_features}}.load(}
\DoxyCodeLine{3403             std::memory\_order\_relaxed);}
\DoxyCodeLine{3404   \}}
\DoxyCodeLine{3405 }
\DoxyCodeLine{3406   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_af6b76f3ffe061364d7d7b2e2b2090e5b}{wire\_bytes\_}} = ModuleWireBytes(bytes.as\_vector());}
\DoxyCodeLine{3407   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_ae9267b6a79f50110f5e4a79b38d0678d}{bytes\_copy\_}} = std::move(bytes);}
\DoxyCodeLine{3408 }
\DoxyCodeLine{3409   \textcolor{keywordflow}{if} (!after\_error) \{}
\DoxyCodeLine{3410     WasmDetectedFeatures detected\_imports\_features;}
\DoxyCodeLine{3411     \textcolor{keywordflow}{if} (WasmError error = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a97644489c4ab86ae3156930153cd1b5e}{ValidateAndSetBuiltinImports}}(}
\DoxyCodeLine{3412             module\_result.value().get(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_af6b76f3ffe061364d7d7b2e2b2090e5b}{wire\_bytes\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ModuleWireBytes_af338b42016b3853f6809690916c09c04}{module\_bytes}}(),}
\DoxyCodeLine{3413             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a035c432ed94d826d1746c7d879003dc4}{compile\_imports\_}}, \&detected\_imports\_features)) \{}
\DoxyCodeLine{3414       after\_error = \textcolor{keyword}{true};}
\DoxyCodeLine{3415     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3416       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a4578e31793025cea1409125dcd09c0a9}{detected\_features\_}} |= detected\_imports\_features;}
\DoxyCodeLine{3417     \}}
\DoxyCodeLine{3418   \}}
\DoxyCodeLine{3419 }
\DoxyCodeLine{3420   \textcolor{comment}{// Record event metrics.}}
\DoxyCodeLine{3421   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_aae0d674c07aba6028b4ee683cb1e760d}{duration}} = \mbox{\hyperlink{classv8_1_1base_1_1TimeTicks_ab0886bf0e84f1e1fcdc101021c2c0775}{base::TimeTicks::Now}}() -\/ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_ab632923d90b8ad7e8d6b3bbb8e985a7f}{start\_time\_}};}
\DoxyCodeLine{3422   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_adc4f41e503922e7570bc5d1fbfc95bec}{metrics\_event\_}}.\mbox{\hyperlink{structv8_1_1metrics_1_1WasmModuleDecoded_a4cee86a201704ae118af2b1ca9ace654}{success}} = !after\_error;}
\DoxyCodeLine{3423   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_adc4f41e503922e7570bc5d1fbfc95bec}{metrics\_event\_}}.\mbox{\hyperlink{structv8_1_1metrics_1_1WasmModuleDecoded_a74b4fc4ae92e15fb9f6c73dbff7d9a16}{streamed}} = \textcolor{keyword}{true};}
\DoxyCodeLine{3424   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_adc4f41e503922e7570bc5d1fbfc95bec}{metrics\_event\_}}.\mbox{\hyperlink{structv8_1_1metrics_1_1WasmModuleDecoded_a0c885c3b1441ebec57f9287097d22c8a}{module\_size\_in\_bytes}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_af6b76f3ffe061364d7d7b2e2b2090e5b}{wire\_bytes\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ModuleWireBytes_a31e859ce9fbc3561f23d5411edd92c4b}{length}}();}
\DoxyCodeLine{3425   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_adc4f41e503922e7570bc5d1fbfc95bec}{metrics\_event\_}}.\mbox{\hyperlink{structv8_1_1metrics_1_1WasmModuleDecoded_a3a12992a55d6b19a482b62b19ca4897f}{function\_count}} = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac67a8f7664b800ae0d94e1bb983cbae3}{num\_functions\_}};}
\DoxyCodeLine{3426   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_adc4f41e503922e7570bc5d1fbfc95bec}{metrics\_event\_}}.\mbox{\hyperlink{structv8_1_1metrics_1_1WasmModuleDecoded_a6411b52c7ce98217b836614f6c3169e9}{wall\_clock\_duration\_in\_us}} = \mbox{\hyperlink{namespacev8_1_1internal_aae0d674c07aba6028b4ee683cb1e760d}{duration}}.InMicroseconds();}
\DoxyCodeLine{3427   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5770958190200f2689b976a6a38ed15b}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a1c72d1ac998da605895f5d4e29f3d43f}{metrics\_recorder}}()-\/>DelayMainThreadEvent(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_adc4f41e503922e7570bc5d1fbfc95bec}{metrics\_event\_}},}
\DoxyCodeLine{3428                                                            \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5d62877a0c3d97edb19bcefa2e452c57}{context\_id\_}});}
\DoxyCodeLine{3429 }
\DoxyCodeLine{3430   \textcolor{keywordflow}{if} (after\_error) \{}
\DoxyCodeLine{3431     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}} \&\& \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}-\/>wire\_bytes().empty()) \{}
\DoxyCodeLine{3432       \textcolor{comment}{// Clean up the temporary cache entry.}}
\DoxyCodeLine{3433       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_a9df42171758a2a5af30388a2b7e97de8}{StreamingCompilationFailed}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a51402d2262d54931c0b503f9c652f89f}{prefix\_hasher\_}}.\mbox{\hyperlink{classv8_1_1base_1_1Hasher_a70be1a634ad5c9c0d93ac9ead95ff163}{hash}}(),}
\DoxyCodeLine{3434                                                   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a035c432ed94d826d1746c7d879003dc4}{compile\_imports\_}});}
\DoxyCodeLine{3435     \}}
\DoxyCodeLine{3436     \textcolor{comment}{// Calling \{Failed\} will invalidate the \{AsyncCompileJob\} and delete \{this\}.}}
\DoxyCodeLine{3437     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a09dd6dc4ecfe89eba438d934fdc99b48}{Failed}}();}
\DoxyCodeLine{3438     \textcolor{keywordflow}{return};}
\DoxyCodeLine{3439   \}}
\DoxyCodeLine{3440 }
\DoxyCodeLine{3441   std::shared\_ptr<WasmModule> module = std::move(module\_result).value();}
\DoxyCodeLine{3442 }
\DoxyCodeLine{3443   \textcolor{comment}{// At this point we identified the module as valid (except maybe for function}}
\DoxyCodeLine{3444   \textcolor{comment}{// bodies, if lazy validation is enabled).}}
\DoxyCodeLine{3445   \textcolor{comment}{// This DCHECK could be considered slow, but it only happens once per async}}
\DoxyCodeLine{3446   \textcolor{comment}{// module compilation, and we only re-\/decode the module structure, without}}
\DoxyCodeLine{3447   \textcolor{comment}{// validating function bodies. Overall this does not add a lot of overhead.}}
\DoxyCodeLine{3448 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{3449   WasmDetectedFeatures detected\_module\_features;}
\DoxyCodeLine{3450   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a83ed1297167cba9f8c8971bacab69dbf}{DecodeWasmModule}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a1251219f828730c4c64d1b96b4e80973}{enabled\_features\_}},}
\DoxyCodeLine{3451                           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_ae9267b6a79f50110f5e4a79b38d0678d}{bytes\_copy\_}}.\mbox{\hyperlink{classv8_1_1base_1_1OwnedVector_a92493de71e39144915ee01fb717e1891}{as\_vector}}(),}
\DoxyCodeLine{3452                           \textcolor{comment}{/* validate functions */} \textcolor{keyword}{false}, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0}{kWasmOrigin}},}
\DoxyCodeLine{3453                           \&detected\_module\_features)}
\DoxyCodeLine{3454              .\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1Result_a084b2eb633d37457622cd4dc1cd2e506}{ok}}());}
\DoxyCodeLine{3455   \textcolor{comment}{// Module decoding should not detect any new features.}}
\DoxyCodeLine{3456   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a4578e31793025cea1409125dcd09c0a9}{detected\_features\_}}.\mbox{\hyperlink{classv8_1_1base_1_1EnumSet_a66b0696fe38f3541c9df3c5dc0e300f1}{contains\_all}}(detected\_module\_features));}
\DoxyCodeLine{3457 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{3458 }
\DoxyCodeLine{3459   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModuleCache_ac7e973c109cc4129f87b3cc3c775f10b}{NativeModuleCache::PrefixHash}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_af6b76f3ffe061364d7d7b2e2b2090e5b}{wire\_bytes\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ModuleWireBytes_af338b42016b3853f6809690916c09c04}{module\_bytes}}()),}
\DoxyCodeLine{3460             \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a51402d2262d54931c0b503f9c652f89f}{prefix\_hasher\_}}.\mbox{\hyperlink{classv8_1_1base_1_1Hasher_a70be1a634ad5c9c0d93ac9ead95ff163}{hash}}());}
\DoxyCodeLine{3461   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aef24faaab0279a141c00469c1e66b617}{prefix\_cache\_hit\_}}) \{}
\DoxyCodeLine{3462     \textcolor{comment}{// Restart as an asynchronous, non-\/streaming compilation. Most likely}}
\DoxyCodeLine{3463     \textcolor{comment}{// \{PrepareAndStartCompile\} will get the native module from the cache.}}
\DoxyCodeLine{3464     \textcolor{keywordtype}{size\_t} code\_size\_estimate =}
\DoxyCodeLine{3465         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5b6cfe5d63b1c5f3b54fdb34ed91c863}{wasm::WasmCodeManager::EstimateNativeModuleCodeSize}}(module.get());}
\DoxyCodeLine{3466     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_af40a1ad30e0fb57f80aa1d76af7bdc84}{DoSync}}<AsyncCompileJob::PrepareAndStartCompile>(}
\DoxyCodeLine{3467         std::move(module), \textcolor{keyword}{true} \textcolor{comment}{/* start\_compilation */},}
\DoxyCodeLine{3468         \textcolor{keyword}{false} \textcolor{comment}{/* lazy\_functions\_are\_validated\_ */}, code\_size\_estimate);}
\DoxyCodeLine{3469     \textcolor{keywordflow}{return};}
\DoxyCodeLine{3470   \}}
\DoxyCodeLine{3471 }
\DoxyCodeLine{3472   \textcolor{comment}{// We have to open a HandleScope and prepare the Context for}}
\DoxyCodeLine{3473   \textcolor{comment}{// CreateNativeModule, PrepareRuntimeObjects and FinishCompile as this is a}}
\DoxyCodeLine{3474   \textcolor{comment}{// callback from the embedder.}}
\DoxyCodeLine{3475   HandleScope scope(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5770958190200f2689b976a6a38ed15b}{isolate\_}});}
\DoxyCodeLine{3476   SaveAndSwitchContext saved\_context(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5770958190200f2689b976a6a38ed15b}{isolate\_}}, *\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a64f04fcf6cdb5b478e9aa48809ae9566}{native\_context\_}});}
\DoxyCodeLine{3477 }
\DoxyCodeLine{3478   \textcolor{comment}{// Record the size of the wire bytes and the number of functions. In}}
\DoxyCodeLine{3479   \textcolor{comment}{// synchronous and asynchronous (non-\/streaming) compilation, this happens in}}
\DoxyCodeLine{3480   \textcolor{comment}{// \{DecodeWasmModule\}.}}
\DoxyCodeLine{3481   \textcolor{keyword}{auto}* module\_size\_histogram =}
\DoxyCodeLine{3482       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5770958190200f2689b976a6a38ed15b}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a9690b82e4f9b4c8a9160630396cde0b3}{counters}}()-\/>wasm\_wasm\_module\_size\_bytes();}
\DoxyCodeLine{3483   module\_size\_histogram-\/>AddSample(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_af6b76f3ffe061364d7d7b2e2b2090e5b}{wire\_bytes\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ModuleWireBytes_af338b42016b3853f6809690916c09c04}{module\_bytes}}().\mbox{\hyperlink{classv8_1_1base_1_1Vector_a1eb4ed5d322a219428bdb9f9a2cb6708}{length}}());}
\DoxyCodeLine{3484   \textcolor{keyword}{auto}* num\_functions\_histogram =}
\DoxyCodeLine{3485       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5770958190200f2689b976a6a38ed15b}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a9690b82e4f9b4c8a9160630396cde0b3}{counters}}()-\/>wasm\_functions\_per\_wasm\_module();}
\DoxyCodeLine{3486   num\_functions\_histogram-\/>AddSample(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac67a8f7664b800ae0d94e1bb983cbae3}{num\_functions\_}}));}
\DoxyCodeLine{3487 }
\DoxyCodeLine{3488   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} has\_code\_section = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}} != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3489   \textcolor{keywordtype}{bool} cache\_hit = \textcolor{keyword}{false};}
\DoxyCodeLine{3490   \textcolor{keywordflow}{if} (!has\_code\_section) \{}
\DoxyCodeLine{3491     \textcolor{comment}{// We are processing a WebAssembly module without code section. Create the}}
\DoxyCodeLine{3492     \textcolor{comment}{// native module now (would otherwise happen in \{PrepareAndStartCompile\} or}}
\DoxyCodeLine{3493     \textcolor{comment}{// \{ProcessCodeSectionHeader\}).}}
\DoxyCodeLine{3494     constexpr \textcolor{keywordtype}{size\_t} kCodeSizeEstimate = 0;}
\DoxyCodeLine{3495     cache\_hit =}
\DoxyCodeLine{3496         \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_ad155f15fbc01d3537cbaf00b74c2f382}{GetOrCreateNativeModule}}(std::move(module), kCodeSizeEstimate);}
\DoxyCodeLine{3497   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3498     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}-\/>SetWireBytes(std::move(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_ae9267b6a79f50110f5e4a79b38d0678d}{bytes\_copy\_}}));}
\DoxyCodeLine{3499   \}}
\DoxyCodeLine{3500   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} needs\_finish = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a0f21c0af12e028ae3c120b03fbe2c835}{DecrementAndCheckFinisherCount}}();}
\DoxyCodeLine{3501   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(!has\_code\_section, needs\_finish);}
\DoxyCodeLine{3502   \textcolor{keywordflow}{if} (needs\_finish) \{}
\DoxyCodeLine{3503     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} failed = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}-\/>compilation\_state()-\/>failed();}
\DoxyCodeLine{3504     \textcolor{keywordflow}{if} (!cache\_hit) \{}
\DoxyCodeLine{3505       \textcolor{keyword}{auto}* prev\_native\_module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}.get();}
\DoxyCodeLine{3506       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_ae049eb40219a3e542bf2811e42ac1bb8}{UpdateNativeModuleCache}}(}
\DoxyCodeLine{3507           failed, std::move(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a5770958190200f2689b976a6a38ed15b}{isolate\_}});}
\DoxyCodeLine{3508       cache\_hit = prev\_native\_module != \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}.get();}
\DoxyCodeLine{3509     \}}
\DoxyCodeLine{3510     \textcolor{comment}{// We finally call \{Failed\} or \{FinishCompile\}, which will invalidate the}}
\DoxyCodeLine{3511     \textcolor{comment}{// \{AsyncCompileJob\} and delete \{this\}.}}
\DoxyCodeLine{3512     \textcolor{keywordflow}{if} (failed) \{}
\DoxyCodeLine{3513       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a09dd6dc4ecfe89eba438d934fdc99b48}{Failed}}();}
\DoxyCodeLine{3514     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3515       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a2136db2ee2be12a3efaca49297536eb1}{FinishCompile}}(cache\_hit);}
\DoxyCodeLine{3516     \}}
\DoxyCodeLine{3517   \}}
\DoxyCodeLine{3518 \}}

\end{DoxyCode}


References v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::as\+\_\+vector(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::bytes\+\_\+copy\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::compile\+\_\+imports\+\_\+, v8\+::base\+::\+Enum\+Set$<$ E, T $>$\+::contains\+\_\+all(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::context\+\_\+id\+\_\+, v8\+::internal\+::\+Isolate\+::counters(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, decoder\+\_\+, v8\+::internal\+::wasm\+::\+Decode\+Wasm\+Module(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Decrement\+And\+Check\+Finisher\+Count(), v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::detected\+\_\+features, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::detected\+\_\+features\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Do\+Sync(), v8\+::internal\+::duration, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::enabled\+\_\+features\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Code\+Size(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Failed(), v8\+::internal\+::wasm\+::\+Result$<$ T $>$\+::failed(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Finish\+Compile(), v8\+::internal\+::wasm\+::\+Module\+Decoder\+::\+Finish\+Decoding(), v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::found\+\_\+error, v8\+::metrics\+::\+Wasm\+Module\+Decoded\+::function\+\_\+count, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Get\+Or\+Create\+Native\+Module(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::base\+::\+Hasher\+::hash(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::isolate\+\_\+, job\+\_\+, v8\+::internal\+::wasm\+::k\+Wasm\+Origin, v8\+::base\+::\+Vector$<$ T $>$\+::length(), v8\+::internal\+::wasm\+::\+Module\+Wire\+Bytes\+::length(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::metrics\+\_\+event\+\_\+, v8\+::internal\+::\+Isolate\+::metrics\+\_\+recorder(), v8\+::internal\+::wasm\+::\+Module\+Wire\+Bytes\+::module\+\_\+bytes(), v8\+::metrics\+::\+Wasm\+Module\+Decoded\+::module\+\_\+size\+\_\+in\+\_\+bytes, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::native\+\_\+context\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::native\+\_\+module\+\_\+, v8\+::base\+::\+Time\+Ticks\+::\+Now(), num\+\_\+functions\+\_\+, v8\+::internal\+::wasm\+::\+Result$<$ T $>$\+::ok(), prefix\+\_\+cache\+\_\+hit\+\_\+, prefix\+\_\+hasher\+\_\+, v8\+::internal\+::wasm\+::\+Native\+Module\+Cache\+::\+Prefix\+Hash(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::start\+\_\+time\+\_\+, v8\+::metrics\+::\+Wasm\+Module\+Decoded\+::streamed, v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Streaming\+Compilation\+Failed(), v8\+::metrics\+::\+Wasm\+Module\+Decoded\+::success, TRACE\+\_\+\+STREAMING, v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Update\+Native\+Module\+Cache(), validate\+\_\+functions\+\_\+job\+\_\+data\+\_\+, validate\+\_\+functions\+\_\+job\+\_\+handle\+\_\+, v8\+::internal\+::wasm\+::\+Validate\+And\+Set\+Builtin\+Imports(), v8\+::internal\+::wasm\+::\+Result$<$ T $>$\+::value(), v8\+::metrics\+::\+Wasm\+Module\+Decoded\+::wall\+\_\+clock\+\_\+duration\+\_\+in\+\_\+us, and v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::wire\+\_\+bytes\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a1299b61f757fe2cfa5ec698e755650e0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a707cf5b73e892c3ddd7b74cef826c429}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a707cf5b73e892c3ddd7b74cef826c429}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!ProcessCodeSectionHeader@{ProcessCodeSectionHeader}}
\index{ProcessCodeSectionHeader@{ProcessCodeSectionHeader}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{ProcessCodeSectionHeader()}{ProcessCodeSectionHeader()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+Process\+Code\+Section\+Header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{num\+\_\+functions,  }\item[{uint32\+\_\+t}]{functions\+\_\+mismatch\+\_\+error\+\_\+offset,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WireBytesStorage}{Wire\+Bytes\+Storage}} $>$}]{wire\+\_\+bytes\+\_\+storage,  }\item[{\mbox{\hyperlink{classint}{int}}}]{code\+\_\+section\+\_\+start,  }\item[{\mbox{\hyperlink{classint}{int}}}]{code\+\_\+section\+\_\+length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1StreamingProcessor_a42414bf120c744fe17822f1fdbb4e85a}{v8\+::internal\+::wasm\+::\+Streaming\+Processor}}.



Definition at line 3275 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3278                                                      \{}
\DoxyCodeLine{3279   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(0, code\_section\_length);}
\DoxyCodeLine{3280   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a41aab3efc6dfb1d49db122d8d43176f6}{before\_code\_section\_}} = \textcolor{keyword}{false};}
\DoxyCodeLine{3281   \mbox{\hyperlink{module-compiler_8cc_ad0e56b939512b07a9f4022e490043302}{TRACE\_STREAMING}}(\textcolor{stringliteral}{"{}Start the code section with \%d functions...\(\backslash\)n"{}},}
\DoxyCodeLine{3282                   num\_functions);}
\DoxyCodeLine{3283   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a51402d2262d54931c0b503f9c652f89f}{prefix\_hasher\_}}.\mbox{\hyperlink{classv8_1_1base_1_1Hasher_aedf5304c50c581a24ce9a763147ae355}{Add}}(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(code\_section\_length));}
\DoxyCodeLine{3284   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_af1e71390300a70d4322bbff2ec9c641e}{CheckFunctionsCount}}(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(num\_functions),}
\DoxyCodeLine{3285                                     functions\_mismatch\_error\_offset)) \{}
\DoxyCodeLine{3286     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3287   \}}
\DoxyCodeLine{3288 }
\DoxyCodeLine{3289   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_a80a8197a6d39d2a6cf242bdcf6b01425}{StartCodeSection}}(\{\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(code\_section\_start),}
\DoxyCodeLine{3290                              \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(code\_section\_length)\});}
\DoxyCodeLine{3291 }
\DoxyCodeLine{3292   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_a3d8b862532f9f18b75db0b33dfa2b4dd}{GetStreamingCompilationOwnership}}(}
\DoxyCodeLine{3293           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a51402d2262d54931c0b503f9c652f89f}{prefix\_hasher\_}}.\mbox{\hyperlink{classv8_1_1base_1_1Hasher_a70be1a634ad5c9c0d93ac9ead95ff163}{hash}}(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a035c432ed94d826d1746c7d879003dc4}{compile\_imports\_}})) \{}
\DoxyCodeLine{3294     \textcolor{comment}{// Known prefix, wait until the end of the stream and check the cache.}}
\DoxyCodeLine{3295     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aef24faaab0279a141c00469c1e66b617}{prefix\_cache\_hit\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{3296     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3297   \}}
\DoxyCodeLine{3298 }
\DoxyCodeLine{3299   \textcolor{comment}{// Execute the PrepareAndStartCompile step immediately and not in a separate}}
\DoxyCodeLine{3300   \textcolor{comment}{// task.}}
\DoxyCodeLine{3301   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0}{kWasmOrigin}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_a8b70e09648e0eff724498aace4f9b98d}{module}}()-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a7871ace0ad8518a7de0c52ac35e43eb2}{origin}});}
\DoxyCodeLine{3302   \textcolor{keywordtype}{size\_t} code\_size\_estimate =}
\DoxyCodeLine{3303       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5b6cfe5d63b1c5f3b54fdb34ed91c863}{wasm::WasmCodeManager::EstimateNativeModuleCodeSize}}(num\_functions,}
\DoxyCodeLine{3304                                                           code\_section\_length);}
\DoxyCodeLine{3305   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_abb47c3e3846b0ae191c5c1c9c2ef0b84}{DoImmediately}}<AsyncCompileJob::PrepareAndStartCompile>(}
\DoxyCodeLine{3306       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_a8acb438d35687ddde33f2711f57fc43e}{shared\_module}}(),}
\DoxyCodeLine{3307       \textcolor{comment}{// start\_compilation: false; triggered when we receive the bodies.}}
\DoxyCodeLine{3308       \textcolor{keyword}{false},}
\DoxyCodeLine{3309       \textcolor{comment}{// lazy\_functions\_are\_validated: false (bodies not received yet).}}
\DoxyCodeLine{3310       \textcolor{keyword}{false}, code\_size\_estimate);}
\DoxyCodeLine{3311 }
\DoxyCodeLine{3312   \textcolor{keyword}{auto}* compilation\_state = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a2648e951d12b3a44f449116ec9866b2e}{Impl}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}-\/>compilation\_state());}
\DoxyCodeLine{3313   compilation\_state-\/>SetWireBytesStorage(std::move(wire\_bytes\_storage));}
\DoxyCodeLine{3314   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}-\/>module()-\/>origin, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0}{kWasmOrigin}});}
\DoxyCodeLine{3315 }
\DoxyCodeLine{3316   \textcolor{comment}{// Set outstanding\_finishers\_ to 2, because both the AsyncCompileJob and the}}
\DoxyCodeLine{3317   \textcolor{comment}{// AsyncStreamingProcessor have to finish.}}
\DoxyCodeLine{3318   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_ac2da5dad6fdcf531d99f2ddf886d3898}{outstanding\_finishers\_}}.store(2);}
\DoxyCodeLine{3319   \textcolor{comment}{// TODO(13209): Use PGO for streaming compilation, if available.}}
\DoxyCodeLine{3320   constexpr ProfileInformation* kNoProfileInformation = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3321   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}{compilation\_unit\_builder\_}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_aa8e9ac1dc24b7d71879dea71afe0f9bd}{InitializeCompilation}}(}
\DoxyCodeLine{3322       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a63b00b6733c1470d1ab5d592880bce73}{isolate}}(), \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}.get(), kNoProfileInformation);}
\DoxyCodeLine{3323   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3324 \}}

\end{DoxyCode}


References v8\+::base\+::\+Hasher\+::\+Add(), before\+\_\+code\+\_\+section\+\_\+, v8\+::internal\+::wasm\+::\+Module\+Decoder\+::\+Check\+Functions\+Count(), compilation\+\_\+unit\+\_\+builder\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::compile\+\_\+imports\+\_\+, DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+LE, decoder\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Do\+Immediately(), v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Code\+Size(), v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Get\+Streaming\+Compilation\+Ownership(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::base\+::\+Hasher\+::hash(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Impl(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Initialize\+Compilation(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::isolate(), job\+\_\+, v8\+::internal\+::wasm\+::k\+Wasm\+Origin, v8\+::internal\+::wasm\+::\+Module\+Decoder\+::module(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::native\+\_\+module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::origin, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::outstanding\+\_\+finishers\+\_\+, prefix\+\_\+cache\+\_\+hit\+\_\+, prefix\+\_\+hasher\+\_\+, v8\+::internal\+::wasm\+::\+Module\+Decoder\+::shared\+\_\+module(), v8\+::internal\+::wasm\+::\+Module\+Decoder\+::\+Start\+Code\+Section(), and TRACE\+\_\+\+STREAMING.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a707cf5b73e892c3ddd7b74cef826c429_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aa26940dbb1434275daab70cdf12e8326}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aa26940dbb1434275daab70cdf12e8326}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!ProcessFunctionBody@{ProcessFunctionBody}}
\index{ProcessFunctionBody@{ProcessFunctionBody}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{ProcessFunctionBody()}{ProcessFunctionBody()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+Process\+Function\+Body (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$}]{bytes,  }\item[{uint32\+\_\+t}]{offset }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1StreamingProcessor_a33e2e3fabca3803d80598f09e3b1b394}{v8\+::internal\+::wasm\+::\+Streaming\+Processor}}.



Definition at line 3327 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3328                                                       \{}
\DoxyCodeLine{3329   \mbox{\hyperlink{module-compiler_8cc_ad0e56b939512b07a9f4022e490043302}{TRACE\_STREAMING}}(\textcolor{stringliteral}{"{}Process function body \%d ...\(\backslash\)n"{}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac67a8f7664b800ae0d94e1bb983cbae3}{num\_functions\_}});}
\DoxyCodeLine{3330   uint32\_t func\_index =}
\DoxyCodeLine{3331       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_a8b70e09648e0eff724498aace4f9b98d}{module}}()-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a81b4b2b056e744758f875acafe4c909a}{num\_imported\_functions}} + \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac67a8f7664b800ae0d94e1bb983cbae3}{num\_functions\_}};}
\DoxyCodeLine{3332   ++\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac67a8f7664b800ae0d94e1bb983cbae3}{num\_functions\_}};}
\DoxyCodeLine{3333   \textcolor{comment}{// In case of \{prefix\_cache\_hit\} we still need the function body to be}}
\DoxyCodeLine{3334   \textcolor{comment}{// decoded. Otherwise a later cache miss cannot be handled.}}
\DoxyCodeLine{3335   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_aefc7fd0a74afba7f3300dde744b3c09d}{DecodeFunctionBody}}(func\_index, \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(bytes.length()),}
\DoxyCodeLine{3336                               offset);}
\DoxyCodeLine{3337 }
\DoxyCodeLine{3338   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aef24faaab0279a141c00469c1e66b617}{prefix\_cache\_hit\_}}) \{}
\DoxyCodeLine{3339     \textcolor{comment}{// Don't compile yet if we might have a cache hit.}}
\DoxyCodeLine{3340     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3341   \}}
\DoxyCodeLine{3342 }
\DoxyCodeLine{3343   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{WasmModule}}* module = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_a8b70e09648e0eff724498aace4f9b98d}{module}}();}
\DoxyCodeLine{3344   \textcolor{keyword}{auto} enabled\_features = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a1251219f828730c4c64d1b96b4e80973}{enabled\_features\_}};}
\DoxyCodeLine{3345   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(module-\/>origin, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3adc957d22d860687fc2579215adeb80ad75c39b2587910e64fbca44ad513c9e0}{kWasmOrigin}});}
\DoxyCodeLine{3346   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} lazy\_module = \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_lazy\_compilation;}
\DoxyCodeLine{3347   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a115f40d5a1db2ef4a1f91c4e42c88a94}{CompileStrategy}} strategy =}
\DoxyCodeLine{3348       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a1ef8abc5c39d51cdbffe2b71a8c68a44}{GetCompileStrategy}}(module, enabled\_features, func\_index, lazy\_module);}
\DoxyCodeLine{3349   \mbox{\hyperlink{src_2base_2logging_8h_a2c0c4cea27d0690467662bb05131b2af}{CHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_jitless, !\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_lazy\_validation);}
\DoxyCodeLine{3350   \textcolor{keywordtype}{bool} validate\_lazily\_compiled\_function =}
\DoxyCodeLine{3351       \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_jitless ||}
\DoxyCodeLine{3352       (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_lazy\_validation \&\&}
\DoxyCodeLine{3353        (strategy == CompileStrategy::kLazy ||}
\DoxyCodeLine{3354         strategy == CompileStrategy::kLazyBaselineEagerTopTier));}
\DoxyCodeLine{3355   \textcolor{keywordflow}{if} (validate\_lazily\_compiled\_function) \{}
\DoxyCodeLine{3356     \textcolor{comment}{// \{bytes\} is part of a section buffer owned by the streaming decoder. The}}
\DoxyCodeLine{3357     \textcolor{comment}{// streaming decoder is held alive by the \{AsyncCompileJob\}, so we can just}}
\DoxyCodeLine{3358     \textcolor{comment}{// use the \{bytes\} vector as long as the \{AsyncCompileJob\} is still running.}}
\DoxyCodeLine{3359     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}{validate\_functions\_job\_handle\_}}) \{}
\DoxyCodeLine{3360       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_abd92e250972b00568ca25570a16ab1f1}{validate\_functions\_job\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a30537e9b0e0f4d0160b17f97f2ceed43}{Initialize}}(module-\/>num\_declared\_functions);}
\DoxyCodeLine{3361       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}{validate\_functions\_job\_handle\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1V8_a5eb1d47c492fa1e85e7d7c31dd5cf2bb}{V8::GetCurrentPlatform}}()-\/>\mbox{\hyperlink{classv8_1_1Platform_a5a62780772e38f1f00317fce609ec0d4}{CreateJob}}(}
\DoxyCodeLine{3362           \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{TaskPriority::kUserVisible}},}
\DoxyCodeLine{3363           std::make\_unique<ValidateFunctionsStreamingJob>(}
\DoxyCodeLine{3364               module, enabled\_features, \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_abd92e250972b00568ca25570a16ab1f1}{validate\_functions\_job\_data\_}}));}
\DoxyCodeLine{3365     \}}
\DoxyCodeLine{3366     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_abd92e250972b00568ca25570a16ab1f1}{validate\_functions\_job\_data\_}}.\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aea4d7941a772b26e34a901b0e3dad6c9}{AddUnit}}(func\_index, bytes,}
\DoxyCodeLine{3367                                          \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}{validate\_functions\_job\_handle\_}}.get());}
\DoxyCodeLine{3368   \}}
\DoxyCodeLine{3369 }
\DoxyCodeLine{3370   \textcolor{keyword}{auto}* compilation\_state = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02module-compiler_8cc_03_a2648e951d12b3a44f449116ec9866b2e}{Impl}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}{job\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob_a7a578d0a0c6dc346c8b242ff3ba6708a}{native\_module\_}}-\/>compilation\_state());}
\DoxyCodeLine{3371   compilation\_state-\/>InitializeCompilationUnitForSingleFunction(}
\DoxyCodeLine{3372       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}{compilation\_unit\_builder\_}}.get(), func\_index);}
\DoxyCodeLine{3373   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3374 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::\+Add\+Unit(), CHECK\+\_\+\+IMPLIES, compilation\+\_\+unit\+\_\+builder\+\_\+, v8\+::\+Platform\+::\+Create\+Job(), DCHECK\+\_\+\+EQ, v8\+::internal\+::wasm\+::\+Module\+Decoder\+::\+Decode\+Function\+Body(), decoder\+\_\+, v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::enabled\+\_\+features\+\_\+, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Get\+Compile\+Strategy(), v8\+::internal\+::\+V8\+::\+Get\+Current\+Platform(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Impl(), v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::\+Initialize(), job\+\_\+, v8\+::k\+User\+Visible, v8\+::internal\+::wasm\+::k\+Wasm\+Origin, v8\+::base\+::\+Vector$<$ T $>$\+::length(), v8\+::internal\+::wasm\+::\+Module\+Decoder\+::module(), v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::native\+\_\+module\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+declared\+\_\+functions, num\+\_\+functions\+\_\+, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+functions, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::origin, prefix\+\_\+cache\+\_\+hit\+\_\+, TRACE\+\_\+\+STREAMING, v8\+::internal\+::v8\+\_\+flags, validate\+\_\+functions\+\_\+job\+\_\+data\+\_\+, and validate\+\_\+functions\+\_\+job\+\_\+handle\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aa26940dbb1434275daab70cdf12e8326_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aee9a0b6fb579488ab89cc95ea9e6caef}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aee9a0b6fb579488ab89cc95ea9e6caef}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!ProcessModuleHeader@{ProcessModuleHeader}}
\index{ProcessModuleHeader@{ProcessModuleHeader}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{ProcessModuleHeader()}{ProcessModuleHeader()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+Process\+Module\+Header (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$}]{bytes }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1StreamingProcessor_a16a89bae27cdf90e8fb721ad6c40accb}{v8\+::internal\+::wasm\+::\+Streaming\+Processor}}.



Definition at line 3233 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3234                                      \{}
\DoxyCodeLine{3235   \mbox{\hyperlink{module-compiler_8cc_ad0e56b939512b07a9f4022e490043302}{TRACE\_STREAMING}}(\textcolor{stringliteral}{"{}Process module header...\(\backslash\)n"{}});}
\DoxyCodeLine{3236   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_adf6bbeca3b9ea708958affa0b8901d9c}{DecodeModuleHeader}}(bytes);}
\DoxyCodeLine{3237   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_a6261e2904d468325a0ce31fc10e95b65}{ok}}()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3238   \textcolor{comment}{// Note: We do not include the magic bytes in the hash; they are constant}}
\DoxyCodeLine{3239   \textcolor{comment}{// anyways.}}
\DoxyCodeLine{3240   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3241 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Module\+Decoder\+::\+Decode\+Module\+Header(), decoder\+\_\+, v8\+::internal\+::wasm\+::\+Module\+Decoder\+::ok(), and TRACE\+\_\+\+STREAMING.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aee9a0b6fb579488ab89cc95ea9e6caef_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aac7514bd78200ea2d33761023d266de4}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aac7514bd78200ea2d33761023d266de4}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!ProcessSection@{ProcessSection}}
\index{ProcessSection@{ProcessSection}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{ProcessSection()}{ProcessSection()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+Process\+Section (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a42a2fc870f8946e6ffe986e629a5693b}{Section\+Code}}}]{section\+\_\+code,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$}]{bytes,  }\item[{uint32\+\_\+t}]{offset }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1StreamingProcessor_ac1a1b69c60ce352685832ca1c93cd44b}{v8\+::internal\+::wasm\+::\+Streaming\+Processor}}.



Definition at line 3244 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3246                                                               \{}
\DoxyCodeLine{3247   \mbox{\hyperlink{module-compiler_8cc_ad0e56b939512b07a9f4022e490043302}{TRACE\_STREAMING}}(\textcolor{stringliteral}{"{}Process section \%d ...\(\backslash\)n"{}}, section\_code);}
\DoxyCodeLine{3248   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}{compilation\_unit\_builder\_}}) \{}
\DoxyCodeLine{3249     \textcolor{comment}{// We reached a section after the code section, we do not need the}}
\DoxyCodeLine{3250     \textcolor{comment}{// compilation\_unit\_builder\_ anymore.}}
\DoxyCodeLine{3251     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ae4c1a9be1a289f121f11888233dc2065}{CommitCompilationUnits}}();}
\DoxyCodeLine{3252     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}{compilation\_unit\_builder\_}}.reset();}
\DoxyCodeLine{3253   \}}
\DoxyCodeLine{3254   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a41aab3efc6dfb1d49db122d8d43176f6}{before\_code\_section\_}}) \{}
\DoxyCodeLine{3255     \textcolor{comment}{// Combine section hashes until code section.}}
\DoxyCodeLine{3256     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a51402d2262d54931c0b503f9c652f89f}{prefix\_hasher\_}}.\mbox{\hyperlink{classv8_1_1base_1_1Hasher_a20c5918a245c896fcfb7595d98401969}{AddRange}}(bytes);}
\DoxyCodeLine{3257   \}}
\DoxyCodeLine{3258   \textcolor{keywordflow}{if} (section\_code == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a42a2fc870f8946e6ffe986e629a5693ba8cfdeb9213a3d517aed3c0ca252a5e6f}{SectionCode::kUnknownSectionCode}}) \{}
\DoxyCodeLine{3259     \textcolor{keywordtype}{size\_t} bytes\_consumed = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_ae4fc5f48b45481886c6146a470de6498}{ModuleDecoder::IdentifyUnknownSection}}(}
\DoxyCodeLine{3260         \&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}, bytes, offset, \&section\_code);}
\DoxyCodeLine{3261     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_a6261e2904d468325a0ce31fc10e95b65}{ok}}()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{3262     \textcolor{keywordflow}{if} (section\_code == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a42a2fc870f8946e6ffe986e629a5693ba8cfdeb9213a3d517aed3c0ca252a5e6f}{SectionCode::kUnknownSectionCode}}) \{}
\DoxyCodeLine{3263       \textcolor{comment}{// Skip unknown sections that we do not know how to handle.}}
\DoxyCodeLine{3264       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{3265     \}}
\DoxyCodeLine{3266     \textcolor{comment}{// Remove the unknown section tag from the payload bytes.}}
\DoxyCodeLine{3267     offset += bytes\_consumed;}
\DoxyCodeLine{3268     bytes = bytes.SubVector(bytes\_consumed, bytes.size());}
\DoxyCodeLine{3269   \}}
\DoxyCodeLine{3270   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_a158d159abc6eff4987e7b574305f6efd}{DecodeSection}}(section\_code, bytes, offset);}
\DoxyCodeLine{3271   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}{decoder\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder_a6261e2904d468325a0ce31fc10e95b65}{ok}}();}
\DoxyCodeLine{3272 \}}

\end{DoxyCode}


References v8\+::base\+::\+Hasher\+::\+Add\+Range(), before\+\_\+code\+\_\+section\+\_\+, Commit\+Compilation\+Units(), compilation\+\_\+unit\+\_\+builder\+\_\+, decoder\+\_\+, v8\+::internal\+::wasm\+::\+Module\+Decoder\+::\+Decode\+Section(), v8\+::internal\+::wasm\+::\+Module\+Decoder\+::\+Identify\+Unknown\+Section(), v8\+::internal\+::wasm\+::k\+Unknown\+Section\+Code, v8\+::internal\+::wasm\+::\+Module\+Decoder\+::ok(), prefix\+\_\+hasher\+\_\+, v8\+::base\+::\+Vector$<$ T $>$\+::size(), v8\+::base\+::\+Vector$<$ T $>$\+::\+Sub\+Vector(), and TRACE\+\_\+\+STREAMING.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aac7514bd78200ea2d33761023d266de4_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a41aab3efc6dfb1d49db122d8d43176f6}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a41aab3efc6dfb1d49db122d8d43176f6}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!before\_code\_section\_@{before\_code\_section\_}}
\index{before\_code\_section\_@{before\_code\_section\_}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{before\_code\_section\_}{before\_code\_section\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::before\+\_\+code\+\_\+section\+\_\+ = \mbox{\hyperlink{namespacev8_1_1internal_a7f5302a7c7fd292ffd4a5f9758bd3686}{true}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2655 of file module-\/compiler.\+cc.



Referenced by Process\+Code\+Section\+Header(), and Process\+Section().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aded301ffb872d0ebb5f27eb3ee0d06a3}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!compilation\_unit\_builder\_@{compilation\_unit\_builder\_}}
\index{compilation\_unit\_builder\_@{compilation\_unit\_builder\_}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{compilation\_unit\_builder\_}{compilation\_unit\_builder\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$Compilation\+Unit\+Builder$>$ v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::compilation\+\_\+unit\+\_\+builder\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2652 of file module-\/compiler.\+cc.



Referenced by Commit\+Compilation\+Units(), On\+Finished\+Chunk(), Process\+Code\+Section\+Header(), Process\+Function\+Body(), and Process\+Section().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a0658423182f9a376a82ffb6a3ea18529}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!decoder\_@{decoder\_}}
\index{decoder\_@{decoder\_}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{decoder\_}{decoder\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1ModuleDecoder}{Module\+Decoder}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::decoder\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2650 of file module-\/compiler.\+cc.



Referenced by On\+Finished\+Stream(), Process\+Code\+Section\+Header(), Process\+Function\+Body(), Process\+Module\+Header(), and Process\+Section().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a221daf9573abdb3dd51a8c6b5b90f240}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!job\_@{job\_}}
\index{job\_@{job\_}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{job\_}{job\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1AsyncCompileJob}{Async\+Compile\+Job}}$\ast$ v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::job\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2651 of file module-\/compiler.\+cc.



Referenced by Deserialize(), On\+Abort(), On\+Finished\+Stream(), Process\+Code\+Section\+Header(), and Process\+Function\+Body().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac67a8f7664b800ae0d94e1bb983cbae3}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_ac67a8f7664b800ae0d94e1bb983cbae3}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!num\_functions\_@{num\_functions\_}}
\index{num\_functions\_@{num\_functions\_}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{num\_functions\_}{num\_functions\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::num\+\_\+functions\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2653 of file module-\/compiler.\+cc.



Referenced by On\+Finished\+Stream(), and Process\+Function\+Body().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aef24faaab0279a141c00469c1e66b617}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_aef24faaab0279a141c00469c1e66b617}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!prefix\_cache\_hit\_@{prefix\_cache\_hit\_}}
\index{prefix\_cache\_hit\_@{prefix\_cache\_hit\_}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{prefix\_cache\_hit\_}{prefix\_cache\_hit\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::prefix\+\_\+cache\+\_\+hit\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2654 of file module-\/compiler.\+cc.



Referenced by On\+Finished\+Stream(), Process\+Code\+Section\+Header(), and Process\+Function\+Body().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a51402d2262d54931c0b503f9c652f89f}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a51402d2262d54931c0b503f9c652f89f}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!prefix\_hasher\_@{prefix\_hasher\_}}
\index{prefix\_hasher\_@{prefix\_hasher\_}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{prefix\_hasher\_}{prefix\_hasher\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Hasher}{base\+::\+Hasher}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::prefix\+\_\+hasher\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2662 of file module-\/compiler.\+cc.



Referenced by On\+Abort(), On\+Finished\+Stream(), Process\+Code\+Section\+Header(), and Process\+Section().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_abd92e250972b00568ca25570a16ab1f1}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_abd92e250972b00568ca25570a16ab1f1}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!validate\_functions\_job\_data\_@{validate\_functions\_job\_data\_}}
\index{validate\_functions\_job\_data\_@{validate\_functions\_job\_data\_}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{validate\_functions\_job\_data\_}{validate\_functions\_job\_data\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData}{Validate\+Functions\+Streaming\+Job\+Data}} v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::validate\+\_\+functions\+\_\+job\+\_\+data\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2656 of file module-\/compiler.\+cc.



Referenced by On\+Finished\+Stream(), and Process\+Function\+Body().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}\label{classv8_1_1internal_1_1wasm_1_1AsyncStreamingProcessor_a537df0ea5bce7272d916cb863442a908}} 
\index{v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}!validate\_functions\_job\_handle\_@{validate\_functions\_job\_handle\_}}
\index{validate\_functions\_job\_handle\_@{validate\_functions\_job\_handle\_}!v8::internal::wasm::AsyncStreamingProcessor@{v8::internal::wasm::AsyncStreamingProcessor}}
\doxysubsubsection{\texorpdfstring{validate\_functions\_job\_handle\_}{validate\_functions\_job\_handle\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}}$>$ v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::validate\+\_\+functions\+\_\+job\+\_\+handle\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2657 of file module-\/compiler.\+cc.



Referenced by On\+Abort(), On\+Finished\+Stream(), and Process\+Function\+Body().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{module-compiler_8cc}{module-\/compiler.\+cc}}\end{DoxyCompactItemize}
