\hypertarget{classv8_1_1SharedArrayBuffer}{}\doxysection{v8\+::Shared\+Array\+Buffer Class Reference}
\label{classv8_1_1SharedArrayBuffer}\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}


An instance of the built-\/in \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} constructor.  




{\ttfamily \#include $<$v8-\/array-\/buffer.\+h$>$}



Inheritance diagram for v8\+::Shared\+Array\+Buffer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1SharedArrayBuffer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::Shared\+Array\+Buffer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1SharedArrayBuffer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a746f2632ad6c2d80e8f2e5e6e5b77f94}{Byte\+Length}} () const
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classv8_1_1Data}{Data}} length in bytes. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a79a75eaccafff61b0123ac0ced350ecc}{Max\+Byte\+Length}} () const
\begin{DoxyCompactList}\small\item\em Maximum length in bytes. \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a1266ac2b5b3a3398e1fcc1972a2af332}{Get\+Backing\+Store}} ()
\begin{DoxyCompactList}\small\item\em Get a shared pointer to the backing store of this array buffer. \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a194d9bd0514e1339f85475d9938a7cd2}{Data}} () const
\begin{DoxyCompactList}\small\item\em More efficient shortcut for \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a1266ac2b5b3a3398e1fcc1972a2af332}{Get\+Backing\+Store()}}-\/$>$\mbox{\hyperlink{classv8_1_1Data_abdc21d1bcc526313f62ae684fe1de070}{Data()}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} $>$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_acf8b56257e1e58ba331337991f18079c}{New}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, size\+\_\+t byte\+\_\+length, \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}} initialization\+\_\+mode=\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}})
\begin{DoxyCompactList}\small\item\em Create a new \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}}. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classv8_1_1MaybeLocal}{Maybe\+Local}}$<$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} $>$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a54a52594e8e6c1d8cc2598c7bcb0de47}{Maybe\+New}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, size\+\_\+t byte\+\_\+length, \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}} initialization\+\_\+mode=\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}})
\begin{DoxyCompactList}\small\item\em Create a new \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}}. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} $>$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_ab8ce2cd1e1cb0e8072ae7317104b7db6}{New}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$ backing\+\_\+store)
\begin{DoxyCompactList}\small\item\em Create a new \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} with an existing backing store. \end{DoxyCompactList}\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a6acbc35833f6895f149dd99a01115c00}{New\+Backing\+Store}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, size\+\_\+t byte\+\_\+length, \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}} initialization\+\_\+mode=\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}}, \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1}{Backing\+Store\+On\+Failure\+Mode}} on\+\_\+failure=\mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1ab681eacb215899549d45805f02eeb40c}{Backing\+Store\+On\+Failure\+Mode\+::k\+Out\+Of\+Memory}})
\begin{DoxyCompactList}\small\item\em Returns a new standalone \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} that is allocated using the array buffer allocator of the isolate. \end{DoxyCompactList}\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a440fc043f70169ba1ce3c8e65e3c461a}{New\+Backing\+Store}} (void $\ast$data, size\+\_\+t byte\+\_\+length, \mbox{\hyperlink{classv8_1_1BackingStore_ab2d10e4c046ba17490364168d1e190b0}{v8\+::\+Backing\+Store\+::\+Deleter\+Callback}} deleter, void $\ast$deleter\+\_\+data)
\begin{DoxyCompactList}\small\item\em Returns a new standalone \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} that takes over the ownership of the given buffer. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} $\ast$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a8472e28f0248c64c352a432456cbbb94}{Cast}} (\mbox{\hyperlink{classv8_1_1Value}{Value}} $\ast$value)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_adb702ca819cfb52d739f81035e8ae260}{k\+Internal\+Field\+Count}}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1SharedArrayBuffer_ae766f32a399d7438fc67d5f906654eec}{Shared\+Array\+Buffer}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a9cb59d11c38b3caaf11fa74436d8b34f}{Check\+Cast}} (\mbox{\hyperlink{classv8_1_1Value}{Value}} $\ast$obj)
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
An instance of the built-\/in \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} constructor. 

Definition at line 499 of file v8-\/array-\/buffer.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_ae766f32a399d7438fc67d5f906654eec}\label{classv8_1_1SharedArrayBuffer_ae766f32a399d7438fc67d5f906654eec}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!SharedArrayBuffer@{SharedArrayBuffer}}
\index{SharedArrayBuffer@{SharedArrayBuffer}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{SharedArrayBuffer()}{SharedArrayBuffer()}}
{\footnotesize\ttfamily v8\+::\+Shared\+Array\+Buffer\+::\+Shared\+Array\+Buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_a746f2632ad6c2d80e8f2e5e6e5b77f94}\label{classv8_1_1SharedArrayBuffer_a746f2632ad6c2d80e8f2e5e6e5b77f94}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!ByteLength@{ByteLength}}
\index{ByteLength@{ByteLength}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{ByteLength()}{ByteLength()}}
{\footnotesize\ttfamily size\+\_\+t v8\+::\+Shared\+Array\+Buffer\+::\+Byte\+Length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



\mbox{\hyperlink{classv8_1_1Data}{Data}} length in bytes. 



Definition at line 9351 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9351                                              \{}
\DoxyCodeLine{9352   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this})-\/>GetByteLength();}
\DoxyCodeLine{9353 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_a746f2632ad6c2d80e8f2e5e6e5b77f94_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_a8472e28f0248c64c352a432456cbbb94}\label{classv8_1_1SharedArrayBuffer_a8472e28f0248c64c352a432456cbbb94}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!Cast@{Cast}}
\index{Cast@{Cast}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{Cast()}{Cast()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}}$\ast$ v8\+::\+Shared\+Array\+Buffer\+::\+Cast (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Value}{Value}} $\ast$}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 598 of file v8-\/array-\/buffer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{598                                                          \{}
\DoxyCodeLine{599 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_CHECKS}}
\DoxyCodeLine{600     \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a9cb59d11c38b3caaf11fa74436d8b34f}{CheckCast}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{601 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{602     \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classv8_1_1SharedArrayBuffer_ae766f32a399d7438fc67d5f906654eec}{SharedArrayBuffer}}*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{603   \}}

\end{DoxyCode}


References v8\+::internal\+::value.

\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_a9cb59d11c38b3caaf11fa74436d8b34f}\label{classv8_1_1SharedArrayBuffer_a9cb59d11c38b3caaf11fa74436d8b34f}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!CheckCast@{CheckCast}}
\index{CheckCast@{CheckCast}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{CheckCast()}{CheckCast()}}
{\footnotesize\ttfamily void v8\+::\+Shared\+Array\+Buffer\+::\+Check\+Cast (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Value}{Value}} $\ast$}]{obj }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 4123 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4123                                                \{}
\DoxyCodeLine{4124   \textcolor{keyword}{auto} obj = *\mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(that);}
\DoxyCodeLine{4125   \mbox{\hyperlink{classv8_1_1Utils_a1a1e634bae095bf6ff0ed2d9d737be00}{Utils::ApiCheck}}(}
\DoxyCodeLine{4126       IsJSArrayBuffer(obj) \&\& i::Cast<i::JSArrayBuffer>(obj)-\/>\mbox{\hyperlink{namespacev8_1_1internal_adee95482032a93e07f59341fed5c909f}{is\_shared}}(),}
\DoxyCodeLine{4127       \textcolor{stringliteral}{"{}v8::SharedArrayBuffer::Cast()"{}}, \textcolor{stringliteral}{"{}Value is not a SharedArrayBuffer"{}});}
\DoxyCodeLine{4128 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Api\+Check(), v8\+::internal\+::is\+\_\+shared, and v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_a9cb59d11c38b3caaf11fa74436d8b34f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_a194d9bd0514e1339f85475d9938a7cd2}\label{classv8_1_1SharedArrayBuffer_a194d9bd0514e1339f85475d9938a7cd2}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!Data@{Data}}
\index{Data@{Data}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{Data()}{Data()}}
{\footnotesize\ttfamily void $\ast$ v8\+::\+Shared\+Array\+Buffer\+::\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



More efficient shortcut for \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_a1266ac2b5b3a3398e1fcc1972a2af332}{Get\+Backing\+Store()}}-\/$>$\mbox{\hyperlink{classv8_1_1Data_abdc21d1bcc526313f62ae684fe1de070}{Data()}}. 

The returned pointer is valid as long as the \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} is alive. 

Definition at line 4072 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4072                                       \{}
\DoxyCodeLine{4073   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this})-\/>backing\_store();}
\DoxyCodeLine{4074 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_a194d9bd0514e1339f85475d9938a7cd2_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_a1266ac2b5b3a3398e1fcc1972a2af332}\label{classv8_1_1SharedArrayBuffer_a1266ac2b5b3a3398e1fcc1972a2af332}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!GetBackingStore@{GetBackingStore}}
\index{GetBackingStore@{GetBackingStore}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{GetBackingStore()}{GetBackingStore()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{v8\+::\+Backing\+Store}} $>$ v8\+::\+Shared\+Array\+Buffer\+::\+Get\+Backing\+Store (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get a shared pointer to the backing store of this array buffer. 

This pointer coordinates the lifetime management of the internal storage with any live Array\+Buffers on the heap, even across isolates. The embedder should not attempt to manage lifetime of the storage through other means. 

Definition at line 4062 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4062                                                                    \{}
\DoxyCodeLine{4063   \textcolor{keyword}{auto} \textcolor{keyword}{self} = \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this});}
\DoxyCodeLine{4064   std::shared\_ptr<i::BackingStore> backing\_store = \textcolor{keyword}{self}-\/>GetBackingStore();}
\DoxyCodeLine{4065   \textcolor{keywordflow}{if} (!backing\_store) \{}
\DoxyCodeLine{4066     backing\_store = \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6e20cd7042a45d5a989c784030fed72c}{i::BackingStore::EmptyBackingStore}}(\mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{i::SharedFlag::kShared}});}
\DoxyCodeLine{4067   \}}
\DoxyCodeLine{4068   std::shared\_ptr<i::BackingStoreBase> bs\_base = backing\_store;}
\DoxyCodeLine{4069   \textcolor{keywordflow}{return} std::static\_pointer\_cast<v8::BackingStore>(bs\_base);}
\DoxyCodeLine{4070 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Backing\+Store\+::\+Empty\+Backing\+Store(), v8\+::internal\+::k\+Shared, and v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_a1266ac2b5b3a3398e1fcc1972a2af332_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_a79a75eaccafff61b0123ac0ced350ecc}\label{classv8_1_1SharedArrayBuffer_a79a75eaccafff61b0123ac0ced350ecc}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!MaxByteLength@{MaxByteLength}}
\index{MaxByteLength@{MaxByteLength}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{MaxByteLength()}{MaxByteLength()}}
{\footnotesize\ttfamily size\+\_\+t v8\+::\+Shared\+Array\+Buffer\+::\+Max\+Byte\+Length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Maximum length in bytes. 



Definition at line 9355 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9355                                                 \{}
\DoxyCodeLine{9356   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this})-\/>max\_byte\_length();}
\DoxyCodeLine{9357 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_a79a75eaccafff61b0123ac0ced350ecc_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_a54a52594e8e6c1d8cc2598c7bcb0de47}\label{classv8_1_1SharedArrayBuffer_a54a52594e8e6c1d8cc2598c7bcb0de47}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!MaybeNew@{MaybeNew}}
\index{MaybeNew@{MaybeNew}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{MaybeNew()}{MaybeNew()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1MaybeLocal}{Maybe\+Local}}$<$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} $>$ v8\+::\+Shared\+Array\+Buffer\+::\+Maybe\+New (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{size\+\_\+t}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}}}]{initialization\+\_\+mode = {\ttfamily \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create a new \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}}. 

Allocate $\vert$byte\+\_\+length$\vert$ bytes, which are either zero-\/initialized or uninitialized. Allocated memory will be owned by a created \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} and will be deallocated when it is garbage-\/collected, unless the object is externalized. If allocation fails, the \mbox{\hyperlink{classv8_1_1Maybe}{Maybe}} returned will be empty. 

Definition at line 9380 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9382                                                         \{}
\DoxyCodeLine{9383   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(v8\_isolate);}
\DoxyCodeLine{9384   ApiRuntimeCallStatsScope rcs\_scope(i\_isolate,}
\DoxyCodeLine{9385                                      RCCId::kAPI\_SharedArrayBuffer\_New);}
\DoxyCodeLine{9386   EnterV8NoScriptNoExceptionScope api\_scope(i\_isolate);}
\DoxyCodeLine{9387 }
\DoxyCodeLine{9388   std::unique\_ptr<i::BackingStore> backing\_store =}
\DoxyCodeLine{9389       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a452e0fa56230d27400718e003b3d5638}{i::BackingStore::Allocate}}(i\_isolate, byte\_length, \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{i::SharedFlag::kShared}},}
\DoxyCodeLine{9390                                 \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_aaf438012374211789fa02d811937bf45}{GetInitializedFlag}}(initialization\_mode));}
\DoxyCodeLine{9391 }
\DoxyCodeLine{9392   \textcolor{keywordflow}{if} (!backing\_store) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{9393 }
\DoxyCodeLine{9394   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} obj =}
\DoxyCodeLine{9395       i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_a590cfed2fdf00318861bd31d70909ef1}{NewJSSharedArrayBuffer}}(std::move(backing\_store));}
\DoxyCodeLine{9396   \textcolor{keywordflow}{return} Utils::ToLocalShared(obj);}
\DoxyCodeLine{9397 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Backing\+Store\+::\+Allocate(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+Get\+Initialized\+Flag(), v8\+::internal\+::k\+Shared, and v8\+::internal\+::\+Factory\+::\+New\+JSShared\+Array\+Buffer().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_a54a52594e8e6c1d8cc2598c7bcb0de47_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_acf8b56257e1e58ba331337991f18079c}\label{classv8_1_1SharedArrayBuffer_acf8b56257e1e58ba331337991f18079c}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!New@{New}}
\index{New@{New}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{New()}{New()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} $>$ v8\+::\+Shared\+Array\+Buffer\+::\+New (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{size\+\_\+t}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}}}]{initialization\+\_\+mode = {\ttfamily \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create a new \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}}. 

Allocate $\vert$byte\+\_\+length$\vert$ bytes, which are either zero-\/initialized or uninitialized. Allocated memory will be owned by a created \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} and will be deallocated when it is garbage-\/collected, unless the object is externalized. 

Definition at line 9359 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9361                                                         \{}
\DoxyCodeLine{9362   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(v8\_isolate);}
\DoxyCodeLine{9363   ApiRuntimeCallStatsScope rcs\_scope(i\_isolate,}
\DoxyCodeLine{9364                                      RCCId::kAPI\_SharedArrayBuffer\_New);}
\DoxyCodeLine{9365   EnterV8NoScriptNoExceptionScope api\_scope(i\_isolate);}
\DoxyCodeLine{9366 }
\DoxyCodeLine{9367   std::unique\_ptr<i::BackingStore> backing\_store =}
\DoxyCodeLine{9368       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a452e0fa56230d27400718e003b3d5638}{i::BackingStore::Allocate}}(i\_isolate, byte\_length, \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{i::SharedFlag::kShared}},}
\DoxyCodeLine{9369                                 \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_aaf438012374211789fa02d811937bf45}{GetInitializedFlag}}(initialization\_mode));}
\DoxyCodeLine{9370 }
\DoxyCodeLine{9371   \textcolor{keywordflow}{if} (!backing\_store) \{}
\DoxyCodeLine{9372     \mbox{\hyperlink{classv8_1_1internal_1_1V8_a977b087d4ee58955efe72b33136a4e94}{i::V8::FatalProcessOutOfMemory}}(i\_isolate, \textcolor{stringliteral}{"{}v8::SharedArrayBuffer::New"{}});}
\DoxyCodeLine{9373   \}}
\DoxyCodeLine{9374 }
\DoxyCodeLine{9375   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} obj =}
\DoxyCodeLine{9376       i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_a590cfed2fdf00318861bd31d70909ef1}{NewJSSharedArrayBuffer}}(std::move(backing\_store));}
\DoxyCodeLine{9377   \textcolor{keywordflow}{return} Utils::ToLocalShared(obj);}
\DoxyCodeLine{9378 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Backing\+Store\+::\+Allocate(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+V8\+::\+Fatal\+Process\+Out\+Of\+Memory(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+Get\+Initialized\+Flag(), v8\+::internal\+::k\+Shared, and v8\+::internal\+::\+Factory\+::\+New\+JSShared\+Array\+Buffer().



Referenced by v8\+::\+Deserializer\+::\+Get\+Shared\+Array\+Buffer\+From\+Id().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_acf8b56257e1e58ba331337991f18079c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_acf8b56257e1e58ba331337991f18079c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_ab8ce2cd1e1cb0e8072ae7317104b7db6}\label{classv8_1_1SharedArrayBuffer_ab8ce2cd1e1cb0e8072ae7317104b7db6}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!New@{New}}
\index{New@{New}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{New()}{New()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} $>$ v8\+::\+Shared\+Array\+Buffer\+::\+New (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$}]{backing\+\_\+store }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create a new \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} with an existing backing store. 

The created array keeps a reference to the backing store until the array is garbage collected. Note that the Is\+External bit does not affect this reference from the array to the backing store.

In future Is\+External bit will be removed. Until then the bit is set as follows. If the backing store does not own the underlying buffer, then the array is created in externalized state. Otherwise, the array is created in internalized state. In the latter case the array can be transitioned to the externalized state using Externalize(backing\+\_\+store). 

Definition at line 9399 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9400                                                                     \{}
\DoxyCodeLine{9401   \mbox{\hyperlink{src_2base_2logging_8h_a2c0c4cea27d0690467662bb05131b2af}{CHECK\_IMPLIES}}(backing\_store-\/>ByteLength() != 0,}
\DoxyCodeLine{9402                 backing\_store-\/>Data() != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{9403   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(v8\_isolate);}
\DoxyCodeLine{9404   ApiRuntimeCallStatsScope rcs\_scope(i\_isolate,}
\DoxyCodeLine{9405                                      RCCId::kAPI\_SharedArrayBuffer\_New);}
\DoxyCodeLine{9406   EnterV8NoScriptNoExceptionScope api\_scope(i\_isolate);}
\DoxyCodeLine{9407   std::shared\_ptr<i::BackingStore> i\_backing\_store(\mbox{\hyperlink{namespacev8_a26696ebebab75657c436cc202be9c15c}{ToInternal}}(backing\_store));}
\DoxyCodeLine{9408   \mbox{\hyperlink{classv8_1_1Utils_a1a1e634bae095bf6ff0ed2d9d737be00}{Utils::ApiCheck}}(}
\DoxyCodeLine{9409       i\_backing\_store-\/>is\_shared(), \textcolor{stringliteral}{"{}v8::SharedArrayBuffer::New"{}},}
\DoxyCodeLine{9410       \textcolor{stringliteral}{"{}Cannot construct SharedArrayBuffer with BackingStore of ArrayBuffer"{}});}
\DoxyCodeLine{9411   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} obj =}
\DoxyCodeLine{9412       i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_a590cfed2fdf00318861bd31d70909ef1}{NewJSSharedArrayBuffer}}(std::move(i\_backing\_store));}
\DoxyCodeLine{9413   \textcolor{keywordflow}{return} Utils::ToLocalShared(obj);}
\DoxyCodeLine{9414 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Api\+Check(), CHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+Factory\+::\+New\+JSShared\+Array\+Buffer(), and v8\+::\+To\+Internal().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_ab8ce2cd1e1cb0e8072ae7317104b7db6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_a6acbc35833f6895f149dd99a01115c00}\label{classv8_1_1SharedArrayBuffer_a6acbc35833f6895f149dd99a01115c00}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!NewBackingStore@{NewBackingStore}}
\index{NewBackingStore@{NewBackingStore}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{NewBackingStore()}{NewBackingStore()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{v8\+::\+Backing\+Store}} $>$ v8\+::\+Shared\+Array\+Buffer\+::\+New\+Backing\+Store (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{size\+\_\+t}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}}}]{initialization\+\_\+mode = {\ttfamily \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}}},  }\item[{\mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1}{Backing\+Store\+On\+Failure\+Mode}}}]{on\+\_\+failure = {\ttfamily \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1ab681eacb215899549d45805f02eeb40c}{Backing\+Store\+On\+Failure\+Mode\+::k\+Out\+Of\+Memory}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns a new standalone \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} that is allocated using the array buffer allocator of the isolate. 

The allocation can either be zero initialized, or uninitialized. The result can be later passed to \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_acf8b56257e1e58ba331337991f18079c}{Shared\+Array\+Buffer\+::\+New}}.

If the allocator returns nullptr, then the function may cause GCs in the given isolate and re-\/try the allocation.

If on\+\_\+failure is k\+Out\+Of\+Memory and GCs do not help, then the function will crash with an out-\/of-\/memory error.

Otherwise, if on\+\_\+failure is k\+Return\+Null and GCs do not help (or the byte\+\_\+length is so large that the allocation cannot succeed), then a null result is returned. 

Definition at line 9416 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9419                                           \{}
\DoxyCodeLine{9420   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(v8\_isolate);}
\DoxyCodeLine{9421   ApiRuntimeCallStatsScope rcs\_scope(}
\DoxyCodeLine{9422       i\_isolate, RCCId::kAPI\_SharedArrayBuffer\_NewBackingStore);}
\DoxyCodeLine{9423   \textcolor{keywordflow}{if} (on\_failure == \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1ab681eacb215899549d45805f02eeb40c}{BackingStoreOnFailureMode::kOutOfMemory}}) \{}
\DoxyCodeLine{9424     \mbox{\hyperlink{classv8_1_1Utils_a1a1e634bae095bf6ff0ed2d9d737be00}{Utils::ApiCheck}}(}
\DoxyCodeLine{9425         byte\_length <= \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_aaa9641b33f3b26b38930cbb552f8770c}{i::JSArrayBuffer::kMaxByteLength}},}
\DoxyCodeLine{9426         \textcolor{stringliteral}{"{}v8::SharedArrayBuffer::NewBackingStore"{}},}
\DoxyCodeLine{9427         \textcolor{stringliteral}{"{}Cannot construct SharedArrayBuffer, requested length is too big"{}});}
\DoxyCodeLine{9428   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{9429     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(on\_failure == \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1a26698e24e6fc46b29ea0d3afc620063b}{BackingStoreOnFailureMode::kReturnNull}});}
\DoxyCodeLine{9430     \textcolor{keywordflow}{if} (byte\_length > \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_aaa9641b33f3b26b38930cbb552f8770c}{i::JSArrayBuffer::kMaxByteLength}}) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{9431   \}}
\DoxyCodeLine{9432   EnterV8NoScriptNoExceptionScope api\_scope(i\_isolate);}
\DoxyCodeLine{9433   std::unique\_ptr<i::BackingStoreBase> backing\_store =}
\DoxyCodeLine{9434       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a452e0fa56230d27400718e003b3d5638}{i::BackingStore::Allocate}}(i\_isolate, byte\_length, \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{i::SharedFlag::kShared}},}
\DoxyCodeLine{9435                                 \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_aaf438012374211789fa02d811937bf45}{GetInitializedFlag}}(initialization\_mode));}
\DoxyCodeLine{9436   \textcolor{keywordflow}{if} (!backing\_store) \{}
\DoxyCodeLine{9437     \textcolor{keywordflow}{if} (on\_failure == \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1ab681eacb215899549d45805f02eeb40c}{BackingStoreOnFailureMode::kOutOfMemory}}) \{}
\DoxyCodeLine{9438       \mbox{\hyperlink{classv8_1_1internal_1_1V8_a977b087d4ee58955efe72b33136a4e94}{i::V8::FatalProcessOutOfMemory}}(i\_isolate,}
\DoxyCodeLine{9439                                      \textcolor{stringliteral}{"{}v8::SharedArrayBuffer::NewBackingStore"{}});}
\DoxyCodeLine{9440     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{9441       \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(on\_failure == \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1a26698e24e6fc46b29ea0d3afc620063b}{BackingStoreOnFailureMode::kReturnNull}});}
\DoxyCodeLine{9442       \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{9443     \}}
\DoxyCodeLine{9444   \}}
\DoxyCodeLine{9445   \textcolor{keywordflow}{return} std::unique\_ptr<v8::BackingStore>(}
\DoxyCodeLine{9446       \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classv8_1_1BackingStore}{v8::BackingStore}}*\textcolor{keyword}{>}(backing\_store.release()));}
\DoxyCodeLine{9447 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Backing\+Store\+::\+Allocate(), v8\+::\+Utils\+::\+Api\+Check(), DCHECK, v8\+::internal\+::\+V8\+::\+Fatal\+Process\+Out\+Of\+Memory(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+Get\+Initialized\+Flag(), v8\+::internal\+::\+JSArray\+Buffer\+::k\+Max\+Byte\+Length, v8\+::k\+Out\+Of\+Memory, v8\+::k\+Return\+Null, and v8\+::internal\+::k\+Shared.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_a6acbc35833f6895f149dd99a01115c00_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_a440fc043f70169ba1ce3c8e65e3c461a}\label{classv8_1_1SharedArrayBuffer_a440fc043f70169ba1ce3c8e65e3c461a}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!NewBackingStore@{NewBackingStore}}
\index{NewBackingStore@{NewBackingStore}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{NewBackingStore()}{NewBackingStore()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{v8\+::\+Backing\+Store}} $>$ v8\+::\+Shared\+Array\+Buffer\+::\+New\+Backing\+Store (\begin{DoxyParamCaption}\item[{void $\ast$}]{data,  }\item[{size\+\_\+t}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{classv8_1_1BackingStore_ab2d10e4c046ba17490364168d1e190b0}{v8\+::\+Backing\+Store\+::\+Deleter\+Callback}}}]{deleter,  }\item[{void $\ast$}]{deleter\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns a new standalone \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} that takes over the ownership of the given buffer. 

The destructor of the \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} invokes the given deleter callback.

The result can be later passed to \mbox{\hyperlink{classv8_1_1SharedArrayBuffer_acf8b56257e1e58ba331337991f18079c}{Shared\+Array\+Buffer\+::\+New}}. The raw pointer to the buffer must not be passed again to any \mbox{\hyperlink{classv8_1_1V8}{V8}} functions. 

Definition at line 9449 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9451                         \{}
\DoxyCodeLine{9452   \mbox{\hyperlink{src_2base_2logging_8h_a56e883b55c80205b4d1727679c68b2bd}{CHECK\_LE}}(byte\_length, \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_aaa9641b33f3b26b38930cbb552f8770c}{i::JSArrayBuffer::kMaxByteLength}});}
\DoxyCodeLine{9453   std::unique\_ptr<i::BackingStoreBase> backing\_store =}
\DoxyCodeLine{9454       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a2067951c5d4377b698d7799bc63af02a}{i::BackingStore::WrapAllocation}}(data, byte\_length, deleter, deleter\_data,}
\DoxyCodeLine{9455                                       \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{i::SharedFlag::kShared}});}
\DoxyCodeLine{9456   \textcolor{keywordflow}{return} std::unique\_ptr<v8::BackingStore>(}
\DoxyCodeLine{9457       \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classv8_1_1BackingStore}{v8::BackingStore}}*\textcolor{keyword}{>}(backing\_store.release()));}
\DoxyCodeLine{9458 \}}

\end{DoxyCode}


References CHECK\+\_\+\+LE, v8\+::internal\+::\+JSArray\+Buffer\+::k\+Max\+Byte\+Length, v8\+::internal\+::k\+Shared, and v8\+::internal\+::\+Backing\+Store\+::\+Wrap\+Allocation().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1SharedArrayBuffer_a440fc043f70169ba1ce3c8e65e3c461a_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1SharedArrayBuffer_adb702ca819cfb52d739f81035e8ae260}\label{classv8_1_1SharedArrayBuffer_adb702ca819cfb52d739f81035e8ae260}} 
\index{v8::SharedArrayBuffer@{v8::SharedArrayBuffer}!kInternalFieldCount@{kInternalFieldCount}}
\index{kInternalFieldCount@{kInternalFieldCount}!v8::SharedArrayBuffer@{v8::SharedArrayBuffer}}
\doxysubsubsection{\texorpdfstring{kInternalFieldCount}{kInternalFieldCount}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classint}{int}} v8\+::\+Shared\+Array\+Buffer\+::k\+Internal\+Field\+Count\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=}
\DoxyCodeLine{      \mbox{\hyperlink{v8-array-buffer_8h_a089449088bc110a262e4cd4fff8fb60b}{V8\_ARRAY\_BUFFER\_INTERNAL\_FIELD\_COUNT}}}

\end{DoxyCode}


Definition at line 605 of file v8-\/array-\/buffer.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/\mbox{\hyperlink{v8-array-buffer_8h}{v8-\/array-\/buffer.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/api/\mbox{\hyperlink{api_8cc}{api.\+cc}}\end{DoxyCompactItemize}
