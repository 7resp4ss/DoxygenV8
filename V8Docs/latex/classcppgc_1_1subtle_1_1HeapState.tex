\hypertarget{classcppgc_1_1subtle_1_1HeapState}{}\doxysection{cppgc\+::subtle\+::Heap\+State Class Reference}
\label{classcppgc_1_1subtle_1_1HeapState}\index{cppgc::subtle::HeapState@{cppgc::subtle::HeapState}}


Helpers to peek into heap-\/internal state.  




{\ttfamily \#include $<$heap-\/state.\+h$>$}



Collaboration diagram for cppgc\+::subtle\+::Heap\+State\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=256pt]{classcppgc_1_1subtle_1_1HeapState__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static bool \mbox{\hyperlink{classcppgc_1_1subtle_1_1HeapState_a7328a99d933a48eca017b72f3b852779}{Is\+Marking}} (const \mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&heap\+\_\+handle)
\begin{DoxyCompactList}\small\item\em Returns whether the garbage collector is marking. \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{classcppgc_1_1subtle_1_1HeapState_a3d8e40e3848efabe5e631460406176d3}{Is\+Sweeping}} (const \mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&heap\+\_\+handle)
\item 
static bool \mbox{\hyperlink{classcppgc_1_1subtle_1_1HeapState_aa4226827a2b1ea0ef747d7a970bbf375}{Is\+Sweeping\+On\+Owning\+Thread}} (const \mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&heap\+\_\+handle)
\item 
static bool \mbox{\hyperlink{classcppgc_1_1subtle_1_1HeapState_a1b5c9eec9e59b037b762de41d340821b}{Is\+In\+Atomic\+Pause}} (const \mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&heap\+\_\+handle)
\begin{DoxyCompactList}\small\item\em Returns whether the garbage collector is in the atomic pause, i.\+e., the mutator is stopped from running. \end{DoxyCompactList}\item 
static bool \mbox{\hyperlink{classcppgc_1_1subtle_1_1HeapState_adb1b71faaa1fbbc107d1c027dc16c3c7}{Previous\+GCWas\+Conservative}} (const \mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&heap\+\_\+handle)
\begin{DoxyCompactList}\small\item\em Returns whether the last garbage collection was finalized conservatively (i.\+e., with a non-\/empty stack). \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1subtle_1_1HeapState_a61e0704424f2f238ded334ca24bef78f}{Heap\+State}} ()=delete
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Helpers to peek into heap-\/internal state. 

Definition at line 19 of file heap-\/state.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcppgc_1_1subtle_1_1HeapState_a61e0704424f2f238ded334ca24bef78f}\label{classcppgc_1_1subtle_1_1HeapState_a61e0704424f2f238ded334ca24bef78f}} 
\index{cppgc::subtle::HeapState@{cppgc::subtle::HeapState}!HeapState@{HeapState}}
\index{HeapState@{HeapState}!cppgc::subtle::HeapState@{cppgc::subtle::HeapState}}
\doxysubsubsection{\texorpdfstring{HeapState()}{HeapState()}}
{\footnotesize\ttfamily cppgc\+::subtle\+::\+Heap\+State\+::\+Heap\+State (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}, {\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcppgc_1_1subtle_1_1HeapState_a1b5c9eec9e59b037b762de41d340821b}\label{classcppgc_1_1subtle_1_1HeapState_a1b5c9eec9e59b037b762de41d340821b}} 
\index{cppgc::subtle::HeapState@{cppgc::subtle::HeapState}!IsInAtomicPause@{IsInAtomicPause}}
\index{IsInAtomicPause@{IsInAtomicPause}!cppgc::subtle::HeapState@{cppgc::subtle::HeapState}}
\doxysubsubsection{\texorpdfstring{IsInAtomicPause()}{IsInAtomicPause()}}
{\footnotesize\ttfamily bool cppgc\+::subtle\+::\+Heap\+State\+::\+Is\+In\+Atomic\+Pause (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&}]{heap\+\_\+handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns whether the garbage collector is in the atomic pause, i.\+e., the mutator is stopped from running. 

This API is experimental and is expected to be removed in future.


\begin{DoxyParams}{Parameters}
{\em heap\+\_\+handle} & The corresponding heap. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the garbage collector is currently in the atomic pause, and false otherwise. 
\end{DoxyReturn}


Definition at line 32 of file heap-\/state.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{32                                                              \{}
\DoxyCodeLine{33   \textcolor{keywordflow}{return} \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a19c54924cf647b00b3f196fef52f7b67}{internal::HeapBase::From}}(heap\_handle).\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a7c59a9607fd85d7f2f851809446d23ee}{in\_atomic\_pause}}();}
\DoxyCodeLine{34 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Heap\+Base\+::\+From(), and cppgc\+::internal\+::\+Heap\+Base\+::in\+\_\+atomic\+\_\+pause().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1subtle_1_1HeapState_a1b5c9eec9e59b037b762de41d340821b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1subtle_1_1HeapState_a7328a99d933a48eca017b72f3b852779}\label{classcppgc_1_1subtle_1_1HeapState_a7328a99d933a48eca017b72f3b852779}} 
\index{cppgc::subtle::HeapState@{cppgc::subtle::HeapState}!IsMarking@{IsMarking}}
\index{IsMarking@{IsMarking}!cppgc::subtle::HeapState@{cppgc::subtle::HeapState}}
\doxysubsubsection{\texorpdfstring{IsMarking()}{IsMarking()}}
{\footnotesize\ttfamily bool cppgc\+::subtle\+::\+Heap\+State\+::\+Is\+Marking (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&}]{heap\+\_\+handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns whether the garbage collector is marking. 

This API is experimental and is expected to be removed in future.


\begin{DoxyParams}{Parameters}
{\em heap\+\_\+handle} & The corresponding heap. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the garbage collector is currently marking, and false otherwise. 
\end{DoxyReturn}


Definition at line 13 of file heap-\/state.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{13                                                        \{}
\DoxyCodeLine{14   \textcolor{keyword}{const} internal::MarkerBase* marker =}
\DoxyCodeLine{15       \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a19c54924cf647b00b3f196fef52f7b67}{internal::HeapBase::From}}(heap\_handle).\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a901cccc00adf3502f3884d832063f6c3}{marker}}();}
\DoxyCodeLine{16   \textcolor{keywordflow}{return} marker \&\& marker-\/>\mbox{\hyperlink{classcppgc_1_1internal_1_1MarkerBase_a900f0c5604d95d6c483fe7beaf3c90c8}{IsMarking}}();}
\DoxyCodeLine{17 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Heap\+Base\+::\+From(), cppgc\+::internal\+::\+Marker\+Base\+::\+Is\+Marking(), and cppgc\+::internal\+::\+Heap\+Base\+::marker().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1subtle_1_1HeapState_a7328a99d933a48eca017b72f3b852779_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1subtle_1_1HeapState_a3d8e40e3848efabe5e631460406176d3}\label{classcppgc_1_1subtle_1_1HeapState_a3d8e40e3848efabe5e631460406176d3}} 
\index{cppgc::subtle::HeapState@{cppgc::subtle::HeapState}!IsSweeping@{IsSweeping}}
\index{IsSweeping@{IsSweeping}!cppgc::subtle::HeapState@{cppgc::subtle::HeapState}}
\doxysubsubsection{\texorpdfstring{IsSweeping()}{IsSweeping()}}
{\footnotesize\ttfamily bool cppgc\+::subtle\+::\+Heap\+State\+::\+Is\+Sweeping (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&}]{heap\+\_\+handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 20 of file heap-\/state.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{20                                                         \{}
\DoxyCodeLine{21   \textcolor{keywordflow}{return} \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a19c54924cf647b00b3f196fef52f7b67}{internal::HeapBase::From}}(heap\_handle).\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_af5ff8bbde513d79002501f81c6798df9}{sweeper}}().\mbox{\hyperlink{classcppgc_1_1internal_1_1Sweeper_a20810eaca7b7e7220910491cdb9e586d}{IsSweepingInProgress}}();}
\DoxyCodeLine{22 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Heap\+Base\+::\+From(), cppgc\+::internal\+::\+Sweeper\+::\+Is\+Sweeping\+In\+Progress(), and cppgc\+::internal\+::\+Heap\+Base\+::sweeper().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1subtle_1_1HeapState_a3d8e40e3848efabe5e631460406176d3_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1subtle_1_1HeapState_aa4226827a2b1ea0ef747d7a970bbf375}\label{classcppgc_1_1subtle_1_1HeapState_aa4226827a2b1ea0ef747d7a970bbf375}} 
\index{cppgc::subtle::HeapState@{cppgc::subtle::HeapState}!IsSweepingOnOwningThread@{IsSweepingOnOwningThread}}
\index{IsSweepingOnOwningThread@{IsSweepingOnOwningThread}!cppgc::subtle::HeapState@{cppgc::subtle::HeapState}}
\doxysubsubsection{\texorpdfstring{IsSweepingOnOwningThread()}{IsSweepingOnOwningThread()}}
{\footnotesize\ttfamily bool cppgc\+::subtle\+::\+Heap\+State\+::\+Is\+Sweeping\+On\+Owning\+Thread (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&}]{heap\+\_\+handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 25 of file heap-\/state.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{25                                                                       \{}
\DoxyCodeLine{26   \textcolor{keywordflow}{return} \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a19c54924cf647b00b3f196fef52f7b67}{internal::HeapBase::From}}(heap\_handle)}
\DoxyCodeLine{27       .\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_af5ff8bbde513d79002501f81c6798df9}{sweeper}}()}
\DoxyCodeLine{28       .\mbox{\hyperlink{classcppgc_1_1internal_1_1Sweeper_a0fd0da301ca9e0e2f9eb2d7d6bfa7d0f}{IsSweepingOnMutatorThread}}();}
\DoxyCodeLine{29 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Heap\+Base\+::\+From(), cppgc\+::internal\+::\+Sweeper\+::\+Is\+Sweeping\+On\+Mutator\+Thread(), and cppgc\+::internal\+::\+Heap\+Base\+::sweeper().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1subtle_1_1HeapState_aa4226827a2b1ea0ef747d7a970bbf375_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1subtle_1_1HeapState_adb1b71faaa1fbbc107d1c027dc16c3c7}\label{classcppgc_1_1subtle_1_1HeapState_adb1b71faaa1fbbc107d1c027dc16c3c7}} 
\index{cppgc::subtle::HeapState@{cppgc::subtle::HeapState}!PreviousGCWasConservative@{PreviousGCWasConservative}}
\index{PreviousGCWasConservative@{PreviousGCWasConservative}!cppgc::subtle::HeapState@{cppgc::subtle::HeapState}}
\doxysubsubsection{\texorpdfstring{PreviousGCWasConservative()}{PreviousGCWasConservative()}}
{\footnotesize\ttfamily bool cppgc\+::subtle\+::\+Heap\+State\+::\+Previous\+GCWas\+Conservative (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcppgc_1_1HeapHandle}{Heap\+Handle}} \&}]{heap\+\_\+handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns whether the last garbage collection was finalized conservatively (i.\+e., with a non-\/empty stack). 

This API is experimental and is expected to be removed in future.


\begin{DoxyParams}{Parameters}
{\em heap\+\_\+handle} & The corresponding heap. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
true if the last garbage collection was finalized conservatively, and false otherwise. 
\end{DoxyReturn}


Definition at line 37 of file heap-\/state.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{37                                                                        \{}
\DoxyCodeLine{38   \textcolor{keywordflow}{return} \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a19c54924cf647b00b3f196fef52f7b67}{internal::HeapBase::From}}(heap\_handle).\mbox{\hyperlink{classcppgc_1_1internal_1_1HeapBase_a348af7f2adfa59de70e836ee4b62fe9e}{stack\_state\_of\_prev\_gc}}() ==}
\DoxyCodeLine{39          \mbox{\hyperlink{namespacecppgc_a91b484d5d6eea7664c25f4050c0d6eb8a480c3f61c9b87b2b070129e8ee24244a}{EmbedderStackState::kMayContainHeapPointers}};}
\DoxyCodeLine{40 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Heap\+Base\+::\+From(), cppgc\+::k\+May\+Contain\+Heap\+Pointers, and cppgc\+::internal\+::\+Heap\+Base\+::stack\+\_\+state\+\_\+of\+\_\+prev\+\_\+gc().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1subtle_1_1HeapState_adb1b71faaa1fbbc107d1c027dc16c3c7_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/cppgc/\mbox{\hyperlink{heap-state_8h}{heap-\/state.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/cppgc/\mbox{\hyperlink{heap-state_8cc}{heap-\/state.\+cc}}\end{DoxyCompactItemize}
