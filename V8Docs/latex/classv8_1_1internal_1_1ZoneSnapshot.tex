\hypertarget{classv8_1_1internal_1_1ZoneSnapshot}{}\doxysection{v8\+::internal\+::Zone\+Snapshot Class Reference}
\label{classv8_1_1internal_1_1ZoneSnapshot}\index{v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}}


{\ttfamily \#include $<$zone.\+h$>$}



Collaboration diagram for v8\+::internal\+::Zone\+Snapshot\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ZoneSnapshot__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_aec35d0e25a40e708d9f74f42c68769ec}{Restore}} (\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$zone) const
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_ae40be4a982ed76a9ef1cd74eee3b82b3}{Zone\+Snapshot}} (const \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$zone)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a5a72dec6030323ca9a74aedc9d32affc}{allocation\+\_\+size\+\_\+}}
\item 
const \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a6da2b61f434e811b496d38b601a68620}{segment\+\_\+bytes\+\_\+allocated\+\_\+}}
\item 
const \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a516b358479c2d276d958a6f540e6caac}{position\+\_\+}}
\item 
const \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a09ef6b6ac0162b91ec5a532fe607ead7}{limit\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Segment}{Segment}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_aa80198c905ef8f06b85c3f8db5d25dba}{segment\+\_\+head\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_ab13e5318cd36ec3d3215b9cda62605b5}{Zone}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 283 of file zone.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ZoneSnapshot_ae40be4a982ed76a9ef1cd74eee3b82b3}\label{classv8_1_1internal_1_1ZoneSnapshot_ae40be4a982ed76a9ef1cd74eee3b82b3}} 
\index{v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}!ZoneSnapshot@{ZoneSnapshot}}
\index{ZoneSnapshot@{ZoneSnapshot}!v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}}
\doxysubsubsection{\texorpdfstring{ZoneSnapshot()}{ZoneSnapshot()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Zone\+Snapshot\+::\+Zone\+Snapshot (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{zone }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}, {\ttfamily [private]}}



Definition at line 201 of file zone.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{202     :}
\DoxyCodeLine{203 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_PRECISE\_ZONE\_STATS}}
\DoxyCodeLine{204       allocation\_size\_for\_tracing\_(zone-\/>allocation\_size\_for\_tracing\_),}
\DoxyCodeLine{205       freed\_size\_for\_tracing\_(zone-\/>freed\_size\_for\_tracing\_),}
\DoxyCodeLine{206 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{207       \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a5a72dec6030323ca9a74aedc9d32affc}{allocation\_size\_}}(zone-\/>allocation\_size\_),}
\DoxyCodeLine{208       \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a6da2b61f434e811b496d38b601a68620}{segment\_bytes\_allocated\_}}(zone-\/>segment\_bytes\_allocated\_),}
\DoxyCodeLine{209       \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a516b358479c2d276d958a6f540e6caac}{position\_}}(zone-\/>position\_),}
\DoxyCodeLine{210       \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a09ef6b6ac0162b91ec5a532fe607ead7}{limit\_}}(zone-\/>limit\_),}
\DoxyCodeLine{211       \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_aa80198c905ef8f06b85c3f8db5d25dba}{segment\_head\_}}(zone-\/>segment\_head\_) \{}
\DoxyCodeLine{212 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ZoneSnapshot_aec35d0e25a40e708d9f74f42c68769ec}\label{classv8_1_1internal_1_1ZoneSnapshot_aec35d0e25a40e708d9f74f42c68769ec}} 
\index{v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}!Restore@{Restore}}
\index{Restore@{Restore}!v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}}
\doxysubsubsection{\texorpdfstring{Restore()}{Restore()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Zone\+Snapshot\+::\+Restore (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{zone }\end{DoxyParamCaption}) const}



Definition at line 214 of file zone.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{214                                            \{}
\DoxyCodeLine{215   \textcolor{comment}{// Release segments up to the stored segment\_head\_.}}
\DoxyCodeLine{216   Segment* current = zone-\/>segment\_head\_;}
\DoxyCodeLine{217   \textcolor{keywordflow}{while} (current != \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_aa80198c905ef8f06b85c3f8db5d25dba}{segment\_head\_}}) \{}
\DoxyCodeLine{218     \textcolor{comment}{// If this check failed, then either you passed a wrong zone, or the zone}}
\DoxyCodeLine{219     \textcolor{comment}{// was reset to an earlier snapshot already. We cannot move forward again.}}
\DoxyCodeLine{220     \mbox{\hyperlink{src_2base_2logging_8h_a9154b181227e4b02e465befe50219158}{CHECK\_NOT\_NULL}}(current);}
\DoxyCodeLine{221     Segment* next = current-\/>next();}
\DoxyCodeLine{222     zone-\/>ReleaseSegment(current);}
\DoxyCodeLine{223     current = next;}
\DoxyCodeLine{224   \}}
\DoxyCodeLine{225 }
\DoxyCodeLine{226   \textcolor{comment}{// Un-\/poison the trailing segment content so we can reuse or zap it later.}}
\DoxyCodeLine{227   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_aa80198c905ef8f06b85c3f8db5d25dba}{segment\_head\_}} != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{228     \textcolor{keywordtype}{void}* \textcolor{keyword}{const} start = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a516b358479c2d276d958a6f540e6caac}{position\_}});}
\DoxyCodeLine{229     \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(start, \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(current-\/>start()));}
\DoxyCodeLine{230     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(start, \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(current-\/>end()));}
\DoxyCodeLine{231     \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} = current-\/>end() -\/ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}\textcolor{keyword}{>}(start);}
\DoxyCodeLine{232     \mbox{\hyperlink{asan_8h_a1bde985325c2af6ffc519c47b9092f35}{ASAN\_UNPOISON\_MEMORY\_REGION}}(start, \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}});}
\DoxyCodeLine{233   \}}
\DoxyCodeLine{234 }
\DoxyCodeLine{235   \textcolor{comment}{// Reset the Zone to the stored state.}}
\DoxyCodeLine{236   zone-\/>allocation\_size\_ = \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a5a72dec6030323ca9a74aedc9d32affc}{allocation\_size\_}};}
\DoxyCodeLine{237   zone-\/>segment\_bytes\_allocated\_ = \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a6da2b61f434e811b496d38b601a68620}{segment\_bytes\_allocated\_}};}
\DoxyCodeLine{238   zone-\/>position\_ = \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a516b358479c2d276d958a6f540e6caac}{position\_}};}
\DoxyCodeLine{239   zone-\/>limit\_ = \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_a09ef6b6ac0162b91ec5a532fe607ead7}{limit\_}};}
\DoxyCodeLine{240   zone-\/>segment\_head\_ = \mbox{\hyperlink{classv8_1_1internal_1_1ZoneSnapshot_aa80198c905ef8f06b85c3f8db5d25dba}{segment\_head\_}};}
\DoxyCodeLine{241 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_PRECISE\_ZONE\_STATS}}
\DoxyCodeLine{242   zone-\/>allocation\_size\_for\_tracing\_ = allocation\_size\_for\_tracing\_;}
\DoxyCodeLine{243   zone-\/>freed\_size\_for\_tracing\_ = freed\_size\_for\_tracing\_;}
\DoxyCodeLine{244 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{245 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Zone\+::allocation\+\_\+size\+\_\+, allocation\+\_\+size\+\_\+, ASAN\+\_\+\+UNPOISON\+\_\+\+MEMORY\+\_\+\+REGION, CHECK\+\_\+\+NOT\+\_\+\+NULL, DCHECK\+\_\+\+GE, DCHECK\+\_\+\+LE, v8\+::internal\+::\+Segment\+::end(), v8\+::internal\+::length, v8\+::internal\+::\+Zone\+::limit\+\_\+, limit\+\_\+, v8\+::internal\+::\+Segment\+::next(), v8\+::internal\+::\+Zone\+::position\+\_\+, position\+\_\+, v8\+::internal\+::\+Zone\+::\+Release\+Segment(), v8\+::internal\+::\+Zone\+::segment\+\_\+bytes\+\_\+allocated\+\_\+, segment\+\_\+bytes\+\_\+allocated\+\_\+, v8\+::internal\+::\+Zone\+::segment\+\_\+head\+\_\+, segment\+\_\+head\+\_\+, and v8\+::internal\+::\+Segment\+::start().



Referenced by v8\+::internal\+::wasm\+::\+Type\+Canonicalizer\+::\+Add\+Recursive\+Group(), v8\+::internal\+::wasm\+::\+Type\+Canonicalizer\+::\+Add\+Recursive\+Singleton\+Group(), and v8\+::internal\+::\+Zone\+Scope\+::$\sim$\+Zone\+Scope().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ZoneSnapshot_aec35d0e25a40e708d9f74f42c68769ec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ZoneSnapshot_aec35d0e25a40e708d9f74f42c68769ec_icgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ZoneSnapshot_ab13e5318cd36ec3d3215b9cda62605b5}\label{classv8_1_1internal_1_1ZoneSnapshot_ab13e5318cd36ec3d3215b9cda62605b5}} 
\index{v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}!Zone@{Zone}}
\index{Zone@{Zone}!v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}}
\doxysubsubsection{\texorpdfstring{Zone}{Zone}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 291 of file zone.\+h.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ZoneSnapshot_a5a72dec6030323ca9a74aedc9d32affc}\label{classv8_1_1internal_1_1ZoneSnapshot_a5a72dec6030323ca9a74aedc9d32affc}} 
\index{v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}!allocation\_size\_@{allocation\_size\_}}
\index{allocation\_size\_@{allocation\_size\_}!v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}}
\doxysubsubsection{\texorpdfstring{allocation\_size\_}{allocation\_size\_}}
{\footnotesize\ttfamily const \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Zone\+Snapshot\+::allocation\+\_\+size\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 297 of file zone.\+h.



Referenced by Restore().

\mbox{\Hypertarget{classv8_1_1internal_1_1ZoneSnapshot_a09ef6b6ac0162b91ec5a532fe607ead7}\label{classv8_1_1internal_1_1ZoneSnapshot_a09ef6b6ac0162b91ec5a532fe607ead7}} 
\index{v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}!limit\_@{limit\_}}
\index{limit\_@{limit\_}!v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}}
\doxysubsubsection{\texorpdfstring{limit\_}{limit\_}}
{\footnotesize\ttfamily const \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} v8\+::internal\+::\+Zone\+Snapshot\+::limit\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 300 of file zone.\+h.



Referenced by Restore().

\mbox{\Hypertarget{classv8_1_1internal_1_1ZoneSnapshot_a516b358479c2d276d958a6f540e6caac}\label{classv8_1_1internal_1_1ZoneSnapshot_a516b358479c2d276d958a6f540e6caac}} 
\index{v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}!position\_@{position\_}}
\index{position\_@{position\_}!v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}}
\doxysubsubsection{\texorpdfstring{position\_}{position\_}}
{\footnotesize\ttfamily const \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} v8\+::internal\+::\+Zone\+Snapshot\+::position\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 299 of file zone.\+h.



Referenced by Restore().

\mbox{\Hypertarget{classv8_1_1internal_1_1ZoneSnapshot_a6da2b61f434e811b496d38b601a68620}\label{classv8_1_1internal_1_1ZoneSnapshot_a6da2b61f434e811b496d38b601a68620}} 
\index{v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}!segment\_bytes\_allocated\_@{segment\_bytes\_allocated\_}}
\index{segment\_bytes\_allocated\_@{segment\_bytes\_allocated\_}!v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}}
\doxysubsubsection{\texorpdfstring{segment\_bytes\_allocated\_}{segment\_bytes\_allocated\_}}
{\footnotesize\ttfamily const \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Zone\+Snapshot\+::segment\+\_\+bytes\+\_\+allocated\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 298 of file zone.\+h.



Referenced by Restore().

\mbox{\Hypertarget{classv8_1_1internal_1_1ZoneSnapshot_aa80198c905ef8f06b85c3f8db5d25dba}\label{classv8_1_1internal_1_1ZoneSnapshot_aa80198c905ef8f06b85c3f8db5d25dba}} 
\index{v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}!segment\_head\_@{segment\_head\_}}
\index{segment\_head\_@{segment\_head\_}!v8::internal::ZoneSnapshot@{v8::internal::ZoneSnapshot}}
\doxysubsubsection{\texorpdfstring{segment\_head\_}{segment\_head\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Segment}{Segment}}$\ast$ const v8\+::internal\+::\+Zone\+Snapshot\+::segment\+\_\+head\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 301 of file zone.\+h.



Referenced by Restore().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/zone/\mbox{\hyperlink{zone_8h}{zone.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/zone/\mbox{\hyperlink{zone_8cc}{zone.\+cc}}\end{DoxyCompactItemize}
