\hypertarget{classv8_1_1internal_1_1RememberedSetOperations}{}\doxysection{v8\+::internal\+::Remembered\+Set\+Operations Class Reference}
\label{classv8_1_1internal_1_1RememberedSetOperations}\index{v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}}


{\ttfamily \#include $<$remembered-\/set.\+h$>$}



Collaboration diagram for v8\+::internal\+::Remembered\+Set\+Operations\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=224pt]{classv8_1_1internal_1_1RememberedSetOperations__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$Access\+Mode access\+\_\+mode$>$ }\\static void \mbox{\hyperlink{classv8_1_1internal_1_1RememberedSetOperations_a745cc36ddd1740a32833fbc20280b127}{Insert}} (\mbox{\hyperlink{classv8_1_1internal_1_1SlotSet}{Slot\+Set}} $\ast$slot\+\_\+set, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} slot\+\_\+offset)
\item 
{\footnotesize template$<$Access\+Mode access\+\_\+mode = Access\+Mode\+::\+ATOMIC, typename Callback $>$ }\\static \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1RememberedSetOperations_a155fbb74a5c1a624940a9233398a31d4}{Iterate}} (\mbox{\hyperlink{classv8_1_1internal_1_1SlotSet}{Slot\+Set}} $\ast$slot\+\_\+set, const \mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$chunk, Callback callback, \mbox{\hyperlink{classheap_1_1base_1_1BasicSlotSet_a29cbe55a0c506ffa5e38391facbe7b99}{Slot\+Set\+::\+Empty\+Bucket\+Mode}} \mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}})
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1RememberedSetOperations_a1d97d8fd4f1509dfdc742967dca8232e}{Remove}} (\mbox{\hyperlink{classv8_1_1internal_1_1SlotSet}{Slot\+Set}} $\ast$slot\+\_\+set, \mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$chunk, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} slot\+\_\+addr)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1RememberedSetOperations_a8decb078f165c6529f81b2f7d1959612}{Remove\+Range}} (\mbox{\hyperlink{classv8_1_1internal_1_1SlotSet}{Slot\+Set}} $\ast$slot\+\_\+set, \mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$page, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} start, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} end, \mbox{\hyperlink{classheap_1_1base_1_1BasicSlotSet_a29cbe55a0c506ffa5e38391facbe7b99}{Slot\+Set\+::\+Empty\+Bucket\+Mode}} \mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}})
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1RememberedSetOperations_a58a3b1f1f691cfcc175c7d715afee35f}{Check\+None\+In\+Range}} (\mbox{\hyperlink{classv8_1_1internal_1_1SlotSet}{Slot\+Set}} $\ast$slot\+\_\+set, \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunk}{Memory\+Chunk}} $\ast$chunk, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} start, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} end)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 25 of file remembered-\/set.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1RememberedSetOperations_a58a3b1f1f691cfcc175c7d715afee35f}\label{classv8_1_1internal_1_1RememberedSetOperations_a58a3b1f1f691cfcc175c7d715afee35f}} 
\index{v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}!CheckNoneInRange@{CheckNoneInRange}}
\index{CheckNoneInRange@{CheckNoneInRange}!v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}}
\doxysubsubsection{\texorpdfstring{CheckNoneInRange()}{CheckNoneInRange()}}
{\footnotesize\ttfamily static void v8\+::internal\+::\+Remembered\+Set\+Operations\+::\+Check\+None\+In\+Range (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1SlotSet}{Slot\+Set}} $\ast$}]{slot\+\_\+set,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunk}{Memory\+Chunk}} $\ast$}]{chunk,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{start,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{end }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 70 of file remembered-\/set.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{71                                                            \{}
\DoxyCodeLine{72     \textcolor{keywordflow}{if} (slot\_set != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{73       \textcolor{keywordtype}{size\_t} start\_bucket = \mbox{\hyperlink{classheap_1_1base_1_1BasicSlotSet_afa93815525b0aaaca396e88f4284c03e}{SlotSet::BucketForSlot}}(chunk-\/>Offset(start));}
\DoxyCodeLine{74       \textcolor{comment}{// Both 'end' and 'end\_bucket' are exclusive limits, so do some index}}
\DoxyCodeLine{75       \textcolor{comment}{// juggling to make sure we get the right bucket even if the end address}}
\DoxyCodeLine{76       \textcolor{comment}{// is at the start of a bucket.}}
\DoxyCodeLine{77       \textcolor{keywordtype}{size\_t} end\_bucket = \mbox{\hyperlink{classheap_1_1base_1_1BasicSlotSet_afa93815525b0aaaca396e88f4284c03e}{SlotSet::BucketForSlot}}(}
\DoxyCodeLine{78                               chunk-\/>OffsetMaybeOutOfRange(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}) -\/ \mbox{\hyperlink{namespacev8_1_1internal_a12d50d7bb2c9d8a916ff0785e6eff241}{kTaggedSize}}) +}
\DoxyCodeLine{79                           1;}
\DoxyCodeLine{80       slot\_set-\/>Iterate(}
\DoxyCodeLine{81           chunk-\/>address(), start\_bucket, end\_bucket,}
\DoxyCodeLine{82           [start, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}](\mbox{\hyperlink{namespacev8_1_1internal_a5c81bf980e0cdd16e6f80a806701fd76}{MaybeObjectSlot}} slot) \{}
\DoxyCodeLine{83             CHECK(slot.address() < start || slot.address() >= end);}
\DoxyCodeLine{84             return KEEP\_SLOT;}
\DoxyCodeLine{85           \},}
\DoxyCodeLine{86           \mbox{\hyperlink{classheap_1_1base_1_1BasicSlotSet_a29cbe55a0c506ffa5e38391facbe7b99a4efc4c4f25d78020b61c9306c5968b0f}{SlotSet::KEEP\_EMPTY\_BUCKETS}});}
\DoxyCodeLine{87     \}}
\DoxyCodeLine{88   \}}

\end{DoxyCode}


References v8\+::internal\+::\+Memory\+Chunk\+::address(), heap\+::base\+::\+Basic\+Slot\+Set$<$ k\+Tagged\+Size $>$\+::\+Bucket\+For\+Slot(), v8\+::internal\+::compiler\+::end(), v8\+::internal\+::\+Slot\+Set\+::\+Iterate(), heap\+::base\+::\+Basic\+Slot\+Set$<$ k\+Tagged\+Size $>$\+::\+KEEP\+\_\+\+EMPTY\+\_\+\+BUCKETS, v8\+::internal\+::k\+Tagged\+Size, v8\+::internal\+::\+Memory\+Chunk\+::\+Offset(), and v8\+::internal\+::\+Memory\+Chunk\+::\+Offset\+Maybe\+Out\+Of\+Range().



Referenced by v8\+::internal\+::\+Remembered\+Set$<$ type $>$\+::\+Check\+None\+In\+Range().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1RememberedSetOperations_a58a3b1f1f691cfcc175c7d715afee35f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1RememberedSetOperations_a58a3b1f1f691cfcc175c7d715afee35f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1RememberedSetOperations_a745cc36ddd1740a32833fbc20280b127}\label{classv8_1_1internal_1_1RememberedSetOperations_a745cc36ddd1740a32833fbc20280b127}} 
\index{v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}!Insert@{Insert}}
\index{Insert@{Insert}!v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}}
\doxysubsubsection{\texorpdfstring{Insert()}{Insert()}}
{\footnotesize\ttfamily template$<$Access\+Mode access\+\_\+mode$>$ \\
static void v8\+::internal\+::\+Remembered\+Set\+Operations\+::\+Insert (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1SlotSet}{Slot\+Set}} $\ast$}]{slot\+\_\+set,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{slot\+\_\+offset }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 30 of file remembered-\/set.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{30                                                             \{}
\DoxyCodeLine{31     slot\_set-\/>Insert<access\_mode == \mbox{\hyperlink{namespacev8_1_1internal_ade1fa6c3f4fadb82080eb655686b6ebcaef668eed93582ab6729f8a7e679d4f4a}{v8::internal::AccessMode::ATOMIC}}}
\DoxyCodeLine{32                          ? v8::internal::SlotSet::AccessMode::ATOMIC}
\DoxyCodeLine{33                          : v8::internal::SlotSet::AccessMode::NON\_ATOMIC>(}
\DoxyCodeLine{34         slot\_offset);}
\DoxyCodeLine{35   \}}

\end{DoxyCode}


References v8\+::internal\+::\+ATOMIC, and heap\+::base\+::\+Basic\+Slot\+Set$<$ Slot\+Granularity $>$\+::\+Insert().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1RememberedSetOperations_a745cc36ddd1740a32833fbc20280b127_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1RememberedSetOperations_a155fbb74a5c1a624940a9233398a31d4}\label{classv8_1_1internal_1_1RememberedSetOperations_a155fbb74a5c1a624940a9233398a31d4}} 
\index{v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}!Iterate@{Iterate}}
\index{Iterate@{Iterate}!v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}}
\doxysubsubsection{\texorpdfstring{Iterate()}{Iterate()}}
{\footnotesize\ttfamily template$<$Access\+Mode access\+\_\+mode = Access\+Mode\+::\+ATOMIC, typename Callback $>$ \\
static \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Remembered\+Set\+Operations\+::\+Iterate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1SlotSet}{Slot\+Set}} $\ast$}]{slot\+\_\+set,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$}]{chunk,  }\item[{Callback}]{callback,  }\item[{\mbox{\hyperlink{classheap_1_1base_1_1BasicSlotSet_a29cbe55a0c506ffa5e38391facbe7b99}{Slot\+Set\+::\+Empty\+Bucket\+Mode}}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 38 of file remembered-\/set.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{39                                                                      \{}
\DoxyCodeLine{40     \textcolor{keywordtype}{int} slots = 0;}
\DoxyCodeLine{41     \textcolor{keywordflow}{if} (slot\_set != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{42       slots += slot\_set-\/>Iterate<access\_mode>(}
\DoxyCodeLine{43           chunk-\/>ChunkAddress(), 0, chunk-\/>BucketsInSlotSet(), callback, \mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}});}
\DoxyCodeLine{44     \}}
\DoxyCodeLine{45     \textcolor{keywordflow}{return} slots;}
\DoxyCodeLine{46   \}}

\end{DoxyCode}


References v8\+::internal\+::\+Mutable\+Page\+Metadata\+::\+Buckets\+In\+Slot\+Set(), v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::\+Chunk\+Address(), v8\+::internal\+::\+Slot\+Set\+::\+Iterate(), and mode().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1RememberedSetOperations_a155fbb74a5c1a624940a9233398a31d4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1RememberedSetOperations_a1d97d8fd4f1509dfdc742967dca8232e}\label{classv8_1_1internal_1_1RememberedSetOperations_a1d97d8fd4f1509dfdc742967dca8232e}} 
\index{v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}!Remove@{Remove}}
\index{Remove@{Remove}!v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}}
\doxysubsubsection{\texorpdfstring{Remove()}{Remove()}}
{\footnotesize\ttfamily static void v8\+::internal\+::\+Remembered\+Set\+Operations\+::\+Remove (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1SlotSet}{Slot\+Set}} $\ast$}]{slot\+\_\+set,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$}]{chunk,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{slot\+\_\+addr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 48 of file remembered-\/set.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{49                                         \{}
\DoxyCodeLine{50     \textcolor{keywordflow}{if} (slot\_set != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{51       \mbox{\hyperlink{classuintptr__t}{uintptr\_t}} offset = chunk-\/>Offset(slot\_addr);}
\DoxyCodeLine{52       slot\_set-\/>Remove(offset);}
\DoxyCodeLine{53     \}}
\DoxyCodeLine{54   \}}

\end{DoxyCode}


References v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::\+Offset(), and heap\+::base\+::\+Basic\+Slot\+Set$<$ Slot\+Granularity $>$\+::\+Remove().



Referenced by v8\+::internal\+::\+Remembered\+Set$<$ type $>$\+::\+Remove().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1RememberedSetOperations_a1d97d8fd4f1509dfdc742967dca8232e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1RememberedSetOperations_a1d97d8fd4f1509dfdc742967dca8232e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1RememberedSetOperations_a8decb078f165c6529f81b2f7d1959612}\label{classv8_1_1internal_1_1RememberedSetOperations_a8decb078f165c6529f81b2f7d1959612}} 
\index{v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}!RemoveRange@{RemoveRange}}
\index{RemoveRange@{RemoveRange}!v8::internal::RememberedSetOperations@{v8::internal::RememberedSetOperations}}
\doxysubsubsection{\texorpdfstring{RemoveRange()}{RemoveRange()}}
{\footnotesize\ttfamily static void v8\+::internal\+::\+Remembered\+Set\+Operations\+::\+Remove\+Range (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1SlotSet}{Slot\+Set}} $\ast$}]{slot\+\_\+set,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$}]{page,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{start,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{end,  }\item[{\mbox{\hyperlink{classheap_1_1base_1_1BasicSlotSet_a29cbe55a0c506ffa5e38391facbe7b99}{Slot\+Set\+::\+Empty\+Bucket\+Mode}}}]{mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 56 of file remembered-\/set.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{58                                                        \{}
\DoxyCodeLine{59     \textcolor{keywordflow}{if} (slot\_set != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{60       MemoryChunk* chunk = page-\/>Chunk();}
\DoxyCodeLine{61       \mbox{\hyperlink{classuintptr__t}{uintptr\_t}} start\_offset = chunk-\/>Offset(start);}
\DoxyCodeLine{62       \mbox{\hyperlink{classuintptr__t}{uintptr\_t}} end\_offset = chunk-\/>OffsetMaybeOutOfRange(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{63       \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(start\_offset, end\_offset);}
\DoxyCodeLine{64       slot\_set-\/>RemoveRange(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(start\_offset),}
\DoxyCodeLine{65                             \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(end\_offset),}
\DoxyCodeLine{66                             page-\/>BucketsInSlotSet(), \mbox{\hyperlink{flag-definitions_8h_adaf90f045d5cd2710edd625b8685472a}{mode}});}
\DoxyCodeLine{67     \}}
\DoxyCodeLine{68   \}}

\end{DoxyCode}


References v8\+::internal\+::\+Mutable\+Page\+Metadata\+::\+Buckets\+In\+Slot\+Set(), v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::\+Chunk(), DCHECK\+\_\+\+LE, v8\+::internal\+::compiler\+::end(), mode(), v8\+::internal\+::\+Memory\+Chunk\+::\+Offset(), v8\+::internal\+::\+Memory\+Chunk\+::\+Offset\+Maybe\+Out\+Of\+Range(), and heap\+::base\+::\+Basic\+Slot\+Set$<$ Slot\+Granularity $>$\+::\+Remove\+Range().



Referenced by v8\+::internal\+::\+Remembered\+Set$<$ type $>$\+::\+Remove\+Range().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1RememberedSetOperations_a8decb078f165c6529f81b2f7d1959612_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1RememberedSetOperations_a8decb078f165c6529f81b2f7d1959612_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{remembered-set_8h}{remembered-\/set.\+h}}\end{DoxyCompactItemize}
