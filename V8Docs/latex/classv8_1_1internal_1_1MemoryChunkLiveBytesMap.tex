\hypertarget{classv8_1_1internal_1_1MemoryChunkLiveBytesMap}{}\doxysection{v8\+::internal\+::Memory\+Chunk\+Live\+Bytes\+Map Class Reference}
\label{classv8_1_1internal_1_1MemoryChunkLiveBytesMap}\index{v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}}


Collaboration diagram for v8\+::internal\+::Memory\+Chunk\+Live\+Bytes\+Map\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1MemoryChunkLiveBytesMap__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1MemoryChunkLiveBytesMap_1_1Entry}{Entry}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_acbb7065838e3370c97a5c2f5fffc9407}{Memory\+Chunk\+Live\+Bytes\+Map}} ()=default
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_abd31a60f70b38b45aa33c287657b3a23}{Memory\+Chunk\+Live\+Bytes\+Map}} (const \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap}{Memory\+Chunk\+Live\+Bytes\+Map}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap}{Memory\+Chunk\+Live\+Bytes\+Map}} \& \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a5fa389c423708645bb3e28b4c3c74209}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap}{Memory\+Chunk\+Live\+Bytes\+Map}} \&)=delete
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a223f20bc37996d4a0edeec6b16068c7d}{Increment}} (\mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$page, intptr\+\_\+t live)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_ae76ce5e4c735aa83d862778bce9bf60d}{Flush\+And\+Clear}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a00a0843c480b7dca90fee21e12859440}{Erase}} (\mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$page)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1MemoryChunkLiveBytesMap_1_1Entry}{Entry}} \& \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a9947247a5c708dc58f43c1553c3a666b}{lookup\+\_\+entry}} (\mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$page)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::array$<$ \mbox{\hyperlink{structv8_1_1internal_1_1MemoryChunkLiveBytesMap_1_1Entry}{Entry}}, \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a130f379f2af6d25ad32c6cc0cbc15a6f}{k\+Table\+Size}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a7df54a2195bc6cf00757512c5cf5740b}{map\+\_\+}} = \{\}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a130f379f2af6d25ad32c6cc0cbc15a6f}{k\+Table\+Size}} = 32
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 65 of file concurrent-\/marking.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_acbb7065838e3370c97a5c2f5fffc9407}\label{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_acbb7065838e3370c97a5c2f5fffc9407}} 
\index{v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}!MemoryChunkLiveBytesMap@{MemoryChunkLiveBytesMap}}
\index{MemoryChunkLiveBytesMap@{MemoryChunkLiveBytesMap}!v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}}
\doxysubsubsection{\texorpdfstring{MemoryChunkLiveBytesMap()}{MemoryChunkLiveBytesMap()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::\+Memory\+Chunk\+Live\+Bytes\+Map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [default]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_abd31a60f70b38b45aa33c287657b3a23}\label{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_abd31a60f70b38b45aa33c287657b3a23}} 
\index{v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}!MemoryChunkLiveBytesMap@{MemoryChunkLiveBytesMap}}
\index{MemoryChunkLiveBytesMap@{MemoryChunkLiveBytesMap}!v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}}
\doxysubsubsection{\texorpdfstring{MemoryChunkLiveBytesMap()}{MemoryChunkLiveBytesMap()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::\+Memory\+Chunk\+Live\+Bytes\+Map (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap}{Memory\+Chunk\+Live\+Bytes\+Map}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a00a0843c480b7dca90fee21e12859440}\label{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a00a0843c480b7dca90fee21e12859440}} 
\index{v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}!Erase@{Erase}}
\index{Erase@{Erase}!v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}}
\doxysubsubsection{\texorpdfstring{Erase()}{Erase()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::\+Erase (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$}]{page }\end{DoxyParamCaption})}



Definition at line 114 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{114                                                              \{}
\DoxyCodeLine{115   Entry\& entry = \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a9947247a5c708dc58f43c1553c3a666b}{lookup\_entry}}(page);}
\DoxyCodeLine{116   \textcolor{keywordflow}{if} (entry.page == page) \{}
\DoxyCodeLine{117     entry.page = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{118     entry.live\_bytes = 0;}
\DoxyCodeLine{119   \}}
\DoxyCodeLine{120 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::\+Entry\+::live\+\_\+bytes, lookup\+\_\+entry(), and v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::\+Entry\+::page.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a00a0843c480b7dca90fee21e12859440_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_ae76ce5e4c735aa83d862778bce9bf60d}\label{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_ae76ce5e4c735aa83d862778bce9bf60d}} 
\index{v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}!FlushAndClear@{FlushAndClear}}
\index{FlushAndClear@{FlushAndClear}!v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}}
\doxysubsubsection{\texorpdfstring{FlushAndClear()}{FlushAndClear()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::\+Flush\+And\+Clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 122 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{122                                             \{}
\DoxyCodeLine{123   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& entry : \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a7df54a2195bc6cf00757512c5cf5740b}{map\_}}) \{}
\DoxyCodeLine{124     \textcolor{keywordflow}{if} (entry.page) \{}
\DoxyCodeLine{125       entry.page-\/>IncrementLiveBytesAtomically(entry.live\_bytes);}
\DoxyCodeLine{126       entry.page = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{127       entry.live\_bytes = 0;}
\DoxyCodeLine{128     \}}
\DoxyCodeLine{129   \}}
\DoxyCodeLine{130 \}}

\end{DoxyCode}


References map\+\_\+.

\mbox{\Hypertarget{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a223f20bc37996d4a0edeec6b16068c7d}\label{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a223f20bc37996d4a0edeec6b16068c7d}} 
\index{v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}!Increment@{Increment}}
\index{Increment@{Increment}!v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}}
\doxysubsubsection{\texorpdfstring{Increment()}{Increment()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::\+Increment (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$}]{page,  }\item[{intptr\+\_\+t}]{live }\end{DoxyParamCaption})}



Definition at line 97 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{98                                                         \{}
\DoxyCodeLine{99   Entry\& entry = \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a9947247a5c708dc58f43c1553c3a666b}{lookup\_entry}}(page);}
\DoxyCodeLine{100   \textcolor{keywordflow}{if} (entry.page == page) \{}
\DoxyCodeLine{101     entry.live\_bytes += bytes;}
\DoxyCodeLine{102   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (entry.page == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{103     entry.page = page;}
\DoxyCodeLine{104     entry.live\_bytes = bytes;}
\DoxyCodeLine{105   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{106     \textcolor{comment}{// Write back the existing entry.}}
\DoxyCodeLine{107     entry.page-\/>IncrementLiveBytesAtomically(entry.live\_bytes);}
\DoxyCodeLine{108     \textcolor{comment}{// Now just replace it with the new entry.}}
\DoxyCodeLine{109     entry.page = page;}
\DoxyCodeLine{110     entry.live\_bytes = bytes;}
\DoxyCodeLine{111   \}}
\DoxyCodeLine{112 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Mutable\+Page\+Metadata\+::\+Increment\+Live\+Bytes\+Atomically(), v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::\+Entry\+::live\+\_\+bytes, lookup\+\_\+entry(), and v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::\+Entry\+::page.



Referenced by v8\+::internal\+::\+Concurrent\+Marking\+Visitor\+::\+Increment\+Live\+Bytes\+Cached().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a223f20bc37996d4a0edeec6b16068c7d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a223f20bc37996d4a0edeec6b16068c7d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a9947247a5c708dc58f43c1553c3a666b}\label{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a9947247a5c708dc58f43c1553c3a666b}} 
\index{v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}!lookup\_entry@{lookup\_entry}}
\index{lookup\_entry@{lookup\_entry}!v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}}
\doxysubsubsection{\texorpdfstring{lookup\_entry()}{lookup\_entry()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1MemoryChunkLiveBytesMap_1_1Entry}{Entry}}\& v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::lookup\+\_\+entry (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MutablePageMetadata}{Mutable\+Page\+Metadata}} $\ast$}]{page }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 88 of file concurrent-\/marking.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{88                                                  \{}
\DoxyCodeLine{89     \textcolor{keywordtype}{size\_t} hash = std::hash<MutablePageMetadata*>\{\}(page);}
\DoxyCodeLine{90     static\_assert(\mbox{\hyperlink{namespacev8_1_1base_1_1bits_af9eb752b538fa8a66badab8f26e0e000}{base::bits::IsPowerOfTwo}}(\mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a130f379f2af6d25ad32c6cc0cbc15a6f}{kTableSize}}));}
\DoxyCodeLine{91     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a7df54a2195bc6cf00757512c5cf5740b}{map\_}}[hash \% \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a130f379f2af6d25ad32c6cc0cbc15a6f}{kTableSize}}];}
\DoxyCodeLine{92   \}}

\end{DoxyCode}


References v8\+::base\+::bits\+::\+Is\+Power\+Of\+Two(), k\+Table\+Size, and map\+\_\+.



Referenced by Erase(), and Increment().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a9947247a5c708dc58f43c1553c3a666b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a9947247a5c708dc58f43c1553c3a666b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a5fa389c423708645bb3e28b4c3c74209}\label{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a5fa389c423708645bb3e28b4c3c74209}} 
\index{v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap}{Memory\+Chunk\+Live\+Bytes\+Map}}\& v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap}{Memory\+Chunk\+Live\+Bytes\+Map}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a130f379f2af6d25ad32c6cc0cbc15a6f}\label{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a130f379f2af6d25ad32c6cc0cbc15a6f}} 
\index{v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}!kTableSize@{kTableSize}}
\index{kTableSize@{kTableSize}!v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}}
\doxysubsubsection{\texorpdfstring{kTableSize}{kTableSize}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::k\+Table\+Size = 32\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}



Definition at line 86 of file concurrent-\/marking.\+cc.



Referenced by lookup\+\_\+entry().

\mbox{\Hypertarget{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a7df54a2195bc6cf00757512c5cf5740b}\label{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a7df54a2195bc6cf00757512c5cf5740b}} 
\index{v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}!map\_@{map\_}}
\index{map\_@{map\_}!v8::internal::MemoryChunkLiveBytesMap@{v8::internal::MemoryChunkLiveBytesMap}}
\doxysubsubsection{\texorpdfstring{map\_}{map\_}}
{\footnotesize\ttfamily std\+::array$<$\mbox{\hyperlink{structv8_1_1internal_1_1MemoryChunkLiveBytesMap_1_1Entry}{Entry}}, \mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunkLiveBytesMap_a130f379f2af6d25ad32c6cc0cbc15a6f}{k\+Table\+Size}}$>$ v8\+::internal\+::\+Memory\+Chunk\+Live\+Bytes\+Map\+::map\+\_\+ = \{\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 94 of file concurrent-\/marking.\+cc.



Referenced by Flush\+And\+Clear(), and lookup\+\_\+entry().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{concurrent-marking_8cc}{concurrent-\/marking.\+cc}}\end{DoxyCompactItemize}
