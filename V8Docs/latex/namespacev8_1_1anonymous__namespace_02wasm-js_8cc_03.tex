\hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03}{}\doxysection{v8\+::anonymous\+\_\+namespace\{wasm-\/js.cc\} Namespace Reference}
\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03}\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03}{anonymous\+\_\+namespace\{wasm-\/js.\+cc\}}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i\+::\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{i\+::\+String}} $>$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a134697b93e055ed94fb9f0922c75e9d3}{v8\+\_\+str}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i\+::\+Isolate}} $\ast$isolate, const char $\ast$str)
\item 
\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1String}{String}} $>$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\+\_\+str}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, const char $\ast$str)
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae01fffe033c01485019507b9e0932b21}{Get\+First\+Argument\+As\+Bytes}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info, size\+\_\+t max\+\_\+length, Error\+Thrower $\ast$thrower, bool $\ast$is\+\_\+shared)
\item 
\mbox{\hyperlink{classv8_1_1base_1_1OwnedVector}{base\+::\+Owned\+Vector}}$<$ const uint8\+\_\+t $>$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67}{Get\+And\+Copy\+First\+Argument\+As\+Bytes}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info, size\+\_\+t max\+\_\+length, Error\+Thrower $\ast$thrower)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a9829d4bd6b0d386c48b2220d16fdb5c5}{Web\+Assembly\+Compile\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2736eaaacaa0f666c3ecc732a6f740ea}{Wasm\+Streaming\+Callback\+For\+Testing}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a25ca8135bb0b20cdf89ea80e484efa2f}{Wasm\+Streaming\+Promise\+Failed\+Callback}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a80df3bb5366d6ec83e382c06d65a17c6}{Start\+Async\+Compilation\+With\+Resolver}} (Wasm\+JSApi\+Scope \&js\+\_\+api\+\_\+scope, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ response\+\_\+or\+\_\+promise, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ options\+\_\+arg\+\_\+value, std\+::shared\+\_\+ptr$<$ i\+::wasm\+::\+Compilation\+Result\+Resolver $>$ resolver)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23e73fb88240f64540fadc2c56c93a1}{Web\+Assembly\+Compile\+Streaming}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa00e99e86bb5e0bcdde5308c3b924c45}{Web\+Assembly\+Validate\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aeccc9e8fae6961c23699b202bb751160}{Web\+Assembly\+Module\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa8666752c68eedb8e6137f879a6f2444}{Web\+Assembly\+Module\+Imports\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa5d34663209df90b28f9f17aaf6eda5b}{Web\+Assembly\+Module\+Exports\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a42ea0b3bd1920f543bf97b345275e517}{Web\+Assembly\+Module\+Custom\+Sections\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a8fc0faf002730cf5f7c4ef50a647671f}{Web\+Assembly\+Instance\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae46de88e70ad47716f44e4bb74c8b44d}{Web\+Assembly\+Instantiate\+Streaming}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a5c9fb33b2596c8b7b7834e4d71f2645c}{Web\+Assembly\+Instantiate\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af8c6d861773fb2c5a56b9929ec87d2df}{Web\+Assembly\+Table\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2e84efb3ddc838b4645d1dd7ded761e6}{Web\+Assembly\+Memory\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0d65454a5c0bd1202bec0c61b96c54e3}{Web\+Assembly\+Memory\+Map\+Descriptor\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
std\+::optional$<$ i\+::wasm\+::\+Value\+Type $>$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5}{Get\+Value\+Type}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1MaybeLocal}{Maybe\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ maybe, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Context}{Context}} $>$ context, Wasm\+Enabled\+Features enabled\+\_\+features)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac6db6d9d019560128460f337b6d48055}{Web\+Assembly\+Global\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa725e4c20fcbf8aa32c453db61f2eb52}{Web\+Assembly\+Tag\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6fdd90c4ae4ce048cda630ce1be94ef8}{Web\+Assembly\+Exception\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i\+::\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{i\+::\+JSFunction}} $>$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af380767a60da1e8f57fc90501286702a}{New\+Promising\+Wasm\+Exported\+Function}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i\+::\+Isolate}} $\ast$i\+\_\+isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i\+::\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmExportedFunctionData}{i\+::\+Wasm\+Exported\+Function\+Data}} $>$ data, Error\+Thrower \&thrower)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac70d98b3dfb9bcdb067ff8a7a713926e}{Web\+Assembly\+Function}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af2970aa8c31b970d7b3a7c100d439cf6}{Web\+Assembly\+Promising}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab0c0a787d5c8f47ec9cd549345c95fad}{Web\+Assembly\+Suspending\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a22e798f57b4d736ad3f5c535c380864d}{Web\+Assembly\+Descriptor\+Options\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a82b07981395ae632c3887915a53d27a2}{Web\+Assembly\+Function\+Type}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a772092d5f5db10950319b4c21c8286b9}{Web\+Assembly\+Instance\+Get\+Exports\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ad80f78a54c70dfcb6788270747bf1aff}{Web\+Assembly\+Table\+Get\+Length\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a33eae2ff47c44aadd35fd800fa9daf40}{Web\+Assembly\+Table\+Grow\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_abd5d211a75f47e5711a1a1c31b365848}{Web\+Assembly\+Table\+Get\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a93e08326b017c12ec308795bc251bf91}{Web\+Assembly\+Table\+Set\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acaccef9db6ddc927c8e58fb29de30502}{Web\+Assembly\+Table\+Type}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ad88a20b7927c5f3bb502562c3fe13a9e}{Web\+Assembly\+Memory\+Map\+Descriptor\+Map\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab146c4d87439fed3d5e3d2b4b208001d}{Web\+Assembly\+Memory\+Map\+Descriptor\+Unmap\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23cbc8313cd6650a88a426e842eedf4}{Web\+Assembly\+Memory\+Grow\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a335ab82e09665d4075f3f17d8bde25c5}{Web\+Assembly\+Memory\+Get\+Buffer\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a95b8b79845e1cbc4f3d5f803d8ad7364}{Web\+Assembly\+Memory\+To\+Fixed\+Length\+Buffer\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acd85f9674aa494e9069e26cd8c5b10ae}{Web\+Assembly\+Memory\+To\+Resizable\+Buffer\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4efe057cb210e2909aa30b47767a7c01}{Web\+Assembly\+Memory\+Type}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4205bbb2cdbecd8548f0062a0158fd6a}{Web\+Assembly\+Tag\+Type}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a89952a68736479a3740810e5651682ee}{Web\+Assembly\+Exception\+Get\+Arg\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0b20f4d4fbe2dc1a4bfb89b8daeba0bf}{Web\+Assembly\+Exception\+Is\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa3bf6a1daf198c9567f2d6bc63294ced}{Web\+Assembly\+Global\+Get\+Value\+Common}} (Wasm\+JSApi\+Scope \&js\+\_\+api\+\_\+scope)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab6dba74128ea0189c1e064841b7470be}{Web\+Assembly\+Global\+Value\+Of\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aace3f8d67a6c83e6147a786d0d155b04}{Web\+Assembly\+Global\+Get\+Value\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0445641ba7db42f32e5fc96d543b9bfb}{Web\+Assembly\+Global\+Set\+Value\+Impl}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\item 
void \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aecd2a67ed5f761d905eed967a5a4e9e4}{Web\+Assembly\+Global\+Type}} (const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&info)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
constexpr const char $\ast$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af398e8b74dcf07c921819d41525529d3}{k\+Name\+\_\+\+Wasm\+Global\+Object}} = \char`\"{}Web\+Assembly.\+Global\char`\"{}
\item 
constexpr const char $\ast$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a8cd6b449f31123f7fe548313c558da37}{k\+Name\+\_\+\+Wasm\+Memory\+Object}} = \char`\"{}Web\+Assembly.\+Memory\char`\"{}
\item 
constexpr const char $\ast$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a95401e7d95c8bb9ab309cb3875c9a403}{k\+Name\+\_\+\+Wasm\+Memory\+Map\+Descriptor}}
\item 
constexpr const char $\ast$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acbe81b55a2dd9d5e4d981542f50b4f98}{k\+Name\+\_\+\+Wasm\+Instance\+Object}} = \char`\"{}Web\+Assembly.\+Instance\char`\"{}
\item 
constexpr const char $\ast$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2fe24af2c267a2334b39850944e39549}{k\+Name\+\_\+\+Wasm\+Table\+Object}} = \char`\"{}Web\+Assembly.\+Table\char`\"{}
\item 
constexpr const char $\ast$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a1dac09354501498a47e41e530f2b77f3}{k\+Name\+\_\+\+Wasm\+Tag\+Object}} = \char`\"{}Web\+Assembly.\+Tag\char`\"{}
\item 
constexpr const char $\ast$ \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a12bb9a1d5a119f47fd37d71d197381a9}{k\+Name\+\_\+\+Wasm\+Exception\+Package}} = \char`\"{}Web\+Assembly.\+Exception\char`\"{}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!GetAndCopyFirstArgumentAsBytes@{GetAndCopyFirstArgumentAsBytes}}
\index{GetAndCopyFirstArgumentAsBytes@{GetAndCopyFirstArgumentAsBytes}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GetAndCopyFirstArgumentAsBytes()}{GetAndCopyFirstArgumentAsBytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1OwnedVector}{base\+::\+Owned\+Vector}}$<$const uint8\+\_\+t$>$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Get\+And\+Copy\+First\+Argument\+As\+Bytes (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info,  }\item[{size\+\_\+t}]{max\+\_\+length,  }\item[{Error\+Thrower $\ast$}]{thrower }\end{DoxyParamCaption})}



Definition at line 243 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{245                            \{}
\DoxyCodeLine{246   \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacev8_1_1internal_adee95482032a93e07f59341fed5c909f}{is\_shared}} = \textcolor{keyword}{false};}
\DoxyCodeLine{247   base::Vector<const uint8\_t> bytes =}
\DoxyCodeLine{248       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae01fffe033c01485019507b9e0932b21}{GetFirstArgumentAsBytes}}(info, max\_length, thrower, \&\mbox{\hyperlink{namespacev8_1_1internal_adee95482032a93e07f59341fed5c909f}{is\_shared}});}
\DoxyCodeLine{249   \textcolor{keywordflow}{if} (bytes.empty()) \{}
\DoxyCodeLine{250     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{251   \}}
\DoxyCodeLine{252 }
\DoxyCodeLine{253   \textcolor{comment}{// Use relaxed reads (and writes, which is unnecessary here) to avoid TSan}}
\DoxyCodeLine{254   \textcolor{comment}{// reports in case the buffer is shared and is being modified concurrently.}}
\DoxyCodeLine{255   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = base::OwnedVector<uint8\_t>::NewForOverwrite(bytes.size());}
\DoxyCodeLine{256   \mbox{\hyperlink{namespacev8_1_1base_a7a5e1c490a7a7606fdc230f5779db6f0}{base::Relaxed\_Memcpy}}(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1base_aee15b21aa31a7bcb340576c631d28141}{base::Atomic8}}*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.begin()),}
\DoxyCodeLine{257                        \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{namespacev8_1_1base_aee15b21aa31a7bcb340576c631d28141}{base::Atomic8}}*\textcolor{keyword}{>}(bytes.data()),}
\DoxyCodeLine{258                        bytes.size());}
\DoxyCodeLine{259   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{260 \}}

\end{DoxyCode}


References v8\+::base\+::\+Vector$<$ T $>$\+::data(), v8\+::base\+::\+Vector$<$ T $>$\+::empty(), Get\+First\+Argument\+As\+Bytes(), v8\+::internal\+::is\+\_\+shared, v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::\+New\+For\+Overwrite(), v8\+::base\+::\+Relaxed\+\_\+\+Memcpy(), v8\+::base\+::internal\+::result, and v8\+::base\+::\+Vector$<$ T $>$\+::size().



Referenced by Wasm\+Streaming\+Callback\+For\+Testing(), Web\+Assembly\+Compile\+Impl(), Web\+Assembly\+Instantiate\+Impl(), and Web\+Assembly\+Module\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae01fffe033c01485019507b9e0932b21}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae01fffe033c01485019507b9e0932b21}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!GetFirstArgumentAsBytes@{GetFirstArgumentAsBytes}}
\index{GetFirstArgumentAsBytes@{GetFirstArgumentAsBytes}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GetFirstArgumentAsBytes()}{GetFirstArgumentAsBytes()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$const uint8\+\_\+t$>$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Get\+First\+Argument\+As\+Bytes (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info,  }\item[{size\+\_\+t}]{max\+\_\+length,  }\item[{Error\+Thrower $\ast$}]{thrower,  }\item[{bool $\ast$}]{is\+\_\+shared }\end{DoxyParamCaption})}



Definition at line 198 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{200                                             \{}
\DoxyCodeLine{201   \textcolor{keyword}{const} uint8\_t* start = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{202   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} = 0;}
\DoxyCodeLine{203   \mbox{\hyperlink{classv8_1_1Local}{v8::Local<v8::Value>}} source = info[0];}
\DoxyCodeLine{204   \textcolor{keywordflow}{if} (source-\/>\mbox{\hyperlink{classv8_1_1Value_a62c732277023d09f5e5a54eaa2846853}{IsArrayBuffer}}()) \{}
\DoxyCodeLine{205     \textcolor{comment}{// A raw array buffer was passed.}}
\DoxyCodeLine{206     Local<ArrayBuffer> buffer = \mbox{\hyperlink{namespacev8_1_1internal_a94c4a6c4ad3993b5e0e43bc2191c084b}{Local<ArrayBuffer>::Cast}}(source);}
\DoxyCodeLine{207     \textcolor{keyword}{auto} backing\_store = buffer-\/>GetBackingStore();}
\DoxyCodeLine{208 }
\DoxyCodeLine{209     start = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }uint8\_t*\textcolor{keyword}{>}(backing\_store-\/>Data());}
\DoxyCodeLine{210     \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} = backing\_store-\/>ByteLength();}
\DoxyCodeLine{211     *\mbox{\hyperlink{namespacev8_1_1internal_adee95482032a93e07f59341fed5c909f}{is\_shared}} = buffer-\/>IsSharedArrayBuffer();}
\DoxyCodeLine{212   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (source-\/>\mbox{\hyperlink{classv8_1_1Value_a01183cf30ba5e6383cdca82daee630d8}{IsTypedArray}}()) \{}
\DoxyCodeLine{213     \textcolor{comment}{// A TypedArray was passed.}}
\DoxyCodeLine{214     Local<TypedArray> array = \mbox{\hyperlink{namespacev8_1_1internal_a94c4a6c4ad3993b5e0e43bc2191c084b}{Local<TypedArray>::Cast}}(source);}
\DoxyCodeLine{215     Local<ArrayBuffer> buffer = array-\/>Buffer();}
\DoxyCodeLine{216 }
\DoxyCodeLine{217     \textcolor{keyword}{auto} backing\_store = buffer-\/>GetBackingStore();}
\DoxyCodeLine{218 }
\DoxyCodeLine{219     start = \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }uint8\_t*\textcolor{keyword}{>}(backing\_store-\/>Data()) +}
\DoxyCodeLine{220             array-\/>ByteOffset();}
\DoxyCodeLine{221     \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} = array-\/>ByteLength();}
\DoxyCodeLine{222     *\mbox{\hyperlink{namespacev8_1_1internal_adee95482032a93e07f59341fed5c909f}{is\_shared}} = buffer-\/>IsSharedArrayBuffer();}
\DoxyCodeLine{223   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{224     thrower-\/>TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a buffer source"{}});}
\DoxyCodeLine{225     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{226   \}}
\DoxyCodeLine{227   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}}, start != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{228   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} == 0) \{}
\DoxyCodeLine{229     thrower-\/>CompileError(\textcolor{stringliteral}{"{}BufferSource argument is empty"{}});}
\DoxyCodeLine{230     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{231   \}}
\DoxyCodeLine{232   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} > max\_length) \{}
\DoxyCodeLine{233     \textcolor{comment}{// The spec requires a CompileError for implementation-\/defined limits, see}}
\DoxyCodeLine{234     \textcolor{comment}{// https://webassembly.github.io/spec/js-\/api/index.html\#limits.}}
\DoxyCodeLine{235     thrower-\/>CompileError(\textcolor{stringliteral}{"{}buffer source exceeds maximum size of \%zu (is \%zu)"{}},}
\DoxyCodeLine{236                           max\_length, \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}});}
\DoxyCodeLine{237     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{238   \}}
\DoxyCodeLine{239 }
\DoxyCodeLine{240   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_a5bfc65f27076e49eb7752a4fb4d45acb}{base::VectorOf}}(start, \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}});}
\DoxyCodeLine{241 \}}

\end{DoxyCode}


References v8\+::\+Local$<$ T $>$\+::\+Cast(), DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::is\+\_\+shared, v8\+::\+Value\+::\+Is\+Array\+Buffer(), v8\+::\+Value\+::\+Is\+Typed\+Array(), v8\+::internal\+::length, and v8\+::base\+::\+Vector\+Of().



Referenced by Get\+And\+Copy\+First\+Argument\+As\+Bytes(), and Web\+Assembly\+Validate\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae01fffe033c01485019507b9e0932b21_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae01fffe033c01485019507b9e0932b21_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!GetValueType@{GetValueType}}
\index{GetValueType@{GetValueType}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GetValueType()}{GetValueType()}}
{\footnotesize\ttfamily std\+::optional$<$i\+::wasm\+::\+Value\+Type$>$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Get\+Value\+Type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1MaybeLocal}{Maybe\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$}]{maybe,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Context}{Context}} $>$}]{context,  }\item[{Wasm\+Enabled\+Features}]{enabled\+\_\+features }\end{DoxyParamCaption})}



Definition at line 1713 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1715                                           \{}
\DoxyCodeLine{1716   \mbox{\hyperlink{classv8_1_1Local}{v8::Local<v8::Value>}} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{1717   \textcolor{keywordflow}{if} (!maybe.\mbox{\hyperlink{classv8_1_1MaybeLocal_adcbf09f789c51def0e48e859d5b8da57}{ToLocal}}(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{1718   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::String>}} \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}};}
\DoxyCodeLine{1719   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{data-view-ops_8h_af22849720fbd54f8307292fe33c35a07}{i::Object::ToString}}(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(isolate),}
\DoxyCodeLine{1720                            Utils::OpenDirectHandle(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}))}
\DoxyCodeLine{1721            .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&\textcolor{keywordtype}{string})) \{}
\DoxyCodeLine{1722     \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{1723   \}}
\DoxyCodeLine{1724   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}i32"{}}))) \{}
\DoxyCodeLine{1725     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a7b893808fadaa287f225d7209d2d36c6}{i::wasm::kWasmI32}};}
\DoxyCodeLine{1726   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}f32"{}}))) \{}
\DoxyCodeLine{1727     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6263a62b579bcdb32ae1acafc9ddf653}{i::wasm::kWasmF32}};}
\DoxyCodeLine{1728   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}i64"{}}))) \{}
\DoxyCodeLine{1729     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aee8b7f805fa662ae4ed159f8072bea5f}{i::wasm::kWasmI64}};}
\DoxyCodeLine{1730   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}f64"{}}))) \{}
\DoxyCodeLine{1731     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aeb1a0dc52ceeed030ac44fa008c1e77c}{i::wasm::kWasmF64}};}
\DoxyCodeLine{1732   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}v128"{}}))) \{}
\DoxyCodeLine{1733     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adef3c09b05397b61ad793d7c0bdf9e3b}{i::wasm::kWasmS128}};}
\DoxyCodeLine{1734   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}externref"{}}))) \{}
\DoxyCodeLine{1735     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a75bfbc047d813d2932698521c1c1145f}{i::wasm::kWasmExternRef}};}
\DoxyCodeLine{1736   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (enabled\_features.has\_type\_reflection() \&\&}
\DoxyCodeLine{1737              \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}funcref"{}}))) \{}
\DoxyCodeLine{1738     \textcolor{comment}{// The type reflection proposal renames "{}anyfunc"{} to "{}funcref"{}, and makes}}
\DoxyCodeLine{1739     \textcolor{comment}{// "{}anyfunc"{} an alias of "{}funcref"{}.}}
\DoxyCodeLine{1740     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a90941f620285a912a302a3aced092560}{i::wasm::kWasmFuncRef}};}
\DoxyCodeLine{1741   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}anyfunc"{}}))) \{}
\DoxyCodeLine{1742     \textcolor{comment}{// The JS api spec uses 'anyfunc' instead of 'funcref'.}}
\DoxyCodeLine{1743     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a90941f620285a912a302a3aced092560}{i::wasm::kWasmFuncRef}};}
\DoxyCodeLine{1744   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}eqref"{}}))) \{}
\DoxyCodeLine{1745     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a75a407e39344b5260946d2c22d318f84}{i::wasm::kWasmEqRef}};}
\DoxyCodeLine{1746   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (enabled\_features.has\_stringref() \&\&}
\DoxyCodeLine{1747              \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}stringref"{}}))) \{}
\DoxyCodeLine{1748     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a44d8421f58b06a23f41aff519b312d3c}{i::wasm::kWasmStringRef}};}
\DoxyCodeLine{1749   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}anyref"{}}))) \{}
\DoxyCodeLine{1750     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a697b6d1f8fb7f3463c83684346bfa145}{i::wasm::kWasmAnyRef}};}
\DoxyCodeLine{1751   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}structref"{}}))) \{}
\DoxyCodeLine{1752     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac4677d357c392dc8125dfa4d58f92aeb}{i::wasm::kWasmStructRef}};}
\DoxyCodeLine{1753   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}arrayref"{}}))) \{}
\DoxyCodeLine{1754     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_afb33e6ba5bbd6ec3d69e3537f9912d4e}{i::wasm::kWasmArrayRef}};}
\DoxyCodeLine{1755   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}i31ref"{}}))) \{}
\DoxyCodeLine{1756     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a86d0b42ae903d1d6e6f98c685ef0133b}{i::wasm::kWasmI31Ref}};}
\DoxyCodeLine{1757   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (enabled\_features.has\_exnref() \&\&}
\DoxyCodeLine{1758              \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}exnref"{}}))) \{}
\DoxyCodeLine{1759     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a9a79ec61e742ba6e76addd6390334f22}{i::wasm::kWasmExnRef}};}
\DoxyCodeLine{1760   \}}
\DoxyCodeLine{1761   \textcolor{comment}{// Unrecognized type.}}
\DoxyCodeLine{1762   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab996b620af25ac2ea5b4682df40abca3}{i::wasm::kWasmVoid}};}
\DoxyCodeLine{1763 \}}

\end{DoxyCode}


References v8\+::base\+::\+CStr\+Vector(), v8\+::internal\+::wasm\+::k\+Wasm\+Any\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Array\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Eq\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Exn\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Extern\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+F32, v8\+::internal\+::wasm\+::k\+Wasm\+F64, v8\+::internal\+::wasm\+::k\+Wasm\+Func\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+I31\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+I32, v8\+::internal\+::wasm\+::k\+Wasm\+I64, v8\+::internal\+::wasm\+::k\+Wasm\+S128, v8\+::internal\+::wasm\+::k\+Wasm\+String\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Struct\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Void, v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::internal\+::string, v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle(), v8\+::\+Maybe\+Local$<$ T $>$\+::\+To\+Local(), To\+String(), and v8\+::internal\+::value.



Referenced by Web\+Assembly\+Function(), Web\+Assembly\+Global\+Impl(), and Web\+Assembly\+Tag\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af380767a60da1e8f57fc90501286702a}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af380767a60da1e8f57fc90501286702a}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!NewPromisingWasmExportedFunction@{NewPromisingWasmExportedFunction}}
\index{NewPromisingWasmExportedFunction@{NewPromisingWasmExportedFunction}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{NewPromisingWasmExportedFunction()}{NewPromisingWasmExportedFunction()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i\+::\+Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1JSFunction}{i\+::\+JSFunction}}$>$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::New\+Promising\+Wasm\+Exported\+Function (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i\+::\+Isolate}} $\ast$}]{i\+\_\+isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i\+::\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1WasmExportedFunctionData}{i\+::\+Wasm\+Exported\+Function\+Data}} $>$}]{data,  }\item[{Error\+Thrower \&}]{thrower }\end{DoxyParamCaption})}



Definition at line 2230 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2232                            \{}
\DoxyCodeLine{2233   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmTrustedInstanceData>}} trusted\_instance\_data\{}
\DoxyCodeLine{2234       data-\/>instance\_data(), i\_isolate\};}
\DoxyCodeLine{2235   \textcolor{keywordtype}{int} func\_index = data-\/>function\_index();}
\DoxyCodeLine{2236   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{i::wasm::WasmModule}}* module = trusted\_instance\_data-\/>module();}
\DoxyCodeLine{2237   i::wasm::ModuleTypeIndex sig\_index = module-\/>\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule_a79b743888793de4a17ae53dd93988de6}{functions}}[func\_index].sig\_index;}
\DoxyCodeLine{2238   \textcolor{keyword}{const} i::wasm::CanonicalSig* \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}} =}
\DoxyCodeLine{2239       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6feb413448e84daf9201bd8a2381a718}{i::wasm::GetTypeCanonicalizer}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_aa1f36fc3851ba2316d47223fa2b6e155}{LookupFunctionSignature}}(}
\DoxyCodeLine{2240           module-\/>canonical\_sig\_id(sig\_index));}
\DoxyCodeLine{2241   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Code>}} wrapper;}
\DoxyCodeLine{2242   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a769350a0bf794ab0ebf3c8fc1c8fc450}{internal::wasm::IsJSCompatibleSignature}}(\mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}})) \{}
\DoxyCodeLine{2243     \textcolor{comment}{// If the signature is incompatible with JS, the original export will have}}
\DoxyCodeLine{2244     \textcolor{comment}{// compiled an incompatible signature wrapper, so just reuse that.}}
\DoxyCodeLine{2245     wrapper =}
\DoxyCodeLine{2246         \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Code>}}(data-\/>wrapper\_code(i\_isolate), i\_isolate);}
\DoxyCodeLine{2247   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2248     wrapper = \mbox{\hyperlink{builtins_8h_af33bd0f259d8e6a511fd018115e0d62c}{BUILTIN\_CODE}}(i\_isolate, WasmPromising);}
\DoxyCodeLine{2249   \}}
\DoxyCodeLine{2250 }
\DoxyCodeLine{2251   \textcolor{comment}{// TODO(14034): Create funcref RTTs lazily?}}
\DoxyCodeLine{2252   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Map>}} rtt\{}
\DoxyCodeLine{2253       i::Cast<i::Map>(}
\DoxyCodeLine{2254           trusted\_instance\_data-\/>managed\_object\_maps()-\/>get(sig\_index.index)),}
\DoxyCodeLine{2255       i\_isolate\};}
\DoxyCodeLine{2256 }
\DoxyCodeLine{2257   \textcolor{keywordtype}{int} num\_imported\_functions = module-\/>num\_imported\_functions;}
\DoxyCodeLine{2258   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::TrustedObject>}} implicit\_arg;}
\DoxyCodeLine{2259   constexpr \textcolor{keywordtype}{bool} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02elements_8cc_03_acd37159826079290ea180403d57a2ebeaa7e1f9f93df2422d7dd8114153deed99}{kShared}} = \textcolor{keyword}{false};}
\DoxyCodeLine{2260   \textcolor{keywordflow}{if} (func\_index >= num\_imported\_functions) \{}
\DoxyCodeLine{2261     implicit\_arg = trusted\_instance\_data;}
\DoxyCodeLine{2262   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2263     implicit\_arg = i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>NewWasmImportData(}
\DoxyCodeLine{2264         \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(i::Cast<i::WasmImportData>(}
\DoxyCodeLine{2265                           trusted\_instance\_data-\/>dispatch\_table\_for\_imports()}
\DoxyCodeLine{2266                               -\/>implicit\_arg(func\_index)),}
\DoxyCodeLine{2267                       i\_isolate),}
\DoxyCodeLine{2268         \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02elements_8cc_03_acd37159826079290ea180403d57a2ebeaa7e1f9f93df2422d7dd8114153deed99}{kShared}});}
\DoxyCodeLine{2269   \}}
\DoxyCodeLine{2270 }
\DoxyCodeLine{2271   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmInternalFunction>}} \textcolor{keyword}{internal} =}
\DoxyCodeLine{2272       i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>NewWasmInternalFunction(}
\DoxyCodeLine{2273           implicit\_arg, func\_index, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02elements_8cc_03_acd37159826079290ea180403d57a2ebeaa7e1f9f93df2422d7dd8114153deed99}{kShared}},}
\DoxyCodeLine{2274           trusted\_instance\_data-\/>GetCallTarget(func\_index));}
\DoxyCodeLine{2275   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmFuncRef>}} func\_ref =}
\DoxyCodeLine{2276       i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>NewWasmFuncRef(\textcolor{keyword}{internal}, rtt, \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02elements_8cc_03_acd37159826079290ea180403d57a2ebeaa7e1f9f93df2422d7dd8114153deed99}{kShared}});}
\DoxyCodeLine{2277   \textcolor{keywordflow}{if} (func\_index < num\_imported\_functions) \{}
\DoxyCodeLine{2278     i::Cast<i::WasmImportData>(implicit\_arg)-\/>set\_call\_origin(*\textcolor{keyword}{internal});}
\DoxyCodeLine{2279   \}}
\DoxyCodeLine{2280 }
\DoxyCodeLine{2281   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSFunction>}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{classv8_1_1internal_1_1WasmExportedFunction_ac6583fa41f78a2543566f9812e57146b}{i::WasmExportedFunction::New}}(}
\DoxyCodeLine{2282       i\_isolate, trusted\_instance\_data, func\_ref, \textcolor{keyword}{internal},}
\DoxyCodeLine{2283       \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(data-\/>sig()-\/>parameter\_count()), wrapper);}
\DoxyCodeLine{2284   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{2285 \}}

\end{DoxyCode}


References BUILTIN\+\_\+\+CODE, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::functions, v8\+::internal\+::wasm\+::\+Get\+Type\+Canonicalizer(), v8\+::internal\+::wasm\+::\+Is\+JSCompatible\+Signature(), v8\+::internal\+::wasm\+::\+Type\+Canonicalizer\+::\+Lookup\+Function\+Signature(), v8\+::internal\+::\+Wasm\+Exported\+Function\+::\+New(), v8\+::base\+::internal\+::result, and v8\+::internal\+::sig.



Referenced by Web\+Assembly\+Promising().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af380767a60da1e8f57fc90501286702a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af380767a60da1e8f57fc90501286702a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a80df3bb5366d6ec83e382c06d65a17c6}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a80df3bb5366d6ec83e382c06d65a17c6}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!StartAsyncCompilationWithResolver@{StartAsyncCompilationWithResolver}}
\index{StartAsyncCompilationWithResolver@{StartAsyncCompilationWithResolver}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{StartAsyncCompilationWithResolver()}{StartAsyncCompilationWithResolver()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Start\+Async\+Compilation\+With\+Resolver (\begin{DoxyParamCaption}\item[{Wasm\+JSApi\+Scope \&}]{js\+\_\+api\+\_\+scope,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$}]{response\+\_\+or\+\_\+promise,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$}]{options\+\_\+arg\+\_\+value,  }\item[{std\+::shared\+\_\+ptr$<$ i\+::wasm\+::\+Compilation\+Result\+Resolver $>$}]{resolver }\end{DoxyParamCaption})}



Definition at line 786 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{789                                                             \{}
\DoxyCodeLine{790   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{791 }
\DoxyCodeLine{792   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{793   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::NativeContext>}} \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}} =}
\DoxyCodeLine{794       Utils::OpenHandle(*context);}
\DoxyCodeLine{795 }
\DoxyCodeLine{796   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aeb062fb51a7aa93290a7a1313085cf65}{i::wasm::IsWasmCodegenAllowed}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}})) \{}
\DoxyCodeLine{797     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::String>}} error =}
\DoxyCodeLine{798         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ae99c0e646ec90851574de7cee934682c}{i::wasm::ErrorStringForCodegen}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}});}
\DoxyCodeLine{799     thrower.CompileError(\textcolor{stringliteral}{"{}\%s"{}}, error-\/>ToCString().get());}
\DoxyCodeLine{800     resolver-\/>OnCompilationFailed(thrower.Reify());}
\DoxyCodeLine{801     \textcolor{keywordflow}{return};}
\DoxyCodeLine{802   \}}
\DoxyCodeLine{803 }
\DoxyCodeLine{804   \textcolor{keyword}{auto} enabled\_features = WasmEnabledFeatures::FromIsolate(i\_isolate);}
\DoxyCodeLine{805   CompileTimeImports compile\_imports =}
\DoxyCodeLine{806       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a5c27ccf9d3fac863f80bac41d3a0b60b}{ArgumentToCompileOptions}}(options\_arg\_value, i\_isolate, enabled\_features);}
\DoxyCodeLine{807   \textcolor{keywordflow}{if} (i\_isolate-\/>has\_exception()) \{}
\DoxyCodeLine{808     \textcolor{keywordflow}{if} (i\_isolate-\/>is\_execution\_terminating()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{809     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSAny>}} exception(Cast<i::JSAny>(i\_isolate-\/>exception()),}
\DoxyCodeLine{810                                         i\_isolate);}
\DoxyCodeLine{811     i\_isolate-\/>clear\_exception();}
\DoxyCodeLine{812     resolver-\/>OnCompilationFailed(exception);}
\DoxyCodeLine{813     \textcolor{keywordflow}{return};}
\DoxyCodeLine{814   \}}
\DoxyCodeLine{815 }
\DoxyCodeLine{816   \textcolor{comment}{// Allocate the streaming decoder in a Managed so we can pass it to the}}
\DoxyCodeLine{817   \textcolor{comment}{// embedder.}}
\DoxyCodeLine{818   std::shared\_ptr<WasmStreaming> streaming = std::make\_shared<WasmStreaming>(}
\DoxyCodeLine{819       std::make\_unique<WasmStreaming::WasmStreamingImpl>(}
\DoxyCodeLine{820           i\_isolate, js\_api\_scope.api\_name(), std::move(compile\_imports),}
\DoxyCodeLine{821           resolver));}
\DoxyCodeLine{822   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Managed<WasmStreaming>}}> data =}
\DoxyCodeLine{823       \mbox{\hyperlink{classv8_1_1internal_1_1Managed_a1c10cb948281b864db32d8af25a7b7d9}{i::Managed<WasmStreaming>::From}}(i\_isolate, 0, streaming);}
\DoxyCodeLine{824 }
\DoxyCodeLine{825   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(i\_isolate-\/>wasm\_streaming\_callback());}
\DoxyCodeLine{826   Local<v8::Function> compile\_callback, reject\_callback;}
\DoxyCodeLine{827   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1Function_a22f451f67d33a8403286d27f22d9ecb3}{v8::Function::New}}(context, i\_isolate-\/>wasm\_streaming\_callback(),}
\DoxyCodeLine{828                          Utils::ToLocal(i::Cast<i::Object>(data)), 1)}
\DoxyCodeLine{829            .ToLocal(\&compile\_callback) ||}
\DoxyCodeLine{830       !\mbox{\hyperlink{classv8_1_1Function_a22f451f67d33a8403286d27f22d9ecb3}{v8::Function::New}}(context, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a25ca8135bb0b20cdf89ea80e484efa2f}{WasmStreamingPromiseFailedCallback}},}
\DoxyCodeLine{831                          Utils::ToLocal(i::Cast<i::Object>(data)), 1)}
\DoxyCodeLine{832            .ToLocal(\&reject\_callback)) \{}
\DoxyCodeLine{833     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{834   \}}
\DoxyCodeLine{835 }
\DoxyCodeLine{836   \textcolor{comment}{// The parameter may be of type \{Response\} or of type \{Promise<Response>\}.}}
\DoxyCodeLine{837   \textcolor{comment}{// Treat either case of parameter as Promise.resolve(parameter)}}
\DoxyCodeLine{838   \textcolor{comment}{// as per https://www.w3.org/2001/tag/doc/promises-\/guide\#resolve-\/arguments}}
\DoxyCodeLine{839 }
\DoxyCodeLine{840   \textcolor{comment}{// Ending with:}}
\DoxyCodeLine{841   \textcolor{comment}{//    return Promise.resolve(parameter).then(compile\_callback);}}
\DoxyCodeLine{842   Local<Promise::Resolver> input\_resolver;}
\DoxyCodeLine{843   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_aea46070627c9c116b8f1be4a25840e66}{Promise::Resolver::New}}(context).ToLocal(\&input\_resolver) ||}
\DoxyCodeLine{844       input\_resolver-\/>Resolve(context, response\_or\_promise).IsNothing()) \{}
\DoxyCodeLine{845     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{846   \}}
\DoxyCodeLine{847 }
\DoxyCodeLine{848   \textcolor{comment}{// Calling `then` on the promise can fail if the user monkey-\/patched stuff,}}
\DoxyCodeLine{849   \textcolor{comment}{// see https://crbug.com/374820218 / https://crbug.com/396461004.}}
\DoxyCodeLine{850   \textcolor{comment}{// If this does not fail, then the \{compile\_callback\} will start streaming}}
\DoxyCodeLine{851   \textcolor{comment}{// compilation, which will eventually resolve the promise we set as result}}
\DoxyCodeLine{852   \textcolor{comment}{// value.}}
\DoxyCodeLine{853   \textcolor{keywordflow}{if} (input\_resolver-\/>GetPromise()}
\DoxyCodeLine{854           -\/>Then(context, compile\_callback, reject\_callback)}
\DoxyCodeLine{855           .IsEmpty()) \{}
\DoxyCodeLine{856     streaming-\/>Abort(MaybeLocal<Value>\{\});}
\DoxyCodeLine{857     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{858   \}}
\DoxyCodeLine{859 \}}

\end{DoxyCode}


References v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Argument\+To\+Compile\+Options(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::wasm\+::\+Error\+String\+For\+Codegen(), v8\+::internal\+::\+Managed$<$ Cpp\+Type $>$\+::\+From(), v8\+::internal\+::wasm\+::\+Is\+Wasm\+Codegen\+Allowed(), v8\+::internal\+::native\+\_\+context, v8\+::\+Promise\+::\+Resolver\+::\+New(), v8\+::\+Function\+::\+New(), v8\+::\+Utils\+::\+Open\+Handle(), and Wasm\+Streaming\+Promise\+Failed\+Callback().



Referenced by Web\+Assembly\+Compile\+Streaming(), and Web\+Assembly\+Instantiate\+Streaming().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a80df3bb5366d6ec83e382c06d65a17c6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a80df3bb5366d6ec83e382c06d65a17c6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a134697b93e055ed94fb9f0922c75e9d3}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a134697b93e055ed94fb9f0922c75e9d3}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!v8\_str@{v8\_str}}
\index{v8\_str@{v8\_str}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{v8\_str()}{v8\_str()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i\+::\+Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1String}{i\+::\+String}}$>$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::v8\+\_\+str (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i\+::\+Isolate}} $\ast$}]{isolate,  }\item[{const char $\ast$}]{str }\end{DoxyParamCaption})}



Definition at line 174 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{174                                                                   \{}
\DoxyCodeLine{175   \textcolor{keywordflow}{return} isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FactoryBase_a099d2a505298c549ede814b4b4021464}{NewStringFromAsciiChecked}}(str);}
\DoxyCodeLine{176 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::factory(), and v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+String\+From\+Ascii\+Checked().



Referenced by v8\+::anonymous\+\_\+namespace\{d8.\+cc\}\+::\+To\+STLString(), and v8\+::anonymous\+\_\+namespace\{d8.\+cc\}\+::\+Try\+Get\+Value().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a134697b93e055ed94fb9f0922c75e9d3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a134697b93e055ed94fb9f0922c75e9d3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!v8\_str@{v8\_str}}
\index{v8\_str@{v8\_str}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{v8\_str()}{v8\_str()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$\mbox{\hyperlink{classv8_1_1String}{String}}$>$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::v8\+\_\+str (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{const char $\ast$}]{str }\end{DoxyParamCaption})}



Definition at line 177 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{177                                                         \{}
\DoxyCodeLine{178   \textcolor{keywordflow}{return} Utils::ToLocal(\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(isolate), str));}
\DoxyCodeLine{179 \}}

\end{DoxyCode}


Referenced by v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Address\+Type(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Initial\+Or\+Minimum\+Property(), v8\+::internal\+::\+Wasm\+Js\+::\+Install(), v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Custom\+Descriptors(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Func(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Getter(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Install\+Getter\+Setter(), v8\+::internal\+::\+Wasm\+Js\+::\+Install\+JSPromise\+Integration(), v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Module(), v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Type\+Reflection(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Instantiate\+Bytes\+Result\+Resolver\+::\+On\+Instantiation\+Succeeded(), v8\+::internal\+::\+Wasm\+Js\+::\+Prepare\+For\+Snapshot(), v8\+::internal\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Setup\+Constructor(), Web\+Assembly\+Exception\+Impl(), Web\+Assembly\+Function(), Web\+Assembly\+Global\+Impl(), Web\+Assembly\+Memory\+Impl(), Web\+Assembly\+Table\+Impl(), and Web\+Assembly\+Tag\+Impl().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2736eaaacaa0f666c3ecc732a6f740ea}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2736eaaacaa0f666c3ecc732a6f740ea}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WasmStreamingCallbackForTesting@{WasmStreamingCallbackForTesting}}
\index{WasmStreamingCallbackForTesting@{WasmStreamingCallbackForTesting}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WasmStreamingCallbackForTesting()}{WasmStreamingCallbackForTesting()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Wasm\+Streaming\+Callback\+For\+Testing (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 756 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{757                                                  \{}
\DoxyCodeLine{758   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.compile()"{}}\};}
\DoxyCodeLine{759   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{760 }
\DoxyCodeLine{761   std::shared\_ptr<v8::WasmStreaming> streaming =}
\DoxyCodeLine{762       \mbox{\hyperlink{classv8_1_1WasmStreaming_af90e13f9116c9c4184b6e621c87671c6}{v8::WasmStreaming::Unpack}}(info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a7eee713a6f95d5707ce788861754682f}{GetIsolate}}(), info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ab0ebfc2ea43af2fdfc3d085272bf499f}{Data}}());}
\DoxyCodeLine{763 }
\DoxyCodeLine{764   \textcolor{comment}{// We don't check the buffer length up front, to allow d8 to test that the}}
\DoxyCodeLine{765   \textcolor{comment}{// streaming decoder implementation handles overly large inputs correctly.}}
\DoxyCodeLine{766   \textcolor{keywordtype}{size\_t} unlimited = std::numeric\_limits<size\_t>::max();}
\DoxyCodeLine{767   base::OwnedVector<const uint8\_t> bytes =}
\DoxyCodeLine{768       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67}{GetAndCopyFirstArgumentAsBytes}}(info, unlimited, \&thrower);}
\DoxyCodeLine{769   \textcolor{keywordflow}{if} (bytes.empty()) \{}
\DoxyCodeLine{770     streaming-\/>Abort(Utils::ToLocal(thrower.Reify()));}
\DoxyCodeLine{771     \textcolor{keywordflow}{return};}
\DoxyCodeLine{772   \}}
\DoxyCodeLine{773   streaming-\/>OnBytesReceived(bytes.begin(), bytes.size());}
\DoxyCodeLine{774   streaming-\/>Finish();}
\DoxyCodeLine{775   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!thrower.error());}
\DoxyCodeLine{776 \}}

\end{DoxyCode}


References v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::begin(), CHECK, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Data(), v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::empty(), Get\+And\+Copy\+First\+Argument\+As\+Bytes(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Isolate(), v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::size(), and v8\+::\+Wasm\+Streaming\+::\+Unpack().



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2736eaaacaa0f666c3ecc732a6f740ea_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2736eaaacaa0f666c3ecc732a6f740ea_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a25ca8135bb0b20cdf89ea80e484efa2f}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a25ca8135bb0b20cdf89ea80e484efa2f}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WasmStreamingPromiseFailedCallback@{WasmStreamingPromiseFailedCallback}}
\index{WasmStreamingPromiseFailedCallback@{WasmStreamingPromiseFailedCallback}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WasmStreamingPromiseFailedCallback()}{WasmStreamingPromiseFailedCallback()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Wasm\+Streaming\+Promise\+Failed\+Callback (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 778 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{779                                                  \{}
\DoxyCodeLine{780   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa0a84af2b2a0cf0453cc75fc22679b28}{i::ValidateCallbackInfo}}(info));}
\DoxyCodeLine{781   std::shared\_ptr<v8::WasmStreaming> streaming =}
\DoxyCodeLine{782       \mbox{\hyperlink{classv8_1_1WasmStreaming_af90e13f9116c9c4184b6e621c87671c6}{v8::WasmStreaming::Unpack}}(info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a7eee713a6f95d5707ce788861754682f}{GetIsolate}}(), info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ab0ebfc2ea43af2fdfc3d085272bf499f}{Data}}());}
\DoxyCodeLine{783   streaming-\/>Abort(info[0]);}
\DoxyCodeLine{784 \}}

\end{DoxyCode}


References v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Data(), DCHECK, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Isolate(), v8\+::\+Wasm\+Streaming\+::\+Unpack(), and v8\+::internal\+::\+Validate\+Callback\+Info().



Referenced by Start\+Async\+Compilation\+With\+Resolver().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a25ca8135bb0b20cdf89ea80e484efa2f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a25ca8135bb0b20cdf89ea80e484efa2f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a9829d4bd6b0d386c48b2220d16fdb5c5}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a9829d4bd6b0d386c48b2220d16fdb5c5}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyCompileImpl@{WebAssemblyCompileImpl}}
\index{WebAssemblyCompileImpl@{WebAssemblyCompileImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyCompileImpl()}{WebAssemblyCompileImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Compile\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 708 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{708                                                                          \{}
\DoxyCodeLine{709   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.compile()"{}}\};}
\DoxyCodeLine{710   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{711   \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4147c03ee307212e25fc9da8cb675c4a}{RecordCompilationMethod}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_af6aed08317f793b1f8e5668787288149ae7876ca1c5267e7cea7fb86aa4b1eda1}{kAsyncCompilation}});}
\DoxyCodeLine{712 }
\DoxyCodeLine{713   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{714   Local<Promise::Resolver> promise\_resolver;}
\DoxyCodeLine{715   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_aea46070627c9c116b8f1be4a25840e66}{Promise::Resolver::New}}(context).ToLocal(\&promise\_resolver)) \{}
\DoxyCodeLine{716     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{717   \}}
\DoxyCodeLine{718   Local<Promise> promise = promise\_resolver-\/>GetPromise();}
\DoxyCodeLine{719   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(promise);}
\DoxyCodeLine{720 }
\DoxyCodeLine{721   std::shared\_ptr<i::wasm::CompilationResultResolver> resolver(}
\DoxyCodeLine{722       \textcolor{keyword}{new} AsyncCompilationResolver(isolate, context, promise\_resolver));}
\DoxyCodeLine{723 }
\DoxyCodeLine{724   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::NativeContext>}} \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}} =}
\DoxyCodeLine{725       i\_isolate-\/>native\_context();}
\DoxyCodeLine{726   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aeb062fb51a7aa93290a7a1313085cf65}{i::wasm::IsWasmCodegenAllowed}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}})) \{}
\DoxyCodeLine{727     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::String>}} error =}
\DoxyCodeLine{728         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ae99c0e646ec90851574de7cee934682c}{i::wasm::ErrorStringForCodegen}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}});}
\DoxyCodeLine{729     thrower.CompileError(\textcolor{stringliteral}{"{}\%s"{}}, error-\/>ToCString().get());}
\DoxyCodeLine{730     resolver-\/>OnCompilationFailed(thrower.Reify());}
\DoxyCodeLine{731     \textcolor{keywordflow}{return};}
\DoxyCodeLine{732   \}}
\DoxyCodeLine{733 }
\DoxyCodeLine{734   base::OwnedVector<const uint8\_t> bytes = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67}{GetAndCopyFirstArgumentAsBytes}}(}
\DoxyCodeLine{735       info, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a76ecd8d4d54ac6dd52d2278b2cda0ba7}{i::wasm::max\_module\_size}}(), \&thrower);}
\DoxyCodeLine{736   \textcolor{keywordflow}{if} (bytes.empty()) \{}
\DoxyCodeLine{737     resolver-\/>OnCompilationFailed(thrower.Reify());}
\DoxyCodeLine{738     \textcolor{keywordflow}{return};}
\DoxyCodeLine{739   \}}
\DoxyCodeLine{740   \textcolor{keyword}{auto} enabled\_features = WasmEnabledFeatures::FromIsolate(i\_isolate);}
\DoxyCodeLine{741   CompileTimeImports compile\_imports =}
\DoxyCodeLine{742       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a5c27ccf9d3fac863f80bac41d3a0b60b}{ArgumentToCompileOptions}}(info[1], i\_isolate, enabled\_features);}
\DoxyCodeLine{743   \textcolor{keywordflow}{if} (i\_isolate-\/>has\_exception()) \{}
\DoxyCodeLine{744     \textcolor{keywordflow}{if} (i\_isolate-\/>is\_execution\_terminating()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{745     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSAny>}} exception(Cast<i::JSAny>(i\_isolate-\/>exception()),}
\DoxyCodeLine{746                                         i\_isolate);}
\DoxyCodeLine{747     i\_isolate-\/>clear\_exception();}
\DoxyCodeLine{748     resolver-\/>OnCompilationFailed(exception);}
\DoxyCodeLine{749     \textcolor{keywordflow}{return};}
\DoxyCodeLine{750   \}}
\DoxyCodeLine{751   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{i::wasm::GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_aa17c088fdbc894379d393baf814073f7}{AsyncCompile}}(}
\DoxyCodeLine{752       i\_isolate, enabled\_features, std::move(compile\_imports),}
\DoxyCodeLine{753       std::move(resolver), std::move(bytes), js\_api\_scope.api\_name());}
\DoxyCodeLine{754 \}}

\end{DoxyCode}


References v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Argument\+To\+Compile\+Options(), v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Async\+Compile(), v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::empty(), v8\+::internal\+::wasm\+::\+Error\+String\+For\+Codegen(), Get\+And\+Copy\+First\+Argument\+As\+Bytes(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::internal\+::wasm\+::\+Is\+Wasm\+Codegen\+Allowed(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Async\+Compilation, v8\+::internal\+::wasm\+::max\+\_\+module\+\_\+size(), v8\+::internal\+::native\+\_\+context, v8\+::\+Promise\+::\+Resolver\+::\+New(), and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Record\+Compilation\+Method().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a9829d4bd6b0d386c48b2220d16fdb5c5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23e73fb88240f64540fadc2c56c93a1}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23e73fb88240f64540fadc2c56c93a1}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyCompileStreaming@{WebAssemblyCompileStreaming}}
\index{WebAssemblyCompileStreaming@{WebAssemblyCompileStreaming}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyCompileStreaming()}{WebAssemblyCompileStreaming()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Compile\+Streaming (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 863 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{864                                                  \{}
\DoxyCodeLine{865   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.compileStreaming()"{}}\};}
\DoxyCodeLine{866   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{867   \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4147c03ee307212e25fc9da8cb675c4a}{RecordCompilationMethod}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_af6aed08317f793b1f8e5668787288149a34a52f3fd816d7f3d0645ed17b918e93}{kStreamingCompilation}});}
\DoxyCodeLine{868   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{869 }
\DoxyCodeLine{870   \textcolor{comment}{// Create and assign the return value of this function.}}
\DoxyCodeLine{871   Local<Promise::Resolver> promise\_resolver;}
\DoxyCodeLine{872   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_aea46070627c9c116b8f1be4a25840e66}{Promise::Resolver::New}}(context).ToLocal(\&promise\_resolver)) \{}
\DoxyCodeLine{873     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{874   \}}
\DoxyCodeLine{875   Local<Promise> promise = promise\_resolver-\/>GetPromise();}
\DoxyCodeLine{876   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(promise);}
\DoxyCodeLine{877 }
\DoxyCodeLine{878   \textcolor{comment}{// Prepare the CompilationResultResolver for the compilation.}}
\DoxyCodeLine{879   \textcolor{keyword}{auto} resolver = std::make\_shared<AsyncCompilationResolver>(isolate, context,}
\DoxyCodeLine{880                                                              promise\_resolver);}
\DoxyCodeLine{881 }
\DoxyCodeLine{882   \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a80df3bb5366d6ec83e382c06d65a17c6}{StartAsyncCompilationWithResolver}}(js\_api\_scope, info[0], info[1], resolver);}
\DoxyCodeLine{883 \}}

\end{DoxyCode}


References v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Streaming\+Compilation, v8\+::\+Promise\+::\+Resolver\+::\+New(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Record\+Compilation\+Method(), and Start\+Async\+Compilation\+With\+Resolver().



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23e73fb88240f64540fadc2c56c93a1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23e73fb88240f64540fadc2c56c93a1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a22e798f57b4d736ad3f5c535c380864d}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a22e798f57b4d736ad3f5c535c380864d}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyDescriptorOptionsImpl@{WebAssemblyDescriptorOptionsImpl}}
\index{WebAssemblyDescriptorOptionsImpl@{WebAssemblyDescriptorOptionsImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyDescriptorOptionsImpl()}{WebAssemblyDescriptorOptionsImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Descriptor\+Options\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2461 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2462                                                \{}
\DoxyCodeLine{2463   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.DescriptorOptions()"{}}\};}
\DoxyCodeLine{2464   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2465 }
\DoxyCodeLine{2466   \textcolor{keywordflow}{if} (!info.IsConstructCall()) \{}
\DoxyCodeLine{2467     thrower.TypeError(}
\DoxyCodeLine{2468         \textcolor{stringliteral}{"{}WebAssembly.DescriptorOptions must be invoked with 'new'"{}});}
\DoxyCodeLine{2469     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2470   \}}
\DoxyCodeLine{2471   \textcolor{keywordflow}{if} (!info[0]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a3ed6964c1400e2d797f2ae7d2adf68a7}{IsObject}}()) \{}
\DoxyCodeLine{2472     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be an object"{}});}
\DoxyCodeLine{2473     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2474   \}}
\DoxyCodeLine{2475 }
\DoxyCodeLine{2476   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSReceiver>}} options =}
\DoxyCodeLine{2477       Utils::OpenDirectHandle(*\mbox{\hyperlink{classv8_1_1Local_a8e76791c0614ec0feed0e5a3a9d6e9f8}{Local<v8::Object>::Cast}}(info[0]));}
\DoxyCodeLine{2478   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} \mbox{\hyperlink{namespacev8_1_1internal_af2d9fec01057be7bdab90bb4682717b0}{prototype}};}
\DoxyCodeLine{2479   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver_aba4a2cfb4946da1635ae2730b710ff00}{i::JSReceiver::GetProperty}}(i\_isolate, options, \textcolor{stringliteral}{"{}prototype"{}})}
\DoxyCodeLine{2480            .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&\mbox{\hyperlink{namespacev8_1_1internal_af2d9fec01057be7bdab90bb4682717b0}{prototype}})) \{}
\DoxyCodeLine{2481     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2482   \}}
\DoxyCodeLine{2483   \textcolor{keywordflow}{if} (!i::IsJSReceiver(*\mbox{\hyperlink{namespacev8_1_1internal_af2d9fec01057be7bdab90bb4682717b0}{prototype}})) \{}
\DoxyCodeLine{2484     thrower.TypeError(\textcolor{stringliteral}{"{}Prototype must be an object"{}});}
\DoxyCodeLine{2485     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2486   \}}
\DoxyCodeLine{2487   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmDescriptorOptions>}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{2488       \mbox{\hyperlink{classv8_1_1internal_1_1WasmDescriptorOptions_a3d09ffa2effb4501fd95e5fb947c9970}{i::WasmDescriptorOptions::New}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_af2d9fec01057be7bdab90bb4682717b0}{prototype}});}
\DoxyCodeLine{2489   info.GetReturnValue().Set(Utils::ToLocal(i::Cast<i::JSObject>(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}})));}
\DoxyCodeLine{2490 \}}

\end{DoxyCode}


References v8\+::internal\+::\+JSReceiver\+::\+Get\+Property(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::internal\+::\+Is\+Object(), v8\+::internal\+::\+Wasm\+Descriptor\+Options\+::\+New(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::internal\+::prototype, v8\+::base\+::internal\+::result, and v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle().



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Custom\+Descriptors().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a22e798f57b4d736ad3f5c535c380864d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a22e798f57b4d736ad3f5c535c380864d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a89952a68736479a3740810e5651682ee}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a89952a68736479a3740810e5651682ee}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyExceptionGetArgImpl@{WebAssemblyExceptionGetArgImpl}}
\index{WebAssemblyExceptionGetArgImpl@{WebAssemblyExceptionGetArgImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyExceptionGetArgImpl()}{WebAssemblyExceptionGetArgImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Exception\+Get\+Arg\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2959 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2960                                                  \{}
\DoxyCodeLine{2961   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Exception.getArg()"{}}\};}
\DoxyCodeLine{2962   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2963   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(exception, WasmExceptionPackage);}
\DoxyCodeLine{2964 }
\DoxyCodeLine{2965   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmTagObject>}} tag\_object;}
\DoxyCodeLine{2966   \textcolor{keywordflow}{if} (!GetFirstArgumentAsTag(info, \&thrower).\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&tag\_object)) \{}
\DoxyCodeLine{2967     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2968   \}}
\DoxyCodeLine{2969   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{2970   std::optional<uint32\_t> maybe\_index =}
\DoxyCodeLine{2971       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a679f5944281d45950d7d79c536f103b8}{EnforceUint32}}(\textcolor{stringliteral}{"{}Index"{}}, info[1], context, \&thrower);}
\DoxyCodeLine{2972   \textcolor{keywordflow}{if} (!maybe\_index) \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2973   uint32\_t \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = *maybe\_index;}
\DoxyCodeLine{2974   \textcolor{keyword}{auto} maybe\_values =}
\DoxyCodeLine{2975       \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionPackage_a92e3cf4344536855bbcc0c46ec31c269}{i::WasmExceptionPackage::GetExceptionValues}}(i\_isolate, exception);}
\DoxyCodeLine{2976 }
\DoxyCodeLine{2977   \textcolor{keyword}{auto} this\_tag =}
\DoxyCodeLine{2978       \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionPackage_aff0527791499aaefa3d40b6b010470ca}{i::WasmExceptionPackage::GetExceptionTag}}(i\_isolate, exception);}
\DoxyCodeLine{2979   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(IsWasmExceptionTag(*this\_tag));}
\DoxyCodeLine{2980   \textcolor{keywordflow}{if} (tag\_object-\/>tag() != *this\_tag) \{}
\DoxyCodeLine{2981     thrower.TypeError(\textcolor{stringliteral}{"{}First argument does not match the exception tag"{}});}
\DoxyCodeLine{2982     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2983   \}}
\DoxyCodeLine{2984 }
\DoxyCodeLine{2985   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!IsUndefined(*maybe\_values));}
\DoxyCodeLine{2986   \textcolor{keyword}{auto} values = i::Cast<i::FixedArray>(maybe\_values);}
\DoxyCodeLine{2987   \textcolor{keyword}{auto} signature = tag\_object-\/>serialized\_signature();}
\DoxyCodeLine{2988   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} >= \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(signature-\/>length())) \{}
\DoxyCodeLine{2989     thrower.RangeError(\textcolor{stringliteral}{"{}Index out of range"{}});}
\DoxyCodeLine{2990     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2991   \}}
\DoxyCodeLine{2992   \textcolor{comment}{// First, find the index in the values array.}}
\DoxyCodeLine{2993   uint32\_t decode\_index = 0;}
\DoxyCodeLine{2994   \textcolor{comment}{// Since the bounds check above passed, the cast to int is safe.}}
\DoxyCodeLine{2995   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; i < static\_cast<int>(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}); ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{2996     \textcolor{keywordflow}{switch} (signature-\/>get(\mbox{\hyperlink{namespacev8_1_1internal}{i}}).kind()) \{}
\DoxyCodeLine{2997       \textcolor{keywordflow}{case} i::wasm::kI32:}
\DoxyCodeLine{2998       \textcolor{keywordflow}{case} i::wasm::kF32:}
\DoxyCodeLine{2999         decode\_index += 2;}
\DoxyCodeLine{3000         \textcolor{keywordflow}{break};}
\DoxyCodeLine{3001       \textcolor{keywordflow}{case} i::wasm::kI64:}
\DoxyCodeLine{3002       \textcolor{keywordflow}{case} i::wasm::kF64:}
\DoxyCodeLine{3003         decode\_index += 4;}
\DoxyCodeLine{3004         \textcolor{keywordflow}{break};}
\DoxyCodeLine{3005       \textcolor{keywordflow}{case} i::wasm::kRef:}
\DoxyCodeLine{3006       \textcolor{keywordflow}{case} i::wasm::kRefNull:}
\DoxyCodeLine{3007         decode\_index++;}
\DoxyCodeLine{3008         \textcolor{keywordflow}{break};}
\DoxyCodeLine{3009       \textcolor{keywordflow}{case} i::wasm::kS128:}
\DoxyCodeLine{3010         decode\_index += 8;}
\DoxyCodeLine{3011         \textcolor{keywordflow}{break};}
\DoxyCodeLine{3012       \textcolor{keywordflow}{case} i::wasm::kI8:}
\DoxyCodeLine{3013       \textcolor{keywordflow}{case} i::wasm::kI16:}
\DoxyCodeLine{3014       \textcolor{keywordflow}{case} i::wasm::kF16:}
\DoxyCodeLine{3015       \textcolor{keywordflow}{case} i::wasm::kVoid:}
\DoxyCodeLine{3016       \textcolor{keywordflow}{case} i::wasm::kTop:}
\DoxyCodeLine{3017       \textcolor{keywordflow}{case} i::wasm::kBottom:}
\DoxyCodeLine{3018         \mbox{\hyperlink{src_2base_2logging_8h_a0bc63b24b654ca433be7b97a3edde132}{UNREACHABLE}}();}
\DoxyCodeLine{3019     \}}
\DoxyCodeLine{3020   \}}
\DoxyCodeLine{3021   \textcolor{comment}{// Decode the value at \{decode\_index\}.}}
\DoxyCodeLine{3022   Local<Value> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{3023   \textcolor{keywordflow}{switch} (signature-\/>get(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}).kind()) \{}
\DoxyCodeLine{3024     \textcolor{keywordflow}{case} i::wasm::kI32: \{}
\DoxyCodeLine{3025       uint32\_t u32\_bits = 0;}
\DoxyCodeLine{3026       \mbox{\hyperlink{namespacev8_1_1internal_a2ef75ab406122e31bc6a5e46e16e0de9}{i::DecodeI32ExceptionValue}}(values, \&decode\_index, \&u32\_bits);}
\DoxyCodeLine{3027       \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} i32 = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}}\textcolor{keyword}{>}(u32\_bits);}
\DoxyCodeLine{3028       \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{classv8_1_1Integer_acd94a64ebeb75a97c42a20c15738fca4}{v8::Integer::New}}(isolate, i32);}
\DoxyCodeLine{3029       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3030     \}}
\DoxyCodeLine{3031     \textcolor{keywordflow}{case} i::wasm::kI64: \{}
\DoxyCodeLine{3032       uint64\_t u64\_bits = 0;}
\DoxyCodeLine{3033       \mbox{\hyperlink{namespacev8_1_1internal_a833daad0bfc17094878be96c55497d8e}{i::DecodeI64ExceptionValue}}(values, \&decode\_index, \&u64\_bits);}
\DoxyCodeLine{3034       int64\_t i64 = \textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(u64\_bits);}
\DoxyCodeLine{3035       \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{classv8_1_1BigInt_a4682f096ed12241365225df82209349d}{v8::BigInt::New}}(isolate, i64);}
\DoxyCodeLine{3036       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3037     \}}
\DoxyCodeLine{3038     \textcolor{keywordflow}{case} i::wasm::kF32: \{}
\DoxyCodeLine{3039       uint32\_t f32\_bits = 0;}
\DoxyCodeLine{3040       \mbox{\hyperlink{namespacev8_1_1internal_a2ef75ab406122e31bc6a5e46e16e0de9}{DecodeI32ExceptionValue}}(values, \&decode\_index, \&f32\_bits);}
\DoxyCodeLine{3041       \textcolor{keywordtype}{float} f32 = base::bit\_cast<float>(f32\_bits);}
\DoxyCodeLine{3042       \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{classv8_1_1Number_a4d8822be251214dab4cf0212475ede76}{v8::Number::New}}(isolate, f32);}
\DoxyCodeLine{3043       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3044     \}}
\DoxyCodeLine{3045     \textcolor{keywordflow}{case} i::wasm::kF64: \{}
\DoxyCodeLine{3046       uint64\_t f64\_bits = 0;}
\DoxyCodeLine{3047       \mbox{\hyperlink{namespacev8_1_1internal_a833daad0bfc17094878be96c55497d8e}{DecodeI64ExceptionValue}}(values, \&decode\_index, \&f64\_bits);}
\DoxyCodeLine{3048       \textcolor{keywordtype}{double} f64 = base::bit\_cast<double>(f64\_bits);}
\DoxyCodeLine{3049       \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{classv8_1_1Number_a4d8822be251214dab4cf0212475ede76}{v8::Number::New}}(isolate, f64);}
\DoxyCodeLine{3050       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3051     \}}
\DoxyCodeLine{3052     \textcolor{keywordflow}{case} i::wasm::kRef:}
\DoxyCodeLine{3053     \textcolor{keywordflow}{case} i::wasm::kRefNull: \{}
\DoxyCodeLine{3054       \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} obj(values-\/>get(decode\_index), i\_isolate);}
\DoxyCodeLine{3055       ReturnValue<Value> return\_value = info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}();}
\DoxyCodeLine{3056       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ab4f484a7bec0c8f51d7df97ca05936f4}{WasmObjectToJSReturnValue}}(return\_value, obj, signature-\/>get(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}),}
\DoxyCodeLine{3057                                      i\_isolate, \&thrower)) \{}
\DoxyCodeLine{3058         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{3059       \}}
\DoxyCodeLine{3060       \textcolor{keywordflow}{return};}
\DoxyCodeLine{3061     \}}
\DoxyCodeLine{3062     \textcolor{keywordflow}{case} i::wasm::kS128:}
\DoxyCodeLine{3063       thrower.TypeError(\textcolor{stringliteral}{"{}Invalid type v128"{}});}
\DoxyCodeLine{3064       \textcolor{keywordflow}{return};}
\DoxyCodeLine{3065     \textcolor{keywordflow}{case} i::wasm::kI8:}
\DoxyCodeLine{3066     \textcolor{keywordflow}{case} i::wasm::kI16:}
\DoxyCodeLine{3067     \textcolor{keywordflow}{case} i::wasm::kF16:}
\DoxyCodeLine{3068     \textcolor{keywordflow}{case} i::wasm::kVoid:}
\DoxyCodeLine{3069     \textcolor{keywordflow}{case} i::wasm::kTop:}
\DoxyCodeLine{3070     \textcolor{keywordflow}{case} i::wasm::kBottom:}
\DoxyCodeLine{3071       \mbox{\hyperlink{src_2base_2logging_8h_a0bc63b24b654ca433be7b97a3edde132}{UNREACHABLE}}();}
\DoxyCodeLine{3072   \}}
\DoxyCodeLine{3073   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{3074 \}}

\end{DoxyCode}


References DCHECK, v8\+::internal\+::\+Decode\+I32\+Exception\+Value(), v8\+::internal\+::\+Decode\+I64\+Exception\+Value(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Enforce\+Uint32(), EXTRACT\+\_\+\+THIS, v8\+::internal\+::\+Wasm\+Exception\+Package\+::\+Get\+Exception\+Tag(), v8\+::internal\+::\+Wasm\+Exception\+Package\+::\+Get\+Exception\+Values(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::index, v8\+::\+Number\+::\+New(), v8\+::\+Integer\+::\+New(), v8\+::\+Big\+Int\+::\+New(), v8\+::base\+::internal\+::result, v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle(), UNREACHABLE, and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Wasm\+Object\+To\+JSReturn\+Value().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a89952a68736479a3740810e5651682ee_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6fdd90c4ae4ce048cda630ce1be94ef8}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6fdd90c4ae4ce048cda630ce1be94ef8}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyExceptionImpl@{WebAssemblyExceptionImpl}}
\index{WebAssemblyExceptionImpl@{WebAssemblyExceptionImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyExceptionImpl()}{WebAssemblyExceptionImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Exception\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2149 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2149                                                                            \{}
\DoxyCodeLine{2150   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Exception()"{}}\};}
\DoxyCodeLine{2151   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2152 }
\DoxyCodeLine{2153   \textcolor{keywordflow}{if} (!info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ad2105b93e9b4d02f42b7338fa5950cbc}{IsConstructCall}}()) \{}
\DoxyCodeLine{2154     thrower.TypeError(\textcolor{stringliteral}{"{}WebAssembly.Exception must be invoked with 'new'"{}});}
\DoxyCodeLine{2155     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2156   \}}
\DoxyCodeLine{2157   \textcolor{keywordflow}{if} (!info[0]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a3ed6964c1400e2d797f2ae7d2adf68a7}{IsObject}}()) \{}
\DoxyCodeLine{2158     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a WebAssembly tag"{}});}
\DoxyCodeLine{2159     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2160   \}}
\DoxyCodeLine{2161   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} arg0 = Utils::OpenDirectHandle(*info[0]);}
\DoxyCodeLine{2162   \textcolor{keywordflow}{if} (!IsWasmTagObject(i::Cast<i::HeapObject>(*arg0))) \{}
\DoxyCodeLine{2163     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a WebAssembly tag"{}});}
\DoxyCodeLine{2164     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2165   \}}
\DoxyCodeLine{2166   \textcolor{keyword}{auto} tag\_object = i::Cast<i::WasmTagObject>(arg0);}
\DoxyCodeLine{2167   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmExceptionTag>}} tag(}
\DoxyCodeLine{2168       i::Cast<i::WasmExceptionTag>(tag\_object-\/>tag()), i\_isolate);}
\DoxyCodeLine{2169   \textcolor{keyword}{auto} js\_tag = i::Cast<i::WasmTagObject>(i\_isolate-\/>context()-\/>wasm\_js\_tag());}
\DoxyCodeLine{2170   \textcolor{keywordflow}{if} (*tag == js\_tag-\/>tag()) \{}
\DoxyCodeLine{2171     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 cannot be WebAssembly.JSTag"{}});}
\DoxyCodeLine{2172     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2173   \}}
\DoxyCodeLine{2174   \textcolor{keyword}{const} i::wasm::CanonicalSig* \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}} =}
\DoxyCodeLine{2175       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6feb413448e84daf9201bd8a2381a718}{i::wasm::GetTypeCanonicalizer}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_aa1f36fc3851ba2316d47223fa2b6e155}{LookupFunctionSignature}}(}
\DoxyCodeLine{2176           i::wasm::CanonicalTypeIndex\{}
\DoxyCodeLine{2177               \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(tag\_object-\/>canonical\_type\_index())\});}
\DoxyCodeLine{2178 }
\DoxyCodeLine{2179   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}-\/>return\_count() != 0) \{}
\DoxyCodeLine{2180     thrower.TypeError(}
\DoxyCodeLine{2181         \textcolor{stringliteral}{"{}Invalid WebAssembly tag (return values not permitted in Exception "{}}}
\DoxyCodeLine{2182         \textcolor{stringliteral}{"{}tag)"{}});}
\DoxyCodeLine{2183     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2184   \}}
\DoxyCodeLine{2185 }
\DoxyCodeLine{2186   uint32\_t \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a77cc11472c760fe6c884a2b8b3247127}{GetEncodedSize}}(tag\_object);}
\DoxyCodeLine{2187   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmExceptionPackage>}} runtime\_exception =}
\DoxyCodeLine{2188       \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionPackage_a310dfde86feecf720c6a44124ab7dbca}{i::WasmExceptionPackage::New}}(i\_isolate, tag, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{2189   \textcolor{comment}{// The constructor above should guarantee that the cast below succeeds.}}
\DoxyCodeLine{2190   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::FixedArray>}} values =}
\DoxyCodeLine{2191       i::Cast<i::FixedArray>(\mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionPackage_a92e3cf4344536855bbcc0c46ec31c269}{i::WasmExceptionPackage::GetExceptionValues}}(}
\DoxyCodeLine{2192           i\_isolate, runtime\_exception));}
\DoxyCodeLine{2193   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::PodArray<i::wasm::ValueType>}}> signature(}
\DoxyCodeLine{2194       tag\_object-\/>serialized\_signature(), i\_isolate);}
\DoxyCodeLine{2195   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a0c59b1dfcb356042e275ff204f1127be}{EncodeExceptionValues}}(isolate, signature, tag\_object, info[1], \&thrower,}
\DoxyCodeLine{2196                              values)) \{}
\DoxyCodeLine{2197     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2198   \}}
\DoxyCodeLine{2199 }
\DoxyCodeLine{2200   \textcolor{comment}{// Third argument: optional ExceptionOption (\{traceStack: <bool>\}).}}
\DoxyCodeLine{2201   \textcolor{keywordflow}{if} (!info[2]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a6db5c47c190e9de94a96948682b877c8}{IsNullOrUndefined}}() \&\& !info[2]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a3ed6964c1400e2d797f2ae7d2adf68a7}{IsObject}}()) \{}
\DoxyCodeLine{2202     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 2 is not an object"{}});}
\DoxyCodeLine{2203     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2204   \}}
\DoxyCodeLine{2205   \textcolor{keywordflow}{if} (info[2]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a3ed6964c1400e2d797f2ae7d2adf68a7}{IsObject}}()) \{}
\DoxyCodeLine{2206     Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{2207     Local<Object> trace\_stack\_obj = \mbox{\hyperlink{namespacev8_1_1internal_a94c4a6c4ad3993b5e0e43bc2191c084b}{Local<Object>::Cast}}(info[2]);}
\DoxyCodeLine{2208     Local<String> trace\_stack\_key = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}traceStack"{}});}
\DoxyCodeLine{2209     \mbox{\hyperlink{classv8_1_1Local}{v8::Local<Value>}} trace\_stack\_value;}
\DoxyCodeLine{2210     \textcolor{keywordflow}{if} (!trace\_stack\_obj-\/>Get(context, trace\_stack\_key)}
\DoxyCodeLine{2211              .ToLocal(\&trace\_stack\_value)) \{}
\DoxyCodeLine{2212       \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2213     \}}
\DoxyCodeLine{2214     \textcolor{keywordflow}{if} (trace\_stack\_value-\/>BooleanValue(isolate)) \{}
\DoxyCodeLine{2215       \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{i::Handle<i::Object>}} caller = Utils::OpenHandle(*info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_aa04f4c5c984db26a90b591f34550e6fa}{NewTarget}}());}
\DoxyCodeLine{2216 }
\DoxyCodeLine{2217       \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} capture\_result;}
\DoxyCodeLine{2218       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1ErrorUtils_ae2e7c0a93577742e9ba4ff8c8fd14f18}{i::ErrorUtils::CaptureStackTrace}}(i\_isolate, runtime\_exception,}
\DoxyCodeLine{2219                                             \mbox{\hyperlink{namespacev8_1_1internal_a323bcaf558efc1be70fc64b9b64f26afac30dc0bf1fd68bb800f0eee6f30ab67b}{i::SKIP\_NONE}}, caller)}
\DoxyCodeLine{2220                .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&capture\_result)) \{}
\DoxyCodeLine{2221         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2222       \}}
\DoxyCodeLine{2223     \}}
\DoxyCodeLine{2224   \}}
\DoxyCodeLine{2225 }
\DoxyCodeLine{2226   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(}
\DoxyCodeLine{2227       Utils::ToLocal(i::Cast<i::Object>(runtime\_exception)));}
\DoxyCodeLine{2228 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Error\+Utils\+::\+Capture\+Stack\+Trace(), v8\+::\+Local$<$ T $>$\+::\+Cast(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Encode\+Exception\+Values(), v8\+::\+Object\+::\+Get(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Encoded\+Size(), v8\+::internal\+::\+Wasm\+Exception\+Package\+::\+Get\+Exception\+Values(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Type\+Canonicalizer(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::internal\+::\+Is\+Null\+Or\+Undefined(), v8\+::internal\+::\+Is\+Object(), v8\+::internal\+::wasm\+::\+Type\+Canonicalizer\+::\+Lookup\+Function\+Signature(), v8\+::internal\+::\+Wasm\+Exception\+Package\+::\+New(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+New\+Target(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::\+Utils\+::\+Open\+Handle(), v8\+::internal\+::sig, size(), v8\+::internal\+::\+SKIP\+\_\+\+NONE, v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle(), v8\+::\+Maybe\+Local$<$ T $>$\+::\+To\+Local(), and v8\+\_\+str().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6fdd90c4ae4ce048cda630ce1be94ef8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0b20f4d4fbe2dc1a4bfb89b8daeba0bf}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0b20f4d4fbe2dc1a4bfb89b8daeba0bf}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyExceptionIsImpl@{WebAssemblyExceptionIsImpl}}
\index{WebAssemblyExceptionIsImpl@{WebAssemblyExceptionIsImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyExceptionIsImpl()}{WebAssemblyExceptionIsImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Exception\+Is\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 3076 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3077                                                  \{}
\DoxyCodeLine{3078   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Exception.is()"{}}\};}
\DoxyCodeLine{3079   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{3080   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(exception, WasmExceptionPackage);}
\DoxyCodeLine{3081 }
\DoxyCodeLine{3082   \textcolor{keyword}{auto} tag = \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionPackage_aff0527791499aaefa3d40b6b010470ca}{i::WasmExceptionPackage::GetExceptionTag}}(i\_isolate, exception);}
\DoxyCodeLine{3083   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(IsWasmExceptionTag(*tag));}
\DoxyCodeLine{3084 }
\DoxyCodeLine{3085   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmTagObject>}} tag\_object;}
\DoxyCodeLine{3086   \textcolor{keywordflow}{if} (!GetFirstArgumentAsTag(info, \&thrower).\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&tag\_object)) \{}
\DoxyCodeLine{3087     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{3088   \}}
\DoxyCodeLine{3089   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(tag\_object-\/>tag() == *tag);}
\DoxyCodeLine{3090 \}}

\end{DoxyCode}


References DCHECK, EXTRACT\+\_\+\+THIS, v8\+::internal\+::\+Wasm\+Exception\+Package\+::\+Get\+Exception\+Tag(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), and v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0b20f4d4fbe2dc1a4bfb89b8daeba0bf_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac70d98b3dfb9bcdb067ff8a7a713926e}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac70d98b3dfb9bcdb067ff8a7a713926e}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyFunction@{WebAssemblyFunction}}
\index{WebAssemblyFunction@{WebAssemblyFunction}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyFunction()}{WebAssemblyFunction()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Function (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2288 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2288                                                                       \{}
\DoxyCodeLine{2289   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Function()"{}}\};}
\DoxyCodeLine{2290   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2291 }
\DoxyCodeLine{2292   \textcolor{keywordflow}{if} (!info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ad2105b93e9b4d02f42b7338fa5950cbc}{IsConstructCall}}()) \{}
\DoxyCodeLine{2293     thrower.TypeError(\textcolor{stringliteral}{"{}WebAssembly.Function must be invoked with 'new'"{}});}
\DoxyCodeLine{2294     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2295   \}}
\DoxyCodeLine{2296   \textcolor{keywordflow}{if} (!info[0]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a3ed6964c1400e2d797f2ae7d2adf68a7}{IsObject}}()) \{}
\DoxyCodeLine{2297     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a function type"{}});}
\DoxyCodeLine{2298     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2299   \}}
\DoxyCodeLine{2300   Local<Object> function\_type = \mbox{\hyperlink{namespacev8_1_1internal_a94c4a6c4ad3993b5e0e43bc2191c084b}{Local<Object>::Cast}}(info[0]);}
\DoxyCodeLine{2301   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{2302   \textcolor{keyword}{auto} enabled\_features = WasmEnabledFeatures::FromIsolate(i\_isolate);}
\DoxyCodeLine{2303 }
\DoxyCodeLine{2304   \textcolor{comment}{// Load the 'parameters' property of the function type.}}
\DoxyCodeLine{2305   Local<String> parameters\_key = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}parameters"{}});}
\DoxyCodeLine{2306   \mbox{\hyperlink{classv8_1_1MaybeLocal}{v8::MaybeLocal<v8::Value>}} parameters\_maybe =}
\DoxyCodeLine{2307       function\_type-\/>Get(context, parameters\_key);}
\DoxyCodeLine{2308   \mbox{\hyperlink{classv8_1_1Local}{v8::Local<v8::Value>}} parameters\_value;}
\DoxyCodeLine{2309   \textcolor{keywordflow}{if} (!parameters\_maybe.\mbox{\hyperlink{classv8_1_1MaybeLocal_adcbf09f789c51def0e48e859d5b8da57}{ToLocal}}(\&parameters\_value) ||}
\DoxyCodeLine{2310       !parameters\_value-\/>\mbox{\hyperlink{classv8_1_1Value_a72a01e06e897a8fedbb430cdd7fc3ffe}{IsObject}}()) \{}
\DoxyCodeLine{2311     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a function type with 'parameters'"{}});}
\DoxyCodeLine{2312     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2313   \}}
\DoxyCodeLine{2314   Local<Object> parameters = parameters\_value.\mbox{\hyperlink{classv8_1_1Local_a00dcb92006284768dc2661c2940f935a}{As}}<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae40ecf79ba420ba01bc347350bd6176f}{Object}}>();}
\DoxyCodeLine{2315   uint32\_t parameters\_len = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a361699e49cecab7e16584fcb747876fe}{GetIterableLength}}(i\_isolate, context, parameters);}
\DoxyCodeLine{2316   \textcolor{keywordflow}{if} (parameters\_len == \mbox{\hyperlink{namespacev8_1_1internal_ae9b3d70a0b2f7c3c669d187fd9a9dae2}{i::kMaxUInt32}}) \{}
\DoxyCodeLine{2317     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 contains parameters without 'length'"{}});}
\DoxyCodeLine{2318     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2319   \}}
\DoxyCodeLine{2320   \textcolor{keywordflow}{if} (parameters\_len > \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_af945328e16ca1b7c2a5d2baf50ca445c}{i::wasm::kV8MaxWasmFunctionParams}}) \{}
\DoxyCodeLine{2321     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 contains too many parameters"{}});}
\DoxyCodeLine{2322     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2323   \}}
\DoxyCodeLine{2324 }
\DoxyCodeLine{2325   \textcolor{comment}{// Load the 'results' property of the function type.}}
\DoxyCodeLine{2326   \mbox{\hyperlink{classv8_1_1Local}{v8::Local<v8::Value>}} results\_value;}
\DoxyCodeLine{2327   \textcolor{keywordflow}{if} (!function\_type-\/>Get(context, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}results"{}}))}
\DoxyCodeLine{2328            .ToLocal(\&results\_value)) \{}
\DoxyCodeLine{2329     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2330   \}}
\DoxyCodeLine{2331   \textcolor{keywordflow}{if} (!results\_value-\/>\mbox{\hyperlink{classv8_1_1Value_a72a01e06e897a8fedbb430cdd7fc3ffe}{IsObject}}()) \{}
\DoxyCodeLine{2332     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a function type with 'results'"{}});}
\DoxyCodeLine{2333     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2334   \}}
\DoxyCodeLine{2335   Local<Object> results = results\_value.\mbox{\hyperlink{classv8_1_1Local_a00dcb92006284768dc2661c2940f935a}{As}}<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae40ecf79ba420ba01bc347350bd6176f}{Object}}>();}
\DoxyCodeLine{2336   uint32\_t results\_len = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a361699e49cecab7e16584fcb747876fe}{GetIterableLength}}(i\_isolate, context, results);}
\DoxyCodeLine{2337   \textcolor{keywordflow}{if} (results\_len == \mbox{\hyperlink{namespacev8_1_1internal_ae9b3d70a0b2f7c3c669d187fd9a9dae2}{i::kMaxUInt32}}) \{}
\DoxyCodeLine{2338     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 contains results without 'length'"{}});}
\DoxyCodeLine{2339     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2340   \}}
\DoxyCodeLine{2341   \textcolor{keywordflow}{if} (results\_len > \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab8ffecbb34efcc8e31d1c5b84241d1fd}{i::wasm::kV8MaxWasmFunctionReturns}}) \{}
\DoxyCodeLine{2342     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 contains too many results"{}});}
\DoxyCodeLine{2343     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2344   \}}
\DoxyCodeLine{2345 }
\DoxyCodeLine{2346   \textcolor{comment}{// Decode the function type and construct a signature.}}
\DoxyCodeLine{2347   \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{i::Zone}} zone(i\_isolate-\/>allocator(), \mbox{\hyperlink{zone_8h_a6b1fd0a126df3f1b788cee19d9cce66e}{ZONE\_NAME}});}
\DoxyCodeLine{2348   i::wasm::FunctionSig::Builder builder(\&zone, results\_len, parameters\_len);}
\DoxyCodeLine{2349   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < parameters\_len; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{2350     MaybeLocal<Value> maybe = parameters-\/>Get(context, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{2351     std::optional<i::wasm::ValueType> maybe\_type =}
\DoxyCodeLine{2352         \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5}{GetValueType}}(isolate, maybe, context, enabled\_features);}
\DoxyCodeLine{2353     \textcolor{keywordflow}{if} (!maybe\_type) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2354     i::wasm::ValueType \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = *maybe\_type;}
\DoxyCodeLine{2355     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab996b620af25ac2ea5b4682df40abca3}{i::wasm::kWasmVoid}}) \{}
\DoxyCodeLine{2356       thrower.TypeError(}
\DoxyCodeLine{2357           \textcolor{stringliteral}{"{}Argument 0 parameter type at index \#\%u must be a value type"{}}, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{2358       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2359     \}}
\DoxyCodeLine{2360     builder.AddParam(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}});}
\DoxyCodeLine{2361   \}}
\DoxyCodeLine{2362   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < results\_len; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{2363     MaybeLocal<Value> maybe = results-\/>Get(context, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{2364     std::optional<i::wasm::ValueType> maybe\_type =}
\DoxyCodeLine{2365         \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5}{GetValueType}}(isolate, maybe, context, enabled\_features);}
\DoxyCodeLine{2366     \textcolor{keywordflow}{if} (!maybe\_type) \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2367     i::wasm::ValueType \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = *maybe\_type;}
\DoxyCodeLine{2368     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab996b620af25ac2ea5b4682df40abca3}{i::wasm::kWasmVoid}}) \{}
\DoxyCodeLine{2369       thrower.TypeError(}
\DoxyCodeLine{2370           \textcolor{stringliteral}{"{}Argument 0 result type at index \#\%u must be a value type"{}}, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{2371       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2372     \}}
\DoxyCodeLine{2373     builder.AddReturn(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}});}
\DoxyCodeLine{2374   \}}
\DoxyCodeLine{2375 }
\DoxyCodeLine{2376   \textcolor{keywordflow}{if} (!info[1]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a3ed6964c1400e2d797f2ae7d2adf68a7}{IsObject}}()) \{}
\DoxyCodeLine{2377     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 1 must be a function"{}});}
\DoxyCodeLine{2378     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2379   \}}
\DoxyCodeLine{2380   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a1a17c60bc1e8b8ad11208d7b0d3ec5a9}{i::wasm::FunctionSig}}* \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}} = builder.Get();}
\DoxyCodeLine{2381   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6eef6d24980961199f34fb770039843a}{i::wasm::Suspend}} suspend = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6eef6d24980961199f34fb770039843aac51012268661bd5ae03450b2207e5d83}{i::wasm::kNoSuspend}};}
\DoxyCodeLine{2382 }
\DoxyCodeLine{2383   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSReceiver>}} callable =}
\DoxyCodeLine{2384       Utils::OpenDirectHandle(*info[1].As<Object>());}
\DoxyCodeLine{2385   \textcolor{keywordflow}{if} (i::IsWasmSuspendingObject(*callable)) \{}
\DoxyCodeLine{2386     suspend = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a6eef6d24980961199f34fb770039843aa33359310d9bd30f372c2c2db0b3914bd}{i::wasm::kSuspend}};}
\DoxyCodeLine{2387     callable = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{2388         i::Cast<i::WasmSuspendingObject>(*callable)-\/>callable(), i\_isolate);}
\DoxyCodeLine{2389     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(i::IsCallable(*callable));}
\DoxyCodeLine{2390   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!i::IsCallable(*callable)) \{}
\DoxyCodeLine{2391     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 1 must be a function"{}});}
\DoxyCodeLine{2392     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2393   \}}
\DoxyCodeLine{2394 }
\DoxyCodeLine{2395   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSFunction>}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{2396       \mbox{\hyperlink{classv8_1_1internal_1_1WasmJSFunction_a5f4776e0c31cabfacc5c5cfa6d1a6caa}{i::WasmJSFunction::New}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}, callable, suspend);}
\DoxyCodeLine{2397   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}));}
\DoxyCodeLine{2398 \}}

\end{DoxyCode}


References v8\+::\+Local$<$ T $>$\+::\+As(), v8\+::\+Local$<$ T $>$\+::\+Cast(), DCHECK, v8\+::internal\+::direct\+\_\+handle(), v8\+::\+Object\+::\+Get(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Iterable\+Length(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), Get\+Value\+Type(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::\+Value\+::\+Is\+Object(), v8\+::internal\+::\+Is\+Object(), v8\+::internal\+::k\+Max\+UInt32, v8\+::internal\+::wasm\+::k\+No\+Suspend, v8\+::internal\+::wasm\+::k\+Suspend, v8\+::internal\+::wasm\+::k\+V8\+Max\+Wasm\+Function\+Params, v8\+::internal\+::wasm\+::k\+V8\+Max\+Wasm\+Function\+Returns, v8\+::internal\+::wasm\+::k\+Wasm\+Void, v8\+::internal\+::\+Wasm\+JSFunction\+::\+New(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::base\+::internal\+::result, v8\+::internal\+::sig, v8\+::\+Maybe\+Local$<$ T $>$\+::\+To\+Local(), v8\+::internal\+::tracing\+::type, v8\+\_\+str(), and ZONE\+\_\+\+NAME.



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Type\+Reflection().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac70d98b3dfb9bcdb067ff8a7a713926e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac70d98b3dfb9bcdb067ff8a7a713926e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a82b07981395ae632c3887915a53d27a2}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a82b07981395ae632c3887915a53d27a2}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyFunctionType@{WebAssemblyFunctionType}}
\index{WebAssemblyFunctionType@{WebAssemblyFunctionType}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyFunctionType()}{WebAssemblyFunctionType()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Function\+Type (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2493 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2493                                                                           \{}
\DoxyCodeLine{2494   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Function.type()"{}}\};}
\DoxyCodeLine{2495   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2496 }
\DoxyCodeLine{2497   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSObject>}} \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}};}
\DoxyCodeLine{2498 }
\DoxyCodeLine{2499   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} fun = Utils::OpenDirectHandle(*info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a4ddfd6d21732dff1c4c55d5441a8a5ca}{This}}());}
\DoxyCodeLine{2500   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1WasmExportedFunction_a89d14615aeb9e6fdd2017315fe60d0ef}{i::WasmExportedFunction::IsWasmExportedFunction}}(*fun)) \{}
\DoxyCodeLine{2501     \textcolor{keyword}{auto} wasm\_exported\_function = i::Cast<i::WasmExportedFunction>(fun);}
\DoxyCodeLine{2502     \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{i::Tagged<i::WasmExportedFunctionData>}} data =}
\DoxyCodeLine{2503         wasm\_exported\_function-\/>shared()-\/>wasm\_exported\_function\_data();}
\DoxyCodeLine{2504     \textcolor{comment}{// Note: while \{zone\} is only referenced directly in the if-\/block below,}}
\DoxyCodeLine{2505     \textcolor{comment}{// its lifetime must exceed that of \{sig\}.}}
\DoxyCodeLine{2506     \textcolor{comment}{// TODO(42210967): Creating a Zone just to create a modified copy of a}}
\DoxyCodeLine{2507     \textcolor{comment}{// single signature is rather expensive. It would be good to find a more}}
\DoxyCodeLine{2508     \textcolor{comment}{// efficient approach, if this function is ever considered performance}}
\DoxyCodeLine{2509     \textcolor{comment}{// relevant.}}
\DoxyCodeLine{2510     \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{i::Zone}} zone(i\_isolate-\/>allocator(), \mbox{\hyperlink{zone_8h_a6b1fd0a126df3f1b788cee19d9cce66e}{ZONE\_NAME}});}
\DoxyCodeLine{2511     \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a1a17c60bc1e8b8ad11208d7b0d3ec5a9}{i::wasm::FunctionSig}}* \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}} =}
\DoxyCodeLine{2512         data-\/>instance\_data()-\/>module()-\/>functions[data-\/>function\_index()].sig;}
\DoxyCodeLine{2513     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460}{i::wasm::Promise}} promise\_flags =}
\DoxyCodeLine{2514         i::WasmFunctionData::PromiseField::decode(data-\/>js\_promise\_flags());}
\DoxyCodeLine{2515     \textcolor{keywordflow}{if} (promise\_flags == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad97a36aa15ff4a0e71c9e8982a5cc460a6da34b562310c09460985d37264a7920}{i::wasm::kPromise}}) \{}
\DoxyCodeLine{2516       \textcolor{comment}{// The wrapper function returns a promise as an externref instead of the}}
\DoxyCodeLine{2517       \textcolor{comment}{// original return type.}}
\DoxyCodeLine{2518       \textcolor{keywordtype}{size\_t} param\_count = \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}-\/>parameter\_count();}
\DoxyCodeLine{2519       i::wasm::FunctionSig::Builder builder(\&zone, 1, param\_count);}
\DoxyCodeLine{2520       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < param\_count; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{2521         builder.AddParam(\mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}-\/>GetParam(\mbox{\hyperlink{namespacev8_1_1internal}{i}}));}
\DoxyCodeLine{2522       \}}
\DoxyCodeLine{2523       builder.AddReturn(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a75bfbc047d813d2932698521c1c1145f}{i::wasm::kWasmExternRef}});}
\DoxyCodeLine{2524       \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}} = builder.Get();}
\DoxyCodeLine{2525     \}}
\DoxyCodeLine{2526     \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad49eb67763b3ddf562db19959cc71ace}{i::wasm::GetTypeForFunction}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}});}
\DoxyCodeLine{2527   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1WasmJSFunction_acd5f3569a442acea759fd951ca21567f}{i::WasmJSFunction::IsWasmJSFunction}}(*fun)) \{}
\DoxyCodeLine{2528     \textcolor{keyword}{const} i::wasm::CanonicalSig* \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}} = i::Cast<i::WasmJSFunction>(fun)}
\DoxyCodeLine{2529                                            -\/>shared()}
\DoxyCodeLine{2530                                            -\/>wasm\_js\_function\_data()}
\DoxyCodeLine{2531                                            -\/>GetSignature();}
\DoxyCodeLine{2532     \textcolor{comment}{// As long as WasmJSFunctions cannot use indexed types, their canonical}}
\DoxyCodeLine{2533     \textcolor{comment}{// signatures are bit-\/compatible with module-\/specific signatures.}}
\DoxyCodeLine{2534 \textcolor{preprocessor}{\#if DEBUG}}
\DoxyCodeLine{2535     \textcolor{keywordflow}{for} (i::wasm::CanonicalValueType t : \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}-\/>all()) \{}
\DoxyCodeLine{2536       \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!t.has\_index());}
\DoxyCodeLine{2537     \}}
\DoxyCodeLine{2538 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2539     static\_assert(\textcolor{keyword}{sizeof}(i::wasm::ValueType) ==}
\DoxyCodeLine{2540                   \textcolor{keyword}{sizeof}(i::wasm::CanonicalValueType));}
\DoxyCodeLine{2541     \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad49eb67763b3ddf562db19959cc71ace}{i::wasm::GetTypeForFunction}}(}
\DoxyCodeLine{2542         i\_isolate, \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a1a17c60bc1e8b8ad11208d7b0d3ec5a9}{i::wasm::FunctionSig}}*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}));}
\DoxyCodeLine{2543   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2544     thrower.TypeError(\textcolor{stringliteral}{"{}Receiver must be a WebAssembly.Function"{}});}
\DoxyCodeLine{2545     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2546   \}}
\DoxyCodeLine{2547 }
\DoxyCodeLine{2548   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}));}
\DoxyCodeLine{2549 \}}

\end{DoxyCode}


References DCHECK, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Type\+For\+Function(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Wasm\+Exported\+Function\+::\+Is\+Wasm\+Exported\+Function(), v8\+::internal\+::\+Wasm\+JSFunction\+::\+Is\+Wasm\+JSFunction(), v8\+::internal\+::wasm\+::k\+Promise, v8\+::internal\+::wasm\+::k\+Wasm\+Extern\+Ref, v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::internal\+::sig, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+This(), v8\+::internal\+::tracing\+::type, and ZONE\+\_\+\+NAME.



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Type\+Reflection().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a82b07981395ae632c3887915a53d27a2_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a82b07981395ae632c3887915a53d27a2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa3bf6a1daf198c9567f2d6bc63294ced}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa3bf6a1daf198c9567f2d6bc63294ced}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyGlobalGetValueCommon@{WebAssemblyGlobalGetValueCommon}}
\index{WebAssemblyGlobalGetValueCommon@{WebAssemblyGlobalGetValueCommon}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyGlobalGetValueCommon()}{WebAssemblyGlobalGetValueCommon()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Global\+Get\+Value\+Common (\begin{DoxyParamCaption}\item[{Wasm\+JSApi\+Scope \&}]{js\+\_\+api\+\_\+scope }\end{DoxyParamCaption})}



Definition at line 3092 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3092                                                                    \{}
\DoxyCodeLine{3093   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{3094   \textcolor{keyword}{auto}\& info = js\_api\_scope.callback\_info();  \textcolor{comment}{// Needed by EXTRACT\_THIS.}}
\DoxyCodeLine{3095   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmGlobalObject);}
\DoxyCodeLine{3096 }
\DoxyCodeLine{3097   \mbox{\hyperlink{classv8_1_1ReturnValue}{v8::ReturnValue<v8::Value>}} return\_value = info.GetReturnValue();}
\DoxyCodeLine{3098 }
\DoxyCodeLine{3099   \textcolor{keywordflow}{switch} (receiver-\/>type().kind()) \{}
\DoxyCodeLine{3100     \textcolor{keywordflow}{case} i::wasm::kI32:}
\DoxyCodeLine{3101       return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(receiver-\/>GetI32());}
\DoxyCodeLine{3102       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3103     \textcolor{keywordflow}{case} i::wasm::kI64: \{}
\DoxyCodeLine{3104       Local<BigInt> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_aea46070627c9c116b8f1be4a25840e66}{BigInt::New}}(isolate, receiver-\/>GetI64());}
\DoxyCodeLine{3105       return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{3106       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3107     \}}
\DoxyCodeLine{3108     \textcolor{keywordflow}{case} i::wasm::kF32:}
\DoxyCodeLine{3109       return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(receiver-\/>GetF32());}
\DoxyCodeLine{3110       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3111     \textcolor{keywordflow}{case} i::wasm::kF64:}
\DoxyCodeLine{3112       return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(receiver-\/>GetF64());}
\DoxyCodeLine{3113       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3114     \textcolor{keywordflow}{case} i::wasm::kS128:}
\DoxyCodeLine{3115       thrower.TypeError(\textcolor{stringliteral}{"{}Can't get the value of s128 WebAssembly.Global"{}});}
\DoxyCodeLine{3116       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3117     \textcolor{keywordflow}{case} i::wasm::kRef:}
\DoxyCodeLine{3118     \textcolor{keywordflow}{case} i::wasm::kRefNull:}
\DoxyCodeLine{3119       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ab4f484a7bec0c8f51d7df97ca05936f4}{WasmObjectToJSReturnValue}}(return\_value, receiver-\/>GetRef(),}
\DoxyCodeLine{3120                                      receiver-\/>type(), i\_isolate, \&thrower)) \{}
\DoxyCodeLine{3121         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{3122       \}}
\DoxyCodeLine{3123       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3124     \textcolor{keywordflow}{case} i::wasm::kI8:}
\DoxyCodeLine{3125     \textcolor{keywordflow}{case} i::wasm::kI16:}
\DoxyCodeLine{3126     \textcolor{keywordflow}{case} i::wasm::kF16:}
\DoxyCodeLine{3127     \textcolor{keywordflow}{case} i::wasm::kTop:}
\DoxyCodeLine{3128     \textcolor{keywordflow}{case} i::wasm::kBottom:}
\DoxyCodeLine{3129     \textcolor{keywordflow}{case} i::wasm::kVoid:}
\DoxyCodeLine{3130       \mbox{\hyperlink{src_2base_2logging_8h_a0bc63b24b654ca433be7b97a3edde132}{UNREACHABLE}}();}
\DoxyCodeLine{3131   \}}
\DoxyCodeLine{3132 \}}

\end{DoxyCode}


References EXTRACT\+\_\+\+THIS, v8\+::\+Big\+Int\+::\+New(), v8\+::\+Return\+Value$<$ T $>$\+::\+Set(), UNREACHABLE, v8\+::internal\+::value, and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Wasm\+Object\+To\+JSReturn\+Value().



Referenced by Web\+Assembly\+Global\+Get\+Value\+Impl(), and Web\+Assembly\+Global\+Value\+Of\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa3bf6a1daf198c9567f2d6bc63294ced_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa3bf6a1daf198c9567f2d6bc63294ced_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aace3f8d67a6c83e6147a786d0d155b04}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aace3f8d67a6c83e6147a786d0d155b04}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyGlobalGetValueImpl@{WebAssemblyGlobalGetValueImpl}}
\index{WebAssemblyGlobalGetValueImpl@{WebAssemblyGlobalGetValueImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyGlobalGetValueImpl()}{WebAssemblyGlobalGetValueImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Global\+Get\+Value\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 3142 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3143                                                  \{}
\DoxyCodeLine{3144   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}get WebAssembly.Global.value)"{}}\};}
\DoxyCodeLine{3145   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa3bf6a1daf198c9567f2d6bc63294ced}{WebAssemblyGlobalGetValueCommon}}(js\_api\_scope);}
\DoxyCodeLine{3146 \}}

\end{DoxyCode}


References Web\+Assembly\+Global\+Get\+Value\+Common().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aace3f8d67a6c83e6147a786d0d155b04_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac6db6d9d019560128460f337b6d48055}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac6db6d9d019560128460f337b6d48055}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyGlobalImpl@{WebAssemblyGlobalImpl}}
\index{WebAssemblyGlobalImpl@{WebAssemblyGlobalImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyGlobalImpl()}{WebAssemblyGlobalImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Global\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1807 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1807                                                                         \{}
\DoxyCodeLine{1808   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Global()"{}}\};}
\DoxyCodeLine{1809   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1810 }
\DoxyCodeLine{1811   \textcolor{keywordflow}{if} (!info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ad2105b93e9b4d02f42b7338fa5950cbc}{IsConstructCall}}()) \{}
\DoxyCodeLine{1812     thrower.TypeError(\textcolor{stringliteral}{"{}WebAssembly.Global must be invoked with 'new'"{}});}
\DoxyCodeLine{1813     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1814   \}}
\DoxyCodeLine{1815   \textcolor{keywordflow}{if} (!info[0]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a3ed6964c1400e2d797f2ae7d2adf68a7}{IsObject}}()) \{}
\DoxyCodeLine{1816     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a global descriptor"{}});}
\DoxyCodeLine{1817     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1818   \}}
\DoxyCodeLine{1819   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{1820   Local<v8::Object> descriptor = \mbox{\hyperlink{namespacev8_1_1internal_a94c4a6c4ad3993b5e0e43bc2191c084b}{Local<Object>::Cast}}(info[0]);}
\DoxyCodeLine{1821   \textcolor{keyword}{auto} enabled\_features = WasmEnabledFeatures::FromIsolate(i\_isolate);}
\DoxyCodeLine{1822 }
\DoxyCodeLine{1823   \textcolor{comment}{// The descriptor's 'mutable'.}}
\DoxyCodeLine{1824   \textcolor{keywordtype}{bool} is\_mutable;}
\DoxyCodeLine{1825   \{}
\DoxyCodeLine{1826     \mbox{\hyperlink{classv8_1_1Local}{v8::Local<v8::Value>}} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{1827     \textcolor{keywordflow}{if} (!descriptor-\/>Get(context, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}mutable"{}})).ToLocal(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{1828       \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1829     \}}
\DoxyCodeLine{1830     is\_mutable = \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}-\/>BooleanValue(isolate);}
\DoxyCodeLine{1831   \}}
\DoxyCodeLine{1832 }
\DoxyCodeLine{1833   \textcolor{comment}{// The descriptor's type, called 'value'. It is called 'value' because this}}
\DoxyCodeLine{1834   \textcolor{comment}{// descriptor is planned to be reused as the global's type for reflection,}}
\DoxyCodeLine{1835   \textcolor{comment}{// so calling it 'type' is redundant.}}
\DoxyCodeLine{1836   i::wasm::ValueType \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}};}
\DoxyCodeLine{1837   \{}
\DoxyCodeLine{1838     \mbox{\hyperlink{classv8_1_1MaybeLocal}{v8::MaybeLocal<v8::Value>}} maybe =}
\DoxyCodeLine{1839         descriptor-\/>Get(context, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}value"{}}));}
\DoxyCodeLine{1840     std::optional<i::wasm::ValueType> maybe\_type =}
\DoxyCodeLine{1841         \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5}{GetValueType}}(isolate, maybe, context, enabled\_features);}
\DoxyCodeLine{1842     \textcolor{keywordflow}{if} (!maybe\_type) \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1843     \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = *maybe\_type;}
\DoxyCodeLine{1844     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab996b620af25ac2ea5b4682df40abca3}{i::wasm::kWasmVoid}}) \{}
\DoxyCodeLine{1845       thrower.TypeError(}
\DoxyCodeLine{1846           \textcolor{stringliteral}{"{}Descriptor property 'value' must be a WebAssembly type"{}});}
\DoxyCodeLine{1847       \textcolor{keywordflow}{return};}
\DoxyCodeLine{1848     \}}
\DoxyCodeLine{1849   \}}
\DoxyCodeLine{1850 }
\DoxyCodeLine{1851   \textcolor{keyword}{const} uint32\_t offset = 0;}
\DoxyCodeLine{1852   \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{i::MaybeDirectHandle<i::WasmGlobalObject>}} maybe\_global\_obj =}
\DoxyCodeLine{1853       \mbox{\hyperlink{classv8_1_1internal_1_1WasmGlobalObject_ade63c64025c7c0f0ba5a05b9d11e431f}{i::WasmGlobalObject::New}}(}
\DoxyCodeLine{1854           i\_isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmTrustedInstanceData>}}(),}
\DoxyCodeLine{1855           \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{i::MaybeDirectHandle<i::JSArrayBuffer>}}(),}
\DoxyCodeLine{1856           \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{i::MaybeDirectHandle<i::FixedArray>}}(), \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}, offset, is\_mutable);}
\DoxyCodeLine{1857 }
\DoxyCodeLine{1858   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmGlobalObject>}} global\_obj;}
\DoxyCodeLine{1859   \textcolor{keywordflow}{if} (!maybe\_global\_obj.\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle_a7c6aa1159cd89fe343afabcaad620b98}{ToHandle}}(\&global\_obj)) \{}
\DoxyCodeLine{1860     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1861   \}}
\DoxyCodeLine{1862 }
\DoxyCodeLine{1863   \textcolor{comment}{// The infrastructure for `new Foo` calls allocates an object, which is}}
\DoxyCodeLine{1864   \textcolor{comment}{// available here as \{info.This()\}. We're going to discard this object}}
\DoxyCodeLine{1865   \textcolor{comment}{// and use \{global\_obj\} instead, but it does have the correct prototype,}}
\DoxyCodeLine{1866   \textcolor{comment}{// which we must harvest from it. This makes a difference when the JS}}
\DoxyCodeLine{1867   \textcolor{comment}{// constructor function wasn't \{WebAssembly.Global\} directly, but some}}
\DoxyCodeLine{1868   \textcolor{comment}{// subclass: \{global\_obj\} has \{WebAssembly.Global\}'s prototype at this}}
\DoxyCodeLine{1869   \textcolor{comment}{// point, so we must overwrite that with the correct prototype for \{Foo\}.}}
\DoxyCodeLine{1870   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4d8c80876c9b427265f2bdb634e62d70}{TransferPrototype}}(i\_isolate, global\_obj,}
\DoxyCodeLine{1871                          Utils::OpenDirectHandle(*info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a4ddfd6d21732dff1c4c55d5441a8a5ca}{This}}()))) \{}
\DoxyCodeLine{1872     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1873   \}}
\DoxyCodeLine{1874 }
\DoxyCodeLine{1875   \textcolor{comment}{// Convert value to a WebAssembly value, the default value is 0.}}
\DoxyCodeLine{1876   Local<v8::Value> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = \mbox{\hyperlink{namespacev8_1_1internal_a94c4a6c4ad3993b5e0e43bc2191c084b}{Local<Value>::Cast}}(info[1]);}
\DoxyCodeLine{1877   \textcolor{keywordflow}{switch} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}.kind()) \{}
\DoxyCodeLine{1878     \textcolor{keywordflow}{case} i::wasm::kI32: \{}
\DoxyCodeLine{1879       \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} i32\_value = 0;}
\DoxyCodeLine{1880       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a6175aef8f0e75a6a6ca38d79dbe08f04}{ToI32}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, context, \&i32\_value)) \{}
\DoxyCodeLine{1881         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1882       \}}
\DoxyCodeLine{1883       global\_obj-\/>SetI32(i32\_value);}
\DoxyCodeLine{1884       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1885     \}}
\DoxyCodeLine{1886     \textcolor{keywordflow}{case} i::wasm::kI64: \{}
\DoxyCodeLine{1887       int64\_t i64\_value = 0;}
\DoxyCodeLine{1888       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a2ae6fb774fc195675ba598072f0da456}{ToI64}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, context, \&i64\_value)) \{}
\DoxyCodeLine{1889         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1890       \}}
\DoxyCodeLine{1891       global\_obj-\/>SetI64(i64\_value);}
\DoxyCodeLine{1892       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1893     \}}
\DoxyCodeLine{1894     \textcolor{keywordflow}{case} i::wasm::kF32: \{}
\DoxyCodeLine{1895       \textcolor{keywordtype}{float} f32\_value = 0;}
\DoxyCodeLine{1896       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a326943946c937b0837f411bd6068cf7e}{ToF32}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, context, \&f32\_value)) \{}
\DoxyCodeLine{1897         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1898       \}}
\DoxyCodeLine{1899       global\_obj-\/>SetF32(f32\_value);}
\DoxyCodeLine{1900       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1901     \}}
\DoxyCodeLine{1902     \textcolor{keywordflow}{case} i::wasm::kF64: \{}
\DoxyCodeLine{1903       \textcolor{keywordtype}{double} f64\_value = 0;}
\DoxyCodeLine{1904       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ad0e5aedddf4efca62c7da916c8ef5024}{ToF64}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, context, \&f64\_value)) \{}
\DoxyCodeLine{1905         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1906       \}}
\DoxyCodeLine{1907       global\_obj-\/>SetF64(f64\_value);}
\DoxyCodeLine{1908       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1909     \}}
\DoxyCodeLine{1910     \textcolor{keywordflow}{case} i::wasm::kRef:}
\DoxyCodeLine{1911       \textcolor{keywordflow}{if} (info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_af97dd3f1cb01ed039f9479152ad63a84}{Length}}() < 2) \{}
\DoxyCodeLine{1912         thrower.TypeError(\textcolor{stringliteral}{"{}Non-\/defaultable global needs initial value"{}});}
\DoxyCodeLine{1913         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1914       \}}
\DoxyCodeLine{1915       [[fallthrough]];}
\DoxyCodeLine{1916     \textcolor{keywordflow}{case} i::wasm::kRefNull: \{}
\DoxyCodeLine{1917       \textcolor{comment}{// We need the wasm default value \{null\} over \{undefined\}.}}
\DoxyCodeLine{1918       \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} value\_handle;}
\DoxyCodeLine{1919       \textcolor{keywordflow}{if} (info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_af97dd3f1cb01ed039f9479152ad63a84}{Length}}() < 2) \{}
\DoxyCodeLine{1920         value\_handle = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ab1e39290866cb51520e0d9af30af7035}{DefaultReferenceValue}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}});}
\DoxyCodeLine{1921       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1922         value\_handle = Utils::OpenDirectHandle(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{1923         \textcolor{keyword}{const} \textcolor{keywordtype}{char}* error\_message;}
\DoxyCodeLine{1924         \textcolor{comment}{// While the JS API generally allows indexed types, it currently has}}
\DoxyCodeLine{1925         \textcolor{comment}{// no way to specify such types in `new WebAssembly.Global(...)`.}}
\DoxyCodeLine{1926         \textcolor{comment}{// TODO(14034): Fix this if that changes.}}
\DoxyCodeLine{1927         \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}.has\_index());}
\DoxyCodeLine{1928         i::wasm::CanonicalValueType canonical\_type\{\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}\};}
\DoxyCodeLine{1929         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3e2697d50763bb9f401d4c992e24a074}{i::wasm::JSToWasmObject}}(i\_isolate, value\_handle, canonical\_type,}
\DoxyCodeLine{1930                                      \&error\_message)}
\DoxyCodeLine{1931                  .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&value\_handle)) \{}
\DoxyCodeLine{1932           thrower.TypeError(\textcolor{stringliteral}{"{}\%s"{}}, error\_message);}
\DoxyCodeLine{1933           \textcolor{keywordflow}{return};}
\DoxyCodeLine{1934         \}}
\DoxyCodeLine{1935       \}}
\DoxyCodeLine{1936       global\_obj-\/>SetRef(value\_handle);}
\DoxyCodeLine{1937       \textcolor{keywordflow}{break};}
\DoxyCodeLine{1938     \}}
\DoxyCodeLine{1939     \textcolor{keywordflow}{case} i::wasm::kS128: \{}
\DoxyCodeLine{1940       thrower.TypeError(}
\DoxyCodeLine{1941           \textcolor{stringliteral}{"{}A global of type 'v128' cannot be created in JavaScript"{}});}
\DoxyCodeLine{1942       \textcolor{keywordflow}{return};}
\DoxyCodeLine{1943     \}}
\DoxyCodeLine{1944     \textcolor{keywordflow}{case} i::wasm::kI8:}
\DoxyCodeLine{1945     \textcolor{keywordflow}{case} i::wasm::kI16:}
\DoxyCodeLine{1946     \textcolor{keywordflow}{case} i::wasm::kF16:}
\DoxyCodeLine{1947     \textcolor{keywordflow}{case} i::wasm::kVoid:}
\DoxyCodeLine{1948     \textcolor{keywordflow}{case} i::wasm::kTop:}
\DoxyCodeLine{1949     \textcolor{keywordflow}{case} i::wasm::kBottom:}
\DoxyCodeLine{1950       \mbox{\hyperlink{src_2base_2logging_8h_a0bc63b24b654ca433be7b97a3edde132}{UNREACHABLE}}();}
\DoxyCodeLine{1951   \}}
\DoxyCodeLine{1952 }
\DoxyCodeLine{1953   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSObject>}} global\_js\_object(global\_obj);}
\DoxyCodeLine{1954   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(global\_js\_object));}
\DoxyCodeLine{1955 \}}

\end{DoxyCode}


References v8\+::\+Local$<$ T $>$\+::\+Cast(), DCHECK, v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Default\+Reference\+Value(), v8\+::\+Object\+::\+Get(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), Get\+Value\+Type(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::internal\+::\+Is\+Object(), v8\+::internal\+::wasm\+::\+JSTo\+Wasm\+Object(), v8\+::internal\+::wasm\+::k\+Wasm\+Void, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Length(), v8\+::internal\+::\+Wasm\+Global\+Object\+::\+New(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+This(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+To\+F32(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+To\+F64(), v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::\+To\+Handle(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+To\+I32(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+To\+I64(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Transfer\+Prototype(), v8\+::internal\+::tracing\+::type, UNREACHABLE, v8\+\_\+str(), and v8\+::internal\+::value.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ac6db6d9d019560128460f337b6d48055_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0445641ba7db42f32e5fc96d543b9bfb}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0445641ba7db42f32e5fc96d543b9bfb}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyGlobalSetValueImpl@{WebAssemblyGlobalSetValueImpl}}
\index{WebAssemblyGlobalSetValueImpl@{WebAssemblyGlobalSetValueImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyGlobalSetValueImpl()}{WebAssemblyGlobalSetValueImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Global\+Set\+Value\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 3149 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3150                                                  \{}
\DoxyCodeLine{3151   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}set WebAssembly.Global.value)"{}}\};}
\DoxyCodeLine{3152   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{3153   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmGlobalObject);}
\DoxyCodeLine{3154 }
\DoxyCodeLine{3155   \textcolor{keywordflow}{if} (!receiver-\/>is\_mutable()) \{}
\DoxyCodeLine{3156     thrower.TypeError(\textcolor{stringliteral}{"{}Can't set the value of an immutable global."{}});}
\DoxyCodeLine{3157     \textcolor{keywordflow}{return};}
\DoxyCodeLine{3158   \}}
\DoxyCodeLine{3159   \textcolor{keywordflow}{if} (info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_af97dd3f1cb01ed039f9479152ad63a84}{Length}}() == 0) \{}
\DoxyCodeLine{3160     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 is required"{}});}
\DoxyCodeLine{3161     \textcolor{keywordflow}{return};}
\DoxyCodeLine{3162   \}}
\DoxyCodeLine{3163 }
\DoxyCodeLine{3164   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{3165   \textcolor{keywordflow}{switch} (receiver-\/>type().kind()) \{}
\DoxyCodeLine{3166     \textcolor{keywordflow}{case} i::wasm::kI32: \{}
\DoxyCodeLine{3167       \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} i32\_value = 0;}
\DoxyCodeLine{3168       \textcolor{keywordflow}{if} (!info[0]-\/>Int32Value(context).To(\&i32\_value)) \{}
\DoxyCodeLine{3169         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{3170       \}}
\DoxyCodeLine{3171       receiver-\/>SetI32(i32\_value);}
\DoxyCodeLine{3172       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3173     \}}
\DoxyCodeLine{3174     \textcolor{keywordflow}{case} i::wasm::kI64: \{}
\DoxyCodeLine{3175       \mbox{\hyperlink{classv8_1_1Local}{v8::Local<v8::BigInt>}} bigint\_value;}
\DoxyCodeLine{3176       \textcolor{keywordflow}{if} (!info[0]-\/>ToBigInt(context).ToLocal(\&bigint\_value)) \{}
\DoxyCodeLine{3177         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{3178       \}}
\DoxyCodeLine{3179       receiver-\/>SetI64(bigint\_value-\/>Int64Value());}
\DoxyCodeLine{3180       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3181     \}}
\DoxyCodeLine{3182     \textcolor{keywordflow}{case} i::wasm::kF32: \{}
\DoxyCodeLine{3183       \textcolor{keywordtype}{double} f64\_value = 0;}
\DoxyCodeLine{3184       \textcolor{keywordflow}{if} (!info[0]-\/>NumberValue(context).To(\&f64\_value)) \{}
\DoxyCodeLine{3185         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{3186       \}}
\DoxyCodeLine{3187       receiver-\/>SetF32(\mbox{\hyperlink{namespacev8_1_1internal_ab0d0492df59957ad450290724710e09f}{i::DoubleToFloat32}}(f64\_value));}
\DoxyCodeLine{3188       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3189     \}}
\DoxyCodeLine{3190     \textcolor{keywordflow}{case} i::wasm::kF64: \{}
\DoxyCodeLine{3191       \textcolor{keywordtype}{double} f64\_value = 0;}
\DoxyCodeLine{3192       \textcolor{keywordflow}{if} (!info[0]-\/>NumberValue(context).To(\&f64\_value)) \{}
\DoxyCodeLine{3193         \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{3194       \}}
\DoxyCodeLine{3195       receiver-\/>SetF64(f64\_value);}
\DoxyCodeLine{3196       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3197     \}}
\DoxyCodeLine{3198     \textcolor{keywordflow}{case} i::wasm::kS128:}
\DoxyCodeLine{3199       thrower.TypeError(\textcolor{stringliteral}{"{}Can't set the value of s128 WebAssembly.Global"{}});}
\DoxyCodeLine{3200       \textcolor{keywordflow}{break};}
\DoxyCodeLine{3201     \textcolor{keywordflow}{case} i::wasm::kRef:}
\DoxyCodeLine{3202     \textcolor{keywordflow}{case} i::wasm::kRefNull: \{}
\DoxyCodeLine{3203       \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_a09dbf9baefb793fd78912d6ef89f9dde}{i::wasm::WasmModule}}* module =}
\DoxyCodeLine{3204           receiver-\/>has\_trusted\_data()}
\DoxyCodeLine{3205               ? receiver-\/>trusted\_data(i\_isolate)-\/>module()}
\DoxyCodeLine{3206               : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{3207       \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} = Utils::OpenDirectHandle(*info[0]);}
\DoxyCodeLine{3208       \textcolor{keyword}{const} \textcolor{keywordtype}{char}* error\_message;}
\DoxyCodeLine{3209       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a3e2697d50763bb9f401d4c992e24a074}{i::wasm::JSToWasmObject}}(i\_isolate, module, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, receiver-\/>type(),}
\DoxyCodeLine{3210                                    \&error\_message)}
\DoxyCodeLine{3211                .ToHandle(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{3212         thrower.TypeError(\textcolor{stringliteral}{"{}\%s"{}}, error\_message);}
\DoxyCodeLine{3213         \textcolor{keywordflow}{return};}
\DoxyCodeLine{3214       \}}
\DoxyCodeLine{3215       receiver-\/>SetRef(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{3216       \textcolor{keywordflow}{return};}
\DoxyCodeLine{3217     \}}
\DoxyCodeLine{3218     \textcolor{keywordflow}{case} i::wasm::kI8:}
\DoxyCodeLine{3219     \textcolor{keywordflow}{case} i::wasm::kI16:}
\DoxyCodeLine{3220     \textcolor{keywordflow}{case} i::wasm::kF16:}
\DoxyCodeLine{3221     \textcolor{keywordflow}{case} i::wasm::kTop:}
\DoxyCodeLine{3222     \textcolor{keywordflow}{case} i::wasm::kBottom:}
\DoxyCodeLine{3223     \textcolor{keywordflow}{case} i::wasm::kVoid:}
\DoxyCodeLine{3224       \mbox{\hyperlink{src_2base_2logging_8h_a0bc63b24b654ca433be7b97a3edde132}{UNREACHABLE}}();}
\DoxyCodeLine{3225   \}}
\DoxyCodeLine{3226 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Double\+To\+Float32(), EXTRACT\+\_\+\+THIS, v8\+::internal\+::wasm\+::\+JSTo\+Wasm\+Object(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Length(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), UNREACHABLE, and v8\+::internal\+::value.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0445641ba7db42f32e5fc96d543b9bfb_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aecd2a67ed5f761d905eed967a5a4e9e4}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aecd2a67ed5f761d905eed967a5a4e9e4}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyGlobalType@{WebAssemblyGlobalType}}
\index{WebAssemblyGlobalType@{WebAssemblyGlobalType}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyGlobalType()}{WebAssemblyGlobalType()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Global\+Type (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 3229 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3229                                                                         \{}
\DoxyCodeLine{3230   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Global.type())"{}}\};}
\DoxyCodeLine{3231   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{3232   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(global, WasmGlobalObject);}
\DoxyCodeLine{3233 }
\DoxyCodeLine{3234   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_afe11571576d76cdcedb330d88b18f253}{i::wasm::GetTypeForGlobal}}(i\_isolate, global-\/>is\_mutable(),}
\DoxyCodeLine{3235                                         global-\/>type());}
\DoxyCodeLine{3236   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}));}
\DoxyCodeLine{3237 \}}

\end{DoxyCode}


References EXTRACT\+\_\+\+THIS, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Type\+For\+Global(), and v8\+::internal\+::tracing\+::type.



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Type\+Reflection().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aecd2a67ed5f761d905eed967a5a4e9e4_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aecd2a67ed5f761d905eed967a5a4e9e4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab6dba74128ea0189c1e064841b7470be}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab6dba74128ea0189c1e064841b7470be}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyGlobalValueOfImpl@{WebAssemblyGlobalValueOfImpl}}
\index{WebAssemblyGlobalValueOfImpl@{WebAssemblyGlobalValueOfImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyGlobalValueOfImpl()}{WebAssemblyGlobalValueOfImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Global\+Value\+Of\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 3135 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3136                                                  \{}
\DoxyCodeLine{3137   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Global.valueOf()"{}}\};}
\DoxyCodeLine{3138   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa3bf6a1daf198c9567f2d6bc63294ced}{WebAssemblyGlobalGetValueCommon}}(js\_api\_scope);}
\DoxyCodeLine{3139 \}}

\end{DoxyCode}


References Web\+Assembly\+Global\+Get\+Value\+Common().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab6dba74128ea0189c1e064841b7470be_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a772092d5f5db10950319b4c21c8286b9}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a772092d5f5db10950319b4c21c8286b9}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyInstanceGetExportsImpl@{WebAssemblyInstanceGetExportsImpl}}
\index{WebAssemblyInstanceGetExportsImpl@{WebAssemblyInstanceGetExportsImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyInstanceGetExportsImpl()}{WebAssemblyInstanceGetExportsImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Instance\+Get\+Exports\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2572 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2573                                                  \{}
\DoxyCodeLine{2574   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Instance.exports()"{}}\};}
\DoxyCodeLine{2575   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2576   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmInstanceObject);}
\DoxyCodeLine{2577   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSObject>}} exports\_object(receiver-\/>exports\_object(),}
\DoxyCodeLine{2578                                               i\_isolate);}
\DoxyCodeLine{2579 }
\DoxyCodeLine{2580   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(exports\_object));}
\DoxyCodeLine{2581 \}}

\end{DoxyCode}


References EXTRACT\+\_\+\+THIS, and v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a772092d5f5db10950319b4c21c8286b9_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a8fc0faf002730cf5f7c4ef50a647671f}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a8fc0faf002730cf5f7c4ef50a647671f}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyInstanceImpl@{WebAssemblyInstanceImpl}}
\index{WebAssemblyInstanceImpl@{WebAssemblyInstanceImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyInstanceImpl()}{WebAssemblyInstanceImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Instance\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1068 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1068                                                                           \{}
\DoxyCodeLine{1069   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Instance()"{}}\};}
\DoxyCodeLine{1070   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1071   \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4147c03ee307212e25fc9da8cb675c4a}{RecordCompilationMethod}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_af6aed08317f793b1f8e5668787288149afb15d3939fa79a2cec2de3e598aa05f0}{kAsyncInstantiation}});}
\DoxyCodeLine{1072   i\_isolate-\/>CountUsage(}
\DoxyCodeLine{1073       v8::Isolate::UseCounterFeature::kWebAssemblyInstantiation);}
\DoxyCodeLine{1074 }
\DoxyCodeLine{1075   \textcolor{keywordflow}{if} (i\_isolate-\/>wasm\_instance\_callback()(info)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{1076 }
\DoxyCodeLine{1077   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSObject>}} instance\_obj;}
\DoxyCodeLine{1078   \{}
\DoxyCodeLine{1079     \textcolor{keywordflow}{if} (!info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ad2105b93e9b4d02f42b7338fa5950cbc}{IsConstructCall}}()) \{}
\DoxyCodeLine{1080       thrower.TypeError(\textcolor{stringliteral}{"{}WebAssembly.Instance must be invoked with 'new'"{}});}
\DoxyCodeLine{1081       \textcolor{keywordflow}{return};}
\DoxyCodeLine{1082     \}}
\DoxyCodeLine{1083 }
\DoxyCodeLine{1084     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmModuleObject>}} module\_object;}
\DoxyCodeLine{1085     \textcolor{keywordflow}{if} (!GetFirstArgumentAsModule(info, \&thrower).\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&module\_object)) \{}
\DoxyCodeLine{1086       \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1087     \}}
\DoxyCodeLine{1088 }
\DoxyCodeLine{1089     Local<Value> ffi = info[1];}
\DoxyCodeLine{1090 }
\DoxyCodeLine{1091     \textcolor{keywordflow}{if} (!ffi-\/>IsUndefined() \&\& !ffi-\/>IsObject()) \{}
\DoxyCodeLine{1092       thrower.TypeError(\textcolor{stringliteral}{"{}Argument 1 must be an object"{}});}
\DoxyCodeLine{1093       \textcolor{keywordflow}{return};}
\DoxyCodeLine{1094     \}}
\DoxyCodeLine{1095 }
\DoxyCodeLine{1096     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{i::wasm::GetWasmEngine}}()}
\DoxyCodeLine{1097              -\/>SyncInstantiate(i\_isolate, \&thrower, module\_object,}
\DoxyCodeLine{1098                                \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ada9b780eabdd23dceca5de86995e893d}{ImportsAsMaybeReceiver}}(ffi),}
\DoxyCodeLine{1099                                \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{i::MaybeDirectHandle<i::JSArrayBuffer>}}())}
\DoxyCodeLine{1100              .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&instance\_obj)) \{}
\DoxyCodeLine{1101       \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1102     \}}
\DoxyCodeLine{1103   \}}
\DoxyCodeLine{1104 }
\DoxyCodeLine{1105   \textcolor{comment}{// The infrastructure for `new Foo` calls allocates an object, which is}}
\DoxyCodeLine{1106   \textcolor{comment}{// available here as \{info.This()\}. We're going to discard this object}}
\DoxyCodeLine{1107   \textcolor{comment}{// and use \{instance\_obj\} instead, but it does have the correct prototype,}}
\DoxyCodeLine{1108   \textcolor{comment}{// which we must harvest from it. This makes a difference when the JS}}
\DoxyCodeLine{1109   \textcolor{comment}{// constructor function wasn't \{WebAssembly.Instance\} directly, but some}}
\DoxyCodeLine{1110   \textcolor{comment}{// subclass: \{instance\_obj\} has \{WebAssembly.Instance\}'s prototype at this}}
\DoxyCodeLine{1111   \textcolor{comment}{// point, so we must overwrite that with the correct prototype for \{Foo\}.}}
\DoxyCodeLine{1112   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4d8c80876c9b427265f2bdb634e62d70}{TransferPrototype}}(i\_isolate, instance\_obj,}
\DoxyCodeLine{1113                          Utils::OpenDirectHandle(*info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a4ddfd6d21732dff1c4c55d5441a8a5ca}{This}}()))) \{}
\DoxyCodeLine{1114     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1115   \}}
\DoxyCodeLine{1116 }
\DoxyCodeLine{1117   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(instance\_obj));}
\DoxyCodeLine{1118 \}}

\end{DoxyCode}


References v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Imports\+As\+Maybe\+Receiver(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Async\+Instantiation, v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Record\+Compilation\+Method(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+This(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle(), and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Transfer\+Prototype().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a8fc0faf002730cf5f7c4ef50a647671f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a5c9fb33b2596c8b7b7834e4d71f2645c}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a5c9fb33b2596c8b7b7834e4d71f2645c}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyInstantiateImpl@{WebAssemblyInstantiateImpl}}
\index{WebAssemblyInstantiateImpl@{WebAssemblyInstantiateImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyInstantiateImpl()}{WebAssemblyInstantiateImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Instantiate\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1162 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1163                                                  \{}
\DoxyCodeLine{1164   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.instantiate()"{}}\};}
\DoxyCodeLine{1165   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1166   i\_isolate-\/>CountUsage(}
\DoxyCodeLine{1167       v8::Isolate::UseCounterFeature::kWebAssemblyInstantiation);}
\DoxyCodeLine{1168 }
\DoxyCodeLine{1169   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{1170 }
\DoxyCodeLine{1171   Local<Promise::Resolver> promise\_resolver;}
\DoxyCodeLine{1172   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_aea46070627c9c116b8f1be4a25840e66}{Promise::Resolver::New}}(context).ToLocal(\&promise\_resolver)) \{}
\DoxyCodeLine{1173     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1174   \}}
\DoxyCodeLine{1175   Local<Promise> promise = promise\_resolver-\/>GetPromise();}
\DoxyCodeLine{1176   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(promise);}
\DoxyCodeLine{1177 }
\DoxyCodeLine{1178   std::unique\_ptr<i::wasm::InstantiationResultResolver> resolver(}
\DoxyCodeLine{1179       \textcolor{keyword}{new} InstantiateModuleResultResolver(isolate, context, promise\_resolver));}
\DoxyCodeLine{1180 }
\DoxyCodeLine{1181   Local<Value> first\_arg\_value = info[0];}
\DoxyCodeLine{1182   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} first\_arg =}
\DoxyCodeLine{1183       Utils::OpenDirectHandle(*first\_arg\_value);}
\DoxyCodeLine{1184   \textcolor{keywordflow}{if} (!IsJSObject(*first\_arg)) \{}
\DoxyCodeLine{1185     thrower.TypeError(}
\DoxyCodeLine{1186         \textcolor{stringliteral}{"{}Argument 0 must be a buffer source or a WebAssembly.Module object"{}});}
\DoxyCodeLine{1187     resolver-\/>OnInstantiationFailed(thrower.Reify());}
\DoxyCodeLine{1188     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1189   \}}
\DoxyCodeLine{1190 }
\DoxyCodeLine{1191   \textcolor{comment}{// If info.Length < 2, this will be undefined -\/ see FunctionCallbackInfo.}}
\DoxyCodeLine{1192   Local<Value> ffi = info[1];}
\DoxyCodeLine{1193 }
\DoxyCodeLine{1194   \textcolor{keywordflow}{if} (!ffi-\/>IsUndefined() \&\& !ffi-\/>IsObject()) \{}
\DoxyCodeLine{1195     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 1 must be an object"{}});}
\DoxyCodeLine{1196     resolver-\/>OnInstantiationFailed(thrower.Reify());}
\DoxyCodeLine{1197     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1198   \}}
\DoxyCodeLine{1199 }
\DoxyCodeLine{1200   \textcolor{keywordflow}{if} (IsWasmModuleObject(*first\_arg)) \{}
\DoxyCodeLine{1201     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmModuleObject>}} module\_obj =}
\DoxyCodeLine{1202         i::Cast<i::WasmModuleObject>(first\_arg);}
\DoxyCodeLine{1203 }
\DoxyCodeLine{1204     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{i::wasm::GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_aefbc53197e63d504193b408056d37721}{AsyncInstantiate}}(i\_isolate, std::move(resolver),}
\DoxyCodeLine{1205                                                module\_obj,}
\DoxyCodeLine{1206                                                \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ada9b780eabdd23dceca5de86995e893d}{ImportsAsMaybeReceiver}}(ffi));}
\DoxyCodeLine{1207     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1208   \}}
\DoxyCodeLine{1209 }
\DoxyCodeLine{1210   base::OwnedVector<const uint8\_t> bytes = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67}{GetAndCopyFirstArgumentAsBytes}}(}
\DoxyCodeLine{1211       info, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a76ecd8d4d54ac6dd52d2278b2cda0ba7}{i::wasm::max\_module\_size}}(), \&thrower);}
\DoxyCodeLine{1212   \textcolor{keywordflow}{if} (bytes.empty()) \{}
\DoxyCodeLine{1213     resolver-\/>OnInstantiationFailed(thrower.Reify());}
\DoxyCodeLine{1214     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1215   \}}
\DoxyCodeLine{1216 }
\DoxyCodeLine{1217   \textcolor{comment}{// We start compilation now, we have no use for the}}
\DoxyCodeLine{1218   \textcolor{comment}{// \{InstantiationResultResolver\}.}}
\DoxyCodeLine{1219   resolver.reset();}
\DoxyCodeLine{1220 }
\DoxyCodeLine{1221   std::shared\_ptr<i::wasm::CompilationResultResolver> compilation\_resolver(}
\DoxyCodeLine{1222       \textcolor{keyword}{new} AsyncInstantiateCompileResultResolver(isolate, context,}
\DoxyCodeLine{1223                                                 promise\_resolver, ffi));}
\DoxyCodeLine{1224 }
\DoxyCodeLine{1225   \textcolor{comment}{// The first parameter is a buffer source, we have to check if we are allowed}}
\DoxyCodeLine{1226   \textcolor{comment}{// to compile it.}}
\DoxyCodeLine{1227   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::NativeContext>}} \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}} =}
\DoxyCodeLine{1228       i\_isolate-\/>native\_context();}
\DoxyCodeLine{1229   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aeb062fb51a7aa93290a7a1313085cf65}{i::wasm::IsWasmCodegenAllowed}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}})) \{}
\DoxyCodeLine{1230     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::String>}} error =}
\DoxyCodeLine{1231         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ae99c0e646ec90851574de7cee934682c}{i::wasm::ErrorStringForCodegen}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}});}
\DoxyCodeLine{1232     thrower.CompileError(\textcolor{stringliteral}{"{}\%s"{}}, error-\/>ToCString().get());}
\DoxyCodeLine{1233     compilation\_resolver-\/>OnCompilationFailed(thrower.Reify());}
\DoxyCodeLine{1234     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1235   \}}
\DoxyCodeLine{1236 }
\DoxyCodeLine{1237   \textcolor{keyword}{auto} enabled\_features = WasmEnabledFeatures::FromIsolate(i\_isolate);}
\DoxyCodeLine{1238   CompileTimeImports compile\_imports =}
\DoxyCodeLine{1239       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a5c27ccf9d3fac863f80bac41d3a0b60b}{ArgumentToCompileOptions}}(info[2], i\_isolate, enabled\_features);}
\DoxyCodeLine{1240   \textcolor{keywordflow}{if} (i\_isolate-\/>has\_exception()) \{}
\DoxyCodeLine{1241     \textcolor{keywordflow}{if} (i\_isolate-\/>is\_execution\_terminating()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{1242     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSAny>}} exception(Cast<i::JSAny>(i\_isolate-\/>exception()),}
\DoxyCodeLine{1243                                         i\_isolate);}
\DoxyCodeLine{1244     i\_isolate-\/>clear\_exception();}
\DoxyCodeLine{1245     compilation\_resolver-\/>OnCompilationFailed(exception);}
\DoxyCodeLine{1246     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1247   \}}
\DoxyCodeLine{1248 }
\DoxyCodeLine{1249   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{i::wasm::GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_aa17c088fdbc894379d393baf814073f7}{AsyncCompile}}(}
\DoxyCodeLine{1250       i\_isolate, enabled\_features, std::move(compile\_imports),}
\DoxyCodeLine{1251       std::move(compilation\_resolver), std::move(bytes),}
\DoxyCodeLine{1252       js\_api\_scope.api\_name());}
\DoxyCodeLine{1253 \}}

\end{DoxyCode}


References v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Argument\+To\+Compile\+Options(), v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Async\+Compile(), v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Async\+Instantiate(), v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::empty(), v8\+::internal\+::wasm\+::\+Error\+String\+For\+Codegen(), Get\+And\+Copy\+First\+Argument\+As\+Bytes(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Imports\+As\+Maybe\+Receiver(), v8\+::internal\+::wasm\+::\+Is\+Wasm\+Codegen\+Allowed(), v8\+::internal\+::wasm\+::max\+\_\+module\+\_\+size(), v8\+::internal\+::native\+\_\+context, v8\+::\+Promise\+::\+Resolver\+::\+New(), and v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a5c9fb33b2596c8b7b7834e4d71f2645c_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae46de88e70ad47716f44e4bb74c8b44d}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae46de88e70ad47716f44e4bb74c8b44d}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyInstantiateStreaming@{WebAssemblyInstantiateStreaming}}
\index{WebAssemblyInstantiateStreaming@{WebAssemblyInstantiateStreaming}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyInstantiateStreaming()}{WebAssemblyInstantiateStreaming()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Instantiate\+Streaming (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1124 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1125                                                  \{}
\DoxyCodeLine{1126   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.instantiateStreaming()"{}}\};}
\DoxyCodeLine{1127   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1128   \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4147c03ee307212e25fc9da8cb675c4a}{RecordCompilationMethod}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_af6aed08317f793b1f8e5668787288149a8286bad542746e1f63590fa5a4915687}{kStreamingInstantiation}});}
\DoxyCodeLine{1129   i\_isolate-\/>CountUsage(}
\DoxyCodeLine{1130       v8::Isolate::UseCounterFeature::kWebAssemblyInstantiation);}
\DoxyCodeLine{1131 }
\DoxyCodeLine{1132   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{1133 }
\DoxyCodeLine{1134   \textcolor{comment}{// Create and assign the return value of this function.}}
\DoxyCodeLine{1135   Local<Promise::Resolver> result\_resolver;}
\DoxyCodeLine{1136   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02intl-objects_8cc_03_aea46070627c9c116b8f1be4a25840e66}{Promise::Resolver::New}}(context).ToLocal(\&result\_resolver)) \{}
\DoxyCodeLine{1137     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1138   \}}
\DoxyCodeLine{1139   Local<Promise> promise = result\_resolver-\/>GetPromise();}
\DoxyCodeLine{1140   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(promise);}
\DoxyCodeLine{1141 }
\DoxyCodeLine{1142   \textcolor{comment}{// If info.Length < 2, this will be undefined -\/ see FunctionCallbackInfo.}}
\DoxyCodeLine{1143   Local<Value> ffi = info[1];}
\DoxyCodeLine{1144 }
\DoxyCodeLine{1145   \textcolor{keywordflow}{if} (!ffi-\/>IsUndefined() \&\& !ffi-\/>IsObject()) \{}
\DoxyCodeLine{1146     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 1 must be an object"{}});}
\DoxyCodeLine{1147     InstantiateModuleResultResolver resolver(isolate, context, result\_resolver);}
\DoxyCodeLine{1148     resolver.OnInstantiationFailed(thrower.Reify());}
\DoxyCodeLine{1149     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1150   \}}
\DoxyCodeLine{1151 }
\DoxyCodeLine{1152   \textcolor{keyword}{auto} compilation\_resolver =}
\DoxyCodeLine{1153       std::make\_shared<AsyncInstantiateCompileResultResolver>(}
\DoxyCodeLine{1154           isolate, context, result\_resolver, ffi);}
\DoxyCodeLine{1155   \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a80df3bb5366d6ec83e382c06d65a17c6}{StartAsyncCompilationWithResolver}}(js\_api\_scope, info[0], info[2],}
\DoxyCodeLine{1156                                     std::move(compilation\_resolver));}
\DoxyCodeLine{1157 \}}

\end{DoxyCode}


References v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Streaming\+Instantiation, v8\+::\+Promise\+::\+Resolver\+::\+New(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Record\+Compilation\+Method(), and Start\+Async\+Compilation\+With\+Resolver().



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae46de88e70ad47716f44e4bb74c8b44d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae46de88e70ad47716f44e4bb74c8b44d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a335ab82e09665d4075f3f17d8bde25c5}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a335ab82e09665d4075f3f17d8bde25c5}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyMemoryGetBufferImpl@{WebAssemblyMemoryGetBufferImpl}}
\index{WebAssemblyMemoryGetBufferImpl@{WebAssemblyMemoryGetBufferImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyMemoryGetBufferImpl()}{WebAssemblyMemoryGetBufferImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Memory\+Get\+Buffer\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2837 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2838                                                  \{}
\DoxyCodeLine{2839   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Memory.buffer"{}}\};}
\DoxyCodeLine{2840   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2841   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmMemoryObject);}
\DoxyCodeLine{2842 }
\DoxyCodeLine{2843   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} buffer\_obj(receiver-\/>array\_buffer(), i\_isolate);}
\DoxyCodeLine{2844   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(IsJSArrayBuffer(*buffer\_obj));}
\DoxyCodeLine{2845   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} buffer(}
\DoxyCodeLine{2846       i::Cast<i::JSArrayBuffer>(*buffer\_obj), i\_isolate);}
\DoxyCodeLine{2847   \textcolor{keywordflow}{if} (buffer-\/>is\_shared()) \{}
\DoxyCodeLine{2848     \textcolor{comment}{// TODO(gdeepti): More needed here for when cached buffer, and current}}
\DoxyCodeLine{2849     \textcolor{comment}{// buffer are out of sync, handle that here when bounds checks, and Grow}}
\DoxyCodeLine{2850     \textcolor{comment}{// are handled correctly.}}
\DoxyCodeLine{2851     Maybe<bool> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{2852         buffer-\/>SetIntegrityLevel(i\_isolate, buffer, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2}{i::FROZEN}}, \mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{i::kDontThrow}});}
\DoxyCodeLine{2853     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.FromJust()) \{}
\DoxyCodeLine{2854       thrower.TypeError(}
\DoxyCodeLine{2855           \textcolor{stringliteral}{"{}Status of setting SetIntegrityLevel of buffer is false."{}});}
\DoxyCodeLine{2856       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2857     \}}
\DoxyCodeLine{2858   \}}
\DoxyCodeLine{2859   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(buffer));}
\DoxyCodeLine{2860 \}}

\end{DoxyCode}


References DCHECK, EXTRACT\+\_\+\+THIS, v8\+::internal\+::\+FROZEN, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::k\+Dont\+Throw, and v8\+::base\+::internal\+::result.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a335ab82e09665d4075f3f17d8bde25c5_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23cbc8313cd6650a88a426e842eedf4}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23cbc8313cd6650a88a426e842eedf4}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyMemoryGrowImpl@{WebAssemblyMemoryGrowImpl}}
\index{WebAssemblyMemoryGrowImpl@{WebAssemblyMemoryGrowImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyMemoryGrowImpl()}{WebAssemblyMemoryGrowImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Memory\+Grow\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2802 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2803                                                  \{}
\DoxyCodeLine{2804   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Memory.grow()"{}}\};}
\DoxyCodeLine{2805   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2806   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{2807   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmMemoryObject);}
\DoxyCodeLine{2808 }
\DoxyCodeLine{2809   std::optional<uint64\_t> maybe\_delta\_pages = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a3c5caa16bf7299bb8d809591ef2733b9}{AddressValueToU64}}(}
\DoxyCodeLine{2810       \&thrower, context, info[0], \textcolor{stringliteral}{"{}Argument 0"{}}, receiver-\/>address\_type());}
\DoxyCodeLine{2811   \textcolor{keywordflow}{if} (!maybe\_delta\_pages) \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2812   uint64\_t delta\_pages = *maybe\_delta\_pages;}
\DoxyCodeLine{2813 }
\DoxyCodeLine{2814   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} old\_buffer(receiver-\/>array\_buffer(),}
\DoxyCodeLine{2815                                                i\_isolate);}
\DoxyCodeLine{2816 }
\DoxyCodeLine{2817   uint64\_t old\_pages = old\_buffer-\/>GetByteLength() / \mbox{\hyperlink{namespacev8__inspector_1_1anonymous__namespace_02value-mirror_8cc_03_a8b6719b9c44c92c16a29ade2e66e3314}{i::wasm::kWasmPageSize}};}
\DoxyCodeLine{2818   uint64\_t max\_pages = receiver-\/>maximum\_pages();}
\DoxyCodeLine{2819 }
\DoxyCodeLine{2820   \textcolor{keywordflow}{if} (delta\_pages > max\_pages -\/ old\_pages) \{}
\DoxyCodeLine{2821     thrower.RangeError(\textcolor{stringliteral}{"{}Maximum memory size exceeded"{}});}
\DoxyCodeLine{2822     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2823   \}}
\DoxyCodeLine{2824 }
\DoxyCodeLine{2825   static\_assert(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a58280911560a19ed11d754bee507198e}{i::wasm::kV8MaxWasmMemory64Pages}} <= \mbox{\hyperlink{namespacev8_1_1internal_ae9b3d70a0b2f7c3c669d187fd9a9dae2}{i::kMaxUInt32}});}
\DoxyCodeLine{2826   \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} ret = \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject_ab04a12b70d33ad72a3442d2a21bbfff7}{i::WasmMemoryObject::Grow}}(i\_isolate, receiver,}
\DoxyCodeLine{2827                                           \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(delta\_pages));}
\DoxyCodeLine{2828   \textcolor{keywordflow}{if} (ret == -\/1) \{}
\DoxyCodeLine{2829     thrower.RangeError(\textcolor{stringliteral}{"{}Unable to grow instance memory"{}});}
\DoxyCodeLine{2830     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2831   \}}
\DoxyCodeLine{2832   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(}
\DoxyCodeLine{2833       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ae103516ca8fe7bd3948cda56c6c9a31c}{AddressValueFromUnsigned}}(isolate, receiver-\/>address\_type(), ret));}
\DoxyCodeLine{2834 \}}

\end{DoxyCode}


References v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Address\+Value\+From\+Unsigned(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Address\+Value\+To\+U64(), EXTRACT\+\_\+\+THIS, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::\+Wasm\+Memory\+Object\+::\+Grow(), v8\+::internal\+::k\+Max\+UInt32, v8\+::internal\+::wasm\+::k\+V8\+Max\+Wasm\+Memory64\+Pages, and v8\+\_\+inspector\+::anonymous\+\_\+namespace\{value-\/mirror.\+cc\}\+::k\+Wasm\+Page\+Size.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab23cbc8313cd6650a88a426e842eedf4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2e84efb3ddc838b4645d1dd7ded761e6}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2e84efb3ddc838b4645d1dd7ded761e6}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyMemoryImpl@{WebAssemblyMemoryImpl}}
\index{WebAssemblyMemoryImpl@{WebAssemblyMemoryImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyMemoryImpl()}{WebAssemblyMemoryImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Memory\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1570 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1570                                                                         \{}
\DoxyCodeLine{1571   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Memory()"{}}\};}
\DoxyCodeLine{1572   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1573 }
\DoxyCodeLine{1574   \textcolor{keywordflow}{if} (!info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ad2105b93e9b4d02f42b7338fa5950cbc}{IsConstructCall}}()) \{}
\DoxyCodeLine{1575     thrower.TypeError(\textcolor{stringliteral}{"{}WebAssembly.Memory must be invoked with 'new'"{}});}
\DoxyCodeLine{1576     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1577   \}}
\DoxyCodeLine{1578   \textcolor{keywordflow}{if} (!info[0]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a3ed6964c1400e2d797f2ae7d2adf68a7}{IsObject}}()) \{}
\DoxyCodeLine{1579     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a memory descriptor"{}});}
\DoxyCodeLine{1580     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1581   \}}
\DoxyCodeLine{1582   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{1583   Local<v8::Object> descriptor = \mbox{\hyperlink{namespacev8_1_1internal_a94c4a6c4ad3993b5e0e43bc2191c084b}{Local<Object>::Cast}}(info[0]);}
\DoxyCodeLine{1584 }
\DoxyCodeLine{1585   \textcolor{comment}{// Parse the 'address' property of the `descriptor`.}}
\DoxyCodeLine{1586   std::optional<AddressType> maybe\_address\_type =}
\DoxyCodeLine{1587       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_af9b6376bd669d7a974598324d3c18837}{GetAddressType}}(isolate, context, descriptor, \&thrower);}
\DoxyCodeLine{1588   \textcolor{keywordflow}{if} (!maybe\_address\_type) \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1589   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aca3af72b5da01dfb563e4c5f56af8952}{AddressType}} address\_type = *maybe\_address\_type;}
\DoxyCodeLine{1590   uint64\_t max\_supported\_pages = address\_type == AddressType::kI64}
\DoxyCodeLine{1591                                      ? \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad9a1634a9ec0775903d04d76caafb542}{i::wasm::kSpecMaxMemory64Pages}}}
\DoxyCodeLine{1592                                      : \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a49bb52ab23031477fbfe2807afd064f2}{i::wasm::kSpecMaxMemory32Pages}};}
\DoxyCodeLine{1593   \textcolor{comment}{// \{max\_supported\_pages\} will actually be in integer range. That's the type}}
\DoxyCodeLine{1594   \textcolor{comment}{// \{WasmMemoryObject::New\} uses.}}
\DoxyCodeLine{1595   static\_assert(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a49bb52ab23031477fbfe2807afd064f2}{i::wasm::kSpecMaxMemory32Pages}} < \mbox{\hyperlink{namespacev8_1_1internal_ad03e50e4d15ee0da6a722254f350e7eb}{i::kMaxInt}});}
\DoxyCodeLine{1596   static\_assert(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad9a1634a9ec0775903d04d76caafb542}{i::wasm::kSpecMaxMemory64Pages}} < \mbox{\hyperlink{namespacev8_1_1internal_ad03e50e4d15ee0da6a722254f350e7eb}{i::kMaxInt}});}
\DoxyCodeLine{1597 }
\DoxyCodeLine{1598   \textcolor{comment}{// Parse the 'initial' or 'minimum' property of the `descriptor`.}}
\DoxyCodeLine{1599   std::optional<uint64\_t> maybe\_initial =}
\DoxyCodeLine{1600       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a46a8e5f8c34da455cec8ad9bedd07119}{GetInitialOrMinimumProperty}}(isolate, \&thrower, context, descriptor,}
\DoxyCodeLine{1601                                   address\_type, max\_supported\_pages);}
\DoxyCodeLine{1602   \textcolor{keywordflow}{if} (!maybe\_initial) \{}
\DoxyCodeLine{1603     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1604   \}}
\DoxyCodeLine{1605   uint64\_t initial = *maybe\_initial;}
\DoxyCodeLine{1606 }
\DoxyCodeLine{1607   \textcolor{comment}{// Parse the 'maximum' property of the `descriptor`.}}
\DoxyCodeLine{1608   \textcolor{keyword}{auto} maybe\_maybe\_maximum = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a6481005ff2b35962cd81e7a6a12eaf42}{GetOptionalAddressValue}}(}
\DoxyCodeLine{1609       \&thrower, context, descriptor, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}maximum"{}}), address\_type,}
\DoxyCodeLine{1610       initial, max\_supported\_pages);}
\DoxyCodeLine{1611   \textcolor{keywordflow}{if} (!maybe\_maybe\_maximum) \{}
\DoxyCodeLine{1612     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1613   \}}
\DoxyCodeLine{1614   std::optional<uint64\_t> maybe\_maximum = *maybe\_maybe\_maximum;}
\DoxyCodeLine{1615 }
\DoxyCodeLine{1616   \textcolor{comment}{// Parse the 'shared' property of the `descriptor`.}}
\DoxyCodeLine{1617   \mbox{\hyperlink{classv8_1_1Local}{v8::Local<v8::Value>}} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{1618   \textcolor{keywordflow}{if} (!descriptor-\/>Get(context, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}shared"{}})).ToLocal(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{1619     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1620   \}}
\DoxyCodeLine{1621 }
\DoxyCodeLine{1622   \textcolor{keyword}{auto} shared = \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}-\/>BooleanValue(isolate) ? \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{i::SharedFlag::kShared}}}
\DoxyCodeLine{1623                                              : \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03_a66d75e44e8119e492fa238e6ac04903f}{i::SharedFlag::kNotShared}};}
\DoxyCodeLine{1624 }
\DoxyCodeLine{1625   \textcolor{comment}{// Throw TypeError if shared is true, and the descriptor has no "{}maximum"{}.}}
\DoxyCodeLine{1626   \textcolor{keywordflow}{if} (shared == \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{i::SharedFlag::kShared}} \&\& !maybe\_maximum.has\_value()) \{}
\DoxyCodeLine{1627     thrower.TypeError(\textcolor{stringliteral}{"{}If shared is true, maximum property should be defined."{}});}
\DoxyCodeLine{1628     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1629   \}}
\DoxyCodeLine{1630 }
\DoxyCodeLine{1631   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSObject>}} memory\_obj;}
\DoxyCodeLine{1632   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject_ab10298844a3a2e6993fc6f3634eaf898}{i::WasmMemoryObject::New}}(i\_isolate, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(initial),}
\DoxyCodeLine{1633                                 maybe\_maximum ? \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(*maybe\_maximum)}
\DoxyCodeLine{1634                                               : \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject_a65b8addcf2135f693f3f83a8acf74aa7}{i::WasmMemoryObject::kNoMaximum}},}
\DoxyCodeLine{1635                                 shared, address\_type)}
\DoxyCodeLine{1636            .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&memory\_obj)) \{}
\DoxyCodeLine{1637     thrower.RangeError(\textcolor{stringliteral}{"{}could not allocate memory"{}});}
\DoxyCodeLine{1638     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1639   \}}
\DoxyCodeLine{1640 }
\DoxyCodeLine{1641   \textcolor{comment}{// The infrastructure for `new Foo` calls allocates an object, which is}}
\DoxyCodeLine{1642   \textcolor{comment}{// available here as \{info.This()\}. We're going to discard this object}}
\DoxyCodeLine{1643   \textcolor{comment}{// and use \{memory\_obj\} instead, but it does have the correct prototype,}}
\DoxyCodeLine{1644   \textcolor{comment}{// which we must harvest from it. This makes a difference when the JS}}
\DoxyCodeLine{1645   \textcolor{comment}{// constructor function wasn't \{WebAssembly.Memory\} directly, but some}}
\DoxyCodeLine{1646   \textcolor{comment}{// subclass: \{memory\_obj\} has \{WebAssembly.Memory\}'s prototype at this}}
\DoxyCodeLine{1647   \textcolor{comment}{// point, so we must overwrite that with the correct prototype for \{Foo\}.}}
\DoxyCodeLine{1648   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4d8c80876c9b427265f2bdb634e62d70}{TransferPrototype}}(i\_isolate, memory\_obj,}
\DoxyCodeLine{1649                          Utils::OpenDirectHandle(*info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a4ddfd6d21732dff1c4c55d5441a8a5ca}{This}}()))) \{}
\DoxyCodeLine{1650     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1651   \}}
\DoxyCodeLine{1652 }
\DoxyCodeLine{1653   \textcolor{keywordflow}{if} (shared == \mbox{\hyperlink{namespacev8_1_1internal_a680ace1d3e86dae2df93867132a3c160a767e1337acb2aa20d7ce4e903a75ca16}{i::SharedFlag::kShared}}) \{}
\DoxyCodeLine{1654     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} buffer(}
\DoxyCodeLine{1655         i::Cast<i::WasmMemoryObject>(memory\_obj)-\/>array\_buffer(), i\_isolate);}
\DoxyCodeLine{1656     Maybe<bool> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{1657         buffer-\/>SetIntegrityLevel(i\_isolate, buffer, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2}{i::FROZEN}}, \mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{i::kDontThrow}});}
\DoxyCodeLine{1658     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.FromJust()) \{}
\DoxyCodeLine{1659       thrower.TypeError(}
\DoxyCodeLine{1660           \textcolor{stringliteral}{"{}Status of setting SetIntegrityLevel of buffer is false."{}});}
\DoxyCodeLine{1661       \textcolor{keywordflow}{return};}
\DoxyCodeLine{1662     \}}
\DoxyCodeLine{1663   \}}
\DoxyCodeLine{1664   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(memory\_obj));}
\DoxyCodeLine{1665 \}}

\end{DoxyCode}


References v8\+::\+Local$<$ T $>$\+::\+Cast(), v8\+::internal\+::\+FROZEN, v8\+::\+Object\+::\+Get(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Address\+Type(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Initial\+Or\+Minimum\+Property(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Optional\+Address\+Value(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::internal\+::\+Is\+Object(), v8\+::internal\+::k\+Dont\+Throw, v8\+::internal\+::k\+Max\+Int, v8\+::internal\+::\+Wasm\+Memory\+Object\+::k\+No\+Maximum, v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{wasm-\/inlining-\/into-\/js.\+cc\}\+::k\+Not\+Shared, v8\+::internal\+::k\+Shared, v8\+::internal\+::wasm\+::k\+Spec\+Max\+Memory32\+Pages, v8\+::internal\+::wasm\+::k\+Spec\+Max\+Memory64\+Pages, v8\+::internal\+::\+Wasm\+Memory\+Object\+::\+New(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::base\+::internal\+::result, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+This(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Transfer\+Prototype(), v8\+\_\+str(), and v8\+::internal\+::value.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2e84efb3ddc838b4645d1dd7ded761e6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0d65454a5c0bd1202bec0c61b96c54e3}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0d65454a5c0bd1202bec0c61b96c54e3}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyMemoryMapDescriptorImpl@{WebAssemblyMemoryMapDescriptorImpl}}
\index{WebAssemblyMemoryMapDescriptorImpl@{WebAssemblyMemoryMapDescriptorImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyMemoryMapDescriptorImpl()}{WebAssemblyMemoryMapDescriptorImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Memory\+Map\+Descriptor\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1668 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1669                                                  \{}
\DoxyCodeLine{1670   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{i::v8\_flags}}.experimental\_wasm\_memory\_control);}
\DoxyCodeLine{1671   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.MemoryMapDescriptor()"{}}\};}
\DoxyCodeLine{1672   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1673   \textcolor{keywordflow}{if} (!info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ad2105b93e9b4d02f42b7338fa5950cbc}{IsConstructCall}}()) \{}
\DoxyCodeLine{1674     thrower.TypeError(}
\DoxyCodeLine{1675         \textcolor{stringliteral}{"{}WebAssembly.MemoryMapDescriptor must be invoked with 'new'"{}});}
\DoxyCodeLine{1676     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1677   \}}
\DoxyCodeLine{1678 }
\DoxyCodeLine{1679   std::optional<uint32\_t> \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} =}
\DoxyCodeLine{1680       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a679f5944281d45950d7d79c536f103b8}{EnforceUint32}}(\textcolor{stringliteral}{"{}size"{}}, info[0], isolate-\/>GetCurrentContext(), \&thrower);}
\DoxyCodeLine{1681 }
\DoxyCodeLine{1682   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}.has\_value()) \{}
\DoxyCodeLine{1683     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1684   \}}
\DoxyCodeLine{1685 }
\DoxyCodeLine{1686   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSObject>}} descriptor\_obj;}
\DoxyCodeLine{1687   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryMapDescriptor_a5d494fe23259c204fea87f6e5eefb391}{i::WasmMemoryMapDescriptor::NewFromAnonymous}}(i\_isolate, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}.value())}
\DoxyCodeLine{1688            .ToHandle(\&descriptor\_obj)) \{}
\DoxyCodeLine{1689     thrower.RuntimeError(\textcolor{stringliteral}{"{}Failed to create a MemoryMapDescriptor"{}});}
\DoxyCodeLine{1690     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1691   \}}
\DoxyCodeLine{1692 }
\DoxyCodeLine{1693   \textcolor{comment}{// The infrastructure for `new Foo` calls allocates an object, which is}}
\DoxyCodeLine{1694   \textcolor{comment}{// available here as \{info.This()\}. We're going to discard this object}}
\DoxyCodeLine{1695   \textcolor{comment}{// and use \{memory\_obj\} instead, but it does have the correct prototype,}}
\DoxyCodeLine{1696   \textcolor{comment}{// which we must harvest from it. This makes a difference when the JS}}
\DoxyCodeLine{1697   \textcolor{comment}{// constructor function wasn't \{WebAssembly.Memory\} directly, but some}}
\DoxyCodeLine{1698   \textcolor{comment}{// subclass: \{memory\_obj\} has \{WebAssembly.Memory\}'s prototype at this}}
\DoxyCodeLine{1699   \textcolor{comment}{// point, so we must overwrite that with the correct prototype for \{Foo\}.}}
\DoxyCodeLine{1700   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4d8c80876c9b427265f2bdb634e62d70}{TransferPrototype}}(i\_isolate, descriptor\_obj,}
\DoxyCodeLine{1701                          Utils::OpenDirectHandle(*info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a4ddfd6d21732dff1c4c55d5441a8a5ca}{This}}()))) \{}
\DoxyCodeLine{1702     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(i\_isolate-\/>has\_exception());}
\DoxyCodeLine{1703     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1704   \}}
\DoxyCodeLine{1705 }
\DoxyCodeLine{1706   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(descriptor\_obj));}
\DoxyCodeLine{1707 \}}

\end{DoxyCode}


References CHECK, DCHECK, v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Enforce\+Uint32(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::internal\+::\+Wasm\+Memory\+Map\+Descriptor\+::\+New\+From\+Anonymous(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), size(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+This(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Transfer\+Prototype(), and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a0d65454a5c0bd1202bec0c61b96c54e3_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ad88a20b7927c5f3bb502562c3fe13a9e}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ad88a20b7927c5f3bb502562c3fe13a9e}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyMemoryMapDescriptorMapImpl@{WebAssemblyMemoryMapDescriptorMapImpl}}
\index{WebAssemblyMemoryMapDescriptorMapImpl@{WebAssemblyMemoryMapDescriptorMapImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyMemoryMapDescriptorMapImpl()}{WebAssemblyMemoryMapDescriptorMapImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Memory\+Map\+Descriptor\+Map\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2752 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2753                                                  \{}
\DoxyCodeLine{2754   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{i::v8\_flags}}.experimental\_wasm\_memory\_control);}
\DoxyCodeLine{2755   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.MemoryMapDescriptor.map()"{}}\};}
\DoxyCodeLine{2756   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2757   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmMemoryMapDescriptor);}
\DoxyCodeLine{2758 }
\DoxyCodeLine{2759   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmMemoryObject>}} memory;}
\DoxyCodeLine{2760   \{}
\DoxyCodeLine{2761     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} memory\_param = Utils::OpenDirectHandle(*info[0]);}
\DoxyCodeLine{2762     \textcolor{keywordflow}{if} (!i::IsWasmMemoryObject(*memory\_param)) \{}
\DoxyCodeLine{2763       thrower.TypeError(\textcolor{stringliteral}{"{}Parameter is not a WebAssembly.Memory"{}});}
\DoxyCodeLine{2764       \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2765     \}}
\DoxyCodeLine{2766     memory = i::Cast<i::WasmMemoryObject>(memory\_param);}
\DoxyCodeLine{2767   \}}
\DoxyCodeLine{2768 }
\DoxyCodeLine{2769   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{2770   std::optional<uint32\_t> offset =}
\DoxyCodeLine{2771       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a679f5944281d45950d7d79c536f103b8}{EnforceUint32}}(\textcolor{stringliteral}{"{}Argument 1"{}}, info[1], context, \&thrower);}
\DoxyCodeLine{2772   \textcolor{keywordflow}{if} (!offset.has\_value()) \{}
\DoxyCodeLine{2773     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2774   \}}
\DoxyCodeLine{2775   \textcolor{keywordtype}{size\_t} mapped\_size = receiver-\/>MapDescriptor(memory, offset.value());}
\DoxyCodeLine{2776   \textcolor{keywordflow}{if} (!mapped\_size) \{}
\DoxyCodeLine{2777     thrower.RuntimeError(}
\DoxyCodeLine{2778         \textcolor{stringliteral}{"{}Failed to map the MemoryMapDescriptor to WebAssembly memory."{}});}
\DoxyCodeLine{2779     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2780   \}}
\DoxyCodeLine{2781   receiver-\/>set\_memory(\mbox{\hyperlink{namespacev8_1_1api__internal_a6e19dba9644f1405ed8144c4d9e7b98f}{MakeWeak}}(*memory));}
\DoxyCodeLine{2782   receiver-\/>set\_offset(offset.value());}
\DoxyCodeLine{2783   receiver-\/>set\_size(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(mapped\_size));}
\DoxyCodeLine{2784   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(\textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(mapped\_size));}
\DoxyCodeLine{2785 \}}

\end{DoxyCode}


References CHECK, v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Enforce\+Uint32(), EXTRACT\+\_\+\+THIS, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::api\+\_\+internal\+::\+Make\+Weak(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ad88a20b7927c5f3bb502562c3fe13a9e_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab146c4d87439fed3d5e3d2b4b208001d}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab146c4d87439fed3d5e3d2b4b208001d}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyMemoryMapDescriptorUnmapImpl@{WebAssemblyMemoryMapDescriptorUnmapImpl}}
\index{WebAssemblyMemoryMapDescriptorUnmapImpl@{WebAssemblyMemoryMapDescriptorUnmapImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyMemoryMapDescriptorUnmapImpl()}{WebAssemblyMemoryMapDescriptorUnmapImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Memory\+Map\+Descriptor\+Unmap\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2788 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2789                                                  \{}
\DoxyCodeLine{2790   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{i::v8\_flags}}.experimental\_wasm\_memory\_control);}
\DoxyCodeLine{2791   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.MemoryMapDescriptor.unmap()"{}}\};}
\DoxyCodeLine{2792   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2793   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmMemoryMapDescriptor);}
\DoxyCodeLine{2794 }
\DoxyCodeLine{2795   \textcolor{keywordflow}{if} (!receiver-\/>UnmapDescriptor()) \{}
\DoxyCodeLine{2796     thrower.RangeError(\textcolor{stringliteral}{"{}Failed to unmap the MemoryMapDescriptor."{}});}
\DoxyCodeLine{2797     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2798   \}}
\DoxyCodeLine{2799 \}}

\end{DoxyCode}


References CHECK, EXTRACT\+\_\+\+THIS, and v8\+::internal\+::v8\+\_\+flags.

\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a95b8b79845e1cbc4f3d5f803d8ad7364}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a95b8b79845e1cbc4f3d5f803d8ad7364}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyMemoryToFixedLengthBufferImpl@{WebAssemblyMemoryToFixedLengthBufferImpl}}
\index{WebAssemblyMemoryToFixedLengthBufferImpl@{WebAssemblyMemoryToFixedLengthBufferImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyMemoryToFixedLengthBufferImpl()}{WebAssemblyMemoryToFixedLengthBufferImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Memory\+To\+Fixed\+Length\+Buffer\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2863 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2864                                                  \{}
\DoxyCodeLine{2865   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Memory.toFixedLengthBuffer()"{}}\};}
\DoxyCodeLine{2866   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2867   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmMemoryObject);}
\DoxyCodeLine{2868 }
\DoxyCodeLine{2869   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} buffer\_obj(receiver-\/>array\_buffer(), i\_isolate);}
\DoxyCodeLine{2870   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(IsJSArrayBuffer(*buffer\_obj));}
\DoxyCodeLine{2871   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} buffer(}
\DoxyCodeLine{2872       i::Cast<i::JSArrayBuffer>(*buffer\_obj), i\_isolate);}
\DoxyCodeLine{2873   \textcolor{keywordflow}{if} (buffer-\/>is\_resizable\_by\_js()) \{}
\DoxyCodeLine{2874     buffer = \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject_a11123e674ed260e849a726396a6b1f3c}{i::WasmMemoryObject::ToFixedLengthBuffer}}(i\_isolate, receiver);}
\DoxyCodeLine{2875   \}}
\DoxyCodeLine{2876   \textcolor{keywordflow}{if} (buffer-\/>is\_shared()) \{}
\DoxyCodeLine{2877     Maybe<bool> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{2878         buffer-\/>SetIntegrityLevel(i\_isolate, buffer, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2}{i::FROZEN}}, \mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{i::kDontThrow}});}
\DoxyCodeLine{2879     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.FromJust()) \{}
\DoxyCodeLine{2880       thrower.TypeError(}
\DoxyCodeLine{2881           \textcolor{stringliteral}{"{}Status of setting SetIntegrityLevel of buffer is false."{}});}
\DoxyCodeLine{2882       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2883     \}}
\DoxyCodeLine{2884   \}}
\DoxyCodeLine{2885   \mbox{\hyperlink{classv8_1_1ReturnValue}{v8::ReturnValue<v8::Value>}} return\_value = info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}();}
\DoxyCodeLine{2886   return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(Utils::ToLocal(buffer));}
\DoxyCodeLine{2887 \}}

\end{DoxyCode}


References DCHECK, EXTRACT\+\_\+\+THIS, v8\+::internal\+::\+FROZEN, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::k\+Dont\+Throw, v8\+::base\+::internal\+::result, v8\+::\+Return\+Value$<$ T $>$\+::\+Set(), and v8\+::internal\+::\+Wasm\+Memory\+Object\+::\+To\+Fixed\+Length\+Buffer().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a95b8b79845e1cbc4f3d5f803d8ad7364_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acd85f9674aa494e9069e26cd8c5b10ae}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acd85f9674aa494e9069e26cd8c5b10ae}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyMemoryToResizableBufferImpl@{WebAssemblyMemoryToResizableBufferImpl}}
\index{WebAssemblyMemoryToResizableBufferImpl@{WebAssemblyMemoryToResizableBufferImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyMemoryToResizableBufferImpl()}{WebAssemblyMemoryToResizableBufferImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Memory\+To\+Resizable\+Buffer\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2890 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2891                                                  \{}
\DoxyCodeLine{2892   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Memory.toResizableBuffer()"{}}\};}
\DoxyCodeLine{2893   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2894   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmMemoryObject);}
\DoxyCodeLine{2895 }
\DoxyCodeLine{2896   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} buffer\_obj(receiver-\/>array\_buffer(), i\_isolate);}
\DoxyCodeLine{2897   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(IsJSArrayBuffer(*buffer\_obj));}
\DoxyCodeLine{2898   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} buffer(}
\DoxyCodeLine{2899       i::Cast<i::JSArrayBuffer>(*buffer\_obj), i\_isolate);}
\DoxyCodeLine{2900   \textcolor{keywordflow}{if} (!buffer-\/>is\_resizable\_by\_js()) \{}
\DoxyCodeLine{2901     \textcolor{keywordflow}{if} (!receiver-\/>has\_maximum\_pages()) \{}
\DoxyCodeLine{2902       thrower.TypeError(\textcolor{stringliteral}{"{}Memory must have a maximum"{}});}
\DoxyCodeLine{2903       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2904     \}}
\DoxyCodeLine{2905     buffer = \mbox{\hyperlink{classv8_1_1internal_1_1WasmMemoryObject_a32101d7a077535dadf31d9373ec3a6f2}{i::WasmMemoryObject::ToResizableBuffer}}(i\_isolate, receiver);}
\DoxyCodeLine{2906   \}}
\DoxyCodeLine{2907   \textcolor{keywordflow}{if} (buffer-\/>is\_shared()) \{}
\DoxyCodeLine{2908     Maybe<bool> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{2909         buffer-\/>SetIntegrityLevel(i\_isolate, buffer, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2}{i::FROZEN}}, \mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{i::kDontThrow}});}
\DoxyCodeLine{2910     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.FromJust()) \{}
\DoxyCodeLine{2911       thrower.TypeError(}
\DoxyCodeLine{2912           \textcolor{stringliteral}{"{}Status of setting SetIntegrityLevel of buffer is false."{}});}
\DoxyCodeLine{2913       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2914     \}}
\DoxyCodeLine{2915   \}}
\DoxyCodeLine{2916   \mbox{\hyperlink{classv8_1_1ReturnValue}{v8::ReturnValue<v8::Value>}} return\_value = info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}();}
\DoxyCodeLine{2917   return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(Utils::ToLocal(buffer));}
\DoxyCodeLine{2918 \}}

\end{DoxyCode}


References DCHECK, EXTRACT\+\_\+\+THIS, v8\+::internal\+::\+FROZEN, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::k\+Dont\+Throw, v8\+::base\+::internal\+::result, v8\+::\+Return\+Value$<$ T $>$\+::\+Set(), and v8\+::internal\+::\+Wasm\+Memory\+Object\+::\+To\+Resizable\+Buffer().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acd85f9674aa494e9069e26cd8c5b10ae_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4efe057cb210e2909aa30b47767a7c01}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4efe057cb210e2909aa30b47767a7c01}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyMemoryType@{WebAssemblyMemoryType}}
\index{WebAssemblyMemoryType@{WebAssemblyMemoryType}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyMemoryType()}{WebAssemblyMemoryType()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Memory\+Type (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2921 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2921                                                                         \{}
\DoxyCodeLine{2922   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Memory.type()"{}}\};}
\DoxyCodeLine{2923   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2924   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(memory, WasmMemoryObject);}
\DoxyCodeLine{2925 }
\DoxyCodeLine{2926   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} buffer(memory-\/>array\_buffer(), i\_isolate);}
\DoxyCodeLine{2927   \textcolor{keywordtype}{size\_t} curr\_size = buffer-\/>GetByteLength() / \mbox{\hyperlink{namespacev8__inspector_1_1anonymous__namespace_02value-mirror_8cc_03_a8b6719b9c44c92c16a29ade2e66e3314}{i::wasm::kWasmPageSize}};}
\DoxyCodeLine{2928   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(curr\_size, std::numeric\_limits<uint32\_t>::max());}
\DoxyCodeLine{2929   uint32\_t min\_size = \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(curr\_size);}
\DoxyCodeLine{2930   std::optional<uint32\_t> max\_size;}
\DoxyCodeLine{2931   \textcolor{keywordflow}{if} (memory-\/>has\_maximum\_pages()) \{}
\DoxyCodeLine{2932     uint64\_t max\_size64 = memory-\/>maximum\_pages();}
\DoxyCodeLine{2933     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(max\_size64, std::numeric\_limits<uint32\_t>::max());}
\DoxyCodeLine{2934     max\_size.emplace(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(max\_size64));}
\DoxyCodeLine{2935   \}}
\DoxyCodeLine{2936   \textcolor{keywordtype}{bool} shared = buffer-\/>is\_shared();}
\DoxyCodeLine{2937   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a2f81a58ed7769a3d69bf42c16ec09efb}{i::wasm::GetTypeForMemory}}(i\_isolate, min\_size, max\_size, shared,}
\DoxyCodeLine{2938                                         memory-\/>address\_type());}
\DoxyCodeLine{2939   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}));}
\DoxyCodeLine{2940 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+LE, EXTRACT\+\_\+\+THIS, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Type\+For\+Memory(), v8\+\_\+inspector\+::anonymous\+\_\+namespace\{value-\/mirror.\+cc\}\+::k\+Wasm\+Page\+Size, and v8\+::internal\+::tracing\+::type.



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Type\+Reflection().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4efe057cb210e2909aa30b47767a7c01_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4efe057cb210e2909aa30b47767a7c01_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a42ea0b3bd1920f543bf97b345275e517}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a42ea0b3bd1920f543bf97b345275e517}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyModuleCustomSectionsImpl@{WebAssemblyModuleCustomSectionsImpl}}
\index{WebAssemblyModuleCustomSectionsImpl@{WebAssemblyModuleCustomSectionsImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyModuleCustomSectionsImpl()}{WebAssemblyModuleCustomSectionsImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Module\+Custom\+Sections\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1041 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1042                                                  \{}
\DoxyCodeLine{1043   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Module.customSections()"{}}\};}
\DoxyCodeLine{1044   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1045 }
\DoxyCodeLine{1046   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmModuleObject>}} module\_object;}
\DoxyCodeLine{1047   \textcolor{keywordflow}{if} (!GetFirstArgumentAsModule(info, \&thrower).\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&module\_object)) \{}
\DoxyCodeLine{1048     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1049   \}}
\DoxyCodeLine{1050 }
\DoxyCodeLine{1051   \textcolor{keywordflow}{if} (info[1]-\/>IsUndefined()) \{}
\DoxyCodeLine{1052     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 1 is required"{}});}
\DoxyCodeLine{1053     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1054   \}}
\DoxyCodeLine{1055 }
\DoxyCodeLine{1056   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} \mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}};}
\DoxyCodeLine{1057   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{data-view-ops_8h_af22849720fbd54f8307292fe33c35a07}{i::Object::ToString}}(i\_isolate, Utils::OpenDirectHandle(*info[1]))}
\DoxyCodeLine{1058            .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&\mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}})) \{}
\DoxyCodeLine{1059     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1060   \}}
\DoxyCodeLine{1061   \textcolor{keyword}{auto} custom\_sections = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_acabda57a17d96edc612c9b843fbbea4b}{i::wasm::GetCustomSections}}(}
\DoxyCodeLine{1062       i\_isolate, module\_object, i::Cast<i::String>(\mbox{\hyperlink{flag-definitions_8h_a3ced3697c19e78b3fb4994a89f46945e}{name}}), \&thrower);}
\DoxyCodeLine{1063   \textcolor{keywordflow}{if} (thrower.error()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{1064   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(custom\_sections));}
\DoxyCodeLine{1065 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Get\+Custom\+Sections(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), name, v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle(), and To\+String().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a42ea0b3bd1920f543bf97b345275e517_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa5d34663209df90b28f9f17aaf6eda5b}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa5d34663209df90b28f9f17aaf6eda5b}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyModuleExportsImpl@{WebAssemblyModuleExportsImpl}}
\index{WebAssemblyModuleExportsImpl@{WebAssemblyModuleExportsImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyModuleExportsImpl()}{WebAssemblyModuleExportsImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Module\+Exports\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1027 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1028                                                  \{}
\DoxyCodeLine{1029   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Module.exports()"{}}\};}
\DoxyCodeLine{1030   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1031 }
\DoxyCodeLine{1032   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmModuleObject>}} module\_object;}
\DoxyCodeLine{1033   \textcolor{keywordflow}{if} (!GetFirstArgumentAsModule(info, \&thrower).\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&module\_object)) \{}
\DoxyCodeLine{1034     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1035   \}}
\DoxyCodeLine{1036   \textcolor{keyword}{auto} exports = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac16bee88f353656d3809b61652c63a0f}{i::wasm::GetExports}}(i\_isolate, module\_object);}
\DoxyCodeLine{1037   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(exports));}
\DoxyCodeLine{1038 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Get\+Exports(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), and v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa5d34663209df90b28f9f17aaf6eda5b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aeccc9e8fae6961c23699b202bb751160}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aeccc9e8fae6961c23699b202bb751160}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyModuleImpl@{WebAssemblyModuleImpl}}
\index{WebAssemblyModuleImpl@{WebAssemblyModuleImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyModuleImpl()}{WebAssemblyModuleImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Module\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 956 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{956                                                                         \{}
\DoxyCodeLine{957   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Module()"{}}\};}
\DoxyCodeLine{958   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{959   \textcolor{keywordflow}{if} (i\_isolate-\/>wasm\_module\_callback()(info)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{960   \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4147c03ee307212e25fc9da8cb675c4a}{RecordCompilationMethod}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_af6aed08317f793b1f8e5668787288149a76b568e62ef3225d63ffa653eddf131e}{kSyncCompilation}});}
\DoxyCodeLine{961 }
\DoxyCodeLine{962   \textcolor{keywordflow}{if} (!info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ad2105b93e9b4d02f42b7338fa5950cbc}{IsConstructCall}}()) \{}
\DoxyCodeLine{963     thrower.TypeError(\textcolor{stringliteral}{"{}WebAssembly.Module must be invoked with 'new'"{}});}
\DoxyCodeLine{964     \textcolor{keywordflow}{return};}
\DoxyCodeLine{965   \}}
\DoxyCodeLine{966   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::NativeContext>}} \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}} =}
\DoxyCodeLine{967       i\_isolate-\/>native\_context();}
\DoxyCodeLine{968   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aeb062fb51a7aa93290a7a1313085cf65}{i::wasm::IsWasmCodegenAllowed}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}})) \{}
\DoxyCodeLine{969     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::String>}} error =}
\DoxyCodeLine{970         \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ae99c0e646ec90851574de7cee934682c}{i::wasm::ErrorStringForCodegen}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_afe601ad9b4b4c61d8a6a700e7db12c2a}{native\_context}});}
\DoxyCodeLine{971     thrower.CompileError(\textcolor{stringliteral}{"{}\%s"{}}, error-\/>ToCString().get());}
\DoxyCodeLine{972     \textcolor{keywordflow}{return};}
\DoxyCodeLine{973   \}}
\DoxyCodeLine{974 }
\DoxyCodeLine{975   base::OwnedVector<const uint8\_t> bytes = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a631463dae9951468ccb11f081f55dd67}{GetAndCopyFirstArgumentAsBytes}}(}
\DoxyCodeLine{976       info, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a76ecd8d4d54ac6dd52d2278b2cda0ba7}{i::wasm::max\_module\_size}}(), \&thrower);}
\DoxyCodeLine{977 }
\DoxyCodeLine{978   \textcolor{keywordflow}{if} (bytes.empty()) \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{979 }
\DoxyCodeLine{980   \textcolor{keyword}{auto} enabled\_features = WasmEnabledFeatures::FromIsolate(i\_isolate);}
\DoxyCodeLine{981   CompileTimeImports compile\_imports =}
\DoxyCodeLine{982       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a5c27ccf9d3fac863f80bac41d3a0b60b}{ArgumentToCompileOptions}}(info[1], i\_isolate, enabled\_features);}
\DoxyCodeLine{983   \textcolor{keywordflow}{if} (i\_isolate-\/>has\_exception()) \{}
\DoxyCodeLine{984     \textcolor{comment}{// TODO(14179): Does this need different error message handling?}}
\DoxyCodeLine{985     \textcolor{keywordflow}{return};}
\DoxyCodeLine{986   \}}
\DoxyCodeLine{987   \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{i::MaybeDirectHandle<i::WasmModuleObject>}} maybe\_module\_obj;}
\DoxyCodeLine{988 }
\DoxyCodeLine{989   maybe\_module\_obj = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{i::wasm::GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_a3f2610a2d8fa2c20a8569e4cb665d194}{SyncCompile}}(}
\DoxyCodeLine{990       i\_isolate, enabled\_features, std::move(compile\_imports), \&thrower,}
\DoxyCodeLine{991       std::move(bytes));}
\DoxyCodeLine{992 }
\DoxyCodeLine{993   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmModuleObject>}} module\_obj;}
\DoxyCodeLine{994   \textcolor{keywordflow}{if} (!maybe\_module\_obj.\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle_a7c6aa1159cd89fe343afabcaad620b98}{ToHandle}}(\&module\_obj)) \textcolor{keywordflow}{return};}
\DoxyCodeLine{995 }
\DoxyCodeLine{996   \textcolor{comment}{// The infrastructure for `new Foo` calls allocates an object, which is}}
\DoxyCodeLine{997   \textcolor{comment}{// available here as \{info.This()\}. We're going to discard this object}}
\DoxyCodeLine{998   \textcolor{comment}{// and use \{module\_obj\} instead, but it does have the correct prototype,}}
\DoxyCodeLine{999   \textcolor{comment}{// which we must harvest from it. This makes a difference when the JS}}
\DoxyCodeLine{1000   \textcolor{comment}{// constructor function wasn't \{WebAssembly.Module\} directly, but some}}
\DoxyCodeLine{1001   \textcolor{comment}{// subclass: \{module\_obj\} has \{WebAssembly.Module\}'s prototype at this}}
\DoxyCodeLine{1002   \textcolor{comment}{// point, so we must overwrite that with the correct prototype for \{Foo\}.}}
\DoxyCodeLine{1003   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4d8c80876c9b427265f2bdb634e62d70}{TransferPrototype}}(i\_isolate, module\_obj,}
\DoxyCodeLine{1004                          Utils::OpenDirectHandle(*info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a4ddfd6d21732dff1c4c55d5441a8a5ca}{This}}()))) \{}
\DoxyCodeLine{1005     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1006   \}}
\DoxyCodeLine{1007 }
\DoxyCodeLine{1008   \mbox{\hyperlink{classv8_1_1ReturnValue}{v8::ReturnValue<v8::Value>}} return\_value = info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}();}
\DoxyCodeLine{1009   return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(Utils::ToLocal(module\_obj));}
\DoxyCodeLine{1010 \}}

\end{DoxyCode}


References v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Argument\+To\+Compile\+Options(), v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::empty(), v8\+::internal\+::wasm\+::\+Error\+String\+For\+Codegen(), Get\+And\+Copy\+First\+Argument\+As\+Bytes(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::internal\+::wasm\+::\+Is\+Wasm\+Codegen\+Allowed(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Sync\+Compilation, v8\+::internal\+::wasm\+::max\+\_\+module\+\_\+size(), v8\+::internal\+::native\+\_\+context, v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Record\+Compilation\+Method(), v8\+::\+Return\+Value$<$ T $>$\+::\+Set(), v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Sync\+Compile(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+This(), v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::\+To\+Handle(), and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Transfer\+Prototype().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aeccc9e8fae6961c23699b202bb751160_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa8666752c68eedb8e6137f879a6f2444}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa8666752c68eedb8e6137f879a6f2444}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyModuleImportsImpl@{WebAssemblyModuleImportsImpl}}
\index{WebAssemblyModuleImportsImpl@{WebAssemblyModuleImportsImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyModuleImportsImpl()}{WebAssemblyModuleImportsImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Module\+Imports\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1013 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1014                                                  \{}
\DoxyCodeLine{1015   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Module.imports()"{}}\};}
\DoxyCodeLine{1016   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1017 }
\DoxyCodeLine{1018   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmModuleObject>}} module\_object;}
\DoxyCodeLine{1019   \textcolor{keywordflow}{if} (!GetFirstArgumentAsModule(info, \&thrower).\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&module\_object)) \{}
\DoxyCodeLine{1020     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1021   \}}
\DoxyCodeLine{1022   \textcolor{keyword}{auto} imports = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a744e1f64a481e1651605a8de39aaa89d}{i::wasm::GetImports}}(i\_isolate, module\_object);}
\DoxyCodeLine{1023   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(imports));}
\DoxyCodeLine{1024 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Get\+Imports(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), and v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa8666752c68eedb8e6137f879a6f2444_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af2970aa8c31b970d7b3a7c100d439cf6}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af2970aa8c31b970d7b3a7c100d439cf6}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyPromising@{WebAssemblyPromising}}
\index{WebAssemblyPromising@{WebAssemblyPromising}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyPromising()}{WebAssemblyPromising()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Promising (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2401 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2401                                                                        \{}
\DoxyCodeLine{2402   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.promising()"{}}\};}
\DoxyCodeLine{2403   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2404   i\_isolate-\/>CountUsage(\mbox{\hyperlink{classv8_1_1Isolate_aed6909379c3f2820cb3084710b73385dae4e2b0067654c788c637cc6a98476041}{v8::Isolate::kWasmJavaScriptPromiseIntegration}});}
\DoxyCodeLine{2405 }
\DoxyCodeLine{2406   \textcolor{keywordflow}{if} (!info[0]-\/>IsFunction()) \{}
\DoxyCodeLine{2407     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a function"{}});}
\DoxyCodeLine{2408     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2409   \}}
\DoxyCodeLine{2410   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSReceiver>}} callable =}
\DoxyCodeLine{2411       Utils::OpenDirectHandle(*info[0].As<Function>());}
\DoxyCodeLine{2412 }
\DoxyCodeLine{2413   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1WasmExportedFunction_a89d14615aeb9e6fdd2017315fe60d0ef}{i::WasmExportedFunction::IsWasmExportedFunction}}(*callable)) \{}
\DoxyCodeLine{2414     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a WebAssembly exported function"{}});}
\DoxyCodeLine{2415     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2416   \}}
\DoxyCodeLine{2417   \textcolor{keyword}{auto} wasm\_exported\_function = i::Cast<i::WasmExportedFunction>(*callable);}
\DoxyCodeLine{2418   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmExportedFunctionData>}} data(}
\DoxyCodeLine{2419       wasm\_exported\_function-\/>shared()-\/>wasm\_exported\_function\_data(),}
\DoxyCodeLine{2420       i\_isolate);}
\DoxyCodeLine{2421   \textcolor{keywordflow}{if} (data-\/>instance\_data()-\/>module\_object()-\/>is\_asm\_js()) \{}
\DoxyCodeLine{2422     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a WebAssembly exported function"{}});}
\DoxyCodeLine{2423     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2424   \}}
\DoxyCodeLine{2425   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSFunction>}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{2426       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af380767a60da1e8f57fc90501286702a}{NewPromisingWasmExportedFunction}}(i\_isolate, data, thrower);}
\DoxyCodeLine{2427   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(i::Cast<i::JSObject>(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}})));}
\DoxyCodeLine{2428 \}}

\end{DoxyCode}


References v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::\+Wasm\+Exported\+Function\+::\+Is\+Wasm\+Exported\+Function(), v8\+::\+Isolate\+::k\+Wasm\+Java\+Script\+Promise\+Integration, New\+Promising\+Wasm\+Exported\+Function(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), and v8\+::base\+::internal\+::result.



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install\+JSPromise\+Integration().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af2970aa8c31b970d7b3a7c100d439cf6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af2970aa8c31b970d7b3a7c100d439cf6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab0c0a787d5c8f47ec9cd549345c95fad}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab0c0a787d5c8f47ec9cd549345c95fad}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblySuspendingImpl@{WebAssemblySuspendingImpl}}
\index{WebAssemblySuspendingImpl@{WebAssemblySuspendingImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblySuspendingImpl()}{WebAssemblySuspendingImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Suspending\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2431 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2432                                                  \{}
\DoxyCodeLine{2433   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Suspending()"{}}\};}
\DoxyCodeLine{2434   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2435   i\_isolate-\/>CountUsage(\mbox{\hyperlink{classv8_1_1Isolate_aed6909379c3f2820cb3084710b73385dae4e2b0067654c788c637cc6a98476041}{v8::Isolate::kWasmJavaScriptPromiseIntegration}});}
\DoxyCodeLine{2436 }
\DoxyCodeLine{2437   \textcolor{keywordflow}{if} (!info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ad2105b93e9b4d02f42b7338fa5950cbc}{IsConstructCall}}()) \{}
\DoxyCodeLine{2438     thrower.TypeError(\textcolor{stringliteral}{"{}WebAssembly.Suspending must be invoked with 'new'"{}});}
\DoxyCodeLine{2439     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2440   \}}
\DoxyCodeLine{2441   \textcolor{keywordflow}{if} (!info[0]-\/>IsFunction()) \{}
\DoxyCodeLine{2442     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a function"{}});}
\DoxyCodeLine{2443     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2444   \}}
\DoxyCodeLine{2445 }
\DoxyCodeLine{2446   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSReceiver>}} callable =}
\DoxyCodeLine{2447       Utils::OpenDirectHandle(*info[0].As<Function>());}
\DoxyCodeLine{2448 }
\DoxyCodeLine{2449   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1WasmExportedFunction_a89d14615aeb9e6fdd2017315fe60d0ef}{i::WasmExportedFunction::IsWasmExportedFunction}}(*callable) ||}
\DoxyCodeLine{2450       \mbox{\hyperlink{classv8_1_1internal_1_1WasmJSFunction_acd5f3569a442acea759fd951ca21567f}{i::WasmJSFunction::IsWasmJSFunction}}(*callable)) \{}
\DoxyCodeLine{2451     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must not be a WebAssembly function"{}});}
\DoxyCodeLine{2452     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2453   \}}
\DoxyCodeLine{2454 }
\DoxyCodeLine{2455   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmSuspendingObject>}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{2456       \mbox{\hyperlink{classv8_1_1internal_1_1WasmSuspendingObject_a07464f83ede52a8147f4d4bb36c4123d}{i::WasmSuspendingObject::New}}(i\_isolate, callable);}
\DoxyCodeLine{2457   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(i::Cast<i::JSObject>(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}})));}
\DoxyCodeLine{2458 \}}

\end{DoxyCode}


References v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::internal\+::\+Wasm\+Exported\+Function\+::\+Is\+Wasm\+Exported\+Function(), v8\+::internal\+::\+Wasm\+JSFunction\+::\+Is\+Wasm\+JSFunction(), v8\+::\+Isolate\+::k\+Wasm\+Java\+Script\+Promise\+Integration, v8\+::internal\+::\+Wasm\+Suspending\+Object\+::\+New(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), and v8\+::base\+::internal\+::result.



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install\+JSPromise\+Integration().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab0c0a787d5c8f47ec9cd549345c95fad_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ab0c0a787d5c8f47ec9cd549345c95fad_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_abd5d211a75f47e5711a1a1c31b365848}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_abd5d211a75f47e5711a1a1c31b365848}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyTableGetImpl@{WebAssemblyTableGetImpl}}
\index{WebAssemblyTableGetImpl@{WebAssemblyTableGetImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyTableGetImpl()}{WebAssemblyTableGetImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Table\+Get\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2668 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2668                                                                           \{}
\DoxyCodeLine{2669   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Table.get()"{}}\};}
\DoxyCodeLine{2670   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2671   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{2672   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmTableObject);}
\DoxyCodeLine{2673 }
\DoxyCodeLine{2674   std::optional<uint64\_t> maybe\_address = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a3c5caa16bf7299bb8d809591ef2733b9}{AddressValueToU64}}(}
\DoxyCodeLine{2675       \&thrower, context, info[0], \textcolor{stringliteral}{"{}Argument 0"{}}, receiver-\/>address\_type());}
\DoxyCodeLine{2676   \textcolor{keywordflow}{if} (!maybe\_address) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2677   uint64\_t address = *maybe\_address;}
\DoxyCodeLine{2678 }
\DoxyCodeLine{2679   \textcolor{keywordflow}{if} (address > \mbox{\hyperlink{namespacev8_1_1internal_ae9b3d70a0b2f7c3c669d187fd9a9dae2}{i::kMaxUInt32}} ||}
\DoxyCodeLine{2680       !receiver-\/>is\_in\_bounds(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(address))) \{}
\DoxyCodeLine{2681     thrower.RangeError(\textcolor{stringliteral}{"{}invalid address \%"{}} PRIu64 \textcolor{stringliteral}{"{} in \%s table of size \%d"{}},}
\DoxyCodeLine{2682                        address, receiver-\/>unsafe\_type().name().c\_str(),}
\DoxyCodeLine{2683                        receiver-\/>current\_length());}
\DoxyCodeLine{2684     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2685   \}}
\DoxyCodeLine{2686 }
\DoxyCodeLine{2687   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_aa5e3c6d5c308301194a5fd89e6dd9e59}{i::WasmTableObject::Get}}(}
\DoxyCodeLine{2688       i\_isolate, receiver, \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(address));}
\DoxyCodeLine{2689 }
\DoxyCodeLine{2690   \mbox{\hyperlink{classv8_1_1ReturnValue}{v8::ReturnValue<v8::Value>}} return\_value = info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}();}
\DoxyCodeLine{2691   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ab4f484a7bec0c8f51d7df97ca05936f4}{WasmObjectToJSReturnValue}}(return\_value, \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}, receiver-\/>unsafe\_type(),}
\DoxyCodeLine{2692                                  i\_isolate, \&thrower)) \{}
\DoxyCodeLine{2693     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2694   \}}
\DoxyCodeLine{2695 \}}

\end{DoxyCode}


References v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Address\+Value\+To\+U64(), EXTRACT\+\_\+\+THIS, v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Get(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::k\+Max\+UInt32, v8\+::base\+::internal\+::result, and v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Wasm\+Object\+To\+JSReturn\+Value().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_abd5d211a75f47e5711a1a1c31b365848_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ad80f78a54c70dfcb6788270747bf1aff}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ad80f78a54c70dfcb6788270747bf1aff}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyTableGetLengthImpl@{WebAssemblyTableGetLengthImpl}}
\index{WebAssemblyTableGetLengthImpl@{WebAssemblyTableGetLengthImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyTableGetLengthImpl()}{WebAssemblyTableGetLengthImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Table\+Get\+Length\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2583 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2584                                                  \{}
\DoxyCodeLine{2585   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Table.length()"{}}\};}
\DoxyCodeLine{2586   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2587   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmTableObject);}
\DoxyCodeLine{2588 }
\DoxyCodeLine{2589   \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} = receiver-\/>current\_length();}
\DoxyCodeLine{2590   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(0, \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}});}
\DoxyCodeLine{2591   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(}
\DoxyCodeLine{2592       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ae103516ca8fe7bd3948cda56c6c9a31c}{AddressValueFromUnsigned}}(isolate, receiver-\/>address\_type(), \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}}));}
\DoxyCodeLine{2593 \}}

\end{DoxyCode}


References v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Address\+Value\+From\+Unsigned(), DCHECK\+\_\+\+LE, EXTRACT\+\_\+\+THIS, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), and v8\+::internal\+::length.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ad80f78a54c70dfcb6788270747bf1aff_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a33eae2ff47c44aadd35fd800fa9daf40}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a33eae2ff47c44aadd35fd800fa9daf40}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyTableGrowImpl@{WebAssemblyTableGrowImpl}}
\index{WebAssemblyTableGrowImpl@{WebAssemblyTableGrowImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyTableGrowImpl()}{WebAssemblyTableGrowImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Table\+Grow\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2596 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2596                                                                            \{}
\DoxyCodeLine{2597   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Table.grow()"{}}\};}
\DoxyCodeLine{2598   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2599   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{2600   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(receiver, WasmTableObject);}
\DoxyCodeLine{2601 }
\DoxyCodeLine{2602   std::optional<uint64\_t> maybe\_grow\_by = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a3c5caa16bf7299bb8d809591ef2733b9}{AddressValueToU64}}(}
\DoxyCodeLine{2603       \&thrower, context, info[0], \textcolor{stringliteral}{"{}Argument 0"{}}, receiver-\/>address\_type());}
\DoxyCodeLine{2604   \textcolor{keywordflow}{if} (!maybe\_grow\_by) \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2605   uint64\_t grow\_by = *maybe\_grow\_by;}
\DoxyCodeLine{2606 }
\DoxyCodeLine{2607   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} init\_value;}
\DoxyCodeLine{2608 }
\DoxyCodeLine{2609   \textcolor{keywordflow}{if} (info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_af97dd3f1cb01ed039f9479152ad63a84}{Length}}() >= 2) \{}
\DoxyCodeLine{2610     init\_value = Utils::OpenDirectHandle(*info[1]);}
\DoxyCodeLine{2611     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* error\_message;}
\DoxyCodeLine{2612     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_aaa393ceb64344c386d966b5b1c6e9a16}{i::WasmTableObject::JSToWasmElement}}(i\_isolate, receiver, init\_value,}
\DoxyCodeLine{2613                                              \&error\_message)}
\DoxyCodeLine{2614              .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&init\_value)) \{}
\DoxyCodeLine{2615       thrower.TypeError(\textcolor{stringliteral}{"{}Argument 1 is invalid: \%s"{}}, error\_message);}
\DoxyCodeLine{2616       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2617     \}}
\DoxyCodeLine{2618   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (receiver-\/>unsafe\_type().is\_non\_nullable()) \{}
\DoxyCodeLine{2619     thrower.TypeError(}
\DoxyCodeLine{2620         \textcolor{stringliteral}{"{}Argument 1 must be specified for non-\/nullable element type"{}});}
\DoxyCodeLine{2621     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2622   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2623     init\_value = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ab1e39290866cb51520e0d9af30af7035}{DefaultReferenceValue}}(i\_isolate, receiver-\/>unsafe\_type());}
\DoxyCodeLine{2624   \}}
\DoxyCodeLine{2625 }
\DoxyCodeLine{2626   static\_assert(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad39cf555e73abbf7233ee2029b74ff7d}{i::wasm::kV8MaxWasmTableSize}} <= \mbox{\hyperlink{namespacev8_1_1internal_ae9b3d70a0b2f7c3c669d187fd9a9dae2}{i::kMaxUInt32}});}
\DoxyCodeLine{2627   \textcolor{keywordtype}{int} old\_size = grow\_by > \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a38d56b630d25ea0451a91c6204e89042}{i::wasm::max\_table\_size}}()}
\DoxyCodeLine{2628                      ? -\/1}
\DoxyCodeLine{2629                      : \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_ad51363b96ea8a38d2957f46f2767b4de}{i::WasmTableObject::Grow}}(i\_isolate, receiver,}
\DoxyCodeLine{2630                                                 \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(grow\_by),}
\DoxyCodeLine{2631                                                 init\_value);}
\DoxyCodeLine{2632   \textcolor{keywordflow}{if} (old\_size < 0) \{}
\DoxyCodeLine{2633     thrower.RangeError(\textcolor{stringliteral}{"{}failed to grow table by \%"{}} PRIu64, grow\_by);}
\DoxyCodeLine{2634     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2635   \}}
\DoxyCodeLine{2636   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(}
\DoxyCodeLine{2637       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ae103516ca8fe7bd3948cda56c6c9a31c}{AddressValueFromUnsigned}}(isolate, receiver-\/>address\_type(), old\_size));}
\DoxyCodeLine{2638 \}}

\end{DoxyCode}


References v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Address\+Value\+From\+Unsigned(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Address\+Value\+To\+U64(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Default\+Reference\+Value(), EXTRACT\+\_\+\+THIS, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Grow(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+JSTo\+Wasm\+Element(), v8\+::internal\+::k\+Max\+UInt32, v8\+::internal\+::wasm\+::k\+V8\+Max\+Wasm\+Table\+Size, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Length(), v8\+::internal\+::wasm\+::max\+\_\+table\+\_\+size(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), and v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a33eae2ff47c44aadd35fd800fa9daf40_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af8c6d861773fb2c5a56b9929ec87d2df}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af8c6d861773fb2c5a56b9929ec87d2df}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyTableImpl@{WebAssemblyTableImpl}}
\index{WebAssemblyTableImpl@{WebAssemblyTableImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyTableImpl()}{WebAssemblyTableImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Table\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1426 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1426                                                                        \{}
\DoxyCodeLine{1427   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Table()"{}}\};}
\DoxyCodeLine{1428   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1429 }
\DoxyCodeLine{1430   \textcolor{keywordflow}{if} (!info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ad2105b93e9b4d02f42b7338fa5950cbc}{IsConstructCall}}()) \{}
\DoxyCodeLine{1431     thrower.TypeError(\textcolor{stringliteral}{"{}WebAssembly.Table must be invoked with 'new'"{}});}
\DoxyCodeLine{1432     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1433   \}}
\DoxyCodeLine{1434   \textcolor{keywordflow}{if} (!info[0]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a3ed6964c1400e2d797f2ae7d2adf68a7}{IsObject}}()) \{}
\DoxyCodeLine{1435     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a table descriptor"{}});}
\DoxyCodeLine{1436     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1437   \}}
\DoxyCodeLine{1438   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{1439   Local<v8::Object> descriptor = \mbox{\hyperlink{namespacev8_1_1internal_a94c4a6c4ad3993b5e0e43bc2191c084b}{Local<Object>::Cast}}(info[0]);}
\DoxyCodeLine{1440   i::wasm::ValueType \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}};}
\DoxyCodeLine{1441   \textcolor{comment}{// Parse the 'element' property of the `descriptor`.}}
\DoxyCodeLine{1442   \{}
\DoxyCodeLine{1443     \mbox{\hyperlink{classv8_1_1Local}{v8::Local<v8::Value>}} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}};}
\DoxyCodeLine{1444     \textcolor{keywordflow}{if} (!descriptor-\/>Get(context, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}element"{}})).ToLocal(\&\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})) \{}
\DoxyCodeLine{1445       \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1446     \}}
\DoxyCodeLine{1447     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::String>}} \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}};}
\DoxyCodeLine{1448     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{data-view-ops_8h_af22849720fbd54f8307292fe33c35a07}{i::Object::ToString}}(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(isolate),}
\DoxyCodeLine{1449                              Utils::OpenDirectHandle(*\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}))}
\DoxyCodeLine{1450              .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&\textcolor{keywordtype}{string})) \{}
\DoxyCodeLine{1451       \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1452     \}}
\DoxyCodeLine{1453     \textcolor{keyword}{auto} enabled\_features = WasmEnabledFeatures::FromIsolate(i\_isolate);}
\DoxyCodeLine{1454     \textcolor{comment}{// The JS api uses 'anyfunc' instead of 'funcref'.}}
\DoxyCodeLine{1455     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}anyfunc"{}}))) \{}
\DoxyCodeLine{1456       \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a90941f620285a912a302a3aced092560}{i::wasm::kWasmFuncRef}};}
\DoxyCodeLine{1457     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (enabled\_features.has\_type\_reflection() \&\&}
\DoxyCodeLine{1458                \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}funcref"{}}))) \{}
\DoxyCodeLine{1459       \textcolor{comment}{// With the type reflection proposal, "{}funcref"{} replaces "{}anyfunc"{},}}
\DoxyCodeLine{1460       \textcolor{comment}{// and anyfunc just becomes an alias for "{}funcref"{}.}}
\DoxyCodeLine{1461       \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a90941f620285a912a302a3aced092560}{i::wasm::kWasmFuncRef}};}
\DoxyCodeLine{1462     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}externref"{}}))) \{}
\DoxyCodeLine{1463       \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a75bfbc047d813d2932698521c1c1145f}{i::wasm::kWasmExternRef}};}
\DoxyCodeLine{1464     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (enabled\_features.has\_stringref() \&\&}
\DoxyCodeLine{1465                \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}stringref"{}}))) \{}
\DoxyCodeLine{1466       \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a44d8421f58b06a23f41aff519b312d3c}{i::wasm::kWasmStringRef}};}
\DoxyCodeLine{1467     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}anyref"{}}))) \{}
\DoxyCodeLine{1468       \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a697b6d1f8fb7f3463c83684346bfa145}{i::wasm::kWasmAnyRef}};}
\DoxyCodeLine{1469     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}eqref"{}}))) \{}
\DoxyCodeLine{1470       \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a75a407e39344b5260946d2c22d318f84}{i::wasm::kWasmEqRef}};}
\DoxyCodeLine{1471     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}structref"{}}))) \{}
\DoxyCodeLine{1472       \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac4677d357c392dc8125dfa4d58f92aeb}{i::wasm::kWasmStructRef}};}
\DoxyCodeLine{1473     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}arrayref"{}}))) \{}
\DoxyCodeLine{1474       \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_afb33e6ba5bbd6ec3d69e3537f9912d4e}{i::wasm::kWasmArrayRef}};}
\DoxyCodeLine{1475     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{string}}-\/>IsEqualTo(\mbox{\hyperlink{namespacev8_1_1base_aaa0a202e5ad0d494cc88496b8fafa571}{base::CStrVector}}(\textcolor{stringliteral}{"{}i31ref"{}}))) \{}
\DoxyCodeLine{1476       \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a86d0b42ae903d1d6e6f98c685ef0133b}{i::wasm::kWasmI31Ref}};}
\DoxyCodeLine{1477     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1478       thrower.TypeError(}
\DoxyCodeLine{1479           \textcolor{stringliteral}{"{}Descriptor property 'element' must be a WebAssembly reference type"{}});}
\DoxyCodeLine{1480       \textcolor{keywordflow}{return};}
\DoxyCodeLine{1481     \}}
\DoxyCodeLine{1482     \textcolor{comment}{// TODO(14616): Support shared types.}}
\DoxyCodeLine{1483   \}}
\DoxyCodeLine{1484 }
\DoxyCodeLine{1485   \textcolor{comment}{// Parse the 'address' property of the `descriptor`.}}
\DoxyCodeLine{1486   std::optional<AddressType> maybe\_address\_type =}
\DoxyCodeLine{1487       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_af9b6376bd669d7a974598324d3c18837}{GetAddressType}}(isolate, context, descriptor, \&thrower);}
\DoxyCodeLine{1488   \textcolor{keywordflow}{if} (!maybe\_address\_type) \{}
\DoxyCodeLine{1489     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(i\_isolate-\/>has\_exception() || thrower.error());}
\DoxyCodeLine{1490     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1491   \}}
\DoxyCodeLine{1492   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_aca3af72b5da01dfb563e4c5f56af8952}{AddressType}} address\_type = *maybe\_address\_type;}
\DoxyCodeLine{1493 }
\DoxyCodeLine{1494   \textcolor{comment}{// Parse the 'initial' or 'minimum' property of the `descriptor`.}}
\DoxyCodeLine{1495   std::optional<uint64\_t> maybe\_initial = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a46a8e5f8c34da455cec8ad9bedd07119}{GetInitialOrMinimumProperty}}(}
\DoxyCodeLine{1496       isolate, \&thrower, context, descriptor, address\_type,}
\DoxyCodeLine{1497       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a99d89c02d7aa502fd4d2939a076c1688}{i::wasm::max\_table\_init\_entries}}());}
\DoxyCodeLine{1498   \textcolor{keywordflow}{if} (!maybe\_initial) \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1499   static\_assert(\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a003eded058d6f8d097f814e516d757ef}{i::wasm::kV8MaxWasmTableInitEntries}} <= \mbox{\hyperlink{namespacev8_1_1internal_ae9b3d70a0b2f7c3c669d187fd9a9dae2}{i::kMaxUInt32}});}
\DoxyCodeLine{1500   uint32\_t initial = \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(*maybe\_initial);}
\DoxyCodeLine{1501 }
\DoxyCodeLine{1502   \textcolor{comment}{// Parse the 'maximum' property of the `descriptor`.}}
\DoxyCodeLine{1503   uint64\_t \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a857cc5f4901fe23f55c7f883d3807584afd6bcfacad1b5b126e36e452b26d2cbf}{kNoMaximum}} = \mbox{\hyperlink{namespacev8_1_1internal_a7f4dd65fabd482f5f1bfe4db66389fa3}{i::kMaxUInt64}};}
\DoxyCodeLine{1504   \textcolor{keyword}{auto} maybe\_maybe\_maximum = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a6481005ff2b35962cd81e7a6a12eaf42}{GetOptionalAddressValue}}(}
\DoxyCodeLine{1505       \&thrower, context, descriptor, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}maximum"{}}), address\_type,}
\DoxyCodeLine{1506       initial, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a857cc5f4901fe23f55c7f883d3807584afd6bcfacad1b5b126e36e452b26d2cbf}{kNoMaximum}});}
\DoxyCodeLine{1507   \textcolor{keywordflow}{if} (!maybe\_maybe\_maximum) \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1508   std::optional<uint64\_t> maybe\_maximum = *maybe\_maybe\_maximum;}
\DoxyCodeLine{1509 }
\DoxyCodeLine{1510   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}.has\_index());  \textcolor{comment}{// The JS API can't express type indices.}}
\DoxyCodeLine{1511   i::wasm::CanonicalValueType canonical\_type\{\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}\};}
\DoxyCodeLine{1512   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmTableObject>}} table\_obj = \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_a44960b521a446db5f1e61b9bfb0c56d6}{i::WasmTableObject::New}}(}
\DoxyCodeLine{1513       i\_isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmTrustedInstanceData>}}(), \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}},}
\DoxyCodeLine{1514       canonical\_type, initial, maybe\_maximum.has\_value(),}
\DoxyCodeLine{1515       maybe\_maximum.value\_or(0) \textcolor{comment}{/* note: unused if previous param is false */},}
\DoxyCodeLine{1516       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ab1e39290866cb51520e0d9af30af7035}{DefaultReferenceValue}}(i\_isolate, \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}), address\_type);}
\DoxyCodeLine{1517 }
\DoxyCodeLine{1518   \textcolor{comment}{// The infrastructure for `new Foo` calls allocates an object, which is}}
\DoxyCodeLine{1519   \textcolor{comment}{// available here as \{info.This()\}. We're going to discard this object}}
\DoxyCodeLine{1520   \textcolor{comment}{// and use \{table\_obj\} instead, but it does have the correct prototype,}}
\DoxyCodeLine{1521   \textcolor{comment}{// which we must harvest from it. This makes a difference when the JS}}
\DoxyCodeLine{1522   \textcolor{comment}{// constructor function wasn't \{WebAssembly.Table\} directly, but some}}
\DoxyCodeLine{1523   \textcolor{comment}{// subclass: \{table\_obj\} has \{WebAssembly.Table\}'s prototype at this}}
\DoxyCodeLine{1524   \textcolor{comment}{// point, so we must overwrite that with the correct prototype for \{Foo\}.}}
\DoxyCodeLine{1525   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a4d8c80876c9b427265f2bdb634e62d70}{TransferPrototype}}(i\_isolate, table\_obj,}
\DoxyCodeLine{1526                          Utils::OpenDirectHandle(*info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a4ddfd6d21732dff1c4c55d5441a8a5ca}{This}}()))) \{}
\DoxyCodeLine{1527     \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{1528   \}}
\DoxyCodeLine{1529 }
\DoxyCodeLine{1530   \textcolor{keywordflow}{if} (initial > 0 \&\& info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_af97dd3f1cb01ed039f9479152ad63a84}{Length}}() >= 2 \&\& !info[1]-\/>IsUndefined()) \{}
\DoxyCodeLine{1531     \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} element = Utils::OpenDirectHandle(*info[1]);}
\DoxyCodeLine{1532     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* error\_message;}
\DoxyCodeLine{1533     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_aaa393ceb64344c386d966b5b1c6e9a16}{i::WasmTableObject::JSToWasmElement}}(i\_isolate, table\_obj, element,}
\DoxyCodeLine{1534                                              \&error\_message)}
\DoxyCodeLine{1535              .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&element)) \{}
\DoxyCodeLine{1536       thrower.TypeError(}
\DoxyCodeLine{1537           \textcolor{stringliteral}{"{}Argument 2 must be undefined or a value of type compatible "{}}}
\DoxyCodeLine{1538           \textcolor{stringliteral}{"{}with the type of the new table: \%s."{}},}
\DoxyCodeLine{1539           error\_message);}
\DoxyCodeLine{1540       \textcolor{keywordflow}{return};}
\DoxyCodeLine{1541     \}}
\DoxyCodeLine{1542     \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = 0; index < static\_cast<uint32\_t>(initial); ++\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}) \{}
\DoxyCodeLine{1543       \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_acfdec070b48fe34a36f7aa7fed63a969}{i::WasmTableObject::Set}}(i\_isolate, table\_obj, \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}, element);}
\DoxyCodeLine{1544     \}}
\DoxyCodeLine{1545   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (initial > 0) \{}
\DoxyCodeLine{1546     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}, table\_obj-\/>unsafe\_type());}
\DoxyCodeLine{1547     \textcolor{keywordflow}{switch} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}.heap\_representation()) \{}
\DoxyCodeLine{1548       \textcolor{keywordflow}{case} i::wasm::HeapType::kString:}
\DoxyCodeLine{1549         thrower.TypeError(}
\DoxyCodeLine{1550             \textcolor{stringliteral}{"{}Missing initial value when creating stringref table"{}});}
\DoxyCodeLine{1551         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1552       \textcolor{keywordflow}{case} i::wasm::HeapType::kStringViewWtf8:}
\DoxyCodeLine{1553         thrower.TypeError(\textcolor{stringliteral}{"{}stringview\_wtf8 has no JS representation"{}});}
\DoxyCodeLine{1554         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1555       \textcolor{keywordflow}{case} i::wasm::HeapType::kStringViewWtf16:}
\DoxyCodeLine{1556         thrower.TypeError(\textcolor{stringliteral}{"{}stringview\_wtf16 has no JS representation"{}});}
\DoxyCodeLine{1557         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1558       \textcolor{keywordflow}{case} i::wasm::HeapType::kStringViewIter:}
\DoxyCodeLine{1559         thrower.TypeError(\textcolor{stringliteral}{"{}stringview\_iter has no JS representation"{}});}
\DoxyCodeLine{1560         \textcolor{keywordflow}{return};}
\DoxyCodeLine{1561       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{1562         \textcolor{keywordflow}{break};}
\DoxyCodeLine{1563     \}}
\DoxyCodeLine{1564   \}}
\DoxyCodeLine{1565   \mbox{\hyperlink{classv8_1_1ReturnValue}{v8::ReturnValue<v8::Value>}} return\_value = info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}();}
\DoxyCodeLine{1566   return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(Utils::ToLocal(i::Cast<i::JSObject>(table\_obj)));}
\DoxyCodeLine{1567 \}}

\end{DoxyCode}


References v8\+::\+Local$<$ T $>$\+::\+Cast(), v8\+::base\+::\+CStr\+Vector(), DCHECK, DCHECK\+\_\+\+EQ, v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Default\+Reference\+Value(), v8\+::\+Object\+::\+Get(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Address\+Type(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Initial\+Or\+Minimum\+Property(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Optional\+Address\+Value(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::index, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::internal\+::\+Is\+Object(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+JSTo\+Wasm\+Element(), v8\+::internal\+::k\+Max\+UInt32, v8\+::internal\+::k\+Max\+UInt64, v8\+::internal\+::wasm\+::k\+No\+Maximum, v8\+::internal\+::wasm\+::k\+V8\+Max\+Wasm\+Table\+Init\+Entries, v8\+::internal\+::wasm\+::k\+Wasm\+Any\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Array\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Eq\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Extern\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Func\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+I31\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+String\+Ref, v8\+::internal\+::wasm\+::k\+Wasm\+Struct\+Ref, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Length(), v8\+::internal\+::wasm\+::max\+\_\+table\+\_\+init\+\_\+entries(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+New(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::\+Return\+Value$<$ T $>$\+::\+Set(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Set(), v8\+::internal\+::string, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+This(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle(), To\+String(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Transfer\+Prototype(), v8\+::internal\+::tracing\+::type, v8\+\_\+str(), and v8\+::internal\+::value.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af8c6d861773fb2c5a56b9929ec87d2df_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a93e08326b017c12ec308795bc251bf91}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a93e08326b017c12ec308795bc251bf91}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyTableSetImpl@{WebAssemblyTableSetImpl}}
\index{WebAssemblyTableSetImpl@{WebAssemblyTableSetImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyTableSetImpl()}{WebAssemblyTableSetImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Table\+Set\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2698 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2698                                                                           \{}
\DoxyCodeLine{2699   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Table.set()"{}}\};}
\DoxyCodeLine{2700   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2701   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{2702   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(table\_object, WasmTableObject);}
\DoxyCodeLine{2703 }
\DoxyCodeLine{2704   std::optional<uint64\_t> maybe\_address = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a3c5caa16bf7299bb8d809591ef2733b9}{AddressValueToU64}}(}
\DoxyCodeLine{2705       \&thrower, context, info[0], \textcolor{stringliteral}{"{}Argument 0"{}}, table\_object-\/>address\_type());}
\DoxyCodeLine{2706   \textcolor{keywordflow}{if} (!maybe\_address) \textcolor{keywordflow}{return} js\_api\_scope.AssertException();}
\DoxyCodeLine{2707   uint64\_t address = *maybe\_address;}
\DoxyCodeLine{2708 }
\DoxyCodeLine{2709   \textcolor{keywordflow}{if} (address > \mbox{\hyperlink{namespacev8_1_1internal_ae9b3d70a0b2f7c3c669d187fd9a9dae2}{i::kMaxUInt32}} ||}
\DoxyCodeLine{2710       !table\_object-\/>is\_in\_bounds(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(address))) \{}
\DoxyCodeLine{2711     thrower.RangeError(\textcolor{stringliteral}{"{}invalid address \%"{}} PRIu64 \textcolor{stringliteral}{"{} in \%s table of size \%d"{}},}
\DoxyCodeLine{2712                        address, table\_object-\/>unsafe\_type().name().c\_str(),}
\DoxyCodeLine{2713                        table\_object-\/>current\_length());}
\DoxyCodeLine{2714     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2715   \}}
\DoxyCodeLine{2716 }
\DoxyCodeLine{2717   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} element;}
\DoxyCodeLine{2718   \textcolor{keywordflow}{if} (info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_af97dd3f1cb01ed039f9479152ad63a84}{Length}}() >= 2) \{}
\DoxyCodeLine{2719     element = Utils::OpenDirectHandle(*info[1]);}
\DoxyCodeLine{2720     \textcolor{keyword}{const} \textcolor{keywordtype}{char}* error\_message;}
\DoxyCodeLine{2721     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_aaa393ceb64344c386d966b5b1c6e9a16}{i::WasmTableObject::JSToWasmElement}}(i\_isolate, table\_object, element,}
\DoxyCodeLine{2722                                              \&error\_message)}
\DoxyCodeLine{2723              .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a0be2944595d695733e968a9a946d9fcc}{ToHandle}}(\&element)) \{}
\DoxyCodeLine{2724       thrower.TypeError(\textcolor{stringliteral}{"{}Argument 1 is invalid for table: \%s"{}}, error\_message);}
\DoxyCodeLine{2725       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2726     \}}
\DoxyCodeLine{2727   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (table\_object-\/>unsafe\_type().is\_defaultable()) \{}
\DoxyCodeLine{2728     element = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_ab1e39290866cb51520e0d9af30af7035}{DefaultReferenceValue}}(i\_isolate, table\_object-\/>unsafe\_type());}
\DoxyCodeLine{2729   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2730     thrower.TypeError(\textcolor{stringliteral}{"{}Table of non-\/defaultable type \%s needs explicit element"{}},}
\DoxyCodeLine{2731                       table\_object-\/>unsafe\_type().name().c\_str());}
\DoxyCodeLine{2732     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2733   \}}
\DoxyCodeLine{2734 }
\DoxyCodeLine{2735   \mbox{\hyperlink{classv8_1_1internal_1_1WasmTableObject_acfdec070b48fe34a36f7aa7fed63a969}{i::WasmTableObject::Set}}(i\_isolate, table\_object,}
\DoxyCodeLine{2736                           \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(address), element);}
\DoxyCodeLine{2737 \}}

\end{DoxyCode}


References v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Address\+Value\+To\+U64(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Default\+Reference\+Value(), EXTRACT\+\_\+\+THIS, v8\+::internal\+::\+Wasm\+Table\+Object\+::\+JSTo\+Wasm\+Element(), v8\+::internal\+::k\+Max\+UInt32, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Length(), v8\+::\+Utils\+::\+Open\+Direct\+Handle(), v8\+::internal\+::\+Wasm\+Table\+Object\+::\+Set(), and v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a93e08326b017c12ec308795bc251bf91_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acaccef9db6ddc927c8e58fb29de30502}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acaccef9db6ddc927c8e58fb29de30502}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyTableType@{WebAssemblyTableType}}
\index{WebAssemblyTableType@{WebAssemblyTableType}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyTableType()}{WebAssemblyTableType()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Table\+Type (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2740 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2740                                                                        \{}
\DoxyCodeLine{2741   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Table.type()"{}}\};}
\DoxyCodeLine{2742   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2743   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(table, WasmTableObject);}
\DoxyCodeLine{2744   std::optional<uint64\_t> max\_size = table-\/>maximum\_length\_u64();}
\DoxyCodeLine{2745   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a0213728ccf8cd499ba36ff1be97269ba}{i::wasm::GetTypeForTable}}(i\_isolate, table-\/>unsafe\_type(),}
\DoxyCodeLine{2746                                        table-\/>current\_length(), max\_size,}
\DoxyCodeLine{2747                                        table-\/>address\_type());}
\DoxyCodeLine{2748   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}));}
\DoxyCodeLine{2749 \}}

\end{DoxyCode}


References EXTRACT\+\_\+\+THIS, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Type\+For\+Table(), and v8\+::internal\+::tracing\+::type.



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Type\+Reflection().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acaccef9db6ddc927c8e58fb29de30502_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acaccef9db6ddc927c8e58fb29de30502_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa725e4c20fcbf8aa32c453db61f2eb52}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa725e4c20fcbf8aa32c453db61f2eb52}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyTagImpl@{WebAssemblyTagImpl}}
\index{WebAssemblyTagImpl@{WebAssemblyTagImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyTagImpl()}{WebAssemblyTagImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Tag\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 1973 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1973                                                                      \{}
\DoxyCodeLine{1974   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Tag()"{}}\};}
\DoxyCodeLine{1975   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{1976 }
\DoxyCodeLine{1977   \textcolor{keywordflow}{if} (!info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_ad2105b93e9b4d02f42b7338fa5950cbc}{IsConstructCall}}()) \{}
\DoxyCodeLine{1978     thrower.TypeError(\textcolor{stringliteral}{"{}WebAssembly.Tag must be invoked with 'new'"{}});}
\DoxyCodeLine{1979     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1980   \}}
\DoxyCodeLine{1981   \textcolor{keywordflow}{if} (!info[0]-\/>\mbox{\hyperlink{namespacev8_1_1internal_a3ed6964c1400e2d797f2ae7d2adf68a7}{IsObject}}()) \{}
\DoxyCodeLine{1982     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a tag type"{}});}
\DoxyCodeLine{1983     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1984   \}}
\DoxyCodeLine{1985 }
\DoxyCodeLine{1986   Local<Object> event\_type = \mbox{\hyperlink{namespacev8_1_1internal_a94c4a6c4ad3993b5e0e43bc2191c084b}{Local<Object>::Cast}}(info[0]);}
\DoxyCodeLine{1987   Local<Context> context = isolate-\/>GetCurrentContext();}
\DoxyCodeLine{1988   \textcolor{keyword}{auto} enabled\_features = WasmEnabledFeatures::FromIsolate(i\_isolate);}
\DoxyCodeLine{1989 }
\DoxyCodeLine{1990   \textcolor{comment}{// Load the 'parameters' property of the event type.}}
\DoxyCodeLine{1991   Local<String> parameters\_key = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_afbd7b4cf0e6b2f3d52780122edc1d105}{v8\_str}}(isolate, \textcolor{stringliteral}{"{}parameters"{}});}
\DoxyCodeLine{1992   \mbox{\hyperlink{classv8_1_1MaybeLocal}{v8::MaybeLocal<v8::Value>}} parameters\_maybe =}
\DoxyCodeLine{1993       event\_type-\/>Get(context, parameters\_key);}
\DoxyCodeLine{1994   \mbox{\hyperlink{classv8_1_1Local}{v8::Local<v8::Value>}} parameters\_value;}
\DoxyCodeLine{1995   \textcolor{keywordflow}{if} (!parameters\_maybe.\mbox{\hyperlink{classv8_1_1MaybeLocal_adcbf09f789c51def0e48e859d5b8da57}{ToLocal}}(\&parameters\_value) ||}
\DoxyCodeLine{1996       !parameters\_value-\/>\mbox{\hyperlink{classv8_1_1Value_a72a01e06e897a8fedbb430cdd7fc3ffe}{IsObject}}()) \{}
\DoxyCodeLine{1997     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 must be a tag type with 'parameters'"{}});}
\DoxyCodeLine{1998     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1999   \}}
\DoxyCodeLine{2000   Local<Object> parameters = parameters\_value.\mbox{\hyperlink{classv8_1_1Local_a00dcb92006284768dc2661c2940f935a}{As}}<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae40ecf79ba420ba01bc347350bd6176f}{Object}}>();}
\DoxyCodeLine{2001   uint32\_t parameters\_len = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a361699e49cecab7e16584fcb747876fe}{GetIterableLength}}(i\_isolate, context, parameters);}
\DoxyCodeLine{2002   \textcolor{keywordflow}{if} (parameters\_len == \mbox{\hyperlink{namespacev8_1_1internal_ae9b3d70a0b2f7c3c669d187fd9a9dae2}{i::kMaxUInt32}}) \{}
\DoxyCodeLine{2003     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 contains parameters without 'length'"{}});}
\DoxyCodeLine{2004     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2005   \}}
\DoxyCodeLine{2006   \textcolor{keywordflow}{if} (parameters\_len > \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_af945328e16ca1b7c2a5d2baf50ca445c}{i::wasm::kV8MaxWasmFunctionParams}}) \{}
\DoxyCodeLine{2007     thrower.TypeError(\textcolor{stringliteral}{"{}Argument 0 contains too many parameters"{}});}
\DoxyCodeLine{2008     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2009   \}}
\DoxyCodeLine{2010 }
\DoxyCodeLine{2011   \textcolor{comment}{// Decode the tag type and construct a signature.}}
\DoxyCodeLine{2012   std::vector<i::wasm::ValueType> param\_types(parameters\_len,}
\DoxyCodeLine{2013                                               \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab996b620af25ac2ea5b4682df40abca3}{i::wasm::kWasmVoid}});}
\DoxyCodeLine{2014   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < parameters\_len; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{2015     i::wasm::ValueType\& \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = param\_types[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{2016     MaybeLocal<Value> maybe = parameters-\/>Get(context, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{2017     std::optional<i::wasm::ValueType> maybe\_type =}
\DoxyCodeLine{2018         \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a6080d8b0a67ea17401b79da039a0a6d5}{GetValueType}}(isolate, maybe, context, enabled\_features);}
\DoxyCodeLine{2019     \textcolor{keywordflow}{if} (!maybe\_type) \textcolor{keywordflow}{return};}
\DoxyCodeLine{2020     \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = *maybe\_type;}
\DoxyCodeLine{2021     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ab996b620af25ac2ea5b4682df40abca3}{i::wasm::kWasmVoid}}) \{}
\DoxyCodeLine{2022       thrower.TypeError(}
\DoxyCodeLine{2023           \textcolor{stringliteral}{"{}Argument 0 parameter type at index \#\%u must be a value type"{}}, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{2024       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2025     \}}
\DoxyCodeLine{2026   \}}
\DoxyCodeLine{2027   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a1a17c60bc1e8b8ad11208d7b0d3ec5a9}{i::wasm::FunctionSig}} \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}\{0, parameters\_len, param\_types.data()\};}
\DoxyCodeLine{2028   \textcolor{comment}{// Set the tag index to 0. It is only used for debugging purposes, and has no}}
\DoxyCodeLine{2029   \textcolor{comment}{// meaningful value when declared outside of a wasm module.}}
\DoxyCodeLine{2030   \textcolor{keyword}{auto} tag = \mbox{\hyperlink{classv8_1_1internal_1_1WasmExceptionTag_a16f4ecfd034d8f83eb0b57c2dfeb7e86}{i::WasmExceptionTag::New}}(i\_isolate, 0);}
\DoxyCodeLine{2031 }
\DoxyCodeLine{2032   i::wasm::CanonicalTypeIndex type\_index =}
\DoxyCodeLine{2033       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{i::wasm::GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_a82694f241e35d38f8f882c255e49e743}{type\_canonicalizer}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1TypeCanonicalizer_aa7d63877150be29e04f49d189ea88c99}{AddRecursiveGroup}}(\&\mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}});}
\DoxyCodeLine{2034 }
\DoxyCodeLine{2035   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSObject>}} tag\_object =}
\DoxyCodeLine{2036       \mbox{\hyperlink{classv8_1_1internal_1_1WasmTagObject_a80e21a9531997c9d7c95d9bd95d86cd4}{i::WasmTagObject::New}}(i\_isolate, \&\mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}, type\_index, tag,}
\DoxyCodeLine{2037                             \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::WasmTrustedInstanceData>}}());}
\DoxyCodeLine{2038   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(tag\_object));}
\DoxyCodeLine{2039 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Type\+Canonicalizer\+::\+Add\+Recursive\+Group(), v8\+::\+Local$<$ T $>$\+::\+As(), v8\+::\+Local$<$ T $>$\+::\+Cast(), v8\+::\+Object\+::\+Get(), v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Get\+Iterable\+Length(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), Get\+Value\+Type(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Is\+Construct\+Call(), v8\+::\+Value\+::\+Is\+Object(), v8\+::internal\+::\+Is\+Object(), v8\+::internal\+::k\+Max\+UInt32, v8\+::internal\+::wasm\+::k\+V8\+Max\+Wasm\+Function\+Params, v8\+::internal\+::wasm\+::k\+Wasm\+Void, v8\+::internal\+::\+Wasm\+Tag\+Object\+::\+New(), v8\+::internal\+::\+Wasm\+Exception\+Tag\+::\+New(), v8\+::internal\+::sig, v8\+::\+Maybe\+Local$<$ T $>$\+::\+To\+Local(), v8\+::internal\+::tracing\+::type, v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::type\+\_\+canonicalizer(), and v8\+\_\+str().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa725e4c20fcbf8aa32c453db61f2eb52_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4205bbb2cdbecd8548f0062a0158fd6a}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4205bbb2cdbecd8548f0062a0158fd6a}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyTagType@{WebAssemblyTagType}}
\index{WebAssemblyTagType@{WebAssemblyTagType}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyTagType()}{WebAssemblyTagType()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Tag\+Type (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 2943 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2943                                                                      \{}
\DoxyCodeLine{2944   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.Tag.type()"{}}\};}
\DoxyCodeLine{2945   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{2946   \mbox{\hyperlink{wasm-js_8cc_ae79207a556b5c5abdb95386209c4b36f}{EXTRACT\_THIS}}(tag, WasmTagObject);}
\DoxyCodeLine{2947 }
\DoxyCodeLine{2948   \textcolor{keywordtype}{int} n = tag-\/>serialized\_signature()-\/>length();}
\DoxyCodeLine{2949   std::vector<i::wasm::ValueType> data(n);}
\DoxyCodeLine{2950   \textcolor{keywordflow}{if} (n > 0) \{}
\DoxyCodeLine{2951     tag-\/>serialized\_signature()-\/>copy\_out(0, data.data(), n);}
\DoxyCodeLine{2952   \}}
\DoxyCodeLine{2953   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a1a17c60bc1e8b8ad11208d7b0d3ec5a9}{i::wasm::FunctionSig}} \mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}\{0, data.size(), data.data()\};}
\DoxyCodeLine{2954   constexpr \textcolor{keywordtype}{bool} kForException = \textcolor{keyword}{true};}
\DoxyCodeLine{2955   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ad49eb67763b3ddf562db19959cc71ace}{i::wasm::GetTypeForFunction}}(i\_isolate, \&\mbox{\hyperlink{namespacev8_1_1internal_a6135f0ef57de8d381e3225f6659c617a}{sig}}, kForException);}
\DoxyCodeLine{2956   info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}().Set(Utils::ToLocal(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}));}
\DoxyCodeLine{2957 \}}

\end{DoxyCode}


References EXTRACT\+\_\+\+THIS, v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Type\+For\+Function(), v8\+::internal\+::sig, and v8\+::internal\+::tracing\+::type.



Referenced by v8\+::internal\+::\+Wasm\+Js\+::\+Install\+Type\+Reflection().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4205bbb2cdbecd8548f0062a0158fd6a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a4205bbb2cdbecd8548f0062a0158fd6a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa00e99e86bb5e0bcdde5308c3b924c45}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa00e99e86bb5e0bcdde5308c3b924c45}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!WebAssemblyValidateImpl@{WebAssemblyValidateImpl}}
\index{WebAssemblyValidateImpl@{WebAssemblyValidateImpl}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{WebAssemblyValidateImpl()}{WebAssemblyValidateImpl()}}
{\footnotesize\ttfamily void v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::Web\+Assembly\+Validate\+Impl (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1FunctionCallbackInfo}{v8\+::\+Function\+Callback\+Info}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ \&}]{info }\end{DoxyParamCaption})}



Definition at line 886 of file wasm-\/js.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{886                                                                           \{}
\DoxyCodeLine{887   WasmJSApiScope js\_api\_scope\{info, \textcolor{stringliteral}{"{}WebAssembly.validate()"{}}\};}
\DoxyCodeLine{888   \textcolor{keyword}{auto} [isolate, i\_isolate, thrower] = js\_api\_scope.isolates\_and\_thrower();}
\DoxyCodeLine{889   \mbox{\hyperlink{classv8_1_1ReturnValue}{v8::ReturnValue<v8::Value>}} return\_value = info.\mbox{\hyperlink{classv8_1_1FunctionCallbackInfo_a2cb41afe1e098a46d27d901b4cc1e6f5}{GetReturnValue}}();}
\DoxyCodeLine{890 }
\DoxyCodeLine{891   \textcolor{keywordtype}{bool} bytes\_are\_shared = \textcolor{keyword}{false};}
\DoxyCodeLine{892   base::Vector<const uint8\_t> bytes = \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_ae01fffe033c01485019507b9e0932b21}{GetFirstArgumentAsBytes}}(}
\DoxyCodeLine{893       info, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a76ecd8d4d54ac6dd52d2278b2cda0ba7}{i::wasm::max\_module\_size}}(), \&thrower, \&bytes\_are\_shared);}
\DoxyCodeLine{894   \textcolor{keywordflow}{if} (bytes.empty()) \{}
\DoxyCodeLine{895     js\_api\_scope.AssertException();}
\DoxyCodeLine{896     \textcolor{comment}{// Propagate anything except wasm exceptions.}}
\DoxyCodeLine{897     \textcolor{keywordflow}{if} (!thrower.wasm\_error()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{898     \textcolor{comment}{// Clear wasm exceptions; return false instead.}}
\DoxyCodeLine{899     thrower.Reset();}
\DoxyCodeLine{900     return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(\mbox{\hyperlink{namespacev8_ad95e01adb84e22399970bc9bffa404fe}{v8::False}}(isolate));}
\DoxyCodeLine{901     \textcolor{keywordflow}{return};}
\DoxyCodeLine{902   \}}
\DoxyCodeLine{903 }
\DoxyCodeLine{904   \textcolor{keyword}{auto} enabled\_features = WasmEnabledFeatures::FromIsolate(i\_isolate);}
\DoxyCodeLine{905   CompileTimeImports compile\_imports =}
\DoxyCodeLine{906       \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_1_1anonymous__namespace_02wasm-js_8cc_03_a5c27ccf9d3fac863f80bac41d3a0b60b}{ArgumentToCompileOptions}}(info[1], i\_isolate, enabled\_features);}
\DoxyCodeLine{907   \textcolor{keywordflow}{if} (i\_isolate-\/>has\_exception()) \{}
\DoxyCodeLine{908     \textcolor{keywordflow}{if} (i\_isolate-\/>is\_execution\_terminating()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{909     i\_isolate-\/>clear\_exception();}
\DoxyCodeLine{910     return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(\mbox{\hyperlink{namespacev8_ad95e01adb84e22399970bc9bffa404fe}{v8::False}}(isolate));}
\DoxyCodeLine{911     \textcolor{keywordflow}{return};}
\DoxyCodeLine{912   \}}
\DoxyCodeLine{913 }
\DoxyCodeLine{914   \textcolor{keywordtype}{bool} validated = \textcolor{keyword}{false};}
\DoxyCodeLine{915   \textcolor{keywordflow}{if} (bytes\_are\_shared) \{}
\DoxyCodeLine{916     \textcolor{comment}{// Make a copy of the wire bytes to avoid concurrent modification.}}
\DoxyCodeLine{917     \textcolor{comment}{// Use relaxed reads (and writes, which is unnecessary here) to avoid TSan}}
\DoxyCodeLine{918     \textcolor{comment}{// reports in case the buffer is shared and is being modified concurrently.}}
\DoxyCodeLine{919     \textcolor{keyword}{auto} bytes\_copy = base::OwnedVector<uint8\_t>::NewForOverwrite(bytes.size());}
\DoxyCodeLine{920     \mbox{\hyperlink{namespacev8_1_1base_a7a5e1c490a7a7606fdc230f5779db6f0}{base::Relaxed\_Memcpy}}(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1base_aee15b21aa31a7bcb340576c631d28141}{base::Atomic8}}*\textcolor{keyword}{>}(bytes\_copy.begin()),}
\DoxyCodeLine{921                          \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\mbox{\hyperlink{namespacev8_1_1base_aee15b21aa31a7bcb340576c631d28141}{base::Atomic8}}*\textcolor{keyword}{>}(bytes.data()),}
\DoxyCodeLine{922                          bytes.size());}
\DoxyCodeLine{923     validated = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{i::wasm::GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_aad8e9ffbc98ee56a23ee1e76a115b34f}{SyncValidate}}(}
\DoxyCodeLine{924         i\_isolate, enabled\_features, std::move(compile\_imports),}
\DoxyCodeLine{925         bytes\_copy.as\_vector());}
\DoxyCodeLine{926   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{927     \textcolor{comment}{// The wire bytes are not shared, OK to use them directly.}}
\DoxyCodeLine{928     validated = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{i::wasm::GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_aad8e9ffbc98ee56a23ee1e76a115b34f}{SyncValidate}}(}
\DoxyCodeLine{929         i\_isolate, enabled\_features, std::move(compile\_imports), bytes);}
\DoxyCodeLine{930   \}}
\DoxyCodeLine{931 }
\DoxyCodeLine{932   return\_value.\mbox{\hyperlink{classv8_1_1ReturnValue_a57c4b962cf2ca387d3fb9a2f8e47a963}{Set}}(validated);}
\DoxyCodeLine{933 \}}

\end{DoxyCode}


References v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::\+Argument\+To\+Compile\+Options(), v8\+::base\+::\+Vector$<$ T $>$\+::data(), v8\+::base\+::\+Vector$<$ T $>$\+::empty(), v8\+::\+False(), Get\+First\+Argument\+As\+Bytes(), v8\+::\+Function\+Callback\+Info$<$ T $>$\+::\+Get\+Return\+Value(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::internal\+::wasm\+::max\+\_\+module\+\_\+size(), v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::\+New\+For\+Overwrite(), v8\+::base\+::\+Relaxed\+\_\+\+Memcpy(), v8\+::\+Return\+Value$<$ T $>$\+::\+Set(), v8\+::base\+::\+Vector$<$ T $>$\+::size(), and v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Sync\+Validate().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_aa00e99e86bb5e0bcdde5308c3b924c45_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a12bb9a1d5a119f47fd37d71d197381a9}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a12bb9a1d5a119f47fd37d71d197381a9}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!kName\_WasmExceptionPackage@{kName\_WasmExceptionPackage}}
\index{kName\_WasmExceptionPackage@{kName\_WasmExceptionPackage}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kName\_WasmExceptionPackage}{kName\_WasmExceptionPackage}}
{\footnotesize\ttfamily constexpr const char$\ast$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Name\+\_\+\+Wasm\+Exception\+Package = \char`\"{}Web\+Assembly.\+Exception\char`\"{}\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 2558 of file wasm-\/js.\+cc.

\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af398e8b74dcf07c921819d41525529d3}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_af398e8b74dcf07c921819d41525529d3}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!kName\_WasmGlobalObject@{kName\_WasmGlobalObject}}
\index{kName\_WasmGlobalObject@{kName\_WasmGlobalObject}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kName\_WasmGlobalObject}{kName\_WasmGlobalObject}}
{\footnotesize\ttfamily constexpr const char$\ast$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Name\+\_\+\+Wasm\+Global\+Object = \char`\"{}Web\+Assembly.\+Global\char`\"{}\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 2551 of file wasm-\/js.\+cc.

\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acbe81b55a2dd9d5e4d981542f50b4f98}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_acbe81b55a2dd9d5e4d981542f50b4f98}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!kName\_WasmInstanceObject@{kName\_WasmInstanceObject}}
\index{kName\_WasmInstanceObject@{kName\_WasmInstanceObject}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kName\_WasmInstanceObject}{kName\_WasmInstanceObject}}
{\footnotesize\ttfamily constexpr const char$\ast$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Name\+\_\+\+Wasm\+Instance\+Object = \char`\"{}Web\+Assembly.\+Instance\char`\"{}\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 2555 of file wasm-\/js.\+cc.

\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a95401e7d95c8bb9ab309cb3875c9a403}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a95401e7d95c8bb9ab309cb3875c9a403}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!kName\_WasmMemoryMapDescriptor@{kName\_WasmMemoryMapDescriptor}}
\index{kName\_WasmMemoryMapDescriptor@{kName\_WasmMemoryMapDescriptor}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kName\_WasmMemoryMapDescriptor}{kName\_WasmMemoryMapDescriptor}}
{\footnotesize\ttfamily constexpr const char$\ast$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Name\+\_\+\+Wasm\+Memory\+Map\+Descriptor\hspace{0.3cm}{\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=}
\DoxyCodeLine{    \textcolor{stringliteral}{"{}WebAssembly.MemoryMapDescriptor"{}}}

\end{DoxyCode}


Definition at line 2553 of file wasm-\/js.\+cc.

\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a8cd6b449f31123f7fe548313c558da37}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a8cd6b449f31123f7fe548313c558da37}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!kName\_WasmMemoryObject@{kName\_WasmMemoryObject}}
\index{kName\_WasmMemoryObject@{kName\_WasmMemoryObject}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kName\_WasmMemoryObject}{kName\_WasmMemoryObject}}
{\footnotesize\ttfamily constexpr const char$\ast$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Name\+\_\+\+Wasm\+Memory\+Object = \char`\"{}Web\+Assembly.\+Memory\char`\"{}\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 2552 of file wasm-\/js.\+cc.

\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2fe24af2c267a2334b39850944e39549}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a2fe24af2c267a2334b39850944e39549}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!kName\_WasmTableObject@{kName\_WasmTableObject}}
\index{kName\_WasmTableObject@{kName\_WasmTableObject}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kName\_WasmTableObject}{kName\_WasmTableObject}}
{\footnotesize\ttfamily constexpr const char$\ast$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Name\+\_\+\+Wasm\+Table\+Object = \char`\"{}Web\+Assembly.\+Table\char`\"{}\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 2556 of file wasm-\/js.\+cc.

\mbox{\Hypertarget{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a1dac09354501498a47e41e530f2b77f3}\label{namespacev8_1_1anonymous__namespace_02wasm-js_8cc_03_a1dac09354501498a47e41e530f2b77f3}} 
\index{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}!kName\_WasmTagObject@{kName\_WasmTagObject}}
\index{kName\_WasmTagObject@{kName\_WasmTagObject}!v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}@{v8::anonymous\_namespace\lcurly{}wasm-\/js.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kName\_WasmTagObject}{kName\_WasmTagObject}}
{\footnotesize\ttfamily constexpr const char$\ast$ v8\+::anonymous\+\_\+namespace\{wasm-\/js.\+cc\}\+::k\+Name\+\_\+\+Wasm\+Tag\+Object = \char`\"{}Web\+Assembly.\+Tag\char`\"{}\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 2557 of file wasm-\/js.\+cc.

