\hypertarget{classv8_1_1internal_1_1MapUpdater}{}\doxysection{v8\+::internal\+::Map\+Updater Class Reference}
\label{classv8_1_1internal_1_1MapUpdater}\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}}


{\ttfamily \#include $<$map-\/updater.\+h$>$}



Collaboration diagram for v8\+::internal\+::Map\+Updater\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad1c3a630212f0098faee5233c1be5dc0}{Map\+Updater}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ old\+\_\+map)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a2781cab0775a35357462b520fae34628}{Reconfigure\+To\+Data\+Field}} (\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} descriptor, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{Property\+Attributes}} attributes, \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}} constness, \mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}} representation, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ field\+\_\+type)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a55b66930187ea380c6fd43845e399f3f}{Reconfigure\+Elements\+Kind}} (\mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{Elements\+Kind}} elements\+\_\+kind)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a62370c6e6a97b815ffaf307a4b478905}{Apply\+Prototype\+Transition}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_ad0de543e9d6c8bc4c1283135666657fd}{JSPrototype}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_af2d9fec01057be7bdab90bb4682717b0}{prototype}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad9af4bdcc4d58fa609e0156c89ae483d}{Update}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static std\+::optional$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a9bed85b35162390b6cd90f5598f8947e}{Try\+Update\+No\+Lock}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ old\+\_\+map, \mbox{\hyperlink{namespacev8_1_1internal_a420e377bba6b25b38450dd44912cd5f6}{Concurrency\+Mode}} cmode) \mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}}
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5e47410414276c0199a92eb116ba00b}{Reconfigure\+Existing\+Property}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ map, \mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} descriptor, \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81}{Property\+Kind}} kind, \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{Property\+Attributes}} attributes, \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}} constness)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a04012f11ce54cbce8115f4249c472e3a}{Generalize\+Field}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ map, \mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} modify\+\_\+index, \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}} new\+\_\+constness, \mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}} new\+\_\+representation, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ new\+\_\+field\+\_\+type)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a17b96916a316657681c5382aa61bab1a}{Complete\+Inobject\+Slack\+Tracking}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ initial\+\_\+map)
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{State}} \{ \newline
\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}{k\+Initialized}}
, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a688c147ffcc1f98c503dd132ec39cb4d}{k\+At\+Root\+Map}}
, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a98fc0de6c485a0da9f0609d15b078fc1}{k\+At\+Target\+Map}}
, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80}{k\+At\+Integrity\+Level\+Source}}
, \newline
\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{k\+End}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a34fb1a6f4761d31d6b546730ba684632}{Update\+Impl}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{State}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a775bdfa713c895e0fca38a05e512eb2d}{Try\+Reconfigure\+To\+Data\+Field\+Inplace}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{State}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad41dafb34e0c6dc5f39566dbf2b7bae5}{Find\+Root\+Map}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{State}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad976339ab49ddf6e48acd038645fd58c}{Find\+Target\+Map}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1DescriptorArray}{Descriptor\+Array}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_afcd7e18d8dd0b89d46573672d45c8e59}{Build\+Descriptor\+Array}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aaafc5700055a5792206e0942762da083}{Find\+Split\+Map}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1DescriptorArray}{Descriptor\+Array}} $>$ descriptors)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{State}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65be75fff70ffb063e04326adc452f45}{Construct\+New\+Map}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{State}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a01c1e00ea1e1e9a445ccd20e6b27afe1}{Construct\+New\+Map\+With\+Integrity\+Level\+Transition}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{State}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}} (const char $\ast$reason)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Name}{Name}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5b045cf26a76c61ba9b42f720139d3b0}{Get\+Key}} (\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} descriptor) const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1PropertyDetails}{Property\+Details}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}{Get\+Details}} (\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} descriptor) const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3}{Get\+Value}} (\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} descriptor) const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0b6506d0d145f2589a01453addac837f}{Get\+Field\+Type}} (\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} descriptor) const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a1f7fa530862af454488b9efd711eb9b3}{Get\+Or\+Compute\+Field\+Type}} (\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} descriptor, \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4}{Property\+Location}} location, \mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}} representation) const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a315c02a611caff7921b4905993085813}{Get\+Or\+Compute\+Field\+Type}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1DescriptorArray}{Descriptor\+Array}} $>$ descriptors, \mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} descriptor, \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4}{Property\+Location}} location, \mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}} representation)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a417db39502490279d6f33884a63000e7}{Generalize\+Field}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ map, \mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} modify\+\_\+index, \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}} new\+\_\+constness, \mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}} new\+\_\+representation, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ new\+\_\+field\+\_\+type)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6327e4df7173fbd8eafcf916162d3c6d}{Try\+Save\+Integrity\+Level\+Transitions}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac2d4957346bf57372511762949b9a05c}{Update\+Map\+No\+Lock}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ old\+\_\+map)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a07aba2a1c4674b213666f0bcf9cdda2a}{Update\+Field\+Type}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ map, \mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} descriptor\+\_\+number, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Name}{Name}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}}, \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}} new\+\_\+constness, \mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}} new\+\_\+representation, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ new\+\_\+type)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\+\_\+map\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1DescriptorArray}{Descriptor\+Array}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\+\_\+descriptors\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\+\_\+map\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\+\_\+map\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\+\_\+map\+\_\+}}
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\+\_\+nof\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a19f65433523c408df90eb032c1ef1406}{has\+\_\+integrity\+\_\+level\+\_\+transition\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{Property\+Attributes}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_af4f8ebf63a8cbed7b8b5236f510319fc}{integrity\+\_\+level\+\_\+}} = \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Symbol}{Symbol}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa29919747bbddb076ce7adb9816e1fb0}{integrity\+\_\+level\+\_\+symbol\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}{integrity\+\_\+source\+\_\+map\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{State}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\+\_\+}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}{k\+Initialized}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{Elements\+Kind}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa178faa080934fb6dc2099fe469351e6}{new\+\_\+elements\+\_\+kind\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a53123e5f6d38c9ea2fdb5401fe553a2f}{is\+\_\+transitionable\+\_\+fast\+\_\+elements\+\_\+kind\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_ad0de543e9d6c8bc4c1283135666657fd}{JSPrototype}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}{new\+\_\+prototype\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\+\_\+descriptor\+\_\+}} = \mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex_a6242d762c44be4717a2e76f109604b4b}{Internal\+Index\+::\+Not\+Found}}()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81}{Property\+Kind}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}{new\+\_\+kind\+\_\+}} = \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{Property\+Kind\+::k\+Data}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{Property\+Attributes}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a5ba23fb8d01d941f1e57f665d9cc24}{new\+\_\+attributes\+\_\+}} = \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65345084fef112de78dfd8cad40e5588}{new\+\_\+constness\+\_\+}} = \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6}{Property\+Constness\+::k\+Mutable}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4}{Property\+Location}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}{new\+\_\+location\+\_\+}} = \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{Property\+Location\+::k\+Field}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\+\_\+representation\+\_\+}} = \mbox{\hyperlink{classv8_1_1internal_1_1Representation_ace382f041e3e5c2b98fefd107be9927d}{Representation\+::\+None}}()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}{new\+\_\+field\+\_\+type\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 51 of file map-\/updater.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}\label{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!State@{State}}
\index{State@{State}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{State}{State}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{v8\+::internal\+::\+Map\+Updater\+::\+State}}\hspace{0.3cm}{\ttfamily [private]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kInitialized@{kInitialized}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!kInitialized@{kInitialized}}}\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}\label{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}} 
k\+Initialized&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kAtRootMap@{kAtRootMap}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!kAtRootMap@{kAtRootMap}}}\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a688c147ffcc1f98c503dd132ec39cb4d}\label{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a688c147ffcc1f98c503dd132ec39cb4d}} 
k\+At\+Root\+Map&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kAtTargetMap@{kAtTargetMap}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!kAtTargetMap@{kAtTargetMap}}}\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a98fc0de6c485a0da9f0609d15b078fc1}\label{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a98fc0de6c485a0da9f0609d15b078fc1}} 
k\+At\+Target\+Map&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kAtIntegrityLevelSource@{kAtIntegrityLevelSource}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!kAtIntegrityLevelSource@{kAtIntegrityLevelSource}}}\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80}\label{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80}} 
k\+At\+Integrity\+Level\+Source&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kEnd@{kEnd}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!kEnd@{kEnd}}}\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}\label{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}} 
k\+End&\\
\hline

\end{DoxyEnumFields}


Definition at line 107 of file map-\/updater.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{107              \{}
\DoxyCodeLine{108     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}{kInitialized}},}
\DoxyCodeLine{109     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a688c147ffcc1f98c503dd132ec39cb4d}{kAtRootMap}},}
\DoxyCodeLine{110     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a98fc0de6c485a0da9f0609d15b078fc1}{kAtTargetMap}},}
\DoxyCodeLine{111     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80}{kAtIntegrityLevelSource}},}
\DoxyCodeLine{112     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}}}
\DoxyCodeLine{113   \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_ad1c3a630212f0098faee5233c1be5dc0}\label{classv8_1_1internal_1_1MapUpdater_ad1c3a630212f0098faee5233c1be5dc0}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!MapUpdater@{MapUpdater}}
\index{MapUpdater@{MapUpdater}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{MapUpdater()}{MapUpdater()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Map\+Updater\+::\+Map\+Updater (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{old\+\_\+map }\end{DoxyParamCaption})}



Definition at line 90 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{91     : \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}(isolate),}
\DoxyCodeLine{92       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}(old\_map),}
\DoxyCodeLine{93       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}(old\_map-\/>instance\_descriptors(isolate), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}),}
\DoxyCodeLine{94       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>NumberOfOwnDescriptors()),}
\DoxyCodeLine{95       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa178faa080934fb6dc2099fe469351e6}{new\_elements\_kind\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>elements\_kind()),}
\DoxyCodeLine{96       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a53123e5f6d38c9ea2fdb5401fe553a2f}{is\_transitionable\_fast\_elements\_kind\_}}(}
\DoxyCodeLine{97           \mbox{\hyperlink{namespacev8_1_1internal_aa320a68c147d70667df97e9d7c7f2969}{IsTransitionableFastElementsKind}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa178faa080934fb6dc2099fe469351e6}{new\_elements\_kind\_}})) \{}
\DoxyCodeLine{98   \textcolor{comment}{// We shouldn't try to update remote objects.}}
\DoxyCodeLine{99   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(}
\DoxyCodeLine{100       !IsFunctionTemplateInfo(old\_map-\/>FindRootMap(isolate)-\/>GetConstructor()));}
\DoxyCodeLine{101 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_ad1c3a630212f0098faee5233c1be5dc0_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a62370c6e6a97b815ffaf307a4b478905}\label{classv8_1_1internal_1_1MapUpdater_a62370c6e6a97b815ffaf307a4b478905}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!ApplyPrototypeTransition@{ApplyPrototypeTransition}}
\index{ApplyPrototypeTransition@{ApplyPrototypeTransition}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{ApplyPrototypeTransition()}{ApplyPrototypeTransition()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Apply\+Prototype\+Transition (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_ad0de543e9d6c8bc4c1283135666657fd}{JSPrototype}} $>$}]{prototype }\end{DoxyParamCaption})}



Definition at line 242 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{243                                          \{}
\DoxyCodeLine{244   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.move\_prototype\_transitions\_first);}
\DoxyCodeLine{245   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}{kInitialized}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}});}
\DoxyCodeLine{246   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>prototype(), *\mbox{\hyperlink{namespacev8_1_1internal_af2d9fec01057be7bdab90bb4682717b0}{prototype}});}
\DoxyCodeLine{247 }
\DoxyCodeLine{248   \textcolor{comment}{// Prototype maps are replaced by deprecation when their prototype changes. No}}
\DoxyCodeLine{249   \textcolor{comment}{// need to add a transition.}}
\DoxyCodeLine{250   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>is\_prototype\_map()) \{}
\DoxyCodeLine{251     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1Map_a20eefa90d1b4f884523d09a916d29968}{Map::CopyForPrototypeTransition}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}, \mbox{\hyperlink{namespacev8_1_1internal_af2d9fec01057be7bdab90bb4682717b0}{prototype}});}
\DoxyCodeLine{252   \}}
\DoxyCodeLine{253 }
\DoxyCodeLine{254   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}{new\_prototype\_}} = \mbox{\hyperlink{namespacev8_1_1internal_af2d9fec01057be7bdab90bb4682717b0}{prototype}};}
\DoxyCodeLine{255 }
\DoxyCodeLine{256   \textcolor{comment}{// TODO(olivf): The updated map can have more generic field types than the}}
\DoxyCodeLine{257   \textcolor{comment}{// source map. This is ok, since UpdatePrototype also does an instance}}
\DoxyCodeLine{258   \textcolor{comment}{// migration. If we wanted to avoid the migration for most cases, we could}}
\DoxyCodeLine{259   \textcolor{comment}{// potentially back-\/propagate generalizations here.}}
\DoxyCodeLine{260   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad9af4bdcc4d58fa609e0156c89ae483d}{Update}}();}
\DoxyCodeLine{261 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Map\+::\+Copy\+For\+Prototype\+Transition(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NE, isolate\+\_\+, k\+Initialized, new\+\_\+prototype\+\_\+, old\+\_\+map\+\_\+, v8\+::internal\+::prototype, state\+\_\+, Update(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+JSObject\+::\+Set\+Prototype().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a62370c6e6a97b815ffaf307a4b478905_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a62370c6e6a97b815ffaf307a4b478905_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_afcd7e18d8dd0b89d46573672d45c8e59}\label{classv8_1_1internal_1_1MapUpdater_afcd7e18d8dd0b89d46573672d45c8e59}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!BuildDescriptorArray@{BuildDescriptorArray}}
\index{BuildDescriptorArray@{BuildDescriptorArray}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{BuildDescriptorArray()}{BuildDescriptorArray()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1DescriptorArray}{Descriptor\+Array}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Build\+Descriptor\+Array (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 822 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{822                                                                \{}
\DoxyCodeLine{823   \mbox{\hyperlink{namespacev8_1_1internal_a9312a9fc987dba9376a530956f94e8fe}{InstanceType}} instance\_type = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>instance\_type();}
\DoxyCodeLine{824   \textcolor{keywordtype}{int} target\_nof = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}}-\/>NumberOfOwnDescriptors();}
\DoxyCodeLine{825   DirectHandle<DescriptorArray> target\_descriptors(}
\DoxyCodeLine{826       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}}-\/>instance\_descriptors(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{827 }
\DoxyCodeLine{828   \textcolor{comment}{// Allocate a new descriptor array large enough to hold the required}}
\DoxyCodeLine{829   \textcolor{comment}{// descriptors, with minimally the exact same size as the old descriptor}}
\DoxyCodeLine{830   \textcolor{comment}{// array.}}
\DoxyCodeLine{831   \textcolor{keywordtype}{int} new\_slack =}
\DoxyCodeLine{832       std::max<int>(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>number\_of\_descriptors()) -\/}
\DoxyCodeLine{833       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}};}
\DoxyCodeLine{834   DirectHandle<DescriptorArray> new\_descriptors =}
\DoxyCodeLine{835       \mbox{\hyperlink{classv8_1_1internal_1_1DescriptorArray_a40775e74d4daf9cb949906e602a8dc28}{DescriptorArray::Allocate}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}}, new\_slack);}
\DoxyCodeLine{836   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(new\_descriptors-\/>number\_of\_all\_descriptors() >}
\DoxyCodeLine{837              target\_descriptors-\/>number\_of\_all\_descriptors() ||}
\DoxyCodeLine{838          new\_descriptors-\/>number\_of\_slack\_descriptors() > 0 ||}
\DoxyCodeLine{839          new\_descriptors-\/>number\_of\_descriptors() ==}
\DoxyCodeLine{840              \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>number\_of\_descriptors());}
\DoxyCodeLine{841   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(new\_descriptors-\/>number\_of\_descriptors() == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}});}
\DoxyCodeLine{842 }
\DoxyCodeLine{843   \textcolor{keywordtype}{int} root\_nof = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>NumberOfOwnDescriptors();}
\DoxyCodeLine{844 }
\DoxyCodeLine{845   \textcolor{comment}{// Given that we passed root modification check in FindRootMap() so}}
\DoxyCodeLine{846   \textcolor{comment}{// the root descriptors are either not modified at all or already more}}
\DoxyCodeLine{847   \textcolor{comment}{// general than we requested. Take |root\_nof| entries as is.}}
\DoxyCodeLine{848   \textcolor{comment}{// 0 -\/> |root\_nof|}}
\DoxyCodeLine{849   \textcolor{keywordtype}{int} current\_offset = 0;}
\DoxyCodeLine{850   \textcolor{keywordflow}{for} (InternalIndex \mbox{\hyperlink{namespacev8_1_1internal}{i}} : \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aa58f4ad84ea450610fb52573fdc6e60f}{InternalIndex::Range}}(root\_nof)) \{}
\DoxyCodeLine{851     PropertyDetails old\_details = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetDetails(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{852     \textcolor{keywordflow}{if} (old\_details.location() == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{853       current\_offset += old\_details.field\_width\_in\_words();}
\DoxyCodeLine{854     \}}
\DoxyCodeLine{855 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{856     \textcolor{comment}{// Ensuring FindRootMap gave us a compatible root map.}}
\DoxyCodeLine{857     \textcolor{comment}{// TODO(olivf): In some cases it might be nice to be able to generalize the}}
\DoxyCodeLine{858     \textcolor{comment}{// root map (for instance if the prototype transitions overflowed). For that}}
\DoxyCodeLine{859     \textcolor{comment}{// we'd need to generalize old\_details with the root\_details here.}}
\DoxyCodeLine{860     PropertyDetails root\_details =}
\DoxyCodeLine{861         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>instance\_descriptors()-\/>GetDetails(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{862     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(}
\DoxyCodeLine{863         old\_details.representation().generalize(root\_details.representation()),}
\DoxyCodeLine{864         root\_details.representation());}
\DoxyCodeLine{865     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>IsDetached(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}})) \{}
\DoxyCodeLine{866       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(old\_details.representation().IsCompatibleForLoad(}
\DoxyCodeLine{867           root\_details.representation()));}
\DoxyCodeLine{868     \}}
\DoxyCodeLine{869     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(old\_details.constness(), root\_details.constness());}
\DoxyCodeLine{870     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(old\_details.attributes(), root\_details.attributes());}
\DoxyCodeLine{871 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// DEBUG}}
\DoxyCodeLine{872     new\_descriptors-\/>Set(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5b045cf26a76c61ba9b42f720139d3b0}{GetKey}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetValue(\mbox{\hyperlink{namespacev8_1_1internal}{i}}),}
\DoxyCodeLine{873                          old\_details);}
\DoxyCodeLine{874   \}}
\DoxyCodeLine{875 }
\DoxyCodeLine{876   \textcolor{comment}{// Merge "{}updated"{} old\_descriptor entries with target\_descriptor entries.}}
\DoxyCodeLine{877   \textcolor{comment}{// |root\_nof| -\/> |target\_nof|}}
\DoxyCodeLine{878   \textcolor{keywordflow}{for} (InternalIndex \mbox{\hyperlink{namespacev8_1_1internal}{i}} : \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aa58f4ad84ea450610fb52573fdc6e60f}{InternalIndex::Range}}(root\_nof, target\_nof)) \{}
\DoxyCodeLine{879     DirectHandle<Name> \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5b045cf26a76c61ba9b42f720139d3b0}{GetKey}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{880     PropertyDetails old\_details = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}{GetDetails}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{881     PropertyDetails target\_details = target\_descriptors-\/>GetDetails(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{882 }
\DoxyCodeLine{883     \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81}{PropertyKind}} next\_kind = old\_details.kind();}
\DoxyCodeLine{884     \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{PropertyAttributes}} next\_attributes = old\_details.attributes();}
\DoxyCodeLine{885     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(next\_kind, target\_details.kind());}
\DoxyCodeLine{886     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(next\_attributes, target\_details.attributes());}
\DoxyCodeLine{887 }
\DoxyCodeLine{888     \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{PropertyConstness}} next\_constness = \mbox{\hyperlink{namespacev8_1_1internal_a617d346a46eb703e1719792077e5c2a0}{GeneralizeConstness}}(}
\DoxyCodeLine{889         old\_details.constness(), target\_details.constness());}
\DoxyCodeLine{890 }
\DoxyCodeLine{891     \textcolor{comment}{// Note: failed values equality check does not invalidate per-\/object}}
\DoxyCodeLine{892     \textcolor{comment}{// property constness.}}
\DoxyCodeLine{893     \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4}{PropertyLocation}} next\_location =}
\DoxyCodeLine{894         old\_details.location() == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}} ||}
\DoxyCodeLine{895                 target\_details.location() == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}} ||}
\DoxyCodeLine{896                 !\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_af46b0880f0e51ee10e8e6e61fe38084a}{EqualImmutableValues}}(target\_descriptors-\/>GetStrongValue(\mbox{\hyperlink{namespacev8_1_1internal}{i}}),}
\DoxyCodeLine{897                                       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3}{GetValue}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}))}
\DoxyCodeLine{898             ? \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}}
\DoxyCodeLine{899             : \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295}{PropertyLocation::kDescriptor}};}
\DoxyCodeLine{900 }
\DoxyCodeLine{901     \textcolor{comment}{// Ensure that mutable values are stored in fields.}}
\DoxyCodeLine{902     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(next\_constness == \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6}{PropertyConstness::kMutable}},}
\DoxyCodeLine{903                    next\_location == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}});}
\DoxyCodeLine{904 }
\DoxyCodeLine{905     Representation next\_representation =}
\DoxyCodeLine{906         old\_details.representation().generalize(}
\DoxyCodeLine{907             target\_details.representation());}
\DoxyCodeLine{908 }
\DoxyCodeLine{909     \textcolor{keywordflow}{if} (next\_location == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{910       DirectHandle<FieldType> old\_field\_type =}
\DoxyCodeLine{911           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a1f7fa530862af454488b9efd711eb9b3}{GetOrComputeFieldType}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, old\_details.location(), next\_representation);}
\DoxyCodeLine{912 }
\DoxyCodeLine{913       DirectHandle<FieldType> target\_field\_type =}
\DoxyCodeLine{914           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a1f7fa530862af454488b9efd711eb9b3}{GetOrComputeFieldType}}(target\_descriptors, \mbox{\hyperlink{namespacev8_1_1internal}{i}},}
\DoxyCodeLine{915                                 target\_details.location(), next\_representation);}
\DoxyCodeLine{916 }
\DoxyCodeLine{917       DirectHandle<FieldType> next\_field\_type =}
\DoxyCodeLine{918           \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_a7eae755681e278977f2ae4a11bf949d9}{GeneralizeFieldType}}(old\_details.representation(), old\_field\_type,}
\DoxyCodeLine{919                               next\_representation, target\_field\_type, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{920 }
\DoxyCodeLine{921       \mbox{\hyperlink{classv8_1_1internal_1_1Map_ac6c63c5c0715237233a9cb24fe7664ec}{Map::GeneralizeIfCanHaveTransitionableFastElementsKind}}(}
\DoxyCodeLine{922           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, instance\_type, \&next\_representation, \&next\_field\_type);}
\DoxyCodeLine{923 }
\DoxyCodeLine{924       MaybeObjectDirectHandle wrapped\_type(\mbox{\hyperlink{classv8_1_1internal_1_1Map_a44318765b7add7bd3056301027f4aa5e}{Map::WrapFieldType}}(next\_field\_type));}
\DoxyCodeLine{925       Descriptor d;}
\DoxyCodeLine{926       \textcolor{keywordflow}{if} (next\_kind == \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{PropertyKind::kData}}) \{}
\DoxyCodeLine{927         d = \mbox{\hyperlink{classv8_1_1internal_1_1Descriptor_a2782160995ef5a9c515d8cee9a6b2d85}{Descriptor::DataField}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, current\_offset, next\_attributes,}
\DoxyCodeLine{928                                   next\_constness, next\_representation,}
\DoxyCodeLine{929                                   wrapped\_type);}
\DoxyCodeLine{930       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{931         \textcolor{comment}{// TODO(ishell): mutable accessors are not implemented yet.}}
\DoxyCodeLine{932         \mbox{\hyperlink{namespacev8_1_1internal_a538499d2a66bf6e9d3182a57104edec9}{UNIMPLEMENTED}}();}
\DoxyCodeLine{933       \}}
\DoxyCodeLine{934       current\_offset += d.GetDetails().field\_width\_in\_words();}
\DoxyCodeLine{935       new\_descriptors-\/>Set(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, \&d);}
\DoxyCodeLine{936     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{937       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295}{PropertyLocation::kDescriptor}}, next\_location);}
\DoxyCodeLine{938       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49acad1efdc0f2aa096a47586b448aa73f414}{PropertyConstness::kConst}}, next\_constness);}
\DoxyCodeLine{939 }
\DoxyCodeLine{940       DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3}{GetValue}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{941       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81ade3eeabe61d50a3f84870ae3ca43f0ec}{PropertyKind::kAccessor}}, next\_kind);}
\DoxyCodeLine{942       Descriptor d = \mbox{\hyperlink{classv8_1_1internal_1_1Descriptor_a825c239b05b4814615a852ea28b406ec}{Descriptor::AccessorConstant}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, next\_attributes);}
\DoxyCodeLine{943       new\_descriptors-\/>Set(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, \&d);}
\DoxyCodeLine{944     \}}
\DoxyCodeLine{945   \}}
\DoxyCodeLine{946 }
\DoxyCodeLine{947   \textcolor{comment}{// Take "{}updated"{} old\_descriptor entries.}}
\DoxyCodeLine{948   \textcolor{comment}{// |target\_nof| -\/> |old\_nof|}}
\DoxyCodeLine{949   \textcolor{keywordflow}{for} (InternalIndex \mbox{\hyperlink{namespacev8_1_1internal}{i}} : \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aa58f4ad84ea450610fb52573fdc6e60f}{InternalIndex::Range}}(target\_nof, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}})) \{}
\DoxyCodeLine{950     PropertyDetails old\_details = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}{GetDetails}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{951     DirectHandle<Name> \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5b045cf26a76c61ba9b42f720139d3b0}{GetKey}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{952 }
\DoxyCodeLine{953     \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81}{PropertyKind}} next\_kind = old\_details.kind();}
\DoxyCodeLine{954     \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{PropertyAttributes}} next\_attributes = old\_details.attributes();}
\DoxyCodeLine{955     \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{PropertyConstness}} next\_constness = old\_details.constness();}
\DoxyCodeLine{956     \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4}{PropertyLocation}} next\_location = old\_details.location();}
\DoxyCodeLine{957     Representation next\_representation = old\_details.representation();}
\DoxyCodeLine{958 }
\DoxyCodeLine{959     \textcolor{keywordflow}{if} (next\_location == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{960       DirectHandle<FieldType> next\_field\_type =}
\DoxyCodeLine{961           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a1f7fa530862af454488b9efd711eb9b3}{GetOrComputeFieldType}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, old\_details.location(), next\_representation);}
\DoxyCodeLine{962 }
\DoxyCodeLine{963       \textcolor{comment}{// If the |new\_elements\_kind\_| is still transitionable then the old map's}}
\DoxyCodeLine{964       \textcolor{comment}{// elements kind is also transitionable and therefore the old descriptors}}
\DoxyCodeLine{965       \textcolor{comment}{// array must already have generalized field type.}}
\DoxyCodeLine{966       \mbox{\hyperlink{src_2base_2logging_8h_a2c0c4cea27d0690467662bb05131b2af}{CHECK\_IMPLIES}}(}
\DoxyCodeLine{967           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a53123e5f6d38c9ea2fdb5401fe553a2f}{is\_transitionable\_fast\_elements\_kind\_}},}
\DoxyCodeLine{968           \mbox{\hyperlink{classv8_1_1internal_1_1Map_a7418a18a11d96f6d6550c4e8e453790a}{Map::IsMostGeneralFieldType}}(next\_representation, *next\_field\_type));}
\DoxyCodeLine{969 }
\DoxyCodeLine{970       MaybeObjectDirectHandle wrapped\_type(\mbox{\hyperlink{classv8_1_1internal_1_1Map_a44318765b7add7bd3056301027f4aa5e}{Map::WrapFieldType}}(next\_field\_type));}
\DoxyCodeLine{971       Descriptor d;}
\DoxyCodeLine{972       \textcolor{keywordflow}{if} (next\_kind == \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{PropertyKind::kData}}) \{}
\DoxyCodeLine{973         d = \mbox{\hyperlink{classv8_1_1internal_1_1Descriptor_a2782160995ef5a9c515d8cee9a6b2d85}{Descriptor::DataField}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, current\_offset, next\_attributes,}
\DoxyCodeLine{974                                   next\_constness, next\_representation,}
\DoxyCodeLine{975                                   wrapped\_type);}
\DoxyCodeLine{976       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{977         \textcolor{comment}{// TODO(ishell): mutable accessors are not implemented yet.}}
\DoxyCodeLine{978         \mbox{\hyperlink{namespacev8_1_1internal_a538499d2a66bf6e9d3182a57104edec9}{UNIMPLEMENTED}}();}
\DoxyCodeLine{979       \}}
\DoxyCodeLine{980       current\_offset += d.GetDetails().field\_width\_in\_words();}
\DoxyCodeLine{981       new\_descriptors-\/>Set(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, \&d);}
\DoxyCodeLine{982     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{983       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295}{PropertyLocation::kDescriptor}}, next\_location);}
\DoxyCodeLine{984       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49acad1efdc0f2aa096a47586b448aa73f414}{PropertyConstness::kConst}}, next\_constness);}
\DoxyCodeLine{985 }
\DoxyCodeLine{986       DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3}{GetValue}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{987       Descriptor d;}
\DoxyCodeLine{988       \textcolor{keywordflow}{if} (next\_kind == \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{PropertyKind::kData}}) \{}
\DoxyCodeLine{989         d = \mbox{\hyperlink{classv8_1_1internal_1_1Descriptor_a99e8701798dba98e56a94b2e66d053c0}{Descriptor::DataConstant}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, next\_attributes);}
\DoxyCodeLine{990       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{991         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81ade3eeabe61d50a3f84870ae3ca43f0ec}{PropertyKind::kAccessor}}, next\_kind);}
\DoxyCodeLine{992         d = \mbox{\hyperlink{classv8_1_1internal_1_1Descriptor_a825c239b05b4814615a852ea28b406ec}{Descriptor::AccessorConstant}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, next\_attributes);}
\DoxyCodeLine{993       \}}
\DoxyCodeLine{994       new\_descriptors-\/>Set(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, \&d);}
\DoxyCodeLine{995     \}}
\DoxyCodeLine{996   \}}
\DoxyCodeLine{997 }
\DoxyCodeLine{998   new\_descriptors-\/>Sort();}
\DoxyCodeLine{999   \textcolor{keywordflow}{return} new\_descriptors;}
\DoxyCodeLine{1000 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Descriptor\+::\+Accessor\+Constant(), v8\+::internal\+::\+Descriptor\+Array\+::\+Allocate(), v8\+::internal\+::\+Property\+Details\+::attributes(), CHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+Property\+Details\+::constness(), v8\+::internal\+::\+Descriptor\+::\+Data\+Constant(), v8\+::internal\+::\+Descriptor\+::\+Data\+Field(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, DCHECK\+\_\+\+LE, v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Equal\+Immutable\+Values(), v8\+::internal\+::\+Property\+Details\+::field\+\_\+width\+\_\+in\+\_\+words(), v8\+::internal\+::\+Representation\+::generalize(), v8\+::internal\+::\+Generalize\+Constness(), v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Generalize\+Field\+Type(), v8\+::internal\+::\+Map\+::\+Generalize\+If\+Can\+Have\+Transitionable\+Fast\+Elements\+Kind(), v8\+::internal\+::\+Descriptor\+::\+Get\+Details(), Get\+Details(), Get\+Key(), Get\+Or\+Compute\+Field\+Type(), Get\+Value(), is\+\_\+transitionable\+\_\+fast\+\_\+elements\+\_\+kind\+\_\+, v8\+::internal\+::\+Representation\+::\+Is\+Compatible\+For\+Load(), v8\+::internal\+::\+Map\+::\+Is\+Most\+General\+Field\+Type(), isolate\+\_\+, v8\+::internal\+::k\+Accessor, v8\+::internal\+::k\+Const, v8\+::internal\+::k\+Data, v8\+::internal\+::k\+Descriptor, v8\+::internal\+::key, v8\+::internal\+::k\+Field, v8\+::internal\+::\+Property\+Details\+::kind(), v8\+::internal\+::k\+Mutable, v8\+::internal\+::\+Property\+Details\+::location(), old\+\_\+descriptors\+\_\+, old\+\_\+map\+\_\+, old\+\_\+nof\+\_\+, v8\+::internal\+::\+Property\+Details\+::representation(), root\+\_\+map\+\_\+, target\+\_\+map\+\_\+, v8\+::internal\+::\+UNIMPLEMENTED(), v8\+::internal\+::value, and v8\+::internal\+::\+Map\+::\+Wrap\+Field\+Type().



Referenced by Construct\+New\+Map().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_afcd7e18d8dd0b89d46573672d45c8e59_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_afcd7e18d8dd0b89d46573672d45c8e59_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a17b96916a316657681c5382aa61bab1a}\label{classv8_1_1internal_1_1MapUpdater_a17b96916a316657681c5382aa61bab1a}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!CompleteInobjectSlackTracking@{CompleteInobjectSlackTracking}}
\index{CompleteInobjectSlackTracking@{CompleteInobjectSlackTracking}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{CompleteInobjectSlackTracking()}{CompleteInobjectSlackTracking()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Map\+Updater\+::\+Complete\+Inobject\+Slack\+Tracking (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{initial\+\_\+map }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 455 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{456                                                                         \{}
\DoxyCodeLine{457   \textcolor{comment}{// Has to be an initial map.}}
\DoxyCodeLine{458   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(IsUndefined(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a4547ea68c972ac14663623ed7adab8d8}{initial\_map}}-\/>GetBackPointer(), isolate));}
\DoxyCodeLine{459 }
\DoxyCodeLine{460   \textcolor{keyword}{const} \textcolor{keywordtype}{int} slack = \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a4547ea68c972ac14663623ed7adab8d8}{initial\_map}}-\/>ComputeMinObjectSlack(isolate);}
\DoxyCodeLine{461   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(slack, 0);}
\DoxyCodeLine{462 }
\DoxyCodeLine{463   TransitionsAccessor transitions(isolate, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a4547ea68c972ac14663623ed7adab8d8}{initial\_map}});}
\DoxyCodeLine{464   \mbox{\hyperlink{classv8_1_1internal_1_1TransitionsAccessor_a8c297451ba23e1c19bd8fe070aba45bb}{TransitionsAccessor::TraverseCallback}} callback;}
\DoxyCodeLine{465   \textcolor{keywordflow}{if} (slack != 0) \{}
\DoxyCodeLine{466     \textcolor{comment}{// Resize the initial map and all maps in its transition tree.}}
\DoxyCodeLine{467     callback = [slack](Tagged<Map> map) \{}
\DoxyCodeLine{468 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{469       \textcolor{keywordtype}{int} old\_visitor\_id = \mbox{\hyperlink{classv8_1_1internal_1_1Map_ac7bfaa7f77e1d8cd95dde6d97baf46a7}{Map::GetVisitorId}}(map);}
\DoxyCodeLine{470       \textcolor{keywordtype}{int} new\_unused = map-\/>UnusedPropertyFields() -\/ slack;}
\DoxyCodeLine{471 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{472       map-\/>set\_instance\_size(map-\/>InstanceSizeFromSlack(slack));}
\DoxyCodeLine{473       map-\/>set\_construction\_counter(\mbox{\hyperlink{classv8_1_1internal_1_1Map_a2a2d69d6abc592918fe00f31f4d32a74}{Map::kNoSlackTracking}});}
\DoxyCodeLine{474       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(old\_visitor\_id, \mbox{\hyperlink{classv8_1_1internal_1_1Map_ac7bfaa7f77e1d8cd95dde6d97baf46a7}{Map::GetVisitorId}}(map));}
\DoxyCodeLine{475       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(new\_unused, map-\/>UnusedPropertyFields());}
\DoxyCodeLine{476     \};}
\DoxyCodeLine{477   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{478     \textcolor{comment}{// Stop slack tracking for this map.}}
\DoxyCodeLine{479     callback = [\&](Tagged<Map> map) \{}
\DoxyCodeLine{480       map-\/>set\_construction\_counter(\mbox{\hyperlink{classv8_1_1internal_1_1Map_a2a2d69d6abc592918fe00f31f4d32a74}{Map::kNoSlackTracking}});}
\DoxyCodeLine{481       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!TransitionsAccessor(isolate, map).HasSideStepTransitions());}
\DoxyCodeLine{482     \};}
\DoxyCodeLine{483   \}}
\DoxyCodeLine{484 }
\DoxyCodeLine{485   \{}
\DoxyCodeLine{486     \textcolor{comment}{// The map\_updater\_access lock is taken here to guarantee atomicity of all}}
\DoxyCodeLine{487     \textcolor{comment}{// related map changes (instead of guaranteeing only atomicity of each}}
\DoxyCodeLine{488     \textcolor{comment}{// single map change). This is needed e.g. by InstancesNeedsRewriting,}}
\DoxyCodeLine{489     \textcolor{comment}{// which expects certain relations between maps to hold.}}
\DoxyCodeLine{490     \textcolor{comment}{//}}
\DoxyCodeLine{491     \textcolor{comment}{// Note: Avoid locking the full\_transition\_array\_access lock inside this}}
\DoxyCodeLine{492     \textcolor{comment}{// call to TraverseTransitionTree to prevent dependencies between the two}}
\DoxyCodeLine{493     \textcolor{comment}{// locks.}}
\DoxyCodeLine{494     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(isolate-\/>map\_updater\_access());}
\DoxyCodeLine{495     transitions.TraverseTransitionTree(callback);}
\DoxyCodeLine{496   \}}
\DoxyCodeLine{497 \}}

\end{DoxyCode}


References CHECK, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+GE, v8\+::internal\+::\+Map\+::\+Get\+Visitor\+Id(), v8\+::internal\+::compiler\+::initial\+\_\+map, v8\+::internal\+::\+Map\+::k\+No\+Slack\+Tracking, v8\+::internal\+::\+Isolate\+::map\+\_\+updater\+\_\+access(), and v8\+::internal\+::\+Transitions\+Accessor\+::\+Traverse\+Transition\+Tree().



Referenced by v8\+::internal\+::\+JSFunction\+::\+Complete\+Inobject\+Slack\+Tracking\+If\+Active(), v8\+::internal\+::\+Map\+::\+Inobject\+Slack\+Tracking\+Step(), and v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a17b96916a316657681c5382aa61bab1a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a17b96916a316657681c5382aa61bab1a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a65be75fff70ffb063e04326adc452f45}\label{classv8_1_1internal_1_1MapUpdater_a65be75fff70ffb063e04326adc452f45}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!ConstructNewMap@{ConstructNewMap}}
\index{ConstructNewMap@{ConstructNewMap}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{ConstructNewMap()}{ConstructNewMap()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{Map\+Updater\+::\+State}} v8\+::internal\+::\+Map\+Updater\+::\+Construct\+New\+Map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1039 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1039                                             \{}
\DoxyCodeLine{1040 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{1041   DirectHandle<EnumCache> old\_enum\_cache(}
\DoxyCodeLine{1042       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>instance\_descriptors()-\/>enum\_cache(), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{1043 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1044   DirectHandle<DescriptorArray> new\_descriptors = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_afcd7e18d8dd0b89d46573672d45c8e59}{BuildDescriptorArray}}();}
\DoxyCodeLine{1045 }
\DoxyCodeLine{1046   DirectHandle<Map> split\_map = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aaafc5700055a5792206e0942762da083}{FindSplitMap}}(new\_descriptors);}
\DoxyCodeLine{1047   \textcolor{keywordtype}{int} split\_nof = split\_map-\/>NumberOfOwnDescriptors();}
\DoxyCodeLine{1048   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}} == split\_nof) \{}
\DoxyCodeLine{1049     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a19f65433523c408df90eb032c1ef1406}{has\_integrity\_level\_transition\_}});}
\DoxyCodeLine{1050     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80}{kAtIntegrityLevelSource}};}
\DoxyCodeLine{1051     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};}
\DoxyCodeLine{1052   \}}
\DoxyCodeLine{1053   InternalIndex split\_index(split\_nof);}
\DoxyCodeLine{1054   PropertyDetails split\_details = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}{GetDetails}}(split\_index);}
\DoxyCodeLine{1055 }
\DoxyCodeLine{1056   \textcolor{comment}{// Invalidate a transition target at |key|.}}
\DoxyCodeLine{1057   MaybeDirectHandle<Map> maybe\_transition =}
\DoxyCodeLine{1058       \mbox{\hyperlink{classv8_1_1internal_1_1TransitionsAccessor_a34d5580f0039113ee34e43ca052b5262}{TransitionsAccessor::SearchTransition}}(}
\DoxyCodeLine{1059           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, split\_map, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5b045cf26a76c61ba9b42f720139d3b0}{GetKey}}(split\_index), split\_details.kind(),}
\DoxyCodeLine{1060           split\_details.attributes());}
\DoxyCodeLine{1061   \textcolor{keywordflow}{if} (!maybe\_transition.is\_null()) \{}
\DoxyCodeLine{1062     maybe\_transition.ToHandleChecked()-\/>DeprecateTransitionTree(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{1063   \}}
\DoxyCodeLine{1064 }
\DoxyCodeLine{1065   \textcolor{comment}{// If |maybe\_transition| is not nullptr then the transition array already}}
\DoxyCodeLine{1066   \textcolor{comment}{// contains entry for given descriptor. This means that the transition}}
\DoxyCodeLine{1067   \textcolor{comment}{// could be inserted regardless of whether transitions array is full or not.}}
\DoxyCodeLine{1068   \textcolor{keywordflow}{if} (maybe\_transition.is\_null() \&\&}
\DoxyCodeLine{1069       !\mbox{\hyperlink{classv8_1_1internal_1_1TransitionsAccessor_a1dc4182835dccc64db93443a047531d2}{TransitionsAccessor::CanHaveMoreTransitions}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, split\_map)) \{}
\DoxyCodeLine{1070     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_CantHaveMoreTransitions"{}});}
\DoxyCodeLine{1071   \}}
\DoxyCodeLine{1072 }
\DoxyCodeLine{1073   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>NotifyLeafMapLayoutChange(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{1074 }
\DoxyCodeLine{1075   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_generalization \&\& \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex_ad381db083f3f9b72f16908eac7027823}{is\_found}}()) \{}
\DoxyCodeLine{1076     PropertyDetails old\_details =}
\DoxyCodeLine{1077         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetDetails(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}});}
\DoxyCodeLine{1078     PropertyDetails new\_details =}
\DoxyCodeLine{1079         new\_descriptors-\/>GetDetails(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}});}
\DoxyCodeLine{1080     MaybeDirectHandle<FieldType> old\_field\_type;}
\DoxyCodeLine{1081     MaybeDirectHandle<FieldType> new\_field\_type;}
\DoxyCodeLine{1082     MaybeDirectHandle<Object> old\_value;}
\DoxyCodeLine{1083     MaybeDirectHandle<Object> new\_value;}
\DoxyCodeLine{1084     \textcolor{keywordflow}{if} (old\_details.location() == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{1085       old\_field\_type = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{1086           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetFieldType(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{1087     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1088       old\_value = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{1089           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetStrongValue(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{1090     \}}
\DoxyCodeLine{1091     \textcolor{keywordflow}{if} (new\_details.location() == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{1092       new\_field\_type = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{1093           new\_descriptors-\/>GetFieldType(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{1094     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1095       new\_value = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{1096           new\_descriptors-\/>GetStrongValue(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{1097     \}}
\DoxyCodeLine{1098 }
\DoxyCodeLine{1099     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_a11017d5e0e07217626b7dcb7acf267a3}{PrintGeneralization}}(}
\DoxyCodeLine{1100         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}, stdout, \textcolor{stringliteral}{"{}"{}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}, split\_nof,}
\DoxyCodeLine{1101         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}},}
\DoxyCodeLine{1102         old\_details.location() == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295}{PropertyLocation::kDescriptor}} \&\&}
\DoxyCodeLine{1103             \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}{new\_location\_}} == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}},}
\DoxyCodeLine{1104         old\_details.representation(), new\_details.representation(),}
\DoxyCodeLine{1105         old\_details.constness(), new\_details.constness(), old\_field\_type,}
\DoxyCodeLine{1106         old\_value, new\_field\_type, new\_value);}
\DoxyCodeLine{1107   \}}
\DoxyCodeLine{1108 }
\DoxyCodeLine{1109   Handle<Map> new\_map =}
\DoxyCodeLine{1110       \mbox{\hyperlink{classv8_1_1internal_1_1Map_acf0077c391ca81dd24ffb29ffc8a9e2a}{Map::AddMissingTransitions}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, split\_map, new\_descriptors);}
\DoxyCodeLine{1111 }
\DoxyCodeLine{1112   \textcolor{keywordtype}{bool} had\_any\_enum\_cache =}
\DoxyCodeLine{1113       split\_map-\/>instance\_descriptors(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}})}
\DoxyCodeLine{1114               -\/>enum\_cache()}
\DoxyCodeLine{1115               -\/>keys()}
\DoxyCodeLine{1116               -\/>length() > 0 ||}
\DoxyCodeLine{1117       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>enum\_cache()-\/>keys()-\/>length() > 0;}
\DoxyCodeLine{1118 }
\DoxyCodeLine{1119   \textcolor{comment}{// Deprecated part of the transition tree is no longer reachable, so replace}}
\DoxyCodeLine{1120   \textcolor{comment}{// current instance descriptors in the "{}survived"{} part of the tree with}}
\DoxyCodeLine{1121   \textcolor{comment}{// the new descriptors to maintain descriptors sharing invariant.}}
\DoxyCodeLine{1122   split\_map-\/>ReplaceDescriptors(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, *new\_descriptors);}
\DoxyCodeLine{1123 }
\DoxyCodeLine{1124   \textcolor{comment}{// If the old descriptors had an enum cache (or if \{split\_map\}'s descriptors}}
\DoxyCodeLine{1125   \textcolor{comment}{// had one), make sure the new ones do too.}}
\DoxyCodeLine{1126   \textcolor{keywordflow}{if} (had\_any\_enum\_cache \&\& new\_map-\/>NumberOfEnumerableProperties() > 0) \{}
\DoxyCodeLine{1127     \mbox{\hyperlink{classv8_1_1internal_1_1FastKeyAccumulator_a1f64b2d6135f5ff3b104c7cac6f5fc42}{FastKeyAccumulator::InitializeFastPropertyEnumCache}}(}
\DoxyCodeLine{1128         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, new\_map, new\_map-\/>NumberOfEnumerableProperties());}
\DoxyCodeLine{1129   \}}
\DoxyCodeLine{1130 }
\DoxyCodeLine{1131   \textcolor{comment}{// The old map has to still point to the old enum cache. This is because we}}
\DoxyCodeLine{1132   \textcolor{comment}{// might have cached the enum indices, for iterating over objects with the old}}
\DoxyCodeLine{1133   \textcolor{comment}{// map -\/-\/ we don't want this enum cache to move ownership to the new branch,}}
\DoxyCodeLine{1134   \textcolor{comment}{// because then it might get trimmed past the old map's field count.}}
\DoxyCodeLine{1135   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>instance\_descriptors()-\/>enum\_cache(), *old\_enum\_cache);}
\DoxyCodeLine{1136 }
\DoxyCodeLine{1137   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a19f65433523c408df90eb032c1ef1406}{has\_integrity\_level\_transition\_}}) \{}
\DoxyCodeLine{1138     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}} = new\_map;}
\DoxyCodeLine{1139     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80}{kAtIntegrityLevelSource}};}
\DoxyCodeLine{1140   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1141     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}} = new\_map;}
\DoxyCodeLine{1142     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}};}
\DoxyCodeLine{1143   \}}
\DoxyCodeLine{1144   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};  \textcolor{comment}{// Done.}}
\DoxyCodeLine{1145 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Map\+::\+Add\+Missing\+Transitions(), v8\+::internal\+::\+Property\+Details\+::attributes(), Build\+Descriptor\+Array(), v8\+::internal\+::\+Transitions\+Accessor\+::\+Can\+Have\+More\+Transitions(), CHECK, v8\+::internal\+::\+Property\+Details\+::constness(), DCHECK\+\_\+\+EQ, v8\+::internal\+::direct\+\_\+handle(), Find\+Split\+Map(), Get\+Details(), Get\+Key(), has\+\_\+integrity\+\_\+level\+\_\+transition\+\_\+, v8\+::internal\+::\+Fast\+Key\+Accumulator\+::\+Initialize\+Fast\+Property\+Enum\+Cache(), v8\+::internal\+::\+Internal\+Index\+::is\+\_\+found(), v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::is\+\_\+null(), isolate\+\_\+, k\+At\+Integrity\+Level\+Source, v8\+::internal\+::k\+Descriptor, k\+End, v8\+::internal\+::k\+Field, v8\+::internal\+::\+Property\+Details\+::kind(), v8\+::internal\+::\+Property\+Details\+::location(), modified\+\_\+descriptor\+\_\+, new\+\_\+location\+\_\+, Normalize(), old\+\_\+descriptors\+\_\+, old\+\_\+map\+\_\+, old\+\_\+nof\+\_\+, v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Print\+Generalization(), v8\+::internal\+::\+Property\+Details\+::representation(), result\+\_\+map\+\_\+, v8\+::internal\+::\+Transitions\+Accessor\+::\+Search\+Transition(), state\+\_\+, target\+\_\+map\+\_\+, v8\+::internal\+::\+Maybe\+Direct\+Handle$<$ T $>$\+::\+To\+Handle\+Checked(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Reconfigure\+To\+Data\+Field(), and Update\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1MapUpdater_a65be75fff70ffb063e04326adc452f45_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a65be75fff70ffb063e04326adc452f45_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a01c1e00ea1e1e9a445ccd20e6b27afe1}\label{classv8_1_1internal_1_1MapUpdater_a01c1e00ea1e1e9a445ccd20e6b27afe1}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!ConstructNewMapWithIntegrityLevelTransition@{ConstructNewMapWithIntegrityLevelTransition}}
\index{ConstructNewMapWithIntegrityLevelTransition@{ConstructNewMapWithIntegrityLevelTransition}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{ConstructNewMapWithIntegrityLevelTransition()}{ConstructNewMapWithIntegrityLevelTransition()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{Map\+Updater\+::\+State}} v8\+::internal\+::\+Map\+Updater\+::\+Construct\+New\+Map\+With\+Integrity\+Level\+Transition (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1147 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1147                                                                         \{}
\DoxyCodeLine{1148   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80}{kAtIntegrityLevelSource}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}});}
\DoxyCodeLine{1149 }
\DoxyCodeLine{1150   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1TransitionsAccessor_a1dc4182835dccc64db93443a047531d2}{TransitionsAccessor::CanHaveMoreTransitions}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}})) \{}
\DoxyCodeLine{1151     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_CantHaveMoreTransitions"{}});}
\DoxyCodeLine{1152   \}}
\DoxyCodeLine{1153 }
\DoxyCodeLine{1154   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1Map_abb937261c0cadd5dbd4e9775b410fb99}{Map::CopyForPreventExtensions}}(}
\DoxyCodeLine{1155       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_af4f8ebf63a8cbed7b8b5236f510319fc}{integrity\_level\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa29919747bbddb076ce7adb9816e1fb0}{integrity\_level\_symbol\_}},}
\DoxyCodeLine{1156       \textcolor{stringliteral}{"{}CopyForPreventExtensions"{}},}
\DoxyCodeLine{1157       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>elements\_kind() == \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37}{DICTIONARY\_ELEMENTS}});}
\DoxyCodeLine{1158   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>elements\_kind() == \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37}{DICTIONARY\_ELEMENTS}},}
\DoxyCodeLine{1159                  \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}}-\/>elements\_kind() == \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37}{DICTIONARY\_ELEMENTS}});}
\DoxyCodeLine{1160 }
\DoxyCodeLine{1161   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}};}
\DoxyCodeLine{1162   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};}
\DoxyCodeLine{1163 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Transitions\+Accessor\+::\+Can\+Have\+More\+Transitions(), v8\+::internal\+::\+Map\+::\+Copy\+For\+Prevent\+Extensions(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+DICTIONARY\+\_\+\+ELEMENTS, integrity\+\_\+level\+\_\+, integrity\+\_\+level\+\_\+symbol\+\_\+, isolate\+\_\+, k\+At\+Integrity\+Level\+Source, k\+End, Normalize(), old\+\_\+map\+\_\+, result\+\_\+map\+\_\+, state\+\_\+, and target\+\_\+map\+\_\+.



Referenced by Reconfigure\+To\+Data\+Field(), and Update\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a01c1e00ea1e1e9a445ccd20e6b27afe1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a01c1e00ea1e1e9a445ccd20e6b27afe1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_ad41dafb34e0c6dc5f39566dbf2b7bae5}\label{classv8_1_1internal_1_1MapUpdater_ad41dafb34e0c6dc5f39566dbf2b7bae5}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!FindRootMap@{FindRootMap}}
\index{FindRootMap@{FindRootMap}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{FindRootMap()}{FindRootMap()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{Map\+Updater\+::\+State}} v8\+::internal\+::\+Map\+Updater\+::\+Find\+Root\+Map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 588 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{588                                         \{}
\DoxyCodeLine{589   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}{kInitialized}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}});}
\DoxyCodeLine{590 }
\DoxyCodeLine{591   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}{new\_prototype\_}}.is\_null()) \{}
\DoxyCodeLine{592     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}{new\_prototype\_}} = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>prototype(), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{593   \}}
\DoxyCodeLine{594 }
\DoxyCodeLine{595   \textcolor{comment}{// Check the state of the root map.}}
\DoxyCodeLine{596   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}} = \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>FindRootMap(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{597   \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{ElementsKind}} from\_kind = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>elements\_kind();}
\DoxyCodeLine{598   \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{ElementsKind}} to\_kind = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa178faa080934fb6dc2099fe469351e6}{new\_elements\_kind\_}};}
\DoxyCodeLine{599 }
\DoxyCodeLine{600   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>is\_deprecated()) \{}
\DoxyCodeLine{601     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}};}
\DoxyCodeLine{602     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}} = \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}(}
\DoxyCodeLine{603         Cast<JSFunction>(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>GetConstructor())-\/>initial\_map(), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{604     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1Map_accc0b91a8529a6818aca8a321489a587}{Map::AsElementsKind}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}}, to\_kind);}
\DoxyCodeLine{605     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}}-\/>is\_dictionary\_map());}
\DoxyCodeLine{606     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};}
\DoxyCodeLine{607   \}}
\DoxyCodeLine{608 }
\DoxyCodeLine{609   \textcolor{comment}{// In this first check allow the root map to have the wrong prototype, as we}}
\DoxyCodeLine{610   \textcolor{comment}{// will deal with prototype transitions later.}}
\DoxyCodeLine{611   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>EquivalentToForTransition(}
\DoxyCodeLine{612           *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}, \mbox{\hyperlink{namespacev8_1_1internal_a420e377bba6b25b38450dd44912cd5f6a21ed2c08d58afea3d6b70cec9fbc377b}{ConcurrencyMode::kSynchronous}},}
\DoxyCodeLine{613           \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.move\_prototype\_transitions\_first}
\DoxyCodeLine{614               ? \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>prototype(), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}})}
\DoxyCodeLine{615               : DirectHandle<HeapObject>())) \{}
\DoxyCodeLine{616     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_NotEquivalent"{}});}
\DoxyCodeLine{617   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>is\_extensible() != \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>is\_extensible()) \{}
\DoxyCodeLine{618     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>is\_extensible());}
\DoxyCodeLine{619     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>is\_extensible());}
\DoxyCodeLine{620     \textcolor{comment}{// We have an integrity level transition in the tree, let us make a note}}
\DoxyCodeLine{621     \textcolor{comment}{// of that transition to be able to replay it later.}}
\DoxyCodeLine{622     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6327e4df7173fbd8eafcf916162d3c6d}{TrySaveIntegrityLevelTransitions}}()) \{}
\DoxyCodeLine{623       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_PrivateSymbolsOnNonExtensible"{}});}
\DoxyCodeLine{624     \}}
\DoxyCodeLine{625 }
\DoxyCodeLine{626     \textcolor{comment}{// We want to build transitions to the original element kind (before}}
\DoxyCodeLine{627     \textcolor{comment}{// the seal transitions), so change \{to\_kind\} accordingly.}}
\DoxyCodeLine{628     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(to\_kind == \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37}{DICTIONARY\_ELEMENTS}} ||}
\DoxyCodeLine{629            to\_kind == \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149ca6f1bdf5c8e2bb9db9d77063c18e3be8a}{SLOW\_STRING\_WRAPPER\_ELEMENTS}} ||}
\DoxyCodeLine{630            \mbox{\hyperlink{namespacev8_1_1internal_a94ba22a03b2597d3d179aa45a228d67a}{IsTypedArrayOrRabGsabTypedArrayElementsKind}}(to\_kind) ||}
\DoxyCodeLine{631            \mbox{\hyperlink{namespacev8_1_1internal_a34e7d494ff37a93a945ea26b7b4c2bbf}{IsAnyNonextensibleElementsKind}}(to\_kind));}
\DoxyCodeLine{632     to\_kind = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}{integrity\_source\_map\_}}-\/>elements\_kind();}
\DoxyCodeLine{633   \}}
\DoxyCodeLine{634 }
\DoxyCodeLine{635   \textcolor{comment}{// TODO(ishell): Add a test for SLOW\_SLOPPY\_ARGUMENTS\_ELEMENTS.}}
\DoxyCodeLine{636   \textcolor{keywordflow}{if} (from\_kind != to\_kind \&\& to\_kind != \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37}{DICTIONARY\_ELEMENTS}} \&\&}
\DoxyCodeLine{637       to\_kind != \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149ca6f1bdf5c8e2bb9db9d77063c18e3be8a}{SLOW\_STRING\_WRAPPER\_ELEMENTS}} \&\&}
\DoxyCodeLine{638       to\_kind != \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149cac053733fa7d92aff0fcce191adc35295}{SLOW\_SLOPPY\_ARGUMENTS\_ELEMENTS}} \&\&}
\DoxyCodeLine{639       !(\mbox{\hyperlink{namespacev8_1_1internal_aa320a68c147d70667df97e9d7c7f2969}{IsTransitionableFastElementsKind}}(from\_kind) \&\&}
\DoxyCodeLine{640         \mbox{\hyperlink{namespacev8_1_1internal_a3385b29114f02665568e3b85945e9d10}{IsMoreGeneralElementsKindTransition}}(from\_kind, to\_kind))) \{}
\DoxyCodeLine{641     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_InvalidElementsTransition"{}});}
\DoxyCodeLine{642   \}}
\DoxyCodeLine{643 }
\DoxyCodeLine{644   \textcolor{keywordtype}{int} root\_nof = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>NumberOfOwnDescriptors();}
\DoxyCodeLine{645   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex_ad381db083f3f9b72f16908eac7027823}{is\_found}}() \&\&}
\DoxyCodeLine{646       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex_a8d405aded63c405c86fd03e1ff104408}{as\_int}}() < root\_nof) \{}
\DoxyCodeLine{647     PropertyDetails old\_details =}
\DoxyCodeLine{648         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetDetails(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}});}
\DoxyCodeLine{649     \textcolor{keywordflow}{if} (old\_details.kind() != \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}{new\_kind\_}} ||}
\DoxyCodeLine{650         old\_details.attributes() != \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a5ba23fb8d01d941f1e57f665d9cc24}{new\_attributes\_}}) \{}
\DoxyCodeLine{651       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_RootModification1"{}});}
\DoxyCodeLine{652     \}}
\DoxyCodeLine{653     \textcolor{keywordflow}{if} (old\_details.location() != \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{654       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_RootModification2"{}});}
\DoxyCodeLine{655     \}}
\DoxyCodeLine{656     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1Representation_a358b22922554e7c1c08eb68e74c8d904}{fits\_into}}(old\_details.representation())) \{}
\DoxyCodeLine{657       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_RootModification4"{}});}
\DoxyCodeLine{658     \}}
\DoxyCodeLine{659 }
\DoxyCodeLine{660     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{PropertyKind::kData}}, old\_details.kind());}
\DoxyCodeLine{661     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{PropertyKind::kData}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}{new\_kind\_}});}
\DoxyCodeLine{662     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}{new\_location\_}});}
\DoxyCodeLine{663 }
\DoxyCodeLine{664     \textcolor{comment}{// Modify root map in-\/place. The GeneralizeField method is a no-\/op}}
\DoxyCodeLine{665     \textcolor{comment}{// if the \{old\_map\_\} is already general enough to hold the requested}}
\DoxyCodeLine{666     \textcolor{comment}{// \{new\_constness\_\} and \{new\_field\_type\_\}.}}
\DoxyCodeLine{667     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a04012f11ce54cbce8115f4249c472e3a}{GeneralizeField}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65345084fef112de78dfd8cad40e5588}{new\_constness\_}},}
\DoxyCodeLine{668                     old\_details.representation(), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}{new\_field\_type\_}});}
\DoxyCodeLine{669   \}}
\DoxyCodeLine{670 }
\DoxyCodeLine{671   \textcolor{comment}{// From here on, use the map with correct elements kind and prototype as root}}
\DoxyCodeLine{672   \textcolor{comment}{// map.}}
\DoxyCodeLine{673   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>prototype() != *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}{new\_prototype\_}}) \{}
\DoxyCodeLine{674     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.move\_prototype\_transitions\_first);}
\DoxyCodeLine{675     Handle<Map> new\_root\_map\_ =}
\DoxyCodeLine{676         \mbox{\hyperlink{classv8_1_1internal_1_1Map_a175f7137e25fad0dd95d2bbf763db827}{Map::TransitionToUpdatePrototype}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}{new\_prototype\_}});}
\DoxyCodeLine{677 }
\DoxyCodeLine{678     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}} = new\_root\_map\_;}
\DoxyCodeLine{679 }
\DoxyCodeLine{680     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>EquivalentToForTransition(}
\DoxyCodeLine{681             *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}, \mbox{\hyperlink{namespacev8_1_1internal_a420e377bba6b25b38450dd44912cd5f6a21ed2c08d58afea3d6b70cec9fbc377b}{ConcurrencyMode::kSynchronous}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}{new\_prototype\_}})) \{}
\DoxyCodeLine{682       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_NotEquivalent"{}});}
\DoxyCodeLine{683     \}}
\DoxyCodeLine{684   \}}
\DoxyCodeLine{685   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1Map_accc0b91a8529a6818aca8a321489a587}{Map::AsElementsKind}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}, to\_kind);}
\DoxyCodeLine{686   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>EquivalentToForTransition(}
\DoxyCodeLine{687       *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}, \mbox{\hyperlink{namespacev8_1_1internal_a420e377bba6b25b38450dd44912cd5f6a21ed2c08d58afea3d6b70cec9fbc377b}{ConcurrencyMode::kSynchronous}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}{new\_prototype\_}}));}
\DoxyCodeLine{688 }
\DoxyCodeLine{689   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a688c147ffcc1f98c503dd132ec39cb4d}{kAtRootMap}};}
\DoxyCodeLine{690   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};  \textcolor{comment}{// Not done yet.}}
\DoxyCodeLine{691 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Internal\+Index\+::as\+\_\+int(), v8\+::internal\+::\+Map\+::\+As\+Elements\+Kind(), v8\+::internal\+::\+Property\+Details\+::attributes(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::\+DICTIONARY\+\_\+\+ELEMENTS, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::\+Representation\+::fits\+\_\+into(), Generalize\+Field(), v8\+::internal\+::handle(), integrity\+\_\+source\+\_\+map\+\_\+, v8\+::internal\+::\+Internal\+Index\+::is\+\_\+found(), v8\+::internal\+::\+Is\+Any\+Nonextensible\+Elements\+Kind(), v8\+::internal\+::\+Is\+More\+General\+Elements\+Kind\+Transition(), isolate\+\_\+, v8\+::internal\+::\+Is\+Transitionable\+Fast\+Elements\+Kind(), v8\+::internal\+::\+Is\+Typed\+Array\+Or\+Rab\+Gsab\+Typed\+Array\+Elements\+Kind(), k\+At\+Root\+Map, v8\+::internal\+::k\+Data, k\+End, v8\+::internal\+::k\+Field, v8\+::internal\+::\+Property\+Details\+::kind(), k\+Initialized, v8\+::internal\+::k\+Synchronous, v8\+::internal\+::\+Property\+Details\+::location(), modified\+\_\+descriptor\+\_\+, new\+\_\+attributes\+\_\+, new\+\_\+constness\+\_\+, new\+\_\+elements\+\_\+kind\+\_\+, new\+\_\+field\+\_\+type\+\_\+, new\+\_\+kind\+\_\+, new\+\_\+location\+\_\+, new\+\_\+prototype\+\_\+, new\+\_\+representation\+\_\+, Normalize(), old\+\_\+descriptors\+\_\+, old\+\_\+map\+\_\+, v8\+::internal\+::\+Property\+Details\+::representation(), result\+\_\+map\+\_\+, root\+\_\+map\+\_\+, v8\+::internal\+::\+SLOW\+\_\+\+SLOPPY\+\_\+\+ARGUMENTS\+\_\+\+ELEMENTS, v8\+::internal\+::\+SLOW\+\_\+\+STRING\+\_\+\+WRAPPER\+\_\+\+ELEMENTS, state\+\_\+, v8\+::internal\+::\+Map\+::\+Transition\+To\+Update\+Prototype(), Try\+Save\+Integrity\+Level\+Transitions(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Reconfigure\+To\+Data\+Field(), and Update\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1MapUpdater_ad41dafb34e0c6dc5f39566dbf2b7bae5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_ad41dafb34e0c6dc5f39566dbf2b7bae5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_aaafc5700055a5792206e0942762da083}\label{classv8_1_1internal_1_1MapUpdater_aaafc5700055a5792206e0942762da083}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!FindSplitMap@{FindSplitMap}}
\index{FindSplitMap@{FindSplitMap}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{FindSplitMap()}{FindSplitMap()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Find\+Split\+Map (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1DescriptorArray}{Descriptor\+Array}} $>$}]{descriptors }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1002 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1003                                                \{}
\DoxyCodeLine{1004   \textcolor{keywordtype}{int} root\_nof = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>NumberOfOwnDescriptors();}
\DoxyCodeLine{1005   Tagged<Map> current = *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}};}
\DoxyCodeLine{1006   \textcolor{keywordflow}{for} (InternalIndex \mbox{\hyperlink{namespacev8_1_1internal}{i}} : \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aa58f4ad84ea450610fb52573fdc6e60f}{InternalIndex::Range}}(root\_nof, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}})) \{}
\DoxyCodeLine{1007     Tagged<Name> \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}} = descriptors-\/>GetKey(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{1008     PropertyDetails details = descriptors-\/>GetDetails(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{1009     Tagged<Map> next =}
\DoxyCodeLine{1010         TransitionsAccessor(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, current)}
\DoxyCodeLine{1011             .SearchTransition(\mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}}, details.kind(), details.attributes());}
\DoxyCodeLine{1012     \textcolor{keywordflow}{if} (next.is\_null()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{1013     \mbox{\hyperlink{namespacev8_1_1internal_a403f10ce1c7dc18ea5f622a1aaa56285}{Tagged<DescriptorArray>}} next\_descriptors =}
\DoxyCodeLine{1014         next-\/>instance\_descriptors(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{1015 }
\DoxyCodeLine{1016     PropertyDetails next\_details = next\_descriptors-\/>GetDetails(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{1017     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(details.kind(), next\_details.kind());}
\DoxyCodeLine{1018     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(details.attributes(), next\_details.attributes());}
\DoxyCodeLine{1019     \textcolor{keywordflow}{if} (details.constness() != next\_details.constness()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{1020     \textcolor{keywordflow}{if} (details.location() != next\_details.location()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{1021     \textcolor{keywordflow}{if} (!details.representation().Equals(next\_details.representation())) \textcolor{keywordflow}{break};}
\DoxyCodeLine{1022 }
\DoxyCodeLine{1023     \textcolor{keywordflow}{if} (next\_details.location() == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{1024       Tagged<FieldType> next\_field\_type = next\_descriptors-\/>GetFieldType(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{1025       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1FieldType_ae3e25b47fcc85c189745eb8fd902ed40}{FieldType::NowIs}}(descriptors-\/>GetFieldType(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), next\_field\_type)) \{}
\DoxyCodeLine{1026         \textcolor{keywordflow}{break};}
\DoxyCodeLine{1027       \}}
\DoxyCodeLine{1028     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1029       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_af46b0880f0e51ee10e8e6e61fe38084a}{EqualImmutableValues}}(descriptors-\/>GetStrongValue(\mbox{\hyperlink{namespacev8_1_1internal}{i}}),}
\DoxyCodeLine{1030                                 next\_descriptors-\/>GetStrongValue(\mbox{\hyperlink{namespacev8_1_1internal}{i}}))) \{}
\DoxyCodeLine{1031         \textcolor{keywordflow}{break};}
\DoxyCodeLine{1032       \}}
\DoxyCodeLine{1033     \}}
\DoxyCodeLine{1034     current = next;}
\DoxyCodeLine{1035   \}}
\DoxyCodeLine{1036   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(current, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{1037 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Property\+Details\+::attributes(), v8\+::internal\+::\+Property\+Details\+::constness(), DCHECK\+\_\+\+EQ, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Equal\+Immutable\+Values(), v8\+::internal\+::\+Representation\+::\+Equals(), v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::is\+\_\+null(), isolate\+\_\+, v8\+::internal\+::k\+Field, v8\+::internal\+::\+Property\+Details\+::kind(), v8\+::internal\+::\+Property\+Details\+::location(), v8\+::internal\+::name, v8\+::internal\+::\+Field\+Type\+::\+Now\+Is(), old\+\_\+nof\+\_\+, v8\+::internal\+::\+Property\+Details\+::representation(), root\+\_\+map\+\_\+, and v8\+::internal\+::\+Transitions\+Accessor\+::\+Search\+Transition().



Referenced by Construct\+New\+Map().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_aaafc5700055a5792206e0942762da083_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_aaafc5700055a5792206e0942762da083_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_ad976339ab49ddf6e48acd038645fd58c}\label{classv8_1_1internal_1_1MapUpdater_ad976339ab49ddf6e48acd038645fd58c}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!FindTargetMap@{FindTargetMap}}
\index{FindTargetMap@{FindTargetMap}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{FindTargetMap()}{FindTargetMap()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{Map\+Updater\+::\+State}} v8\+::internal\+::\+Map\+Updater\+::\+Find\+Target\+Map (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 693 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{693                                           \{}
\DoxyCodeLine{694   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a688c147ffcc1f98c503dd132ec39cb4d}{kAtRootMap}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}});}
\DoxyCodeLine{695   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}};}
\DoxyCodeLine{696 }
\DoxyCodeLine{697   \textcolor{keywordtype}{int} root\_nof = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}{root\_map\_}}-\/>NumberOfOwnDescriptors();}
\DoxyCodeLine{698   \textcolor{keywordflow}{for} (InternalIndex \mbox{\hyperlink{namespacev8_1_1internal}{i}} : \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aa58f4ad84ea450610fb52573fdc6e60f}{InternalIndex::Range}}(root\_nof, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}})) \{}
\DoxyCodeLine{699     PropertyDetails old\_details = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}{GetDetails}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{700     Handle<Map> tmp\_map;}
\DoxyCodeLine{701     MaybeHandle<Map> maybe\_tmp\_map = \mbox{\hyperlink{classv8_1_1internal_1_1TransitionsAccessor_a34d5580f0039113ee34e43ca052b5262}{TransitionsAccessor::SearchTransition}}(}
\DoxyCodeLine{702         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5b045cf26a76c61ba9b42f720139d3b0}{GetKey}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), old\_details.kind(),}
\DoxyCodeLine{703         old\_details.attributes());}
\DoxyCodeLine{704     \textcolor{keywordflow}{if} (!maybe\_tmp\_map.ToHandle(\&tmp\_map)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{705     DirectHandle<DescriptorArray> tmp\_descriptors(}
\DoxyCodeLine{706         tmp\_map-\/>instance\_descriptors(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{707 }
\DoxyCodeLine{708     \textcolor{comment}{// Check if target map is incompatible.}}
\DoxyCodeLine{709     PropertyDetails tmp\_details = tmp\_descriptors-\/>GetDetails(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{710     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(old\_details.kind(), tmp\_details.kind());}
\DoxyCodeLine{711     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(old\_details.attributes(), tmp\_details.attributes());}
\DoxyCodeLine{712     \textcolor{keywordflow}{if} (old\_details.kind() == \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81ade3eeabe61d50a3f84870ae3ca43f0ec}{PropertyKind::kAccessor}} \&\&}
\DoxyCodeLine{713         !\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_af46b0880f0e51ee10e8e6e61fe38084a}{EqualImmutableValues}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3}{GetValue}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}),}
\DoxyCodeLine{714                               tmp\_descriptors-\/>GetStrongValue(\mbox{\hyperlink{namespacev8_1_1internal}{i}}))) \{}
\DoxyCodeLine{715       \textcolor{comment}{// TODO(ishell): mutable accessors are not implemented yet.}}
\DoxyCodeLine{716       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_Incompatible"{}});}
\DoxyCodeLine{717     \}}
\DoxyCodeLine{718     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_abc98ef0ed4a2baf08e5c6e3e8146d1fa}{IsGeneralizableTo}}(old\_details.location(), tmp\_details.location())) \{}
\DoxyCodeLine{719       \textcolor{keywordflow}{break};}
\DoxyCodeLine{720     \}}
\DoxyCodeLine{721     Representation tmp\_representation = tmp\_details.representation();}
\DoxyCodeLine{722     \textcolor{keywordflow}{if} (!old\_details.representation().fits\_into(tmp\_representation)) \{}
\DoxyCodeLine{723       \textcolor{comment}{// Try updating the field in-\/place to a generalized type.}}
\DoxyCodeLine{724       Representation generalized =}
\DoxyCodeLine{725           tmp\_representation.generalize(old\_details.representation());}
\DoxyCodeLine{726       \textcolor{keywordflow}{if} (!tmp\_representation.CanBeInPlaceChangedTo(generalized)) \{}
\DoxyCodeLine{727         \textcolor{keywordflow}{break};}
\DoxyCodeLine{728       \}}
\DoxyCodeLine{729       tmp\_representation = generalized;}
\DoxyCodeLine{730     \}}
\DoxyCodeLine{731 }
\DoxyCodeLine{732     \textcolor{keywordflow}{if} (tmp\_details.location() == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{733       DirectHandle<FieldType> old\_field\_type =}
\DoxyCodeLine{734           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a1f7fa530862af454488b9efd711eb9b3}{GetOrComputeFieldType}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, old\_details.location(), tmp\_representation);}
\DoxyCodeLine{735       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a04012f11ce54cbce8115f4249c472e3a}{GeneralizeField}}(tmp\_map, \mbox{\hyperlink{namespacev8_1_1internal}{i}}, old\_details.constness(), tmp\_representation,}
\DoxyCodeLine{736                       old\_field\_type);}
\DoxyCodeLine{737     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{738       \textcolor{comment}{// kDescriptor: Check that the value matches.}}
\DoxyCodeLine{739       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_af46b0880f0e51ee10e8e6e61fe38084a}{EqualImmutableValues}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3}{GetValue}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}),}
\DoxyCodeLine{740                                 tmp\_descriptors-\/>GetStrongValue(\mbox{\hyperlink{namespacev8_1_1internal}{i}}))) \{}
\DoxyCodeLine{741         \textcolor{keywordflow}{break};}
\DoxyCodeLine{742       \}}
\DoxyCodeLine{743     \}}
\DoxyCodeLine{744     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!tmp\_map-\/>is\_deprecated());}
\DoxyCodeLine{745     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}} = tmp\_map;}
\DoxyCodeLine{746   \}}
\DoxyCodeLine{747 }
\DoxyCodeLine{748   \textcolor{comment}{// Directly change the map if the target map is more general.}}
\DoxyCodeLine{749   \textcolor{keywordtype}{int} target\_nof = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}}-\/>NumberOfOwnDescriptors();}
\DoxyCodeLine{750   \textcolor{keywordflow}{if} (target\_nof == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}}) \{}
\DoxyCodeLine{751 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{752     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex_ad381db083f3f9b72f16908eac7027823}{is\_found}}()) \{}
\DoxyCodeLine{753       \mbox{\hyperlink{namespacev8_1_1internal_a403f10ce1c7dc18ea5f622a1aaa56285}{Tagged<DescriptorArray>}} target\_descriptors =}
\DoxyCodeLine{754           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}}-\/>instance\_descriptors(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{755       PropertyDetails details =}
\DoxyCodeLine{756           target\_descriptors-\/>GetDetails(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}});}
\DoxyCodeLine{757       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}{new\_kind\_}}, details.kind());}
\DoxyCodeLine{758       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}{GetDetails}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}).attributes(),}
\DoxyCodeLine{759                 details.\mbox{\hyperlink{classv8_1_1internal_1_1PropertyDetails_a21bd1ca61406d144db4b384a71cdcc96}{attributes}}());}
\DoxyCodeLine{760       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_abc98ef0ed4a2baf08e5c6e3e8146d1fa}{IsGeneralizableTo}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65345084fef112de78dfd8cad40e5588}{new\_constness\_}}, details.constness()));}
\DoxyCodeLine{761       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}{new\_location\_}}, details.location());}
\DoxyCodeLine{762       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1Representation_a358b22922554e7c1c08eb68e74c8d904}{fits\_into}}(details.representation()));}
\DoxyCodeLine{763       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}{new\_location\_}} == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{764         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}, details.location());}
\DoxyCodeLine{765         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1FieldType_ae3e25b47fcc85c189745eb8fd902ed40}{FieldType::NowIs}}(}
\DoxyCodeLine{766             *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}{new\_field\_type\_}},}
\DoxyCodeLine{767             target\_descriptors-\/>GetFieldType(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}})));}
\DoxyCodeLine{768       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{769         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(details.location() == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}} ||}
\DoxyCodeLine{770                \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_af46b0880f0e51ee10e8e6e61fe38084a}{EqualImmutableValues}}(\{\}, target\_descriptors-\/>GetStrongValue(}
\DoxyCodeLine{771                                             \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}})));}
\DoxyCodeLine{772       \}}
\DoxyCodeLine{773     \}}
\DoxyCodeLine{774 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{775     \textcolor{keywordflow}{if} (*\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}} != *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}) \{}
\DoxyCodeLine{776       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>NotifyLeafMapLayoutChange(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{777     \}}
\DoxyCodeLine{778     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a19f65433523c408df90eb032c1ef1406}{has\_integrity\_level\_transition\_}}) \{}
\DoxyCodeLine{779       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}};}
\DoxyCodeLine{780       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}};}
\DoxyCodeLine{781       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};  \textcolor{comment}{// Done.}}
\DoxyCodeLine{782     \}}
\DoxyCodeLine{783 }
\DoxyCodeLine{784     \textcolor{comment}{// We try to replay the integrity level transition here.}}
\DoxyCodeLine{785     MaybeHandle<Map> maybe\_transition = \mbox{\hyperlink{classv8_1_1internal_1_1TransitionsAccessor_abbb20363330eadc596056c40de5e04cc}{TransitionsAccessor::SearchSpecial}}(}
\DoxyCodeLine{786         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}}, *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa29919747bbddb076ce7adb9816e1fb0}{integrity\_level\_symbol\_}});}
\DoxyCodeLine{787     \textcolor{keywordflow}{if} (maybe\_transition.ToHandle(\&\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}})) \{}
\DoxyCodeLine{788       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}};}
\DoxyCodeLine{789       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};  \textcolor{comment}{// Done.}}
\DoxyCodeLine{790     \}}
\DoxyCodeLine{791   \}}
\DoxyCodeLine{792 }
\DoxyCodeLine{793   \textcolor{comment}{// Find the last compatible target map in the transition tree.}}
\DoxyCodeLine{794   \textcolor{keywordflow}{for} (InternalIndex \mbox{\hyperlink{namespacev8_1_1internal}{i}} : \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aa58f4ad84ea450610fb52573fdc6e60f}{InternalIndex::Range}}(target\_nof, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}})) \{}
\DoxyCodeLine{795     PropertyDetails old\_details = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}{GetDetails}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{796     Handle<Map> tmp\_map;}
\DoxyCodeLine{797     MaybeHandle<Map> maybe\_tmp\_map = \mbox{\hyperlink{classv8_1_1internal_1_1TransitionsAccessor_a34d5580f0039113ee34e43ca052b5262}{TransitionsAccessor::SearchTransition}}(}
\DoxyCodeLine{798         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5b045cf26a76c61ba9b42f720139d3b0}{GetKey}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), old\_details.kind(),}
\DoxyCodeLine{799         old\_details.attributes());}
\DoxyCodeLine{800     \textcolor{keywordflow}{if} (!maybe\_tmp\_map.ToHandle(\&tmp\_map)) \textcolor{keywordflow}{break};}
\DoxyCodeLine{801     DirectHandle<DescriptorArray> tmp\_descriptors(}
\DoxyCodeLine{802         tmp\_map-\/>instance\_descriptors(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{803 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{804     \textcolor{comment}{// Check that target map is compatible.}}
\DoxyCodeLine{805     PropertyDetails tmp\_details = tmp\_descriptors-\/>GetDetails(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{806     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(old\_details.kind(), tmp\_details.kind());}
\DoxyCodeLine{807     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(old\_details.attributes(), tmp\_details.attributes());}
\DoxyCodeLine{808 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{809     \textcolor{keywordflow}{if} (old\_details.kind() == \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81ade3eeabe61d50a3f84870ae3ca43f0ec}{PropertyKind::kAccessor}} \&\&}
\DoxyCodeLine{810         !\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_af46b0880f0e51ee10e8e6e61fe38084a}{EqualImmutableValues}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3}{GetValue}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}),}
\DoxyCodeLine{811                               tmp\_descriptors-\/>GetStrongValue(\mbox{\hyperlink{namespacev8_1_1internal}{i}}))) \{}
\DoxyCodeLine{812       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}{Normalize}}(\textcolor{stringliteral}{"{}Normalize\_Incompatible"{}});}
\DoxyCodeLine{813     \}}
\DoxyCodeLine{814     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!tmp\_map-\/>is\_deprecated());}
\DoxyCodeLine{815     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}{target\_map\_}} = tmp\_map;}
\DoxyCodeLine{816   \}}
\DoxyCodeLine{817 }
\DoxyCodeLine{818   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a98fc0de6c485a0da9f0609d15b078fc1}{kAtTargetMap}};}
\DoxyCodeLine{819   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};  \textcolor{comment}{// Not done yet.}}
\DoxyCodeLine{820 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Property\+Details\+::attributes(), v8\+::internal\+::\+Representation\+::\+Can\+Be\+In\+Place\+Changed\+To(), v8\+::internal\+::\+Property\+Details\+::constness(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Equal\+Immutable\+Values(), v8\+::internal\+::\+Representation\+::fits\+\_\+into(), v8\+::internal\+::\+Representation\+::generalize(), Generalize\+Field(), Get\+Details(), Get\+Key(), Get\+Or\+Compute\+Field\+Type(), Get\+Value(), has\+\_\+integrity\+\_\+level\+\_\+transition\+\_\+, integrity\+\_\+level\+\_\+symbol\+\_\+, v8\+::internal\+::\+Internal\+Index\+::is\+\_\+found(), v8\+::internal\+::\+Is\+Generalizable\+To(), isolate\+\_\+, v8\+::internal\+::k\+Accessor, k\+At\+Root\+Map, k\+At\+Target\+Map, k\+End, v8\+::internal\+::k\+Field, v8\+::internal\+::\+Property\+Details\+::kind(), v8\+::internal\+::\+Property\+Details\+::location(), modified\+\_\+descriptor\+\_\+, new\+\_\+constness\+\_\+, new\+\_\+field\+\_\+type\+\_\+, new\+\_\+kind\+\_\+, new\+\_\+location\+\_\+, new\+\_\+representation\+\_\+, Normalize(), v8\+::internal\+::\+Field\+Type\+::\+Now\+Is(), old\+\_\+map\+\_\+, old\+\_\+nof\+\_\+, v8\+::internal\+::\+Property\+Details\+::representation(), result\+\_\+map\+\_\+, root\+\_\+map\+\_\+, v8\+::internal\+::\+Transitions\+Accessor\+::\+Search\+Special(), v8\+::internal\+::\+Transitions\+Accessor\+::\+Search\+Transition(), state\+\_\+, target\+\_\+map\+\_\+, and v8\+::internal\+::\+Maybe\+Handle$<$ T $>$\+::\+To\+Handle().



Referenced by Reconfigure\+To\+Data\+Field(), and Update\+Impl().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1MapUpdater_ad976339ab49ddf6e48acd038645fd58c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_ad976339ab49ddf6e48acd038645fd58c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a417db39502490279d6f33884a63000e7}\label{classv8_1_1internal_1_1MapUpdater_a417db39502490279d6f33884a63000e7}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!GeneralizeField@{GeneralizeField}}
\index{GeneralizeField@{GeneralizeField}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{GeneralizeField()}{GeneralizeField()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Map\+Updater\+::\+Generalize\+Field (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{map,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{modify\+\_\+index,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}}}]{new\+\_\+constness,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}}}]{new\+\_\+representation,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$}]{new\+\_\+field\+\_\+type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 433 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{437                                                                          \{}
\DoxyCodeLine{438   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a04012f11ce54cbce8115f4249c472e3a}{GeneralizeField}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, map, modify\_index, new\_constness,}
\DoxyCodeLine{439                   new\_representation, new\_field\_type);}
\DoxyCodeLine{440 }
\DoxyCodeLine{441   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(*\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}} == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>instance\_descriptors(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}) ||}
\DoxyCodeLine{442          *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}} ==}
\DoxyCodeLine{443              \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}{integrity\_source\_map\_}}-\/>instance\_descriptors(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}));}
\DoxyCodeLine{444 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), Generalize\+Field(), integrity\+\_\+source\+\_\+map\+\_\+, isolate\+\_\+, old\+\_\+descriptors\+\_\+, and old\+\_\+map\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a417db39502490279d6f33884a63000e7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a04012f11ce54cbce8115f4249c472e3a}\label{classv8_1_1internal_1_1MapUpdater_a04012f11ce54cbce8115f4249c472e3a}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!GeneralizeField@{GeneralizeField}}
\index{GeneralizeField@{GeneralizeField}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{GeneralizeField()}{GeneralizeField()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Map\+Updater\+::\+Generalize\+Field (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{map,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{modify\+\_\+index,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}}}]{new\+\_\+constness,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}}}]{new\+\_\+representation,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$}]{new\+\_\+field\+\_\+type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 1308 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1312                                                                          \{}
\DoxyCodeLine{1313   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!map-\/>is\_deprecated());}
\DoxyCodeLine{1314 }
\DoxyCodeLine{1315   \textcolor{comment}{// Check if we actually need to generalize the field type at all.}}
\DoxyCodeLine{1316   DirectHandle<DescriptorArray> old\_descriptors(}
\DoxyCodeLine{1317       map-\/>instance\_descriptors(isolate), isolate);}
\DoxyCodeLine{1318   PropertyDetails old\_details = old\_descriptors-\/>GetDetails(modify\_index);}
\DoxyCodeLine{1319   \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{PropertyConstness}} old\_constness = old\_details.constness();}
\DoxyCodeLine{1320   Representation old\_representation = old\_details.representation();}
\DoxyCodeLine{1321   DirectHandle<FieldType> old\_field\_type(}
\DoxyCodeLine{1322       old\_descriptors-\/>GetFieldType(modify\_index), isolate);}
\DoxyCodeLine{1323   \mbox{\hyperlink{src_2base_2logging_8h_a2c0c4cea27d0690467662bb05131b2af}{CHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_a82b24872512218708764e7261b3e2a66}{IsClass}}(*old\_field\_type), old\_representation.IsHeapObject());}
\DoxyCodeLine{1324 }
\DoxyCodeLine{1325   \textcolor{comment}{// Return if the current map is general enough to hold requested constness and}}
\DoxyCodeLine{1326   \textcolor{comment}{// representation/field type.}}
\DoxyCodeLine{1327   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_abc98ef0ed4a2baf08e5c6e3e8146d1fa}{IsGeneralizableTo}}(new\_constness, old\_constness) \&\&}
\DoxyCodeLine{1328       old\_representation.Equals(new\_representation) \&\&}
\DoxyCodeLine{1329       \mbox{\hyperlink{classv8_1_1internal_1_1FieldType_ae3e25b47fcc85c189745eb8fd902ed40}{FieldType::NowIs}}(*new\_field\_type, old\_field\_type)) \{}
\DoxyCodeLine{1330     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1FieldType_ae3e25b47fcc85c189745eb8fd902ed40}{FieldType::NowIs}}(}
\DoxyCodeLine{1331         *\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_a7eae755681e278977f2ae4a11bf949d9}{GeneralizeFieldType}}(old\_representation, old\_field\_type,}
\DoxyCodeLine{1332                              new\_representation, new\_field\_type, isolate),}
\DoxyCodeLine{1333         old\_field\_type));}
\DoxyCodeLine{1334     \textcolor{keywordflow}{return};}
\DoxyCodeLine{1335   \}}
\DoxyCodeLine{1336 }
\DoxyCodeLine{1337   \textcolor{comment}{// Determine the field owner.}}
\DoxyCodeLine{1338   DirectHandle<Map> field\_owner(map-\/>FindFieldOwner(isolate, modify\_index),}
\DoxyCodeLine{1339                                 isolate);}
\DoxyCodeLine{1340   DirectHandle<DescriptorArray> descriptors(}
\DoxyCodeLine{1341       field\_owner-\/>instance\_descriptors(isolate), isolate);}
\DoxyCodeLine{1342   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(*old\_field\_type, descriptors-\/>GetFieldType(modify\_index));}
\DoxyCodeLine{1343 }
\DoxyCodeLine{1344   new\_field\_type =}
\DoxyCodeLine{1345       \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_a7eae755681e278977f2ae4a11bf949d9}{GeneralizeFieldType}}(old\_representation, old\_field\_type,}
\DoxyCodeLine{1346                           new\_representation, new\_field\_type, isolate);}
\DoxyCodeLine{1347 }
\DoxyCodeLine{1348   new\_constness = \mbox{\hyperlink{namespacev8_1_1internal_a617d346a46eb703e1719792077e5c2a0}{GeneralizeConstness}}(old\_constness, new\_constness);}
\DoxyCodeLine{1349 }
\DoxyCodeLine{1350   PropertyDetails details = descriptors-\/>GetDetails(modify\_index);}
\DoxyCodeLine{1351   DirectHandle<Name> \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}}(descriptors-\/>GetKey(modify\_index), isolate);}
\DoxyCodeLine{1352 }
\DoxyCodeLine{1353   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a07aba2a1c4674b213666f0bcf9cdda2a}{UpdateFieldType}}(isolate, field\_owner, modify\_index, \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}}, new\_constness,}
\DoxyCodeLine{1354                   new\_representation, new\_field\_type);}
\DoxyCodeLine{1355 }
\DoxyCodeLine{1356   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_a82b24872512218708764e7261b3e2a66}{IsClass}}(*new\_field\_type), new\_representation.IsHeapObject());}
\DoxyCodeLine{1357 }
\DoxyCodeLine{1358   \mbox{\hyperlink{classv8_1_1internal_1_1DependentCode_a2b507a86ffe87b8f0bb131b13ab30307}{DependentCode::DependencyGroups}} dep\_groups;}
\DoxyCodeLine{1359   \textcolor{keywordflow}{if} (new\_constness != old\_constness) \{}
\DoxyCodeLine{1360     dep\_groups |= \mbox{\hyperlink{classv8_1_1internal_1_1DependentCode_a6ddeb27b4e6f458ce2257036e3f364aea123390ef7fbc57f85380f025aaa7a580}{DependentCode::kFieldConstGroup}};}
\DoxyCodeLine{1361   \}}
\DoxyCodeLine{1362   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1FieldType_a6652f43f8b4e3c217124374a2f4b1172}{FieldType::Equals}}(*new\_field\_type, *old\_field\_type)) \{}
\DoxyCodeLine{1363     dep\_groups |= \mbox{\hyperlink{classv8_1_1internal_1_1DependentCode_a6ddeb27b4e6f458ce2257036e3f364aead5bb3481b1c5b207b9dd295ea5dbbbf4}{DependentCode::kFieldTypeGroup}};}
\DoxyCodeLine{1364   \}}
\DoxyCodeLine{1365   \textcolor{keywordflow}{if} (!new\_representation.Equals(old\_representation)) \{}
\DoxyCodeLine{1366     dep\_groups |= \mbox{\hyperlink{classv8_1_1internal_1_1DependentCode_a6ddeb27b4e6f458ce2257036e3f364aea51be1de08d293f014aafd3fc5feb8833}{DependentCode::kFieldRepresentationGroup}};}
\DoxyCodeLine{1367   \}}
\DoxyCodeLine{1368 }
\DoxyCodeLine{1369   \mbox{\hyperlink{classv8_1_1internal_1_1DependentCode_ac8da05d32a7e9c02c7a11456c8b0afd5}{DependentCode::DeoptimizeDependencyGroups}}(isolate, *field\_owner, dep\_groups);}
\DoxyCodeLine{1370 }
\DoxyCodeLine{1371   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_generalization) \{}
\DoxyCodeLine{1372     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_a11017d5e0e07217626b7dcb7acf267a3}{PrintGeneralization}}(}
\DoxyCodeLine{1373         isolate, map, stdout, \textcolor{stringliteral}{"{}field type generalization"{}}, modify\_index,}
\DoxyCodeLine{1374         map-\/>NumberOfOwnDescriptors(), map-\/>NumberOfOwnDescriptors(), \textcolor{keyword}{false},}
\DoxyCodeLine{1375         details.representation(),}
\DoxyCodeLine{1376         descriptors-\/>GetDetails(modify\_index).representation(), old\_constness,}
\DoxyCodeLine{1377         new\_constness, old\_field\_type, MaybeDirectHandle<Object>(),}
\DoxyCodeLine{1378         new\_field\_type, MaybeDirectHandle<Object>());}
\DoxyCodeLine{1379   \}}
\DoxyCodeLine{1380 \}}

\end{DoxyCode}


References CHECK, CHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+Property\+Details\+::constness(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+Dependent\+Code\+::\+Deoptimize\+Dependency\+Groups(), v8\+::internal\+::\+Representation\+::\+Equals(), v8\+::internal\+::\+Field\+Type\+::\+Equals(), v8\+::internal\+::\+Generalize\+Constness(), v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Generalize\+Field\+Type(), v8\+::internal\+::\+Is\+Class(), v8\+::internal\+::\+Is\+Generalizable\+To(), v8\+::internal\+::\+Representation\+::\+Is\+Heap\+Object(), v8\+::internal\+::\+Dependent\+Code\+::k\+Field\+Const\+Group, v8\+::internal\+::\+Dependent\+Code\+::k\+Field\+Representation\+Group, v8\+::internal\+::\+Dependent\+Code\+::k\+Field\+Type\+Group, v8\+::internal\+::name, v8\+::internal\+::\+Field\+Type\+::\+Now\+Is(), v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Print\+Generalization(), v8\+::internal\+::\+Property\+Details\+::representation(), Update\+Field\+Type(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Find\+Root\+Map(), Find\+Target\+Map(), Generalize\+Field(), v8\+::internal\+::\+Value\+Deserializer\+::\+Read\+JSObject\+Properties(), v8\+::internal\+::\+JSData\+Object\+Builder\+::\+Try\+Generalize\+Field\+To\+Value(), Try\+Reconfigure\+To\+Data\+Field\+Inplace(), and Update\+Field\+Type().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1MapUpdater_a04012f11ce54cbce8115f4249c472e3a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a04012f11ce54cbce8115f4249c472e3a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}\label{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!GetDetails@{GetDetails}}
\index{GetDetails@{GetDetails}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{GetDetails()}{GetDetails()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1PropertyDetails}{Property\+Details}} v8\+::internal\+::\+Map\+Updater\+::\+Get\+Details (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{descriptor }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 107 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{107                                                                      \{}
\DoxyCodeLine{108   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(descriptor.is\_found());}
\DoxyCodeLine{109   \textcolor{keywordflow}{if} (descriptor == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}) \{}
\DoxyCodeLine{110     \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{PropertyAttributes}} attributes = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a5ba23fb8d01d941f1e57f665d9cc24}{new\_attributes\_}};}
\DoxyCodeLine{111     \textcolor{comment}{// If the original map was sealed or frozen, let's use the old}}
\DoxyCodeLine{112     \textcolor{comment}{// attributes so that we follow the same transition path as before.}}
\DoxyCodeLine{113     \textcolor{comment}{// Note that the user could not have changed the attributes because}}
\DoxyCodeLine{114     \textcolor{comment}{// both seal and freeze make the properties non-\/configurable. An exception}}
\DoxyCodeLine{115     \textcolor{comment}{// is transitioning from [[Writable]] = true to [[Writable]] = false (this}}
\DoxyCodeLine{116     \textcolor{comment}{// is allowed for frozen and sealed objects). To support it, we use the new}}
\DoxyCodeLine{117     \textcolor{comment}{// attributes if they have [[Writable]] == false.}}
\DoxyCodeLine{118     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_af4f8ebf63a8cbed7b8b5236f510319fc}{integrity\_level\_}} == \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ae1b3d8db108d2f4b5319b8d1ac5ebaef}{SEALED}} || \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_af4f8ebf63a8cbed7b8b5236f510319fc}{integrity\_level\_}} == \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ac96c4a6f8b2f89bb1dbaebb75becb0c2}{FROZEN}}) \&\&}
\DoxyCodeLine{119         !(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a5ba23fb8d01d941f1e57f665d9cc24}{new\_attributes\_}} \& \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436ad8ce154ac002d77d3cca81d16765a76f}{READ\_ONLY}})) \{}
\DoxyCodeLine{120       attributes = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetDetails(descriptor).attributes();}
\DoxyCodeLine{121     \}}
\DoxyCodeLine{122     \textcolor{keywordflow}{return} PropertyDetails(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}{new\_kind\_}}, attributes, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}{new\_location\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65345084fef112de78dfd8cad40e5588}{new\_constness\_}},}
\DoxyCodeLine{123                            \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}});}
\DoxyCodeLine{124   \}}
\DoxyCodeLine{125   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetDetails(descriptor);}
\DoxyCodeLine{126 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+FROZEN, integrity\+\_\+level\+\_\+, v8\+::internal\+::\+Internal\+Index\+::is\+\_\+found(), modified\+\_\+descriptor\+\_\+, new\+\_\+attributes\+\_\+, new\+\_\+constness\+\_\+, new\+\_\+kind\+\_\+, new\+\_\+location\+\_\+, new\+\_\+representation\+\_\+, old\+\_\+descriptors\+\_\+, v8\+::internal\+::\+READ\+\_\+\+ONLY, and v8\+::internal\+::\+SEALED.



Referenced by Build\+Descriptor\+Array(), Construct\+New\+Map(), Find\+Target\+Map(), Get\+Field\+Type(), Get\+Or\+Compute\+Field\+Type(), and Get\+Value().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a0b6506d0d145f2589a01453addac837f}\label{classv8_1_1internal_1_1MapUpdater_a0b6506d0d145f2589a01453addac837f}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!GetFieldType@{GetFieldType}}
\index{GetFieldType@{GetFieldType}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{GetFieldType()}{GetFieldType()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Get\+Field\+Type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{descriptor }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 138 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{138                                                                          \{}
\DoxyCodeLine{139   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(descriptor.is\_found());}
\DoxyCodeLine{140   \textcolor{keywordflow}{if} (descriptor == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}) \{}
\DoxyCodeLine{141     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}{new\_location\_}});}
\DoxyCodeLine{142     \textcolor{keywordflow}{return} *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}{new\_field\_type\_}};}
\DoxyCodeLine{143   \}}
\DoxyCodeLine{144   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}{GetDetails}}(descriptor).location());}
\DoxyCodeLine{145   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetFieldType(descriptor);}
\DoxyCodeLine{146 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, Get\+Details(), v8\+::internal\+::\+Internal\+Index\+::is\+\_\+found(), v8\+::internal\+::k\+Field, modified\+\_\+descriptor\+\_\+, new\+\_\+field\+\_\+type\+\_\+, new\+\_\+location\+\_\+, and old\+\_\+descriptors\+\_\+.



Referenced by Get\+Or\+Compute\+Field\+Type().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a0b6506d0d145f2589a01453addac837f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a0b6506d0d145f2589a01453addac837f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a5b045cf26a76c61ba9b42f720139d3b0}\label{classv8_1_1internal_1_1MapUpdater_a5b045cf26a76c61ba9b42f720139d3b0}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!GetKey@{GetKey}}
\index{GetKey@{GetKey}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{GetKey()}{GetKey()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Name}{Name}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Get\+Key (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{descriptor }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 103 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{103                                                               \{}
\DoxyCodeLine{104   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetKey(descriptor);}
\DoxyCodeLine{105 \}}

\end{DoxyCode}


References old\+\_\+descriptors\+\_\+.



Referenced by Build\+Descriptor\+Array(), Construct\+New\+Map(), and Find\+Target\+Map().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a5b045cf26a76c61ba9b42f720139d3b0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a315c02a611caff7921b4905993085813}\label{classv8_1_1internal_1_1MapUpdater_a315c02a611caff7921b4905993085813}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!GetOrComputeFieldType@{GetOrComputeFieldType}}
\index{GetOrComputeFieldType@{GetOrComputeFieldType}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{GetOrComputeFieldType()}{GetOrComputeFieldType()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Get\+Or\+Compute\+Field\+Type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1DescriptorArray}{Descriptor\+Array}} $>$}]{descriptors,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{descriptor,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4}{Property\+Location}}}]{location,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}}}]{representation }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 161 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{163                                                               \{}
\DoxyCodeLine{164   \textcolor{comment}{// |location| is just a pre-\/fetched GetDetails(descriptor).location().}}
\DoxyCodeLine{165   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(descriptors-\/>GetDetails(descriptor).location(), location);}
\DoxyCodeLine{166   \textcolor{keywordflow}{if} (location == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{167     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(descriptors-\/>GetFieldType(descriptor), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{168   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{169     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1Object_a56201a3ff90c4125feec13c72235f6cf}{Object::OptimalType}}(descriptors-\/>GetStrongValue(descriptor),}
\DoxyCodeLine{170                                \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, representation);}
\DoxyCodeLine{171   \}}
\DoxyCodeLine{172 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, v8\+::internal\+::direct\+\_\+handle(), isolate\+\_\+, v8\+::internal\+::k\+Field, and v8\+::internal\+::\+Object\+::\+Optimal\+Type().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a315c02a611caff7921b4905993085813_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a1f7fa530862af454488b9efd711eb9b3}\label{classv8_1_1internal_1_1MapUpdater_a1f7fa530862af454488b9efd711eb9b3}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!GetOrComputeFieldType@{GetOrComputeFieldType}}
\index{GetOrComputeFieldType@{GetOrComputeFieldType}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{GetOrComputeFieldType()}{GetOrComputeFieldType()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Get\+Or\+Compute\+Field\+Type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{descriptor,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4}{Property\+Location}}}]{location,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}}}]{representation }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 148 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{150                                          \{}
\DoxyCodeLine{151   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(descriptor.is\_found());}
\DoxyCodeLine{152   \textcolor{comment}{// |location| is just a pre-\/fetched GetDetails(descriptor).location().}}
\DoxyCodeLine{153   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(location, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}{GetDetails}}(descriptor).location());}
\DoxyCodeLine{154   \textcolor{keywordflow}{if} (location == \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \{}
\DoxyCodeLine{155     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0b6506d0d145f2589a01453addac837f}{GetFieldType}}(descriptor), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{156   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{157     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1Object_a56201a3ff90c4125feec13c72235f6cf}{Object::OptimalType}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3}{GetValue}}(descriptor), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, representation);}
\DoxyCodeLine{158   \}}
\DoxyCodeLine{159 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::direct\+\_\+handle(), Get\+Details(), Get\+Field\+Type(), Get\+Value(), v8\+::internal\+::\+Internal\+Index\+::is\+\_\+found(), isolate\+\_\+, v8\+::internal\+::k\+Field, and v8\+::internal\+::\+Object\+::\+Optimal\+Type().



Referenced by Build\+Descriptor\+Array(), Find\+Target\+Map(), and Reconfigure\+To\+Data\+Field().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a1f7fa530862af454488b9efd711eb9b3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a1f7fa530862af454488b9efd711eb9b3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3}\label{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!GetValue@{GetValue}}
\index{GetValue@{GetValue}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{GetValue()}{GetValue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Get\+Value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{descriptor }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 128 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{128                                                                   \{}
\DoxyCodeLine{129   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(descriptor.is\_found());}
\DoxyCodeLine{130   \textcolor{keywordflow}{if} (descriptor == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}) \{}
\DoxyCodeLine{131     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295}{PropertyLocation::kDescriptor}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}{new\_location\_}});}
\DoxyCodeLine{132     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{133   \}}
\DoxyCodeLine{134   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a454ab7e845efd9a5fa1826a1e9a69295}{PropertyLocation::kDescriptor}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a2649d3a26f2f99d4771c13c8719694}{GetDetails}}(descriptor).location());}
\DoxyCodeLine{135   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetStrongValue(descriptor);}
\DoxyCodeLine{136 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, Get\+Details(), v8\+::internal\+::\+Internal\+Index\+::is\+\_\+found(), v8\+::internal\+::k\+Descriptor, modified\+\_\+descriptor\+\_\+, new\+\_\+location\+\_\+, and old\+\_\+descriptors\+\_\+.



Referenced by Build\+Descriptor\+Array(), Find\+Target\+Map(), and Get\+Or\+Compute\+Field\+Type().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a7d5531f6707ea2f6f1606b0495685df3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}\label{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!Normalize@{Normalize}}
\index{Normalize@{Normalize}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{Normalize()}{Normalize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{Map\+Updater\+::\+State}} v8\+::internal\+::\+Map\+Updater\+::\+Normalize (\begin{DoxyParamCaption}\item[{const char $\ast$}]{reason }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 446 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{446                                                         \{}
\DoxyCodeLine{447   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}} =}
\DoxyCodeLine{448       \mbox{\hyperlink{classv8_1_1internal_1_1Map_aae668ae5d352e15e940cdfdbaa6007b1}{Map::Normalize}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa178faa080934fb6dc2099fe469351e6}{new\_elements\_kind\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}{new\_prototype\_}},}
\DoxyCodeLine{449                      \mbox{\hyperlink{namespacev8_1_1internal_aff269dc9be2370cdca244d8f1f97237aac5a8bff008f8e182215fa48828c8cdb5}{CLEAR\_INOBJECT\_PROPERTIES}}, reason);}
\DoxyCodeLine{450   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}};}
\DoxyCodeLine{451   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};  \textcolor{comment}{// Done.}}
\DoxyCodeLine{452 \}}

\end{DoxyCode}


References v8\+::internal\+::\+CLEAR\+\_\+\+INOBJECT\+\_\+\+PROPERTIES, isolate\+\_\+, k\+End, new\+\_\+elements\+\_\+kind\+\_\+, new\+\_\+prototype\+\_\+, v8\+::internal\+::\+Map\+::\+Normalize(), old\+\_\+map\+\_\+, result\+\_\+map\+\_\+, and state\+\_\+.



Referenced by Construct\+New\+Map(), Construct\+New\+Map\+With\+Integrity\+Level\+Transition(), Find\+Root\+Map(), and Find\+Target\+Map().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a4f5907476a25521afb92e5c6613e3848_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a55b66930187ea380c6fd43845e399f3f}\label{classv8_1_1internal_1_1MapUpdater_a55b66930187ea380c6fd43845e399f3f}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!ReconfigureElementsKind@{ReconfigureElementsKind}}
\index{ReconfigureElementsKind@{ReconfigureElementsKind}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{ReconfigureElementsKind()}{ReconfigureElementsKind()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Reconfigure\+Elements\+Kind (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{Elements\+Kind}}}]{elements\+\_\+kind }\end{DoxyParamCaption})}



Definition at line 231 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{232                                 \{}
\DoxyCodeLine{233   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}{kInitialized}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}});}
\DoxyCodeLine{234 }
\DoxyCodeLine{235   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa178faa080934fb6dc2099fe469351e6}{new\_elements\_kind\_}} = elements\_kind;}
\DoxyCodeLine{236   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a53123e5f6d38c9ea2fdb5401fe553a2f}{is\_transitionable\_fast\_elements\_kind\_}} =}
\DoxyCodeLine{237       \mbox{\hyperlink{namespacev8_1_1internal_aa320a68c147d70667df97e9d7c7f2969}{IsTransitionableFastElementsKind}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa178faa080934fb6dc2099fe469351e6}{new\_elements\_kind\_}});}
\DoxyCodeLine{238 }
\DoxyCodeLine{239   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad9af4bdcc4d58fa609e0156c89ae483d}{Update}}();}
\DoxyCodeLine{240 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, is\+\_\+transitionable\+\_\+fast\+\_\+elements\+\_\+kind\+\_\+, v8\+::internal\+::\+Is\+Transitionable\+Fast\+Elements\+Kind(), k\+Initialized, new\+\_\+elements\+\_\+kind\+\_\+, state\+\_\+, and Update().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a55b66930187ea380c6fd43845e399f3f_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_aa5e47410414276c0199a92eb116ba00b}\label{classv8_1_1internal_1_1MapUpdater_aa5e47410414276c0199a92eb116ba00b}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!ReconfigureExistingProperty@{ReconfigureExistingProperty}}
\index{ReconfigureExistingProperty@{ReconfigureExistingProperty}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{ReconfigureExistingProperty()}{ReconfigureExistingProperty()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Reconfigure\+Existing\+Property (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{map,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{descriptor,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81}{Property\+Kind}}}]{kind,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{Property\+Attributes}}}]{attributes,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}}}]{constness }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 1188 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1191                                  \{}
\DoxyCodeLine{1192   \textcolor{comment}{// Dictionaries have to be reconfigured in-\/place.}}
\DoxyCodeLine{1193   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!map-\/>is\_dictionary\_map());}
\DoxyCodeLine{1194   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{PropertyKind::kData}}, kind);  \textcolor{comment}{// Only kData case is supported so far.}}
\DoxyCodeLine{1195 }
\DoxyCodeLine{1196   \textcolor{keywordflow}{if} (!IsMap(map-\/>GetBackPointer())) \{}
\DoxyCodeLine{1197     \textcolor{comment}{// There is no benefit from reconstructing transition tree for maps without}}
\DoxyCodeLine{1198     \textcolor{comment}{// back pointers, normalize and try to hit the map cache instead.}}
\DoxyCodeLine{1199     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1Map_aae668ae5d352e15e940cdfdbaa6007b1}{Map::Normalize}}(isolate, map, \mbox{\hyperlink{namespacev8_1_1internal_aff269dc9be2370cdca244d8f1f97237aac5a8bff008f8e182215fa48828c8cdb5}{CLEAR\_INOBJECT\_PROPERTIES}},}
\DoxyCodeLine{1200                           \textcolor{stringliteral}{"{}Normalize\_AttributesMismatchProtoMap"{}});}
\DoxyCodeLine{1201   \}}
\DoxyCodeLine{1202 }
\DoxyCodeLine{1203   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_generalization) \{}
\DoxyCodeLine{1204     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_abd99109fc05f1421f7f4b7d2962dbecc}{PrintReconfiguration}}(isolate, map, stdout, descriptor, kind, attributes);}
\DoxyCodeLine{1205   \}}
\DoxyCodeLine{1206 }
\DoxyCodeLine{1207   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad1c3a630212f0098faee5233c1be5dc0}{MapUpdater}}\{isolate, map\}.ReconfigureToDataField(}
\DoxyCodeLine{1208       descriptor, attributes, constness, \mbox{\hyperlink{classv8_1_1internal_1_1Representation_ace382f041e3e5c2b98fefd107be9927d}{Representation::None}}(),}
\DoxyCodeLine{1209       \mbox{\hyperlink{classv8_1_1internal_1_1FieldType_a850ca02db2d0bd0b2279e392a7b7a606}{FieldType::None}}(isolate));}
\DoxyCodeLine{1210 \}}

\end{DoxyCode}


References v8\+::internal\+::\+CLEAR\+\_\+\+INOBJECT\+\_\+\+PROPERTIES, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::k\+Data, v8\+::internal\+::\+Field\+Type\+::\+None(), v8\+::internal\+::\+Representation\+::\+None(), v8\+::internal\+::\+Map\+::\+Normalize(), v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Print\+Reconfiguration(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+Lookup\+Iterator\+::\+Reconfigure\+Data\+Property().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_aa5e47410414276c0199a92eb116ba00b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_aa5e47410414276c0199a92eb116ba00b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a2781cab0775a35357462b520fae34628}\label{classv8_1_1internal_1_1MapUpdater_a2781cab0775a35357462b520fae34628}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!ReconfigureToDataField@{ReconfigureToDataField}}
\index{ReconfigureToDataField@{ReconfigureToDataField}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{ReconfigureToDataField()}{ReconfigureToDataField()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Reconfigure\+To\+Data\+Field (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{descriptor,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{Property\+Attributes}}}]{attributes,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}}}]{constness,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}}}]{representation,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$}]{field\+\_\+type }\end{DoxyParamCaption})}



Definition at line 174 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{177                                         \{}
\DoxyCodeLine{178   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}{kInitialized}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}});}
\DoxyCodeLine{179   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(descriptor.is\_found());}
\DoxyCodeLine{180   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>is\_dictionary\_map());}
\DoxyCodeLine{181 }
\DoxyCodeLine{182   ParkedMutexGuardIf mutex\_guard(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7d651964318bc41040dda0bc730388e5}{main\_thread\_local\_isolate}}(),}
\DoxyCodeLine{183                                  \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a1330d64023302e0b195abbae203a6ae6}{map\_updater\_access}}(), \textcolor{keyword}{true});}
\DoxyCodeLine{184 }
\DoxyCodeLine{185   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}} = descriptor;}
\DoxyCodeLine{186   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}{new\_kind\_}} = \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{PropertyKind::kData}};}
\DoxyCodeLine{187   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a5ba23fb8d01d941f1e57f665d9cc24}{new\_attributes\_}} = attributes;}
\DoxyCodeLine{188   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}{new\_location\_}} = \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}};}
\DoxyCodeLine{189 }
\DoxyCodeLine{190   PropertyDetails old\_details =}
\DoxyCodeLine{191       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetDetails(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}});}
\DoxyCodeLine{192 }
\DoxyCodeLine{193   \textcolor{comment}{// If property kind is not reconfigured merge the result with}}
\DoxyCodeLine{194   \textcolor{comment}{// representation/field type from the old descriptor.}}
\DoxyCodeLine{195   \textcolor{keywordflow}{if} (old\_details.kind() == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}{new\_kind\_}}) \{}
\DoxyCodeLine{196     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65345084fef112de78dfd8cad40e5588}{new\_constness\_}} = \mbox{\hyperlink{namespacev8_1_1internal_a617d346a46eb703e1719792077e5c2a0}{GeneralizeConstness}}(constness, old\_details.constness());}
\DoxyCodeLine{197 }
\DoxyCodeLine{198     Representation old\_representation = old\_details.representation();}
\DoxyCodeLine{199     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}} = representation.\mbox{\hyperlink{classv8_1_1internal_1_1Representation_a8bdd97567badb1040967d90910c76c54}{generalize}}(old\_representation);}
\DoxyCodeLine{200 }
\DoxyCodeLine{201     DirectHandle<FieldType> old\_field\_type =}
\DoxyCodeLine{202         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a1f7fa530862af454488b9efd711eb9b3}{GetOrComputeFieldType}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}},}
\DoxyCodeLine{203                               old\_details.location(), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}});}
\DoxyCodeLine{204 }
\DoxyCodeLine{205     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}{new\_field\_type\_}} =}
\DoxyCodeLine{206         \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_a7eae755681e278977f2ae4a11bf949d9}{GeneralizeFieldType}}(old\_representation, old\_field\_type,}
\DoxyCodeLine{207                             \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}}, field\_type, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{208   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{209     \textcolor{comment}{// We don't know if this is a first property kind reconfiguration}}
\DoxyCodeLine{210     \textcolor{comment}{// and we don't know which value was in this property previously}}
\DoxyCodeLine{211     \textcolor{comment}{// therefore we can't treat such a property as constant.}}
\DoxyCodeLine{212     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65345084fef112de78dfd8cad40e5588}{new\_constness\_}} = \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6}{PropertyConstness::kMutable}};}
\DoxyCodeLine{213     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}} = representation;}
\DoxyCodeLine{214     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}{new\_field\_type\_}} = field\_type;}
\DoxyCodeLine{215   \}}
\DoxyCodeLine{216 }
\DoxyCodeLine{217   \mbox{\hyperlink{classv8_1_1internal_1_1Map_ac6c63c5c0715237233a9cb24fe7664ec}{Map::GeneralizeIfCanHaveTransitionableFastElementsKind}}(}
\DoxyCodeLine{218       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>instance\_type(), \&\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}},}
\DoxyCodeLine{219       \&\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}{new\_field\_type\_}});}
\DoxyCodeLine{220 }
\DoxyCodeLine{221   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a775bdfa713c895e0fca38a05e512eb2d}{TryReconfigureToDataFieldInplace}}() == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}}) \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}};}
\DoxyCodeLine{222   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad41dafb34e0c6dc5f39566dbf2b7bae5}{FindRootMap}}() == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}}) \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}};}
\DoxyCodeLine{223   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad976339ab49ddf6e48acd038645fd58c}{FindTargetMap}}() == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}}) \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}};}
\DoxyCodeLine{224   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65be75fff70ffb063e04326adc452f45}{ConstructNewMap}}() == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80}{kAtIntegrityLevelSource}}) \{}
\DoxyCodeLine{225     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a01c1e00ea1e1e9a445ccd20e6b27afe1}{ConstructNewMapWithIntegrityLevelTransition}}();}
\DoxyCodeLine{226   \}}
\DoxyCodeLine{227   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}});}
\DoxyCodeLine{228   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}};}
\DoxyCodeLine{229 \}}

\end{DoxyCode}


References CHECK\+\_\+\+EQ, v8\+::internal\+::\+Property\+Details\+::constness(), Construct\+New\+Map(), Construct\+New\+Map\+With\+Integrity\+Level\+Transition(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, Find\+Root\+Map(), Find\+Target\+Map(), v8\+::internal\+::\+Representation\+::generalize(), v8\+::internal\+::\+Generalize\+Constness(), v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Generalize\+Field\+Type(), v8\+::internal\+::\+Map\+::\+Generalize\+If\+Can\+Have\+Transitionable\+Fast\+Elements\+Kind(), Get\+Or\+Compute\+Field\+Type(), v8\+::internal\+::\+Internal\+Index\+::is\+\_\+found(), isolate\+\_\+, k\+At\+Integrity\+Level\+Source, v8\+::internal\+::k\+Data, k\+End, v8\+::internal\+::k\+Field, v8\+::internal\+::\+Property\+Details\+::kind(), k\+Initialized, v8\+::internal\+::k\+Mutable, v8\+::internal\+::\+Property\+Details\+::location(), v8\+::internal\+::\+Isolate\+::main\+\_\+thread\+\_\+local\+\_\+isolate(), v8\+::internal\+::\+Isolate\+::map\+\_\+updater\+\_\+access(), modified\+\_\+descriptor\+\_\+, new\+\_\+attributes\+\_\+, new\+\_\+constness\+\_\+, new\+\_\+field\+\_\+type\+\_\+, new\+\_\+kind\+\_\+, new\+\_\+location\+\_\+, new\+\_\+representation\+\_\+, old\+\_\+descriptors\+\_\+, old\+\_\+map\+\_\+, v8\+::internal\+::\+Property\+Details\+::representation(), result\+\_\+map\+\_\+, state\+\_\+, and Try\+Reconfigure\+To\+Data\+Field\+Inplace().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1MapUpdater_a2781cab0775a35357462b520fae34628_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a775bdfa713c895e0fca38a05e512eb2d}\label{classv8_1_1internal_1_1MapUpdater_a775bdfa713c895e0fca38a05e512eb2d}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!TryReconfigureToDataFieldInplace@{TryReconfigureToDataFieldInplace}}
\index{TryReconfigureToDataFieldInplace@{TryReconfigureToDataFieldInplace}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{TryReconfigureToDataFieldInplace()}{TryReconfigureToDataFieldInplace()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{Map\+Updater\+::\+State}} v8\+::internal\+::\+Map\+Updater\+::\+Try\+Reconfigure\+To\+Data\+Field\+Inplace (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 499 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{499                                                              \{}
\DoxyCodeLine{500   \textcolor{comment}{// Updating deprecated maps in-\/place doesn't make sense.}}
\DoxyCodeLine{501   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>is\_deprecated()) \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};}
\DoxyCodeLine{502 }
\DoxyCodeLine{503   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1Representation_a3c8d99598894389c44cbe32d5ce7a3fa}{IsNone}}()) \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};  \textcolor{comment}{// Not done yet.}}
\DoxyCodeLine{504 }
\DoxyCodeLine{505   PropertyDetails old\_details =}
\DoxyCodeLine{506       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetDetails(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}});}
\DoxyCodeLine{507 }
\DoxyCodeLine{508   \textcolor{keywordflow}{if} (old\_details.attributes() != \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a5ba23fb8d01d941f1e57f665d9cc24}{new\_attributes\_}} ||}
\DoxyCodeLine{509       old\_details.kind() != \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}{new\_kind\_}} ||}
\DoxyCodeLine{510       old\_details.location() != \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}{new\_location\_}}) \{}
\DoxyCodeLine{511     \textcolor{comment}{// These changes can't be done in-\/place.}}
\DoxyCodeLine{512     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};  \textcolor{comment}{// Not done yet.}}
\DoxyCodeLine{513   \}}
\DoxyCodeLine{514 }
\DoxyCodeLine{515   Representation old\_representation = old\_details.representation();}
\DoxyCodeLine{516   \textcolor{keywordflow}{if} (!old\_representation.CanBeInPlaceChangedTo(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}})) \{}
\DoxyCodeLine{517     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};  \textcolor{comment}{// Not done yet.}}
\DoxyCodeLine{518   \}}
\DoxyCodeLine{519 }
\DoxyCodeLine{520   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}{new\_kind\_}}, old\_details.kind());}
\DoxyCodeLine{521   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a6a5ba23fb8d01d941f1e57f665d9cc24}{new\_attributes\_}}, old\_details.attributes());}
\DoxyCodeLine{522   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}, old\_details.location());}
\DoxyCodeLine{523   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.trace\_generalization) \{}
\DoxyCodeLine{524     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_a11017d5e0e07217626b7dcb7acf267a3}{PrintGeneralization}}(}
\DoxyCodeLine{525         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}, stdout, \textcolor{stringliteral}{"{}uninitialized field"{}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}},}
\DoxyCodeLine{526         \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}{old\_nof\_}}, \textcolor{keyword}{false}, old\_representation, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}},}
\DoxyCodeLine{527         old\_details.constness(), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65345084fef112de78dfd8cad40e5588}{new\_constness\_}},}
\DoxyCodeLine{528         \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetFieldType(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}),}
\DoxyCodeLine{529                       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}),}
\DoxyCodeLine{530         \{\}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}{new\_field\_type\_}}, \{\});}
\DoxyCodeLine{531   \}}
\DoxyCodeLine{532   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a04012f11ce54cbce8115f4249c472e3a}{GeneralizeField}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65345084fef112de78dfd8cad40e5588}{new\_constness\_}},}
\DoxyCodeLine{533                   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}{new\_field\_type\_}});}
\DoxyCodeLine{534   \textcolor{comment}{// Check that the descriptor array was updated.}}
\DoxyCodeLine{535   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetDetails(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}})}
\DoxyCodeLine{536              .representation()}
\DoxyCodeLine{537              .Equals(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}{new\_representation\_}}));}
\DoxyCodeLine{538   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1FieldType_ae3e25b47fcc85c189745eb8fd902ed40}{FieldType::NowIs}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}}-\/>GetFieldType(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}{modified\_descriptor\_}}),}
\DoxyCodeLine{539                           \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}{new\_field\_type\_}}));}
\DoxyCodeLine{540 }
\DoxyCodeLine{541   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}} = \mbox{\hyperlink{namespacev8_1_1internal_a15cafb1d1ed1ac577609eb5e764384e8}{indirect\_handle}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{542   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}} = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}};}
\DoxyCodeLine{543   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}};  \textcolor{comment}{// Done.}}
\DoxyCodeLine{544 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Property\+Details\+::attributes(), v8\+::internal\+::\+Representation\+::\+Can\+Be\+In\+Place\+Changed\+To(), v8\+::internal\+::\+Property\+Details\+::constness(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::direct\+\_\+handle(), Generalize\+Field(), v8\+::internal\+::indirect\+\_\+handle(), v8\+::internal\+::\+Representation\+::\+Is\+None(), isolate\+\_\+, k\+End, v8\+::internal\+::k\+Field, v8\+::internal\+::\+Property\+Details\+::kind(), v8\+::internal\+::\+Property\+Details\+::location(), modified\+\_\+descriptor\+\_\+, new\+\_\+attributes\+\_\+, new\+\_\+constness\+\_\+, new\+\_\+field\+\_\+type\+\_\+, new\+\_\+kind\+\_\+, new\+\_\+location\+\_\+, new\+\_\+representation\+\_\+, v8\+::internal\+::\+Field\+Type\+::\+Now\+Is(), old\+\_\+descriptors\+\_\+, old\+\_\+map\+\_\+, old\+\_\+nof\+\_\+, v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Print\+Generalization(), v8\+::internal\+::\+Property\+Details\+::representation(), result\+\_\+map\+\_\+, state\+\_\+, and v8\+::internal\+::v8\+\_\+flags.



Referenced by Reconfigure\+To\+Data\+Field().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a775bdfa713c895e0fca38a05e512eb2d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a775bdfa713c895e0fca38a05e512eb2d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a6327e4df7173fbd8eafcf916162d3c6d}\label{classv8_1_1internal_1_1MapUpdater_a6327e4df7173fbd8eafcf916162d3c6d}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!TrySaveIntegrityLevelTransitions@{TrySaveIntegrityLevelTransitions}}
\index{TrySaveIntegrityLevelTransitions@{TrySaveIntegrityLevelTransitions}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{TrySaveIntegrityLevelTransitions()}{TrySaveIntegrityLevelTransitions()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Map\+Updater\+::\+Try\+Save\+Integrity\+Level\+Transitions (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 546 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{546                                                   \{}
\DoxyCodeLine{547   \textcolor{comment}{// Figure out the most restrictive integrity level transition (it should}}
\DoxyCodeLine{548   \textcolor{comment}{// be the last one in the transition tree).}}
\DoxyCodeLine{549   DirectHandle<Map> previous(Cast<Map>(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>GetBackPointer()), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{550   Tagged<Symbol> integrity\_level\_symbol;}
\DoxyCodeLine{551   TransitionsAccessor last\_transitions(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, *previous);}
\DoxyCodeLine{552   \textcolor{keywordflow}{if} (!last\_transitions.HasIntegrityLevelTransitionTo(}
\DoxyCodeLine{553           *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}, \&integrity\_level\_symbol, \&\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_af4f8ebf63a8cbed7b8b5236f510319fc}{integrity\_level\_}})) \{}
\DoxyCodeLine{554     \textcolor{comment}{// The last transition was not integrity level transition -\/ just bail out.}}
\DoxyCodeLine{555     \textcolor{comment}{// This can happen in the following cases:}}
\DoxyCodeLine{556     \textcolor{comment}{// -\/ there are private symbol transitions following the integrity level}}
\DoxyCodeLine{557     \textcolor{comment}{//   transitions (see crbug.com/v8/8854).}}
\DoxyCodeLine{558     \textcolor{comment}{// -\/ there is a getter added in addition to an existing setter (or a setter}}
\DoxyCodeLine{559     \textcolor{comment}{//   in addition to an existing getter).}}
\DoxyCodeLine{560     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{561   \}}
\DoxyCodeLine{562   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa29919747bbddb076ce7adb9816e1fb0}{integrity\_level\_symbol\_}} = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(integrity\_level\_symbol, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{563   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}{integrity\_source\_map\_}} = previous;}
\DoxyCodeLine{564 }
\DoxyCodeLine{565   \textcolor{comment}{// Now walk up the back pointer chain and skip all integrity level}}
\DoxyCodeLine{566   \textcolor{comment}{// transitions. If we encounter any non-\/integrity level transition interleaved}}
\DoxyCodeLine{567   \textcolor{comment}{// with integrity level transitions, just bail out.}}
\DoxyCodeLine{568   \textcolor{keywordflow}{while} (!\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}{integrity\_source\_map\_}}-\/>is\_extensible()) \{}
\DoxyCodeLine{569     previous = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(Cast<Map>(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}{integrity\_source\_map\_}}-\/>GetBackPointer()),}
\DoxyCodeLine{570                              \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{571     TransitionsAccessor transitions(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, *previous);}
\DoxyCodeLine{572     \textcolor{keywordflow}{if} (!transitions.HasIntegrityLevelTransitionTo(*\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}{integrity\_source\_map\_}})) \{}
\DoxyCodeLine{573       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{574     \}}
\DoxyCodeLine{575     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}{integrity\_source\_map\_}} = previous;}
\DoxyCodeLine{576   \}}
\DoxyCodeLine{577 }
\DoxyCodeLine{578   \textcolor{comment}{// Integrity-\/level transitions never change number of descriptors.}}
\DoxyCodeLine{579   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>NumberOfOwnDescriptors(),}
\DoxyCodeLine{580            \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}{integrity\_source\_map\_}}-\/>NumberOfOwnDescriptors());}
\DoxyCodeLine{581 }
\DoxyCodeLine{582   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a19f65433523c408df90eb032c1ef1406}{has\_integrity\_level\_transition\_}} = \textcolor{keyword}{true};}
\DoxyCodeLine{583   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}{old\_descriptors\_}} = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{584       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}{integrity\_source\_map\_}}-\/>instance\_descriptors(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}), \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}});}
\DoxyCodeLine{585   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{586 \}}

\end{DoxyCode}


References CHECK\+\_\+\+EQ, v8\+::internal\+::direct\+\_\+handle(), has\+\_\+integrity\+\_\+level\+\_\+transition\+\_\+, v8\+::internal\+::\+Transitions\+Accessor\+::\+Has\+Integrity\+Level\+Transition\+To(), integrity\+\_\+level\+\_\+, integrity\+\_\+level\+\_\+symbol\+\_\+, integrity\+\_\+source\+\_\+map\+\_\+, isolate\+\_\+, old\+\_\+descriptors\+\_\+, and old\+\_\+map\+\_\+.



Referenced by Find\+Root\+Map().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a6327e4df7173fbd8eafcf916162d3c6d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a6327e4df7173fbd8eafcf916162d3c6d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a9bed85b35162390b6cd90f5598f8947e}\label{classv8_1_1internal_1_1MapUpdater_a9bed85b35162390b6cd90f5598f8947e}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!TryUpdateNoLock@{TryUpdateNoLock}}
\index{TryUpdateNoLock@{TryUpdateNoLock}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{TryUpdateNoLock()}{TryUpdateNoLock()}}
{\footnotesize\ttfamily std\+::optional$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ $>$ v8\+::internal\+::\+Map\+Updater\+::\+Try\+Update\+No\+Lock (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Tagged}{Tagged}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{old\+\_\+map,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a420e377bba6b25b38450dd44912cd5f6}{Concurrency\+Mode}}}]{cmode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 353 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{355                                                                               \{}
\DoxyCodeLine{356   \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{357 }
\DoxyCodeLine{358   \textcolor{comment}{// Check the state of the root map.}}
\DoxyCodeLine{359   Tagged<Map> root\_map = old\_map-\/>FindRootMap(isolate);}
\DoxyCodeLine{360   \textcolor{keywordflow}{if} (root\_map-\/>is\_deprecated()) \{}
\DoxyCodeLine{361     Tagged<JSFunction> constructor =}
\DoxyCodeLine{362         Cast<JSFunction>(root\_map-\/>GetConstructor());}
\DoxyCodeLine{363     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(constructor-\/>has\_initial\_map());}
\DoxyCodeLine{364     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(constructor-\/>initial\_map()-\/>is\_dictionary\_map());}
\DoxyCodeLine{365     \textcolor{keywordflow}{if} (constructor-\/>initial\_map()-\/>elements\_kind() !=}
\DoxyCodeLine{366         old\_map-\/>elements\_kind()) \{}
\DoxyCodeLine{367       \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{368     \}}
\DoxyCodeLine{369     \textcolor{keywordflow}{return} constructor-\/>initial\_map();}
\DoxyCodeLine{370   \}}
\DoxyCodeLine{371 }
\DoxyCodeLine{372   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.move\_prototype\_transitions\_first \&\&}
\DoxyCodeLine{373       root\_map-\/>prototype() != old\_map-\/>prototype()) \{}
\DoxyCodeLine{374     \textcolor{keyword}{auto} maybe\_transition = \mbox{\hyperlink{classv8_1_1internal_1_1TransitionsAccessor_a20df3aba83cced04f0675bdd7d773d48}{TransitionsAccessor::GetPrototypeTransition}}(}
\DoxyCodeLine{375         isolate, root\_map, old\_map-\/>prototype());}
\DoxyCodeLine{376     \textcolor{keywordflow}{if} (!maybe\_transition) \{}
\DoxyCodeLine{377       \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{378     \}}
\DoxyCodeLine{379     root\_map = *maybe\_transition;}
\DoxyCodeLine{380   \}}
\DoxyCodeLine{381 }
\DoxyCodeLine{382   \textcolor{keywordflow}{if} (!old\_map-\/>EquivalentToForTransition(root\_map, cmode)) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{383 }
\DoxyCodeLine{384   \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{ElementsKind}} from\_kind = root\_map-\/>elements\_kind();}
\DoxyCodeLine{385   \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{ElementsKind}} to\_kind = old\_map-\/>elements\_kind();}
\DoxyCodeLine{386 }
\DoxyCodeLine{387   IntegrityLevelTransitionInfo info(old\_map);}
\DoxyCodeLine{388   \textcolor{keywordflow}{if} (root\_map-\/>is\_extensible() != old\_map-\/>is\_extensible()) \{}
\DoxyCodeLine{389     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!old\_map-\/>is\_extensible());}
\DoxyCodeLine{390     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(root\_map-\/>is\_extensible());}
\DoxyCodeLine{391     info = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_a5204267fe2437415119dd2979b447302}{DetectIntegrityLevelTransitions}}(old\_map, isolate, \&\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}}, cmode);}
\DoxyCodeLine{392     \textcolor{comment}{// Bail out if there were some private symbol transitions mixed up}}
\DoxyCodeLine{393     \textcolor{comment}{// with the integrity level transitions.}}
\DoxyCodeLine{394     \textcolor{keywordflow}{if} (!info.has\_integrity\_level\_transition) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{395     \textcolor{comment}{// Make sure to replay the original elements kind transitions, before}}
\DoxyCodeLine{396     \textcolor{comment}{// the integrity level transition sets the elements to dictionary mode.}}
\DoxyCodeLine{397     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(to\_kind == \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37}{DICTIONARY\_ELEMENTS}} ||}
\DoxyCodeLine{398            to\_kind == \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149ca6f1bdf5c8e2bb9db9d77063c18e3be8a}{SLOW\_STRING\_WRAPPER\_ELEMENTS}} ||}
\DoxyCodeLine{399            \mbox{\hyperlink{namespacev8_1_1internal_a94ba22a03b2597d3d179aa45a228d67a}{IsTypedArrayOrRabGsabTypedArrayElementsKind}}(to\_kind) ||}
\DoxyCodeLine{400            \mbox{\hyperlink{namespacev8_1_1internal_a27202b6f0818cc28c6f2bded2cd0211c}{IsAnyHoleyNonextensibleElementsKind}}(to\_kind));}
\DoxyCodeLine{401     to\_kind = info.integrity\_level\_source\_map-\/>elements\_kind();}
\DoxyCodeLine{402   \}}
\DoxyCodeLine{403   \textcolor{keywordflow}{if} (from\_kind != to\_kind) \{}
\DoxyCodeLine{404     \textcolor{comment}{// Try to follow existing elements kind transitions.}}
\DoxyCodeLine{405     root\_map = root\_map-\/>LookupElementsTransitionMap(isolate, to\_kind, cmode);}
\DoxyCodeLine{406     \textcolor{keywordflow}{if} (root\_map.is\_null()) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{407     \textcolor{comment}{// From here on, use the map with correct elements kind as root map.}}
\DoxyCodeLine{408   \}}
\DoxyCodeLine{409 }
\DoxyCodeLine{410   \textcolor{comment}{// Replay the transitions as they were before the integrity level transition.}}
\DoxyCodeLine{411   Tagged<Map> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = root\_map-\/>TryReplayPropertyTransitions(}
\DoxyCodeLine{412       isolate, info.integrity\_level\_source\_map, cmode);}
\DoxyCodeLine{413   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.is\_null()) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{414 }
\DoxyCodeLine{415   \textcolor{keywordflow}{if} (info.has\_integrity\_level\_transition) \{}
\DoxyCodeLine{416     \textcolor{comment}{// Now replay the integrity level transition.}}
\DoxyCodeLine{417     \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = TransitionsAccessor(isolate, *\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}, \mbox{\hyperlink{namespacev8_1_1internal_aec984e37242506ca572e0222f9e307a6}{IsConcurrent}}(cmode))}
\DoxyCodeLine{418                  .SearchSpecial(info.integrity\_level\_symbol);}
\DoxyCodeLine{419   \}}
\DoxyCodeLine{420   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.is\_null()) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{421 }
\DoxyCodeLine{422   \textcolor{comment}{// TODO(olivf, 370536107): For investigating crashes. Should become a CHECK}}
\DoxyCodeLine{423   \textcolor{comment}{// again once resolved.}}
\DoxyCodeLine{424   \textcolor{keywordflow}{if} (old\_map-\/>elements\_kind() != (*result)-\/>elements\_kind()) \{}
\DoxyCodeLine{425     isolate-\/>PushStackTraceAndDie(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(old\_map.\mbox{\hyperlink{classv8_1_1internal_1_1Tagged_3_01HeapObject_01_4_a07c12d3bf0972861e1c5aefabd00971f}{address}}()),}
\DoxyCodeLine{426                                   \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}((*result).address()),}
\DoxyCodeLine{427                                   \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(root\_map.address()));}
\DoxyCodeLine{428   \}}
\DoxyCodeLine{429   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(old\_map-\/>instance\_type(), (*result)-\/>instance\_type());}
\DoxyCodeLine{430   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{431 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::address(), CHECK\+\_\+\+EQ, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Detect\+Integrity\+Level\+Transitions(), v8\+::internal\+::\+DICTIONARY\+\_\+\+ELEMENTS, v8\+::internal\+::\+Transitions\+Accessor\+::\+Get\+Prototype\+Transition(), v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::is\+\_\+null(), v8\+::internal\+::\+Is\+Any\+Holey\+Nonextensible\+Elements\+Kind(), v8\+::internal\+::\+Is\+Concurrent(), v8\+::internal\+::\+Is\+Typed\+Array\+Or\+Rab\+Gsab\+Typed\+Array\+Elements\+Kind(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, v8\+::internal\+::\+Isolate\+::\+Push\+Stack\+Trace\+And\+Die(), v8\+::base\+::internal\+::result, v8\+::internal\+::\+Transitions\+Accessor\+::\+Search\+Special(), v8\+::internal\+::\+SLOW\+\_\+\+STRING\+\_\+\+WRAPPER\+\_\+\+ELEMENTS, and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::compiler\+::\+JSHeap\+Broker\+::\+Read\+Feedback\+For\+Property\+Access(), v8\+::internal\+::anonymous\+\_\+namespace\{map.\+cc\}\+::\+Search\+Migration\+Target(), and v8\+::internal\+::\+Map\+::\+Try\+Update().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a9bed85b35162390b6cd90f5598f8947e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a9bed85b35162390b6cd90f5598f8947e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_ad9af4bdcc4d58fa609e0156c89ae483d}\label{classv8_1_1internal_1_1MapUpdater_ad9af4bdcc4d58fa609e0156c89ae483d}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!Update@{Update}}
\index{Update@{Update}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{Update()}{Update()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 274 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{274                                \{}
\DoxyCodeLine{275   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} mutex\_guard(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a1330d64023302e0b195abbae203a6ae6}{map\_updater\_access}}());}
\DoxyCodeLine{276   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a34fb1a6f4761d31d6b546730ba684632}{UpdateImpl}}();}
\DoxyCodeLine{277 \}}

\end{DoxyCode}


References isolate\+\_\+, v8\+::internal\+::\+Isolate\+::map\+\_\+updater\+\_\+access(), and Update\+Impl().



Referenced by Apply\+Prototype\+Transition(), and Reconfigure\+Elements\+Kind().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1MapUpdater_ad9af4bdcc4d58fa609e0156c89ae483d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_ad9af4bdcc4d58fa609e0156c89ae483d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a07aba2a1c4674b213666f0bcf9cdda2a}\label{classv8_1_1internal_1_1MapUpdater_a07aba2a1c4674b213666f0bcf9cdda2a}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!UpdateFieldType@{UpdateFieldType}}
\index{UpdateFieldType@{UpdateFieldType}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{UpdateFieldType()}{UpdateFieldType()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Map\+Updater\+::\+Update\+Field\+Type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{map,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}}}]{descriptor\+\_\+number,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Name}{Name}} $>$}]{name,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}}}]{new\+\_\+constness,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}}}]{new\+\_\+representation,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}} $>$}]{new\+\_\+type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 1213 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1218                                                                    \{}
\DoxyCodeLine{1219   \textcolor{comment}{// We store raw pointers in the queue, so no allocations are allowed.}}
\DoxyCodeLine{1220   \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{1221   PropertyDetails details =}
\DoxyCodeLine{1222       map-\/>instance\_descriptors(isolate)-\/>GetDetails(descriptor);}
\DoxyCodeLine{1223   \textcolor{keywordflow}{if} (details.location() != \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{PropertyLocation::kField}}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{1224   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{PropertyKind::kData}}, details.kind());}
\DoxyCodeLine{1225 }
\DoxyCodeLine{1226   \textcolor{keywordflow}{if} (new\_constness != details.constness() \&\& map-\/>is\_prototype\_map()) \{}
\DoxyCodeLine{1227     \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_a6778b7efad46d382d16a9ead08dbfa66}{JSObject::InvalidatePrototypeChains}}(*map);}
\DoxyCodeLine{1228   \}}
\DoxyCodeLine{1229 }
\DoxyCodeLine{1230   std::queue<Tagged<Map>> backlog;}
\DoxyCodeLine{1231   backlog.push(*map);}
\DoxyCodeLine{1232   std::vector<Tagged<Map>> sidestep\_transition;}
\DoxyCodeLine{1233 }
\DoxyCodeLine{1234   ReadOnlyRoots roots(isolate);}
\DoxyCodeLine{1235   \textcolor{keywordflow}{while} (!backlog.empty()) \{}
\DoxyCodeLine{1236     Tagged<Map> current = backlog.front();}
\DoxyCodeLine{1237     backlog.pop();}
\DoxyCodeLine{1238 }
\DoxyCodeLine{1239     TransitionsAccessor transitions(isolate, current);}
\DoxyCodeLine{1240     transitions.ForEachTransition(}
\DoxyCodeLine{1241         \&\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}}, [\&](Tagged<Map> target) \{ backlog.push(target); \},}
\DoxyCodeLine{1242         [\&](Tagged<Map> target) \{}
\DoxyCodeLine{1243           \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.move\_prototype\_transitions\_first) \{}
\DoxyCodeLine{1244             backlog.push(target);}
\DoxyCodeLine{1245           \}}
\DoxyCodeLine{1246         \},}
\DoxyCodeLine{1247         [\&](\mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} target) \{}
\DoxyCodeLine{1248           \textcolor{keywordflow}{if} (!target.IsSmi() \&\& !Cast<Map>(target)-\/>is\_deprecated()) \{}
\DoxyCodeLine{1249             sidestep\_transition.push\_back(Cast<Map>(target));}
\DoxyCodeLine{1250           \}}
\DoxyCodeLine{1251         \});}
\DoxyCodeLine{1252 }
\DoxyCodeLine{1253     \mbox{\hyperlink{namespacev8_1_1internal_a403f10ce1c7dc18ea5f622a1aaa56285}{Tagged<DescriptorArray>}} descriptors =}
\DoxyCodeLine{1254         current-\/>instance\_descriptors(isolate);}
\DoxyCodeLine{1255     details = descriptors-\/>GetDetails(descriptor);}
\DoxyCodeLine{1256 }
\DoxyCodeLine{1257     \textcolor{comment}{// It is allowed to change representation here only from None}}
\DoxyCodeLine{1258     \textcolor{comment}{// to something or from Smi or HeapObject to Tagged.}}
\DoxyCodeLine{1259     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(details.representation().Equals(new\_representation) ||}
\DoxyCodeLine{1260           details.representation().CanBeInPlaceChangedTo(new\_representation));}
\DoxyCodeLine{1261 }
\DoxyCodeLine{1262     \textcolor{comment}{// Skip if we already updated the shared descriptor or the target was more}}
\DoxyCodeLine{1263     \textcolor{comment}{// general in the first place.}}
\DoxyCodeLine{1264     \textcolor{keywordflow}{if} (new\_constness == details.constness() \&\&}
\DoxyCodeLine{1265         new\_representation.Equals(details.representation()) \&\&}
\DoxyCodeLine{1266         \mbox{\hyperlink{classv8_1_1internal_1_1FieldType_a6652f43f8b4e3c217124374a2f4b1172}{FieldType::Equals}}(descriptors-\/>GetFieldType(descriptor), *new\_type)) \{}
\DoxyCodeLine{1267       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1268     \}}
\DoxyCodeLine{1269 }
\DoxyCodeLine{1270     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_a82b24872512218708764e7261b3e2a66}{IsClass}}(*new\_type), new\_representation.IsHeapObject());}
\DoxyCodeLine{1271     MaybeObjectDirectHandle wrapped\_type(\mbox{\hyperlink{classv8_1_1internal_1_1Map_a44318765b7add7bd3056301027f4aa5e}{Map::WrapFieldType}}(new\_type));}
\DoxyCodeLine{1272     Descriptor d = \mbox{\hyperlink{classv8_1_1internal_1_1Descriptor_a2782160995ef5a9c515d8cee9a6b2d85}{Descriptor::DataField}}(}
\DoxyCodeLine{1273         \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}}, descriptors-\/>GetFieldIndex(descriptor), details.attributes(),}
\DoxyCodeLine{1274         new\_constness, new\_representation, wrapped\_type);}
\DoxyCodeLine{1275     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(descriptors-\/>GetKey(descriptor), *d.key\_);}
\DoxyCodeLine{1276     descriptors-\/>Replace(descriptor, \&d);}
\DoxyCodeLine{1277   \}}
\DoxyCodeLine{1278 }
\DoxyCodeLine{1279   \textcolor{keywordflow}{for} (Tagged<Map> current : sidestep\_transition) \{}
\DoxyCodeLine{1280     \mbox{\hyperlink{namespacev8_1_1internal_a403f10ce1c7dc18ea5f622a1aaa56285}{Tagged<DescriptorArray>}} descriptors =}
\DoxyCodeLine{1281         current-\/>instance\_descriptors(isolate);}
\DoxyCodeLine{1282     details = descriptors-\/>GetDetails(descriptor);}
\DoxyCodeLine{1283     \textcolor{comment}{// Through side-\/steps we can reach transition trees which are already more}}
\DoxyCodeLine{1284     \textcolor{comment}{// generalized. Ensure we don't re-\/concretize them.}}
\DoxyCodeLine{1285     \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{PropertyConstness}} cur\_new\_constness =}
\DoxyCodeLine{1286         \mbox{\hyperlink{namespacev8_1_1internal_a617d346a46eb703e1719792077e5c2a0}{GeneralizeConstness}}(new\_constness, details.constness());}
\DoxyCodeLine{1287     Representation cur\_new\_representation =}
\DoxyCodeLine{1288         new\_representation.generalize(details.representation());}
\DoxyCodeLine{1289     DirectHandle<FieldType> cur\_new\_type = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02map-updater_8cc_03_a7eae755681e278977f2ae4a11bf949d9}{GeneralizeFieldType}}(}
\DoxyCodeLine{1290         details.representation(),}
\DoxyCodeLine{1291         \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(descriptors-\/>GetFieldType(descriptor), isolate),}
\DoxyCodeLine{1292         cur\_new\_representation, new\_type, isolate);}
\DoxyCodeLine{1293     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(new\_representation.fits\_into(cur\_new\_representation));}
\DoxyCodeLine{1294     \textcolor{comment}{// Skip if we already updated the shared descriptor or the target was more}}
\DoxyCodeLine{1295     \textcolor{comment}{// general in the first place.}}
\DoxyCodeLine{1296     \textcolor{keywordflow}{if} (cur\_new\_constness != details.constness() ||}
\DoxyCodeLine{1297         !cur\_new\_representation.Equals(details.representation()) ||}
\DoxyCodeLine{1298         !\mbox{\hyperlink{classv8_1_1internal_1_1FieldType_a6652f43f8b4e3c217124374a2f4b1172}{FieldType::Equals}}(descriptors-\/>GetFieldType(descriptor),}
\DoxyCodeLine{1299                            *cur\_new\_type)) \{}
\DoxyCodeLine{1300       \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a04012f11ce54cbce8115f4249c472e3a}{GeneralizeField}}(isolate, \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(current, isolate), descriptor,}
\DoxyCodeLine{1301                       cur\_new\_constness, cur\_new\_representation, cur\_new\_type);}
\DoxyCodeLine{1302     \}}
\DoxyCodeLine{1303   \}}
\DoxyCodeLine{1304 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Property\+Details\+::attributes(), v8\+::internal\+::\+Representation\+::\+Can\+Be\+In\+Place\+Changed\+To(), CHECK, CHECK\+\_\+\+EQ, v8\+::internal\+::\+Property\+Details\+::constness(), v8\+::internal\+::\+Descriptor\+::\+Data\+Field(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::\+Representation\+::\+Equals(), v8\+::internal\+::\+Field\+Type\+::\+Equals(), v8\+::internal\+::\+Representation\+::fits\+\_\+into(), v8\+::internal\+::\+Transitions\+Accessor\+::\+For\+Each\+Transition(), v8\+::internal\+::\+Representation\+::generalize(), v8\+::internal\+::\+Generalize\+Constness(), Generalize\+Field(), v8\+::internal\+::anonymous\+\_\+namespace\{map-\/updater.\+cc\}\+::\+Generalize\+Field\+Type(), v8\+::internal\+::\+JSObject\+::\+Invalidate\+Prototype\+Chains(), v8\+::internal\+::\+Is\+Class(), v8\+::internal\+::\+Representation\+::\+Is\+Heap\+Object(), v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::\+Is\+Smi(), v8\+::internal\+::k\+Data, v8\+::internal\+::\+Descriptor\+::key\+\_\+, v8\+::internal\+::k\+Field, v8\+::internal\+::\+Property\+Details\+::kind(), v8\+::internal\+::\+Property\+Details\+::location(), v8\+::internal\+::name, v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, v8\+::internal\+::\+Property\+Details\+::representation(), v8\+::internal\+::v8\+\_\+flags, and v8\+::internal\+::\+Map\+::\+Wrap\+Field\+Type().



Referenced by Generalize\+Field().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a07aba2a1c4674b213666f0bcf9cdda2a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a07aba2a1c4674b213666f0bcf9cdda2a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a34fb1a6f4761d31d6b546730ba684632}\label{classv8_1_1internal_1_1MapUpdater_a34fb1a6f4761d31d6b546730ba684632}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!UpdateImpl@{UpdateImpl}}
\index{UpdateImpl@{UpdateImpl}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{UpdateImpl()}{UpdateImpl()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Update\+Impl (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 279 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{279                                    \{}
\DoxyCodeLine{280   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}{kInitialized}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}});}
\DoxyCodeLine{281   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}{new\_prototype\_}}.is\_null() \&\&}
\DoxyCodeLine{282                      \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aa178faa080934fb6dc2099fe469351e6}{new\_elements\_kind\_}} == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>elements\_kind(),}
\DoxyCodeLine{283                  \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>is\_deprecated());}
\DoxyCodeLine{284   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad41dafb34e0c6dc5f39566dbf2b7bae5}{FindRootMap}}() == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}}) \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}};}
\DoxyCodeLine{285   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad976339ab49ddf6e48acd038645fd58c}{FindTargetMap}}() == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}}) \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}};}
\DoxyCodeLine{286   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a65be75fff70ffb063e04326adc452f45}{ConstructNewMap}}() == \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240aee8bd9881bdaa659546a5ab5ddcd0e80}{kAtIntegrityLevelSource}}) \{}
\DoxyCodeLine{287     \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a01c1e00ea1e1e9a445ccd20e6b27afe1}{ConstructNewMapWithIntegrityLevelTransition}}();}
\DoxyCodeLine{288   \}}
\DoxyCodeLine{289   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a5a4f5fa1de82fcd422bbb97bd54f9957}{kEnd}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}{state\_}});}
\DoxyCodeLine{290   \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.fast\_map\_update \&\& \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}-\/>is\_deprecated())) \{}
\DoxyCodeLine{291     \mbox{\hyperlink{classv8_1_1internal_1_1TransitionsAccessor_a64817485831624fe362de42517e75283}{TransitionsAccessor::SetMigrationTarget}}(\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}{isolate\_}}, \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}{old\_map\_}}, *\mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}});}
\DoxyCodeLine{292   \}}
\DoxyCodeLine{293   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}{result\_map\_}};}
\DoxyCodeLine{294 \}}

\end{DoxyCode}


References CHECK\+\_\+\+EQ, Construct\+New\+Map(), Construct\+New\+Map\+With\+Integrity\+Level\+Transition(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, Find\+Root\+Map(), Find\+Target\+Map(), isolate\+\_\+, k\+At\+Integrity\+Level\+Source, k\+End, k\+Initialized, new\+\_\+elements\+\_\+kind\+\_\+, new\+\_\+prototype\+\_\+, old\+\_\+map\+\_\+, result\+\_\+map\+\_\+, v8\+::internal\+::\+Transitions\+Accessor\+::\+Set\+Migration\+Target(), state\+\_\+, v8\+::internal\+::v8\+\_\+flags, and V8\+\_\+\+UNLIKELY.



Referenced by Update().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1MapUpdater_a34fb1a6f4761d31d6b546730ba684632_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1MapUpdater_a34fb1a6f4761d31d6b546730ba684632_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_ac2d4957346bf57372511762949b9a05c}\label{classv8_1_1internal_1_1MapUpdater_ac2d4957346bf57372511762949b9a05c}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!UpdateMapNoLock@{UpdateMapNoLock}}
\index{UpdateMapNoLock@{UpdateMapNoLock}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{UpdateMapNoLock()}{UpdateMapNoLock()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ v8\+::internal\+::\+Map\+Updater\+::\+Update\+Map\+No\+Lock (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{old\+\_\+map }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 264 of file map-\/updater.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{265                                                                      \{}
\DoxyCodeLine{266   \textcolor{keywordflow}{if} (!map-\/>is\_deprecated()) \textcolor{keywordflow}{return} map;}
\DoxyCodeLine{267   \textcolor{comment}{// TODO(ishell): support fast map updating if we enable it.}}
\DoxyCodeLine{268   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.fast\_map\_update);}
\DoxyCodeLine{269   \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_ad1c3a630212f0098faee5233c1be5dc0}{MapUpdater}} \mbox{\hyperlink{namespacev8_1_1internal_ac32ecba880a377a7f55cbaac76cdb604a9dd99cf48494ee0277563736ce16a91a}{mu}}(isolate, map);}
\DoxyCodeLine{270   \textcolor{comment}{// Update map without locking the Isolate::map\_updater\_access mutex.}}
\DoxyCodeLine{271   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_ac32ecba880a377a7f55cbaac76cdb604a9dd99cf48494ee0277563736ce16a91a}{mu}}.UpdateImpl();}
\DoxyCodeLine{272 \}}

\end{DoxyCode}


References CHECK, v8\+::internal\+::mu, and v8\+::internal\+::v8\+\_\+flags.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a19f65433523c408df90eb032c1ef1406}\label{classv8_1_1internal_1_1MapUpdater_a19f65433523c408df90eb032c1ef1406}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!has\_integrity\_level\_transition\_@{has\_integrity\_level\_transition\_}}
\index{has\_integrity\_level\_transition\_@{has\_integrity\_level\_transition\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{has\_integrity\_level\_transition\_}{has\_integrity\_level\_transition\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Map\+Updater\+::has\+\_\+integrity\+\_\+level\+\_\+transition\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 232 of file map-\/updater.\+h.



Referenced by Construct\+New\+Map(), Find\+Target\+Map(), and Try\+Save\+Integrity\+Level\+Transitions().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_af4f8ebf63a8cbed7b8b5236f510319fc}\label{classv8_1_1internal_1_1MapUpdater_af4f8ebf63a8cbed7b8b5236f510319fc}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!integrity\_level\_@{integrity\_level\_}}
\index{integrity\_level\_@{integrity\_level\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{integrity\_level\_}{integrity\_level\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{Property\+Attributes}} v8\+::internal\+::\+Map\+Updater\+::integrity\+\_\+level\+\_\+ = \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 233 of file map-\/updater.\+h.



Referenced by Construct\+New\+Map\+With\+Integrity\+Level\+Transition(), Get\+Details(), and Try\+Save\+Integrity\+Level\+Transitions().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_aa29919747bbddb076ce7adb9816e1fb0}\label{classv8_1_1internal_1_1MapUpdater_aa29919747bbddb076ce7adb9816e1fb0}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!integrity\_level\_symbol\_@{integrity\_level\_symbol\_}}
\index{integrity\_level\_symbol\_@{integrity\_level\_symbol\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{integrity\_level\_symbol\_}{integrity\_level\_symbol\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Symbol}{Symbol}}$>$ v8\+::internal\+::\+Map\+Updater\+::integrity\+\_\+level\+\_\+symbol\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 234 of file map-\/updater.\+h.



Referenced by Construct\+New\+Map\+With\+Integrity\+Level\+Transition(), Find\+Target\+Map(), and Try\+Save\+Integrity\+Level\+Transitions().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}\label{classv8_1_1internal_1_1MapUpdater_ac928eae35738ab4dbed649b8b4fe5eb7}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!integrity\_source\_map\_@{integrity\_source\_map\_}}
\index{integrity\_source\_map\_@{integrity\_source\_map\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{integrity\_source\_map\_}{integrity\_source\_map\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}}$>$ v8\+::internal\+::\+Map\+Updater\+::integrity\+\_\+source\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 235 of file map-\/updater.\+h.



Referenced by Find\+Root\+Map(), Generalize\+Field(), and Try\+Save\+Integrity\+Level\+Transitions().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a53123e5f6d38c9ea2fdb5401fe553a2f}\label{classv8_1_1internal_1_1MapUpdater_a53123e5f6d38c9ea2fdb5401fe553a2f}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!is\_transitionable\_fast\_elements\_kind\_@{is\_transitionable\_fast\_elements\_kind\_}}
\index{is\_transitionable\_fast\_elements\_kind\_@{is\_transitionable\_fast\_elements\_kind\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{is\_transitionable\_fast\_elements\_kind\_}{is\_transitionable\_fast\_elements\_kind\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Map\+Updater\+::is\+\_\+transitionable\+\_\+fast\+\_\+elements\+\_\+kind\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 239 of file map-\/updater.\+h.



Referenced by Build\+Descriptor\+Array(), and Reconfigure\+Elements\+Kind().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}\label{classv8_1_1internal_1_1MapUpdater_a033070fc24757020360440fe3b7c3418}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!isolate\_@{isolate\_}}
\index{isolate\_@{isolate\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{isolate\_}{isolate\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}}$\ast$ v8\+::internal\+::\+Map\+Updater\+::isolate\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 223 of file map-\/updater.\+h.



Referenced by Apply\+Prototype\+Transition(), Build\+Descriptor\+Array(), Construct\+New\+Map(), Construct\+New\+Map\+With\+Integrity\+Level\+Transition(), Find\+Root\+Map(), Find\+Split\+Map(), Find\+Target\+Map(), Generalize\+Field(), Get\+Or\+Compute\+Field\+Type(), Normalize(), Reconfigure\+To\+Data\+Field(), Try\+Reconfigure\+To\+Data\+Field\+Inplace(), Try\+Save\+Integrity\+Level\+Transitions(), Update(), and Update\+Impl().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}\label{classv8_1_1internal_1_1MapUpdater_aa5a7012cd53d2ac903c27ab400b86e7f}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!modified\_descriptor\_@{modified\_descriptor\_}}
\index{modified\_descriptor\_@{modified\_descriptor\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{modified\_descriptor\_}{modified\_descriptor\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex}{Internal\+Index}} v8\+::internal\+::\+Map\+Updater\+::modified\+\_\+descriptor\+\_\+ = \mbox{\hyperlink{classv8_1_1internal_1_1InternalIndex_a6242d762c44be4717a2e76f109604b4b}{Internal\+Index\+::\+Not\+Found}}()\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 245 of file map-\/updater.\+h.



Referenced by Construct\+New\+Map(), Find\+Root\+Map(), Find\+Target\+Map(), Get\+Details(), Get\+Field\+Type(), Get\+Value(), Reconfigure\+To\+Data\+Field(), and Try\+Reconfigure\+To\+Data\+Field\+Inplace().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a6a5ba23fb8d01d941f1e57f665d9cc24}\label{classv8_1_1internal_1_1MapUpdater_a6a5ba23fb8d01d941f1e57f665d9cc24}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!new\_attributes\_@{new\_attributes\_}}
\index{new\_attributes\_@{new\_attributes\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{new\_attributes\_}{new\_attributes\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436}{Property\+Attributes}} v8\+::internal\+::\+Map\+Updater\+::new\+\_\+attributes\+\_\+ = \mbox{\hyperlink{namespacev8_1_1internal_a352f65439007f2f1b85c997c1ba11436a0e9b4052bcf7e2475e8bbf8f436bf370}{NONE}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 247 of file map-\/updater.\+h.



Referenced by Find\+Root\+Map(), Get\+Details(), Reconfigure\+To\+Data\+Field(), and Try\+Reconfigure\+To\+Data\+Field\+Inplace().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a65345084fef112de78dfd8cad40e5588}\label{classv8_1_1internal_1_1MapUpdater_a65345084fef112de78dfd8cad40e5588}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!new\_constness\_@{new\_constness\_}}
\index{new\_constness\_@{new\_constness\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{new\_constness\_}{new\_constness\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49ac}{Property\+Constness}} v8\+::internal\+::\+Map\+Updater\+::new\+\_\+constness\+\_\+ = \mbox{\hyperlink{namespacev8_1_1internal_ac328869a355886739965287befcc49aca32567d9e5f2d66c9b326c45e800abcf6}{Property\+Constness\+::k\+Mutable}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 248 of file map-\/updater.\+h.



Referenced by Find\+Root\+Map(), Find\+Target\+Map(), Get\+Details(), Reconfigure\+To\+Data\+Field(), and Try\+Reconfigure\+To\+Data\+Field\+Inplace().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_aa178faa080934fb6dc2099fe469351e6}\label{classv8_1_1internal_1_1MapUpdater_aa178faa080934fb6dc2099fe469351e6}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!new\_elements\_kind\_@{new\_elements\_kind\_}}
\index{new\_elements\_kind\_@{new\_elements\_kind\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{new\_elements\_kind\_}{new\_elements\_kind\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{Elements\+Kind}} v8\+::internal\+::\+Map\+Updater\+::new\+\_\+elements\+\_\+kind\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 238 of file map-\/updater.\+h.



Referenced by Find\+Root\+Map(), Normalize(), Reconfigure\+Elements\+Kind(), and Update\+Impl().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}\label{classv8_1_1internal_1_1MapUpdater_a0d372d8eb40086dfceee173e806eb3ad}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!new\_field\_type\_@{new\_field\_type\_}}
\index{new\_field\_type\_@{new\_field\_type\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{new\_field\_type\_}{new\_field\_type\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1FieldType}{Field\+Type}}$>$ v8\+::internal\+::\+Map\+Updater\+::new\+\_\+field\+\_\+type\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 253 of file map-\/updater.\+h.



Referenced by Find\+Root\+Map(), Find\+Target\+Map(), Get\+Field\+Type(), Reconfigure\+To\+Data\+Field(), and Try\+Reconfigure\+To\+Data\+Field\+Inplace().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}\label{classv8_1_1internal_1_1MapUpdater_a5ca335ee7829e1c0afa4b84c16a5f832}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!new\_kind\_@{new\_kind\_}}
\index{new\_kind\_@{new\_kind\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{new\_kind\_}{new\_kind\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81}{Property\+Kind}} v8\+::internal\+::\+Map\+Updater\+::new\+\_\+kind\+\_\+ = \mbox{\hyperlink{namespacev8_1_1internal_ace7045d9fc96e0d36ce22ba112661a81a0ac87546e8b36fcb3034694d4d909ea3}{Property\+Kind\+::k\+Data}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 246 of file map-\/updater.\+h.



Referenced by Find\+Root\+Map(), Find\+Target\+Map(), Get\+Details(), Reconfigure\+To\+Data\+Field(), and Try\+Reconfigure\+To\+Data\+Field\+Inplace().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}\label{classv8_1_1internal_1_1MapUpdater_a0296035233a5b3634cae433b041fa25a}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!new\_location\_@{new\_location\_}}
\index{new\_location\_@{new\_location\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{new\_location\_}{new\_location\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4}{Property\+Location}} v8\+::internal\+::\+Map\+Updater\+::new\+\_\+location\+\_\+ = \mbox{\hyperlink{namespacev8_1_1internal_ae9b0a1942f337021ffd0954056894cc4a7be01c1ae587bb8938b2097146b0499f}{Property\+Location\+::k\+Field}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 249 of file map-\/updater.\+h.



Referenced by Construct\+New\+Map(), Find\+Root\+Map(), Find\+Target\+Map(), Get\+Details(), Get\+Field\+Type(), Get\+Value(), Reconfigure\+To\+Data\+Field(), and Try\+Reconfigure\+To\+Data\+Field\+Inplace().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}\label{classv8_1_1internal_1_1MapUpdater_adc85300d8a330fb2a9e6a340799852a0}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!new\_prototype\_@{new\_prototype\_}}
\index{new\_prototype\_@{new\_prototype\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{new\_prototype\_}{new\_prototype\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{namespacev8_1_1internal_ad0de543e9d6c8bc4c1283135666657fd}{JSPrototype}}$>$ v8\+::internal\+::\+Map\+Updater\+::new\+\_\+prototype\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 241 of file map-\/updater.\+h.



Referenced by Apply\+Prototype\+Transition(), Find\+Root\+Map(), Normalize(), and Update\+Impl().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}\label{classv8_1_1internal_1_1MapUpdater_a0e25d4bc332ad236dada214e27e89202}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!new\_representation\_@{new\_representation\_}}
\index{new\_representation\_@{new\_representation\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{new\_representation\_}{new\_representation\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Representation}{Representation}} v8\+::internal\+::\+Map\+Updater\+::new\+\_\+representation\+\_\+ = \mbox{\hyperlink{classv8_1_1internal_1_1Representation_ace382f041e3e5c2b98fefd107be9927d}{Representation\+::\+None}}()\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 250 of file map-\/updater.\+h.



Referenced by Find\+Root\+Map(), Find\+Target\+Map(), Get\+Details(), Reconfigure\+To\+Data\+Field(), and Try\+Reconfigure\+To\+Data\+Field\+Inplace().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}\label{classv8_1_1internal_1_1MapUpdater_aceb51d8ef7e30b97772ff9681948ee42}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!old\_descriptors\_@{old\_descriptors\_}}
\index{old\_descriptors\_@{old\_descriptors\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{old\_descriptors\_}{old\_descriptors\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1DescriptorArray}{Descriptor\+Array}}$>$ v8\+::internal\+::\+Map\+Updater\+::old\+\_\+descriptors\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 225 of file map-\/updater.\+h.



Referenced by Build\+Descriptor\+Array(), Construct\+New\+Map(), Find\+Root\+Map(), Generalize\+Field(), Get\+Details(), Get\+Field\+Type(), Get\+Key(), Get\+Value(), Reconfigure\+To\+Data\+Field(), Try\+Reconfigure\+To\+Data\+Field\+Inplace(), and Try\+Save\+Integrity\+Level\+Transitions().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}\label{classv8_1_1internal_1_1MapUpdater_a7229e783c24947de0e968a0d31ab5950}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!old\_map\_@{old\_map\_}}
\index{old\_map\_@{old\_map\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{old\_map\_}{old\_map\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}}$>$ v8\+::internal\+::\+Map\+Updater\+::old\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 224 of file map-\/updater.\+h.



Referenced by Apply\+Prototype\+Transition(), Build\+Descriptor\+Array(), Construct\+New\+Map(), Construct\+New\+Map\+With\+Integrity\+Level\+Transition(), Find\+Root\+Map(), Find\+Target\+Map(), Generalize\+Field(), Normalize(), Reconfigure\+To\+Data\+Field(), Try\+Reconfigure\+To\+Data\+Field\+Inplace(), Try\+Save\+Integrity\+Level\+Transitions(), and Update\+Impl().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}\label{classv8_1_1internal_1_1MapUpdater_ab2651542c5170285c34514ee543ba550}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!old\_nof\_@{old\_nof\_}}
\index{old\_nof\_@{old\_nof\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{old\_nof\_}{old\_nof\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Map\+Updater\+::old\+\_\+nof\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 229 of file map-\/updater.\+h.



Referenced by Build\+Descriptor\+Array(), Construct\+New\+Map(), Find\+Split\+Map(), Find\+Target\+Map(), and Try\+Reconfigure\+To\+Data\+Field\+Inplace().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}\label{classv8_1_1internal_1_1MapUpdater_a7a741b6b2cfaa8e477f2348e764ff64a}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!result\_map\_@{result\_map\_}}
\index{result\_map\_@{result\_map\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{result\_map\_}{result\_map\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}}$>$ v8\+::internal\+::\+Map\+Updater\+::result\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 228 of file map-\/updater.\+h.



Referenced by Construct\+New\+Map(), Construct\+New\+Map\+With\+Integrity\+Level\+Transition(), Find\+Root\+Map(), Find\+Target\+Map(), Normalize(), Reconfigure\+To\+Data\+Field(), Try\+Reconfigure\+To\+Data\+Field\+Inplace(), and Update\+Impl().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}\label{classv8_1_1internal_1_1MapUpdater_a5a3ec79e978f14130e1239b1f76150ca}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!root\_map\_@{root\_map\_}}
\index{root\_map\_@{root\_map\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{root\_map\_}{root\_map\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}}$>$ v8\+::internal\+::\+Map\+Updater\+::root\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 226 of file map-\/updater.\+h.



Referenced by Build\+Descriptor\+Array(), Find\+Root\+Map(), Find\+Split\+Map(), and Find\+Target\+Map().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}\label{classv8_1_1internal_1_1MapUpdater_aee22c2ec3557d995b2c50bb5d42f828f}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!state\_@{state\_}}
\index{state\_@{state\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{state\_}{state\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240}{State}} v8\+::internal\+::\+Map\+Updater\+::state\+\_\+ = \mbox{\hyperlink{classv8_1_1internal_1_1MapUpdater_a88927e132aed0245511948f7eb996240a182e513f45c69d6693a6363e228141d0}{k\+Initialized}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 237 of file map-\/updater.\+h.



Referenced by Apply\+Prototype\+Transition(), Construct\+New\+Map(), Construct\+New\+Map\+With\+Integrity\+Level\+Transition(), Find\+Root\+Map(), Find\+Target\+Map(), Normalize(), Reconfigure\+Elements\+Kind(), Reconfigure\+To\+Data\+Field(), Try\+Reconfigure\+To\+Data\+Field\+Inplace(), and Update\+Impl().

\mbox{\Hypertarget{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}\label{classv8_1_1internal_1_1MapUpdater_a4de1c69e8607e2a9020311804905ca17}} 
\index{v8::internal::MapUpdater@{v8::internal::MapUpdater}!target\_map\_@{target\_map\_}}
\index{target\_map\_@{target\_map\_}!v8::internal::MapUpdater@{v8::internal::MapUpdater}}
\doxysubsubsection{\texorpdfstring{target\_map\_}{target\_map\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}}$>$ v8\+::internal\+::\+Map\+Updater\+::target\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 227 of file map-\/updater.\+h.



Referenced by Build\+Descriptor\+Array(), Construct\+New\+Map(), Construct\+New\+Map\+With\+Integrity\+Level\+Transition(), and Find\+Target\+Map().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{map-updater_8h}{map-\/updater.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{map-updater_8cc}{map-\/updater.\+cc}}\end{DoxyCompactItemize}
