\hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy}{}\doxysection{v8\+::internal\+::Paged\+Space\+Allocator\+Policy Class Reference}
\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy}\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}


{\ttfamily \#include $<$main-\/allocator.\+h$>$}



Inheritance diagram for v8\+::internal\+::Paged\+Space\+Allocator\+Policy\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Paged\+Space\+Allocator\+Policy\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_afebe9aad59806ecaf682d032d011e355}{Paged\+Space\+Allocator\+Policy}} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase}{Paged\+Space\+Base}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a1d8cf0775c94df78b63812966a84395c}{space}}, \mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator}{Main\+Allocator}} $\ast$allocator)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a15bc52b3e78f27c78e574a3d52dd8e18}{Ensure\+Allocation}} (\mbox{\hyperlink{classint}{int}} size\+\_\+in\+\_\+bytes, \mbox{\hyperlink{namespacev8_1_1internal_ab6431cd9205265cf49909abcac939803}{Allocation\+Alignment}} alignment, \mbox{\hyperlink{namespacev8_1_1internal_abddbb63b815c1d69390fef2325df451a}{Allocation\+Origin}} origin) final
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a6559ece40d3299d98913a3c2e5b024b7}{Free\+Linear\+Allocation\+Area}} () final
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a7bbb148e64e6e00810602da938f4640e}{Refill\+Lab}} (\mbox{\hyperlink{classint}{int}} size\+\_\+in\+\_\+bytes, \mbox{\hyperlink{namespacev8_1_1internal_abddbb63b815c1d69390fef2325df451a}{Allocation\+Origin}} origin)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_adbbc13d2c022ac7c3b745b13ea2ff17e}{Contribute\+To\+Sweeping}} (uint32\+\_\+t max\+\_\+pages=std\+::numeric\+\_\+limits$<$ uint32\+\_\+t $>$\+::max())
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7}{Try\+Allocation\+From\+Free\+List}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} size\+\_\+in\+\_\+bytes, \mbox{\hyperlink{namespacev8_1_1internal_abddbb63b815c1d69390fef2325df451a}{Allocation\+Origin}} origin)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_ac08daeae30a630f937f7d4718b5be517}{Try\+Expand\+And\+Allocate}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} size\+\_\+in\+\_\+bytes, \mbox{\hyperlink{namespacev8_1_1internal_abddbb63b815c1d69390fef2325df451a}{Allocation\+Origin}} origin)
\item 
\mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a3d6bc595e2304e917104151afb008099}{Try\+Extend\+LAB}} (\mbox{\hyperlink{classint}{int}} size\+\_\+in\+\_\+bytes)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a74850fd847e0f6437239a14b3ab663b8}{Set\+Linear\+Allocation\+Area}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} top, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} limit, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} end)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a88ab70d1630e81410da9f545afb85aad}{Free\+Linear\+Allocation\+Area\+Unsynchronized}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase}{Paged\+Space\+Base}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a67abb399c28482b7ce7bef06439ad112}{Paged\+New\+Space\+Allocator\+Policy}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 70 of file main-\/allocator.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_afebe9aad59806ecaf682d032d011e355}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_afebe9aad59806ecaf682d032d011e355}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!PagedSpaceAllocatorPolicy@{PagedSpaceAllocatorPolicy}}
\index{PagedSpaceAllocatorPolicy@{PagedSpaceAllocatorPolicy}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{PagedSpaceAllocatorPolicy()}{PagedSpaceAllocatorPolicy()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::\+Paged\+Space\+Allocator\+Policy (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase}{Paged\+Space\+Base}} $\ast$}]{space,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator}{Main\+Allocator}} $\ast$}]{allocator }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 72 of file main-\/allocator.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{73       : \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a77b43fb0f4972e3db78e2d4f849e3c2e}{AllocatorPolicy}}(allocator), \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}(\mbox{\hyperlink{flag-definitions_8h_a087fd0337c14e102a4a2abccd41a39ad}{space}}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_adbbc13d2c022ac7c3b745b13ea2ff17e}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_adbbc13d2c022ac7c3b745b13ea2ff17e}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!ContributeToSweeping@{ContributeToSweeping}}
\index{ContributeToSweeping@{ContributeToSweeping}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{ContributeToSweeping()}{ContributeToSweeping()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::\+Contribute\+To\+Sweeping (\begin{DoxyParamCaption}\item[{uint32\+\_\+t}]{max\+\_\+pages = {\ttfamily std\+:\+:numeric\+\_\+limits$<$uint32\+\_\+t$>$\+:\+:max()} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 777 of file main-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{777                                                                        \{}
\DoxyCodeLine{778   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>sweeping\_in\_progress\_for\_space(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}()))}
\DoxyCodeLine{779     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{780   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>sweeper()-\/>IsSweepingDoneForSpace(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}()))}
\DoxyCodeLine{781     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{782 }
\DoxyCodeLine{783   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_main\_thread =}
\DoxyCodeLine{784       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_acac86a713351b3f0de5d8feef31e57c0}{is\_main\_thread}}() ||}
\DoxyCodeLine{785       (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_ac2d637389bbdda7a6192e615dc3fa6c0}{in\_gc}}() \&\& \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a8e36f3d6249bb37268992d059a0a68eb}{isolate\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a146bc22614c875c46edc5d5cf521d6d6}{IsMainThread}}());}
\DoxyCodeLine{786   \textcolor{keyword}{const} \textcolor{keyword}{auto} sweeping\_scope\_kind =}
\DoxyCodeLine{787       is\_main\_thread ? \mbox{\hyperlink{namespacev8_1_1internal_a34c412e70714b6b814e60c4b6883e0eea04ed0d17680a76a1a906aed4ff47cd07}{ThreadKind::kMain}} : \mbox{\hyperlink{namespacev8_1_1internal_a34c412e70714b6b814e60c4b6883e0eea7c58afb43537a264dcd68e698a7b8e3b}{ThreadKind::kBackground}};}
\DoxyCodeLine{788   \textcolor{keyword}{const} \textcolor{keyword}{auto} sweeping\_scope\_id = \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aad499bc7154a594f5a3e7036d683cdfa}{sweeper}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Sweeper_afba019cc1c2be47eef117fb13674fed7}{GetTracingScope}}(}
\DoxyCodeLine{789       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}(), is\_main\_thread);}
\DoxyCodeLine{790 }
\DoxyCodeLine{791   \mbox{\hyperlink{gc-tracer_8h_a44d6debe5f608aa9654172245625ef38}{TRACE\_GC\_EPOCH\_WITH\_FLOW}}(}
\DoxyCodeLine{792       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a8e36f3d6249bb37268992d059a0a68eb}{isolate\_heap}}()-\/>tracer(), sweeping\_scope\_id, sweeping\_scope\_kind,}
\DoxyCodeLine{793       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a8e36f3d6249bb37268992d059a0a68eb}{isolate\_heap}}()-\/>sweeper()-\/>GetTraceIdForFlowEvent(sweeping\_scope\_id),}
\DoxyCodeLine{794       \mbox{\hyperlink{trace-event-no-perfetto_8h_afd116bac8e67a7eafb2b21a62f0a383f}{TRACE\_EVENT\_FLAG\_FLOW\_IN}} | \mbox{\hyperlink{trace-event-no-perfetto_8h_af086bb0f8b985835cc9f35cfe856155f}{TRACE\_EVENT\_FLAG\_FLOW\_OUT}});}
\DoxyCodeLine{795   \textcolor{comment}{// Cleanup invalidated old-\/to-\/new refs for compaction space in the}}
\DoxyCodeLine{796   \textcolor{comment}{// final atomic pause.}}
\DoxyCodeLine{797   \mbox{\hyperlink{classv8_1_1internal_1_1Sweeper_aa9841b1de3652d3ebcedbd7c53c1c20f}{Sweeper::SweepingMode}} sweeping\_mode =}
\DoxyCodeLine{798       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a85e884bf55cb3d38cc08812e02f6afe8}{in\_gc\_for\_space}}() ? \mbox{\hyperlink{classv8_1_1internal_1_1Sweeper_aa9841b1de3652d3ebcedbd7c53c1c20fa075ea0bd83359f48245983d1fe8c9d93}{Sweeper::SweepingMode::kEagerDuringGC}}}
\DoxyCodeLine{799                                     : \mbox{\hyperlink{classv8_1_1internal_1_1Sweeper_aa9841b1de3652d3ebcedbd7c53c1c20fa7d497d1bc842592cb988cc037355041c}{Sweeper::SweepingMode::kLazyOrConcurrent}};}
\DoxyCodeLine{800 }
\DoxyCodeLine{801   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>sweeper()-\/>ParallelSweepSpace(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}(),}
\DoxyCodeLine{802                                                    sweeping\_mode, max\_pages)) \{}
\DoxyCodeLine{803     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{804   \}}
\DoxyCodeLine{805   \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_ad73e6eb832e80e82d6ff11f6626bd27d}{RefillFreeList}}();}
\DoxyCodeLine{806   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{807 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Allocator\+Policy\+::allocator\+\_\+, v8\+::internal\+::\+Sweeper\+::\+Get\+Tracing\+Scope(), v8\+::internal\+::\+Main\+Allocator\+::identity(), v8\+::internal\+::\+Main\+Allocator\+::in\+\_\+gc(), v8\+::internal\+::\+Main\+Allocator\+::in\+\_\+gc\+\_\+for\+\_\+space(), v8\+::internal\+::\+Main\+Allocator\+::is\+\_\+main\+\_\+thread(), v8\+::internal\+::\+Heap\+::\+Is\+Main\+Thread(), v8\+::internal\+::\+Allocator\+Policy\+::isolate\+\_\+heap(), v8\+::internal\+::k\+Background, v8\+::internal\+::\+Sweeper\+::k\+Eager\+During\+GC, v8\+::internal\+::\+Sweeper\+::k\+Lazy\+Or\+Concurrent, v8\+::internal\+::k\+Main, v8\+::internal\+::\+Paged\+Space\+Base\+::\+Refill\+Free\+List(), space\+\_\+, v8\+::internal\+::\+Allocator\+Policy\+::space\+\_\+heap(), v8\+::internal\+::\+Heap\+::sweeper(), TRACE\+\_\+\+EVENT\+\_\+\+FLAG\+\_\+\+FLOW\+\_\+\+IN, TRACE\+\_\+\+EVENT\+\_\+\+FLAG\+\_\+\+FLOW\+\_\+\+OUT, and TRACE\+\_\+\+GC\+\_\+\+EPOCH\+\_\+\+WITH\+\_\+\+FLOW.



Referenced by Refill\+Lab().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_adbbc13d2c022ac7c3b745b13ea2ff17e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_adbbc13d2c022ac7c3b745b13ea2ff17e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a15bc52b3e78f27c78e574a3d52dd8e18}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a15bc52b3e78f27c78e574a3d52dd8e18}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!EnsureAllocation@{EnsureAllocation}}
\index{EnsureAllocation@{EnsureAllocation}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{EnsureAllocation()}{EnsureAllocation()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::\+Ensure\+Allocation (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{size\+\_\+in\+\_\+bytes,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab6431cd9205265cf49909abcac939803}{Allocation\+Alignment}}}]{alignment,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_abddbb63b815c1d69390fef2325df451a}{Allocation\+Origin}}}]{origin }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_af06a3a47b3f7b1b3513e591f90cc854c}{v8\+::internal\+::\+Allocator\+Policy}}.



Definition at line 637 of file main-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{639                                                                           \{}
\DoxyCodeLine{640   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}() == \mbox{\hyperlink{namespacev8_1_1internal_aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621}{NEW\_SPACE}}) \{}
\DoxyCodeLine{641     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_acac86a713351b3f0de5d8feef31e57c0}{is\_main\_thread}}());}
\DoxyCodeLine{642     \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ac199c8f106f7ff941c50e181b826013e}{StartMinorMSConcurrentMarkingIfNeeded}}();}
\DoxyCodeLine{643   \}}
\DoxyCodeLine{644   \textcolor{keywordflow}{if} ((\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}() != \mbox{\hyperlink{namespacev8_1_1internal_aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621}{NEW\_SPACE}}) \&\& !\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_ac2d637389bbdda7a6192e615dc3fa6c0}{in\_gc}}()) \{}
\DoxyCodeLine{645     \textcolor{comment}{// Start incremental marking before the actual allocation, this allows the}}
\DoxyCodeLine{646     \textcolor{comment}{// allocation function to mark the object black when incremental marking is}}
\DoxyCodeLine{647     \textcolor{comment}{// running.}}
\DoxyCodeLine{648     \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a20c408e4240009e8b06be3d4e90c38a0}{StartIncrementalMarkingIfAllocationLimitIsReached}}(}
\DoxyCodeLine{649         \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a200bb5c3cdd47d2cedc85d849e92d005}{local\_heap}}(), \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>GCFlagsForIncrementalMarking(),}
\DoxyCodeLine{650         \mbox{\hyperlink{namespacev8_a247c37a849f4d6c293b9b16e94e1944ba3965207185f00eea9fa06942f2ed781f}{kGCCallbackScheduleIdleGarbageCollection}});}
\DoxyCodeLine{651   \}}
\DoxyCodeLine{652 }
\DoxyCodeLine{653   \textcolor{comment}{// We don't know exactly how much filler we need to align until space is}}
\DoxyCodeLine{654   \textcolor{comment}{// allocated, so assume the worst case.}}
\DoxyCodeLine{655   size\_in\_bytes += \mbox{\hyperlink{classv8_1_1internal_1_1Heap_aa15cca2d6265fd11e04ca74439f1e411}{Heap::GetMaximumFillToAlign}}(alignment);}
\DoxyCodeLine{656   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a35323f723fdbbd0935d8d971d7df251e}{allocation\_info}}().\mbox{\hyperlink{classv8_1_1internal_1_1LinearAllocationArea_adf8dd840f4bc2d66d0d191edcaaba5a9}{top}}() + size\_in\_bytes <=}
\DoxyCodeLine{657       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a35323f723fdbbd0935d8d971d7df251e}{allocation\_info}}().\mbox{\hyperlink{classv8_1_1internal_1_1LinearAllocationArea_aee95eb1b6de3410c859638fc32be98e1}{limit}}()) \{}
\DoxyCodeLine{658     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{659   \}}
\DoxyCodeLine{660   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a7bbb148e64e6e00810602da938f4640e}{RefillLab}}(size\_in\_bytes, origin);}
\DoxyCodeLine{661 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Main\+Allocator\+::allocation\+\_\+info(), v8\+::internal\+::\+Allocator\+Policy\+::allocator\+\_\+, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Heap\+::\+Get\+Maximum\+Fill\+To\+Align(), v8\+::internal\+::\+Main\+Allocator\+::identity(), v8\+::internal\+::\+Main\+Allocator\+::in\+\_\+gc(), v8\+::internal\+::\+Main\+Allocator\+::is\+\_\+main\+\_\+thread(), v8\+::k\+GCCallback\+Schedule\+Idle\+Garbage\+Collection, v8\+::internal\+::\+Linear\+Allocation\+Area\+::limit(), v8\+::internal\+::\+Main\+Allocator\+::local\+\_\+heap(), v8\+::internal\+::\+NEW\+\_\+\+SPACE, Refill\+Lab(), v8\+::internal\+::\+Allocator\+Policy\+::space\+\_\+heap(), v8\+::internal\+::\+Heap\+::\+Start\+Incremental\+Marking\+If\+Allocation\+Limit\+Is\+Reached(), v8\+::internal\+::\+Heap\+::\+Start\+Minor\+MSConcurrent\+Marking\+If\+Needed(), and v8\+::internal\+::\+Linear\+Allocation\+Area\+::top().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a15bc52b3e78f27c78e574a3d52dd8e18_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a6559ece40d3299d98913a3c2e5b024b7}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a6559ece40d3299d98913a3c2e5b024b7}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!FreeLinearAllocationArea@{FreeLinearAllocationArea}}
\index{FreeLinearAllocationArea@{FreeLinearAllocationArea}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{FreeLinearAllocationArea()}{FreeLinearAllocationArea()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::\+Free\+Linear\+Allocation\+Area (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a54d07ddf51b3b6aa032e9ddca0be055a}{v8\+::internal\+::\+Allocator\+Policy}}.



Definition at line 904 of file main-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{904                                                          \{}
\DoxyCodeLine{905   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_af63591da1398980234236b7168175772}{IsLabValid}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{906 }
\DoxyCodeLine{907   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_a7267d7fa54a1ba63250609a4952a01f8}{mutex}}());}
\DoxyCodeLine{908   \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a88ab70d1630e81410da9f545afb85aad}{FreeLinearAllocationAreaUnsynchronized}}();}
\DoxyCodeLine{909 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Allocator\+Policy\+::allocator\+\_\+, Free\+Linear\+Allocation\+Area\+Unsynchronized(), v8\+::internal\+::\+Main\+Allocator\+::\+Is\+Lab\+Valid(), v8\+::internal\+::\+Paged\+Space\+Base\+::mutex(), and space\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a6559ece40d3299d98913a3c2e5b024b7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a88ab70d1630e81410da9f545afb85aad}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a88ab70d1630e81410da9f545afb85aad}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!FreeLinearAllocationAreaUnsynchronized@{FreeLinearAllocationAreaUnsynchronized}}
\index{FreeLinearAllocationAreaUnsynchronized@{FreeLinearAllocationAreaUnsynchronized}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{FreeLinearAllocationAreaUnsynchronized()}{FreeLinearAllocationAreaUnsynchronized()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::\+Free\+Linear\+Allocation\+Area\+Unsynchronized (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 911 of file main-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{911                                                                        \{}
\DoxyCodeLine{912   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_af63591da1398980234236b7168175772}{IsLabValid}}()) \textcolor{keywordflow}{return};}
\DoxyCodeLine{913 }
\DoxyCodeLine{914 \textcolor{preprocessor}{\#if DEBUG}}
\DoxyCodeLine{915   \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>Verify();}
\DoxyCodeLine{916 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// DEBUG}}
\DoxyCodeLine{917 }
\DoxyCodeLine{918   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} current\_top = \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_affcbea59347c2fdd71bfdf184be65197}{top}}();}
\DoxyCodeLine{919   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} current\_limit = \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a87bf7756f4eaff609ab0738e6f69cd85}{limit}}();}
\DoxyCodeLine{920 }
\DoxyCodeLine{921   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} current\_max\_limit = \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a4f32e0407efc5210acbc1a28bf85ab1f}{extended\_limit}}();}
\DoxyCodeLine{922   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(!\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a3672023e6b895e7e944c4cb984845b9c}{supports\_extending\_lab}}(),}
\DoxyCodeLine{923                  current\_max\_limit == current\_limit);}
\DoxyCodeLine{924 }
\DoxyCodeLine{925   \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a9c545420b859257ddc98151e534727e8}{AdvanceAllocationObservers}}();}
\DoxyCodeLine{926 }
\DoxyCodeLine{927   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.black\_allocated\_pages) \{}
\DoxyCodeLine{928     \textcolor{keywordflow}{if} (current\_top != current\_limit \&\&}
\DoxyCodeLine{929         \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a377b579db86387909955e1b1b091a0fd}{IsBlackAllocationEnabled}}()) \{}
\DoxyCodeLine{930       \mbox{\hyperlink{classv8_1_1internal_1_1PageMetadata_ac98f3f3e496e71c96694c69c63171ddb}{PageMetadata::FromAddress}}(current\_top)}
\DoxyCodeLine{931           -\/>\mbox{\hyperlink{classv8_1_1internal_1_1PageMetadata_ae092508b0b40b2ef445cfba1e4c9cb99}{DestroyBlackArea}}(current\_top, current\_limit);}
\DoxyCodeLine{932     \}}
\DoxyCodeLine{933   \}}
\DoxyCodeLine{934 }
\DoxyCodeLine{935   \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a1a0f7a43f9aeac29f2f4cc4a712cc97e}{ResetLab}}(\mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}}, \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}}, \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}});}
\DoxyCodeLine{936   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(current\_limit, current\_top);}
\DoxyCodeLine{937 }
\DoxyCodeLine{938   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(current\_limit -\/ current\_top >= 2 * \mbox{\hyperlink{namespacev8_1_1internal_a12d50d7bb2c9d8a916ff0785e6eff241}{kTaggedSize}},}
\DoxyCodeLine{939                  \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>marking\_state()-\/>IsUnmarked(}
\DoxyCodeLine{940                      \mbox{\hyperlink{classv8_1_1internal_1_1HeapObject_aa18961d55321b920bd98b2fbcf729775}{HeapObject::FromAddress}}(current\_top)));}
\DoxyCodeLine{941   \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_a07f17c1d2c09285262b50953d503c972}{Free}}(current\_top, current\_max\_limit -\/ current\_top);}
\DoxyCodeLine{942 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Main\+Allocator\+::\+Advance\+Allocation\+Observers(), v8\+::internal\+::\+Allocator\+Policy\+::allocator\+\_\+, DCHECK\+\_\+\+GE, DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+Page\+Metadata\+::\+Destroy\+Black\+Area(), v8\+::internal\+::\+Main\+Allocator\+::extended\+\_\+limit(), v8\+::internal\+::\+Paged\+Space\+Base\+::\+Free(), v8\+::internal\+::\+Page\+Metadata\+::\+From\+Address(), v8\+::internal\+::\+Heap\+Object\+::\+From\+Address(), v8\+::internal\+::\+Main\+Allocator\+::\+Is\+Black\+Allocation\+Enabled(), v8\+::internal\+::\+Main\+Allocator\+::\+Is\+Lab\+Valid(), v8\+::internal\+::k\+Null\+Address, v8\+::internal\+::k\+Tagged\+Size, v8\+::internal\+::\+Main\+Allocator\+::limit(), v8\+::internal\+::\+Main\+Allocator\+::\+Reset\+Lab(), space\+\_\+, v8\+::internal\+::\+Allocator\+Policy\+::space\+\_\+heap(), v8\+::internal\+::\+Main\+Allocator\+::supports\+\_\+extending\+\_\+lab(), v8\+::internal\+::\+Main\+Allocator\+::top(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Free\+Linear\+Allocation\+Area(), and Try\+Allocation\+From\+Free\+List().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a88ab70d1630e81410da9f545afb85aad_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a88ab70d1630e81410da9f545afb85aad_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a7bbb148e64e6e00810602da938f4640e}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a7bbb148e64e6e00810602da938f4640e}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!RefillLab@{RefillLab}}
\index{RefillLab@{RefillLab}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{RefillLab()}{RefillLab()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::\+Refill\+Lab (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{size\+\_\+in\+\_\+bytes,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_abddbb63b815c1d69390fef2325df451a}{Allocation\+Origin}}}]{origin }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 663 of file main-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{664                                                                    \{}
\DoxyCodeLine{665   \textcolor{comment}{// Allocation in this space has failed.}}
\DoxyCodeLine{666   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(size\_in\_bytes, 0);}
\DoxyCodeLine{667 }
\DoxyCodeLine{668   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a3d6bc595e2304e917104151afb008099}{TryExtendLAB}}(size\_in\_bytes)) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{669 }
\DoxyCodeLine{670   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7}{TryAllocationFromFreeList}}(size\_in\_bytes, origin)) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{671 }
\DoxyCodeLine{672   \textcolor{comment}{// Don't steal pages from the shared space of the main isolate if running as a}}
\DoxyCodeLine{673   \textcolor{comment}{// client. The issue is that the concurrent marker may be running on the main}}
\DoxyCodeLine{674   \textcolor{comment}{// isolate and may reach the page and read its flags, which will then end up}}
\DoxyCodeLine{675   \textcolor{comment}{// in a race, when the page of the compaction space will be merged back to the}}
\DoxyCodeLine{676   \textcolor{comment}{// main space. For the same reason, don't take swept pages from the main}}
\DoxyCodeLine{677   \textcolor{comment}{// shared space.}}
\DoxyCodeLine{678   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} running\_from\_client\_isolate\_and\_allocating\_in\_shared\_space =}
\DoxyCodeLine{679       (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}() == \mbox{\hyperlink{namespacev8_1_1internal_aa131d4fd9972fd8dfbec01a9243d9fefa800a76ff776aa278523aa6176cf222a8}{SHARED\_SPACE}}) \&\&}
\DoxyCodeLine{680       !\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a8e36f3d6249bb37268992d059a0a68eb}{isolate\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ae5160ad63bc51ff7b36e8f247be48f63}{isolate}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a24109659c4260d0c6f281510b6091015}{is\_shared\_space\_isolate}}();}
\DoxyCodeLine{681   \textcolor{keywordflow}{if} (running\_from\_client\_isolate\_and\_allocating\_in\_shared\_space) \{}
\DoxyCodeLine{682     \textcolor{comment}{// Avoid OOM crash in the GC in order to invoke NearHeapLimitCallback after}}
\DoxyCodeLine{683     \textcolor{comment}{// GC and give it a chance to increase the heap limit.}}
\DoxyCodeLine{684     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a8e36f3d6249bb37268992d059a0a68eb}{isolate\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aba6466cbfaaa3992f1f1d2fce3020ee3}{force\_oom}}() \&\&}
\DoxyCodeLine{685         \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_ac08daeae30a630f937f7d4718b5be517}{TryExpandAndAllocate}}(size\_in\_bytes, origin)) \{}
\DoxyCodeLine{686       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{687     \}}
\DoxyCodeLine{688     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{689   \}}
\DoxyCodeLine{690 }
\DoxyCodeLine{691   \textcolor{comment}{// Sweeping is still in progress. The sweeper doesn't work with black}}
\DoxyCodeLine{692   \textcolor{comment}{// allocated pages, so it's fine for the compaction space to refill the}}
\DoxyCodeLine{693   \textcolor{comment}{// freelist from just swept pages.}}
\DoxyCodeLine{694   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a2e5e3882f627c398bbe21c2ae88d57eb}{sweeping\_in\_progress}}()) \{}
\DoxyCodeLine{695     \textcolor{comment}{// First try to refill the free-\/list, concurrent sweeper threads}}
\DoxyCodeLine{696     \textcolor{comment}{// may have freed some objects in the meantime.}}
\DoxyCodeLine{697     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aad499bc7154a594f5a3e7036d683cdfa}{sweeper}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Sweeper_a1f0f068102f67261bf6ed713b3cf1a5a}{ShouldRefillFreelistForSpace}}(}
\DoxyCodeLine{698             \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}())) \{}
\DoxyCodeLine{699       \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_ad73e6eb832e80e82d6ff11f6626bd27d}{RefillFreeList}}();}
\DoxyCodeLine{700 }
\DoxyCodeLine{701       \textcolor{comment}{// Retry the free list allocation.}}
\DoxyCodeLine{702       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7}{TryAllocationFromFreeList}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(size\_in\_bytes), origin))}
\DoxyCodeLine{703         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{704     \}}
\DoxyCodeLine{705 }
\DoxyCodeLine{706     \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} kMaxPagesToSweep = 1;}
\DoxyCodeLine{707     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_adbbc13d2c022ac7c3b745b13ea2ff17e}{ContributeToSweeping}}(kMaxPagesToSweep)) \{}
\DoxyCodeLine{708       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7}{TryAllocationFromFreeList}}(size\_in\_bytes, origin)) \{}
\DoxyCodeLine{709         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{710       \}}
\DoxyCodeLine{711     \}}
\DoxyCodeLine{712   \}}
\DoxyCodeLine{713 }
\DoxyCodeLine{714   \textcolor{comment}{// If there is not enough memory in the compaction space left, try to steal}}
\DoxyCodeLine{715   \textcolor{comment}{// a page from the corresponding "{}regular"{} page space.}}
\DoxyCodeLine{716   \textcolor{comment}{// Don't do this though when black allocated pages are enabled and incremental}}
\DoxyCodeLine{717   \textcolor{comment}{// marking is in progress, because otherwise evacuating into a black allocated}}
\DoxyCodeLine{718   \textcolor{comment}{// page will cause the marker to miss the object.}}
\DoxyCodeLine{719   \textcolor{keyword}{const} \textcolor{keywordtype}{bool} incremental\_marking\_with\_black\_allocated\_pages\_is\_running =}
\DoxyCodeLine{720       \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.black\_allocated\_pages \&\&}
\DoxyCodeLine{721       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_aca549fb459876aff6e5a580c807d1607}{incremental\_marking}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1IncrementalMarking_af7648dd98be368a6b882111f2c62441c}{IsMajorMarking}}();}
\DoxyCodeLine{722   \textcolor{keywordflow}{if} (!incremental\_marking\_with\_black\_allocated\_pages\_is\_running \&\&}
\DoxyCodeLine{723       \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_a982af013418757068574d52cb7d7205e}{is\_compaction\_space}}()) \{}
\DoxyCodeLine{724     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{namespacev8_1_1internal_aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621}{NEW\_SPACE}}, \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}());}
\DoxyCodeLine{725     PagedSpaceBase* main\_space =}
\DoxyCodeLine{726         \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_ac651f5df43d0b09d8f4711ec0c0b2603}{paged\_space}}(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}());}
\DoxyCodeLine{727     PageMetadata* page = main\_space-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_ababb3c259efd9ce03fee2208cb0eaef8}{RemovePageSafe}}(size\_in\_bytes);}
\DoxyCodeLine{728     \textcolor{keywordflow}{if} (page != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{729       \textcolor{comment}{// Make sure we don't evacuate into a black allocated page.}}
\DoxyCodeLine{730       \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.black\_allocated\_pages,}
\DoxyCodeLine{731                      !page-\/>Chunk()-\/>IsFlagSet(\mbox{\hyperlink{classv8_1_1internal_1_1MemoryChunk_a3aacf1e5a45f3a0e3728850e6698cdf9a2cced78334b717b2021a1a0f8148ad48}{MemoryChunk::BLACK\_ALLOCATED}}));}
\DoxyCodeLine{732       \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_a369f4fdde602eac1eb9bfc3202065b15}{AddPage}}(page);}
\DoxyCodeLine{733       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7}{TryAllocationFromFreeList}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(size\_in\_bytes), origin))}
\DoxyCodeLine{734         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{735     \}}
\DoxyCodeLine{736   \}}
\DoxyCodeLine{737 }
\DoxyCodeLine{738   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}() != \mbox{\hyperlink{namespacev8_1_1internal_aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621}{NEW\_SPACE}} \&\&}
\DoxyCodeLine{739       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>ShouldExpandOldGenerationOnSlowAllocation(}
\DoxyCodeLine{740           \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a200bb5c3cdd47d2cedc85d849e92d005}{local\_heap}}(), origin) \&\&}
\DoxyCodeLine{741       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>CanExpandOldGeneration(\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_a65f89ffcc48f8193570bf149cb6cc147}{AreaSize}}())) \{}
\DoxyCodeLine{742     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_ac08daeae30a630f937f7d4718b5be517}{TryExpandAndAllocate}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(size\_in\_bytes), origin)) \{}
\DoxyCodeLine{743       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{744     \}}
\DoxyCodeLine{745   \}}
\DoxyCodeLine{746 }
\DoxyCodeLine{747   \textcolor{comment}{// Try sweeping all pages.}}
\DoxyCodeLine{748   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_adbbc13d2c022ac7c3b745b13ea2ff17e}{ContributeToSweeping}}()) \{}
\DoxyCodeLine{749     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7}{TryAllocationFromFreeList}}(size\_in\_bytes, origin)) \{}
\DoxyCodeLine{750       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{751     \}}
\DoxyCodeLine{752   \}}
\DoxyCodeLine{753 }
\DoxyCodeLine{754   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}() != \mbox{\hyperlink{namespacev8_1_1internal_aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621}{NEW\_SPACE}} \&\& \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_ac2d637389bbdda7a6192e615dc3fa6c0}{in\_gc}}() \&\&}
\DoxyCodeLine{755       !\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>force\_oom()) \{}
\DoxyCodeLine{756     \textcolor{comment}{// Avoid OOM crash in the GC in order to invoke NearHeapLimitCallback after}}
\DoxyCodeLine{757     \textcolor{comment}{// GC and give it a chance to increase the heap limit.}}
\DoxyCodeLine{758     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_ac08daeae30a630f937f7d4718b5be517}{TryExpandAndAllocate}}(size\_in\_bytes, origin)) \{}
\DoxyCodeLine{759       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{760     \}}
\DoxyCodeLine{761   \}}
\DoxyCodeLine{762   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{763 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Paged\+Space\+Base\+::\+Add\+Page(), v8\+::internal\+::\+Allocator\+Policy\+::allocator\+\_\+, v8\+::internal\+::\+Paged\+Space\+Base\+::\+Area\+Size(), v8\+::internal\+::\+Memory\+Chunk\+::\+BLACK\+\_\+\+ALLOCATED, v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::\+Chunk(), Contribute\+To\+Sweeping(), DCHECK\+\_\+\+GE, DCHECK\+\_\+\+IMPLIES, DCHECK\+\_\+\+NE, v8\+::internal\+::\+Heap\+::force\+\_\+oom(), v8\+::internal\+::\+Main\+Allocator\+::identity(), v8\+::internal\+::\+Main\+Allocator\+::in\+\_\+gc(), v8\+::internal\+::\+Heap\+::incremental\+\_\+marking(), v8\+::internal\+::\+Paged\+Space\+Base\+::is\+\_\+compaction\+\_\+space(), v8\+::internal\+::\+Isolate\+::is\+\_\+shared\+\_\+space\+\_\+isolate(), v8\+::internal\+::\+Memory\+Chunk\+::\+Is\+Flag\+Set(), v8\+::internal\+::\+Incremental\+Marking\+::\+Is\+Major\+Marking(), v8\+::internal\+::\+Heap\+::isolate(), v8\+::internal\+::\+Allocator\+Policy\+::isolate\+\_\+heap(), v8\+::internal\+::\+Main\+Allocator\+::local\+\_\+heap(), v8\+::internal\+::\+NEW\+\_\+\+SPACE, v8\+::internal\+::\+Heap\+::paged\+\_\+space(), v8\+::internal\+::\+Paged\+Space\+Base\+::\+Refill\+Free\+List(), v8\+::internal\+::\+Paged\+Space\+Base\+::\+Remove\+Page\+Safe(), v8\+::internal\+::\+SHARED\+\_\+\+SPACE, v8\+::internal\+::\+Sweeper\+::\+Should\+Refill\+Freelist\+For\+Space(), space\+\_\+, v8\+::internal\+::\+Allocator\+Policy\+::space\+\_\+heap(), v8\+::internal\+::\+Heap\+::sweeper(), v8\+::internal\+::\+Heap\+::sweeping\+\_\+in\+\_\+progress(), Try\+Allocation\+From\+Free\+List(), Try\+Expand\+And\+Allocate(), Try\+Extend\+LAB(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Ensure\+Allocation().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a7bbb148e64e6e00810602da938f4640e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a7bbb148e64e6e00810602da938f4640e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a74850fd847e0f6437239a14b3ab663b8}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a74850fd847e0f6437239a14b3ab663b8}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!SetLinearAllocationArea@{SetLinearAllocationArea}}
\index{SetLinearAllocationArea@{SetLinearAllocationArea}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{SetLinearAllocationArea()}{SetLinearAllocationArea()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::\+Set\+Linear\+Allocation\+Area (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{top,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{limit,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{end }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 809 of file main-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{811                                                                      \{}
\DoxyCodeLine{812   \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a1a0f7a43f9aeac29f2f4cc4a712cc97e}{ResetLab}}(top, limit, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{813   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.black\_allocated\_pages) \textcolor{keywordflow}{return};}
\DoxyCodeLine{814   \textcolor{keywordflow}{if} (top != \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}} \&\& top != limit) \{}
\DoxyCodeLine{815     PageMetadata* page = \mbox{\hyperlink{classv8_1_1internal_1_1PageMetadata_a7af76f4e85c2cbc7ca5804394b1f269a}{PageMetadata::FromAllocationAreaAddress}}(top);}
\DoxyCodeLine{816     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a377b579db86387909955e1b1b091a0fd}{IsBlackAllocationEnabled}}()) \{}
\DoxyCodeLine{817       page-\/>CreateBlackArea(top, limit);}
\DoxyCodeLine{818     \}}
\DoxyCodeLine{819   \}}
\DoxyCodeLine{820 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Allocator\+Policy\+::allocator\+\_\+, v8\+::internal\+::\+Page\+Metadata\+::\+Create\+Black\+Area(), v8\+::internal\+::compiler\+::end(), v8\+::internal\+::\+Page\+Metadata\+::\+From\+Allocation\+Area\+Address(), v8\+::internal\+::\+Main\+Allocator\+::\+Is\+Black\+Allocation\+Enabled(), v8\+::internal\+::k\+Null\+Address, v8\+::internal\+::\+Main\+Allocator\+::\+Reset\+Lab(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by Try\+Allocation\+From\+Free\+List().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a74850fd847e0f6437239a14b3ab663b8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a74850fd847e0f6437239a14b3ab663b8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!TryAllocationFromFreeList@{TryAllocationFromFreeList}}
\index{TryAllocationFromFreeList@{TryAllocationFromFreeList}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{TryAllocationFromFreeList()}{TryAllocationFromFreeList()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::\+Try\+Allocation\+From\+Free\+List (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size\+\_\+in\+\_\+bytes,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_abddbb63b815c1d69390fef2325df451a}{Allocation\+Origin}}}]{origin }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 822 of file main-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{823                                                    \{}
\DoxyCodeLine{824   PagedSpace::ConcurrentAllocationMutex guard(\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}});}
\DoxyCodeLine{825   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{src_2base_2macros_8h_ab7a19c1f785f31f2b190afc19875368a}{IsAligned}}(size\_in\_bytes, \mbox{\hyperlink{namespacev8_1_1internal_a12d50d7bb2c9d8a916ff0785e6eff241}{kTaggedSize}}));}
\DoxyCodeLine{826   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_affcbea59347c2fdd71bfdf184be65197}{top}}(), \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a87bf7756f4eaff609ab0738e6f69cd85}{limit}}());}
\DoxyCodeLine{827 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{828   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_affcbea59347c2fdd71bfdf184be65197}{top}}() != \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a87bf7756f4eaff609ab0738e6f69cd85}{limit}}()) \{}
\DoxyCodeLine{829     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1PageMetadata_ac98f3f3e496e71c96694c69c63171ddb}{PageMetadata::FromAddress}}(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_affcbea59347c2fdd71bfdf184be65197}{top}}()),}
\DoxyCodeLine{830               \mbox{\hyperlink{classv8_1_1internal_1_1PageMetadata_ac98f3f3e496e71c96694c69c63171ddb}{PageMetadata::FromAddress}}(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a87bf7756f4eaff609ab0738e6f69cd85}{limit}}() -\/ 1));}
\DoxyCodeLine{831   \}}
\DoxyCodeLine{832 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{833   \textcolor{comment}{// Don't free list allocate if there is linear space available.}}
\DoxyCodeLine{834   \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a87bf7756f4eaff609ab0738e6f69cd85}{limit}}() -\/ \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_affcbea59347c2fdd71bfdf184be65197}{top}}()),}
\DoxyCodeLine{835             size\_in\_bytes);}
\DoxyCodeLine{836 }
\DoxyCodeLine{837   \textcolor{keywordtype}{size\_t} new\_node\_size = 0;}
\DoxyCodeLine{838   Tagged<FreeSpace> new\_node =}
\DoxyCodeLine{839       \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>free\_list\_-\/>Allocate(size\_in\_bytes, \&new\_node\_size, origin);}
\DoxyCodeLine{840   \textcolor{keywordflow}{if} (new\_node.is\_null()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{841   \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(new\_node\_size, size\_in\_bytes);}
\DoxyCodeLine{842 }
\DoxyCodeLine{843   \textcolor{comment}{// The old-\/space-\/step might have finished sweeping and restarted marking.}}
\DoxyCodeLine{844   \textcolor{comment}{// Verify that it did not turn the page of the new node into an evacuation}}
\DoxyCodeLine{845   \textcolor{comment}{// candidate.}}
\DoxyCodeLine{846   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1MarkCompactCollector_a5f0477b3276f6b872199164ffc981999}{MarkCompactCollector::IsOnEvacuationCandidate}}(new\_node));}
\DoxyCodeLine{847 }
\DoxyCodeLine{848   \textcolor{comment}{// Mark the old linear allocation area with a free space map so it can be}}
\DoxyCodeLine{849   \textcolor{comment}{// skipped when scanning the heap.  This also puts it back in the free list}}
\DoxyCodeLine{850   \textcolor{comment}{// if it is big enough.}}
\DoxyCodeLine{851   \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a88ab70d1630e81410da9f545afb85aad}{FreeLinearAllocationAreaUnsynchronized}}();}
\DoxyCodeLine{852 }
\DoxyCodeLine{853   \textcolor{comment}{// Memory in the linear allocation area is counted as allocated.  We may free}}
\DoxyCodeLine{854   \textcolor{comment}{// a little of this again immediately -\/ see below.}}
\DoxyCodeLine{855   PageMetadata* page = \mbox{\hyperlink{classv8_1_1internal_1_1PageMetadata_ac37b751cd85e3a4b1e272da7ea409039}{PageMetadata::FromHeapObject}}(new\_node);}
\DoxyCodeLine{856   \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_a41eabfc66357279ee1c064d0362d117c}{IncreaseAllocatedBytes}}(new\_node\_size, page);}
\DoxyCodeLine{857 }
\DoxyCodeLine{858   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a35323f723fdbbd0935d8d971d7df251e}{allocation\_info}}().\mbox{\hyperlink{classv8_1_1internal_1_1LinearAllocationArea_a52bbbfa2efd133fe251901c45725066c}{start}}(),}
\DoxyCodeLine{859             \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a35323f723fdbbd0935d8d971d7df251e}{allocation\_info}}().\mbox{\hyperlink{classv8_1_1internal_1_1LinearAllocationArea_adf8dd840f4bc2d66d0d191edcaaba5a9}{top}}());}
\DoxyCodeLine{860   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} start = new\_node.address();}
\DoxyCodeLine{861   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = new\_node.address() + new\_node\_size;}
\DoxyCodeLine{862   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} limit = \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a9443c0b5ec674608fa7263505660b98c}{ComputeLimit}}(start, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}, size\_in\_bytes);}
\DoxyCodeLine{863   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(limit, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{864   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(size\_in\_bytes, limit -\/ start);}
\DoxyCodeLine{865   \textcolor{keywordflow}{if} (limit != \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}) \{}
\DoxyCodeLine{866     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a3672023e6b895e7e944c4cb984845b9c}{supports\_extending\_lab}}()) \{}
\DoxyCodeLine{867       \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_a07f17c1d2c09285262b50953d503c972}{Free}}(limit, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} -\/ limit);}
\DoxyCodeLine{868       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = limit;}
\DoxyCodeLine{869     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{870       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_acac86a713351b3f0de5d8feef31e57c0}{is\_main\_thread}}());}
\DoxyCodeLine{871       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a4e77c4c4c45f64cd073d9e29b9d7fb91}{CreateFillerObjectAt}}(limit, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} -\/ limit));}
\DoxyCodeLine{872     \}}
\DoxyCodeLine{873   \}}
\DoxyCodeLine{874   \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a74850fd847e0f6437239a14b3ab663b8}{SetLinearAllocationArea}}(start, limit, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{875   \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_ab503d40b9aeb1212f5156009a0f490c4}{AddRangeToActiveSystemPages}}(page, start, limit);}
\DoxyCodeLine{876 }
\DoxyCodeLine{877   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{878 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Paged\+Space\+Base\+::\+Add\+Range\+To\+Active\+System\+Pages(), v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::address(), v8\+::internal\+::\+Main\+Allocator\+::allocation\+\_\+info(), v8\+::internal\+::\+Allocator\+Policy\+::allocator\+\_\+, v8\+::internal\+::\+Main\+Allocator\+::\+Compute\+Limit(), v8\+::internal\+::\+Heap\+::\+Create\+Filler\+Object\+At(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+GE, DCHECK\+\_\+\+LE, DCHECK\+\_\+\+LT, v8\+::internal\+::compiler\+::end(), v8\+::internal\+::\+Paged\+Space\+Base\+::\+Free(), Free\+Linear\+Allocation\+Area\+Unsynchronized(), v8\+::internal\+::\+Page\+Metadata\+::\+From\+Address(), v8\+::internal\+::\+Page\+Metadata\+::\+From\+Heap\+Object(), v8\+::internal\+::\+Paged\+Space\+Base\+::\+Increase\+Allocated\+Bytes(), v8\+::internal\+::\+Main\+Allocator\+::is\+\_\+main\+\_\+thread(), v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::is\+\_\+null(), Is\+Aligned(), v8\+::internal\+::\+Mark\+Compact\+Collector\+::\+Is\+On\+Evacuation\+Candidate(), v8\+::internal\+::k\+Tagged\+Size, v8\+::internal\+::\+Main\+Allocator\+::limit(), Set\+Linear\+Allocation\+Area(), space\+\_\+, v8\+::internal\+::\+Allocator\+Policy\+::space\+\_\+heap(), v8\+::internal\+::\+Linear\+Allocation\+Area\+::start(), v8\+::internal\+::\+Main\+Allocator\+::supports\+\_\+extending\+\_\+lab(), v8\+::internal\+::\+Linear\+Allocation\+Area\+::top(), and v8\+::internal\+::\+Main\+Allocator\+::top().



Referenced by Refill\+Lab(), and Try\+Expand\+And\+Allocate().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_ac08daeae30a630f937f7d4718b5be517}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_ac08daeae30a630f937f7d4718b5be517}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!TryExpandAndAllocate@{TryExpandAndAllocate}}
\index{TryExpandAndAllocate@{TryExpandAndAllocate}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{TryExpandAndAllocate()}{TryExpandAndAllocate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::\+Try\+Expand\+And\+Allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size\+\_\+in\+\_\+bytes,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_abddbb63b815c1d69390fef2325df451a}{Allocation\+Origin}}}]{origin }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 765 of file main-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{766                                                                               \{}
\DoxyCodeLine{767   \textcolor{comment}{// Run in a loop because concurrent threads might allocate from the new free}}
\DoxyCodeLine{768   \textcolor{comment}{// list entries before this thread gets a chance.}}
\DoxyCodeLine{769   \textcolor{keywordflow}{while} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_a3a286be17b61dfe893794f418dc8c9df}{TryExpand}}(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a200bb5c3cdd47d2cedc85d849e92d005}{local\_heap}}(), origin)) \{}
\DoxyCodeLine{770     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_af28a97913aaba44a992c2a27ab6a80e7}{TryAllocationFromFreeList}}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(size\_in\_bytes), origin)) \{}
\DoxyCodeLine{771       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{772     \}}
\DoxyCodeLine{773   \}}
\DoxyCodeLine{774   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{775 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Allocator\+Policy\+::allocator\+\_\+, v8\+::internal\+::\+Main\+Allocator\+::local\+\_\+heap(), space\+\_\+, Try\+Allocation\+From\+Free\+List(), and v8\+::internal\+::\+Paged\+Space\+Base\+::\+Try\+Expand().



Referenced by Refill\+Lab().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_ac08daeae30a630f937f7d4718b5be517_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_ac08daeae30a630f937f7d4718b5be517_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a3d6bc595e2304e917104151afb008099}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a3d6bc595e2304e917104151afb008099}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!TryExtendLAB@{TryExtendLAB}}
\index{TryExtendLAB@{TryExtendLAB}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{TryExtendLAB()}{TryExtendLAB()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::\+Try\+Extend\+LAB (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{size\+\_\+in\+\_\+bytes }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 880 of file main-\/allocator.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{880                                                               \{}
\DoxyCodeLine{881   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a3672023e6b895e7e944c4cb984845b9c}{supports\_extending\_lab}}()) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{882   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} current\_top = \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_affcbea59347c2fdd71bfdf184be65197}{top}}();}
\DoxyCodeLine{883   \textcolor{keywordflow}{if} (current\_top == \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{884   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} current\_limit = \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a87bf7756f4eaff609ab0738e6f69cd85}{limit}}();}
\DoxyCodeLine{885   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} max\_limit = \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a4f32e0407efc5210acbc1a28bf85ab1f}{extended\_limit}}();}
\DoxyCodeLine{886   \textcolor{keywordflow}{if} (current\_top + size\_in\_bytes > max\_limit) \{}
\DoxyCodeLine{887     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{888   \}}
\DoxyCodeLine{889   \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a9c545420b859257ddc98151e534727e8}{AdvanceAllocationObservers}}();}
\DoxyCodeLine{890   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} new\_limit =}
\DoxyCodeLine{891       \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a9443c0b5ec674608fa7263505660b98c}{ComputeLimit}}(current\_top, max\_limit, size\_in\_bytes);}
\DoxyCodeLine{892   \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_a1a6914d41025667ed6e5c394822303db}{ExtendLAB}}(new\_limit);}
\DoxyCodeLine{893   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_acac86a713351b3f0de5d8feef31e57c0}{is\_main\_thread}}());}
\DoxyCodeLine{894   \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_a002a4de6d311793d8e210f360c80d1c4}{space\_heap}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Heap_a4e77c4c4c45f64cd073d9e29b9d7fb91}{CreateFillerObjectAt}}(new\_limit,}
\DoxyCodeLine{895                                      \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(max\_limit -\/ new\_limit));}
\DoxyCodeLine{896   PageMetadata* page = \mbox{\hyperlink{classv8_1_1internal_1_1PageMetadata_ac98f3f3e496e71c96694c69c63171ddb}{PageMetadata::FromAddress}}(current\_top);}
\DoxyCodeLine{897   \textcolor{comment}{// No need to create a black allocation area since new space doesn't use}}
\DoxyCodeLine{898   \textcolor{comment}{// black allocation.}}
\DoxyCodeLine{899   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_aa131d4fd9972fd8dfbec01a9243d9fefa057ecb490c9eb2f2dc1677326b8a5621}{NEW\_SPACE}}, \mbox{\hyperlink{classv8_1_1internal_1_1AllocatorPolicy_abbbe3e3bc92b38acac8c7b206958e370}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MainAllocator_aaa74942997dd167a1e3c6241e7990bc7}{identity}}());}
\DoxyCodeLine{900   \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}{space\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase_ab503d40b9aeb1212f5156009a0f490c4}{AddRangeToActiveSystemPages}}(page, current\_limit, new\_limit);}
\DoxyCodeLine{901   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{902 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Paged\+Space\+Base\+::\+Add\+Range\+To\+Active\+System\+Pages(), v8\+::internal\+::\+Main\+Allocator\+::\+Advance\+Allocation\+Observers(), v8\+::internal\+::\+Allocator\+Policy\+::allocator\+\_\+, v8\+::internal\+::\+Main\+Allocator\+::\+Compute\+Limit(), v8\+::internal\+::\+Heap\+::\+Create\+Filler\+Object\+At(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::internal\+::\+Main\+Allocator\+::extended\+\_\+limit(), v8\+::internal\+::\+Main\+Allocator\+::\+Extend\+LAB(), v8\+::internal\+::\+Page\+Metadata\+::\+From\+Address(), v8\+::internal\+::\+Main\+Allocator\+::identity(), v8\+::internal\+::\+Main\+Allocator\+::is\+\_\+main\+\_\+thread(), v8\+::internal\+::k\+Null\+Address, v8\+::internal\+::\+Main\+Allocator\+::limit(), v8\+::internal\+::\+NEW\+\_\+\+SPACE, space\+\_\+, v8\+::internal\+::\+Allocator\+Policy\+::space\+\_\+heap(), v8\+::internal\+::\+Main\+Allocator\+::supports\+\_\+extending\+\_\+lab(), and v8\+::internal\+::\+Main\+Allocator\+::top().



Referenced by Refill\+Lab().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a3d6bc595e2304e917104151afb008099_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a3d6bc595e2304e917104151afb008099_icgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a67abb399c28482b7ce7bef06439ad112}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a67abb399c28482b7ce7bef06439ad112}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!PagedNewSpaceAllocatorPolicy@{PagedNewSpaceAllocatorPolicy}}
\index{PagedNewSpaceAllocatorPolicy@{PagedNewSpaceAllocatorPolicy}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{PagedNewSpaceAllocatorPolicy}{PagedNewSpaceAllocatorPolicy}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1PagedNewSpaceAllocatorPolicy}{Paged\+New\+Space\+Allocator\+Policy}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 98 of file main-\/allocator.\+h.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}\label{classv8_1_1internal_1_1PagedSpaceAllocatorPolicy_a588676f03edf58bc91adbe56d0574429}} 
\index{v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}!space\_@{space\_}}
\index{space\_@{space\_}!v8::internal::PagedSpaceAllocatorPolicy@{v8::internal::PagedSpaceAllocatorPolicy}}
\doxysubsubsection{\texorpdfstring{space\_}{space\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1PagedSpaceBase}{Paged\+Space\+Base}}$\ast$ const v8\+::internal\+::\+Paged\+Space\+Allocator\+Policy\+::space\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 96 of file main-\/allocator.\+h.



Referenced by Contribute\+To\+Sweeping(), Free\+Linear\+Allocation\+Area(), Free\+Linear\+Allocation\+Area\+Unsynchronized(), Refill\+Lab(), Try\+Allocation\+From\+Free\+List(), Try\+Expand\+And\+Allocate(), and Try\+Extend\+LAB().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{main-allocator_8h}{main-\/allocator.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{main-allocator_8cc}{main-\/allocator.\+cc}}\end{DoxyCompactItemize}
