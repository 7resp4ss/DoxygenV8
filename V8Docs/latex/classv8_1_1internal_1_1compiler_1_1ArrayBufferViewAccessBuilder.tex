\hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder}{}\doxysection{v8\+::internal\+::compiler\+::Array\+Buffer\+View\+Access\+Builder Class Reference}
\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder}\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}


Collaboration diagram for v8\+::internal\+::compiler\+::Array\+Buffer\+View\+Access\+Builder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_aa9a6c2adbba21fc48d0df5df9e989634}{Array\+Buffer\+View\+Access\+Builder}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraphAssembler}{JSGraph\+Assembler}} $\ast$assembler, \mbox{\hyperlink{namespacev8_1_1internal_a9312a9fc987dba9376a530956f94e8fe}{Instance\+Type}} instance\+\_\+type, std\+::set$<$ \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{Elements\+Kind}} $>$ candidates)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4cd71a88fa2e906cbda1d6091d11740d}{maybe\+\_\+rab\+\_\+gsab}} () const
\item 
std\+::optional$<$ \mbox{\hyperlink{classint}{int}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ad169e2606bdd2a2f689621b0dbe97ce8}{Try\+Compute\+Static\+Element\+Shift}} ()
\item 
std\+::optional$<$ \mbox{\hyperlink{classint}{int}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_afef63d2260c5c6e41cfec2e0840896b3}{Try\+Compute\+Static\+Element\+Size}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1UintPtrT}{Uint\+PtrT}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a86921df22a311c8c4677cb7dfe8de076}{Build\+Length}} (\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBufferView}{JSArray\+Buffer\+View}} $>$ view, \mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$ context)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1UintPtrT}{Uint\+PtrT}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a972598cba72cba4b45aa43c5dd3e5e73}{Build\+Byte\+Length}} (\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBufferView}{JSArray\+Buffer\+View}} $>$ view, \mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$ context)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1Word32T}{Word32T}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a71b9be997b56a06b7019088709c889a5}{Build\+Detached\+Or\+Out\+Of\+Bounds\+Check}} (\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBufferView}{JSArray\+Buffer\+View}} $>$ view)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename T $>$ }\\\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classT}{T}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a85f9d74c48d734900208f6366e6c7eb0}{Machine\+Load\+Field}} (\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1FieldAccess}{Field\+Access}} const \&access, \mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1HeapObject}{Heap\+Object}} $>$ object, const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo}{Use\+Info}} \&use\+\_\+info)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraphAssembler}{JSGraph\+Assembler}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4736c287aedb341272eabd94571726b5}{assembler\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a9312a9fc987dba9376a530956f94e8fe}{Instance\+Type}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}{instance\+\_\+type\+\_\+}}
\item 
std\+::set$<$ \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{Elements\+Kind}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}{candidates\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 575 of file graph-\/assembler.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_aa9a6c2adbba21fc48d0df5df9e989634}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_aa9a6c2adbba21fc48d0df5df9e989634}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!ArrayBufferViewAccessBuilder@{ArrayBufferViewAccessBuilder}}
\index{ArrayBufferViewAccessBuilder@{ArrayBufferViewAccessBuilder}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{ArrayBufferViewAccessBuilder()}{ArrayBufferViewAccessBuilder()}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::\+Array\+Buffer\+View\+Access\+Builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraphAssembler}{JSGraph\+Assembler}} $\ast$}]{assembler,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a9312a9fc987dba9376a530956f94e8fe}{Instance\+Type}}}]{instance\+\_\+type,  }\item[{std\+::set$<$ \mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{Elements\+Kind}} $>$}]{candidates }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 577 of file graph-\/assembler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{580       : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4736c287aedb341272eabd94571726b5}{assembler\_}}(assembler),}
\DoxyCodeLine{581         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}{instance\_type\_}}(instance\_type),}
\DoxyCodeLine{582         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}{candidates\_}}(std::move(candidates)) \{}
\DoxyCodeLine{583     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4736c287aedb341272eabd94571726b5}{assembler\_}});}
\DoxyCodeLine{584     \textcolor{comment}{// TODO(v8:11111): Optimize for JS\_RAB\_GSAB\_DATA\_VIEW\_TYPE too.}}
\DoxyCodeLine{585     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}{instance\_type\_}} == JS\_DATA\_VIEW\_TYPE ||}
\DoxyCodeLine{586            \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}{instance\_type\_}} == JS\_TYPED\_ARRAY\_TYPE);}
\DoxyCodeLine{587   \}}

\end{DoxyCode}


References assembler\+\_\+, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, and instance\+\_\+type\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_aa9a6c2adbba21fc48d0df5df9e989634_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a972598cba72cba4b45aa43c5dd3e5e73}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a972598cba72cba4b45aa43c5dd3e5e73}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!BuildByteLength@{BuildByteLength}}
\index{BuildByteLength@{BuildByteLength}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{BuildByteLength()}{BuildByteLength()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1UintPtrT}{Uint\+PtrT}}$>$ v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::\+Build\+Byte\+Length (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBufferView}{JSArray\+Buffer\+View}} $>$}]{view,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 760 of file graph-\/assembler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{761                                                           \{}
\DoxyCodeLine{762     \textcolor{keyword}{auto}\& a = *\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4736c287aedb341272eabd94571726b5}{assembler\_}};}
\DoxyCodeLine{763 }
\DoxyCodeLine{764     \textcolor{comment}{// Case 1: Normal (backed by AB/SAB) or non-\/length tracking backed by GSAB}}
\DoxyCodeLine{765     \textcolor{comment}{// (can't go oob once constructed)}}
\DoxyCodeLine{766     \textcolor{keyword}{auto} GsabFixedOrNormal = [\&]() \{}
\DoxyCodeLine{767       \textcolor{keywordflow}{return} MachineLoadField<UintPtrT>(}
\DoxyCodeLine{768           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a0e786978222f715fe6ed0443bb4ea546}{AccessBuilder::ForJSArrayBufferViewByteLength}}(), view,}
\DoxyCodeLine{769           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{770     \};}
\DoxyCodeLine{771 }
\DoxyCodeLine{772     \textcolor{comment}{// If we statically know we cannot have rab/gsab backed, we can simply}}
\DoxyCodeLine{773     \textcolor{comment}{// use load from the view.}}
\DoxyCodeLine{774     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4cd71a88fa2e906cbda1d6091d11740d}{maybe\_rab\_gsab}}()) \{}
\DoxyCodeLine{775       \textcolor{keywordflow}{return} GsabFixedOrNormal();}
\DoxyCodeLine{776     \}}
\DoxyCodeLine{777 }
\DoxyCodeLine{778     \textcolor{comment}{// Otherwise, we need to generate the checks for the view's bitfield.}}
\DoxyCodeLine{779     TNode<Word32T> bitfield = a.EnterMachineGraph<Word32T>(}
\DoxyCodeLine{780         a.LoadField<Word32T>(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_af51499fd1d24cd27808e22fc6a77b9a8}{AccessBuilder::ForJSArrayBufferViewBitField}}(),}
\DoxyCodeLine{781                              view),}
\DoxyCodeLine{782         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_aa94aa0f6add7ddb7cc354f8ef1dc037f}{UseInfo::TruncatingWord32}}());}
\DoxyCodeLine{783     TNode<Word32T> length\_tracking\_bit = a.Word32And(}
\DoxyCodeLine{784         bitfield, a.Uint32Constant(JSArrayBufferView::kIsLengthTracking));}
\DoxyCodeLine{785     TNode<Word32T> backed\_by\_rab\_bit = a.Word32And(}
\DoxyCodeLine{786         bitfield, a.Uint32Constant(JSArrayBufferView::kIsBackedByRab));}
\DoxyCodeLine{787 }
\DoxyCodeLine{788     \textcolor{comment}{// Load the underlying buffer.}}
\DoxyCodeLine{789     TNode<HeapObject> buffer = a.LoadField<HeapObject>(}
\DoxyCodeLine{790         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a02537ce5d5a1ce7d1a1fef121a1626cd}{AccessBuilder::ForJSArrayBufferViewBuffer}}(), view);}
\DoxyCodeLine{791 }
\DoxyCodeLine{792     \textcolor{comment}{// Case 2: Fixed length backed by RAB (can go oob once constructed)}}
\DoxyCodeLine{793     \textcolor{keyword}{auto} RabFixed = [\&]() \{}
\DoxyCodeLine{794       TNode<UintPtrT> unchecked\_byte\_length = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{795           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a0e786978222f715fe6ed0443bb4ea546}{AccessBuilder::ForJSArrayBufferViewByteLength}}(), view,}
\DoxyCodeLine{796           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{797       TNode<UintPtrT> underlying\_byte\_length = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{798           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a3477d20363c5bd3afeb7fde419e0be68}{AccessBuilder::ForJSArrayBufferByteLength}}(), buffer, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{799       TNode<UintPtrT> byte\_offset = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{800           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a151eb9814fa1e4b746e84e49b70c6af9}{AccessBuilder::ForJSArrayBufferViewByteOffset}}(), view,}
\DoxyCodeLine{801           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{802 }
\DoxyCodeLine{803       \textcolor{keywordflow}{return} a}
\DoxyCodeLine{804           .MachineSelectIf<UintPtrT>(a.UintPtrLessThanOrEqual(}
\DoxyCodeLine{805               a.UintPtrAdd(byte\_offset, unchecked\_byte\_length),}
\DoxyCodeLine{806               underlying\_byte\_length))}
\DoxyCodeLine{807           .Then([\&]() \{ \textcolor{keywordflow}{return} unchecked\_byte\_length; \})}
\DoxyCodeLine{808           .Else([\&]() \{ \textcolor{keywordflow}{return} a.UintPtrConstant(0); \})}
\DoxyCodeLine{809           .Value();}
\DoxyCodeLine{810     \};}
\DoxyCodeLine{811 }
\DoxyCodeLine{812     \textcolor{keyword}{auto} RoundDownToElementSize = [\&](TNode<UintPtrT> byte\_size) \{}
\DoxyCodeLine{813       \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} shift\_opt = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ad169e2606bdd2a2f689621b0dbe97ce8}{TryComputeStaticElementShift}}()) \{}
\DoxyCodeLine{814         constexpr \mbox{\hyperlink{classuintptr__t}{uintptr\_t}} all\_bits = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classuintptr__t}{uintptr\_t}}\textcolor{keyword}{>}(-\/1);}
\DoxyCodeLine{815         \textcolor{keywordflow}{if} (*shift\_opt == 0) \textcolor{keywordflow}{return} byte\_size;}
\DoxyCodeLine{816         \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1TNode_aef7e09b0f9e153327c5c1eb4dd516e6e}{TNode<UintPtrT>::UncheckedCast}}(}
\DoxyCodeLine{817             a.WordAnd(byte\_size, a.UintPtrConstant(all\_bits << (*shift\_opt))));}
\DoxyCodeLine{818       \}}
\DoxyCodeLine{819       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}{instance\_type\_}}, JS\_TYPED\_ARRAY\_TYPE);}
\DoxyCodeLine{820       TNode<Map> typed\_array\_map = a.LoadField<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a3e9844531586430b0ef0b32350b804dd}{Map}}>(}
\DoxyCodeLine{821           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a14edbb6e488dfe153c4a4dc333fa0096}{AccessBuilder::ForMap}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a1ee0d1fd80275438925bc568ec289797a3cb0f5f3b0a3f679f11bec177e0cdd98}{WriteBarrierKind::kNoWriteBarrier}}), view);}
\DoxyCodeLine{822       TNode<Uint32T> elements\_kind = a.LoadElementsKind(typed\_array\_map);}
\DoxyCodeLine{823       TNode<Uint32T> element\_shift =}
\DoxyCodeLine{824           a.LookupByteShiftForElementsKind(elements\_kind);}
\DoxyCodeLine{825       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1TNode_aef7e09b0f9e153327c5c1eb4dd516e6e}{TNode<UintPtrT>::UncheckedCast}}(}
\DoxyCodeLine{826           a.WordShl(a.WordShr(byte\_size, element\_shift), element\_shift));}
\DoxyCodeLine{827     \};}
\DoxyCodeLine{828 }
\DoxyCodeLine{829     \textcolor{comment}{// Case 3: Length-\/tracking backed by RAB (JSArrayBuffer stores the length)}}
\DoxyCodeLine{830     \textcolor{keyword}{auto} RabTracking = [\&]() \{}
\DoxyCodeLine{831       TNode<UintPtrT> byte\_length = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{832           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a3477d20363c5bd3afeb7fde419e0be68}{AccessBuilder::ForJSArrayBufferByteLength}}(), buffer, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{833       TNode<UintPtrT> byte\_offset = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{834           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a151eb9814fa1e4b746e84e49b70c6af9}{AccessBuilder::ForJSArrayBufferViewByteOffset}}(), view,}
\DoxyCodeLine{835           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{836 }
\DoxyCodeLine{837       \textcolor{keywordflow}{return} a}
\DoxyCodeLine{838           .MachineSelectIf<UintPtrT>(}
\DoxyCodeLine{839               a.UintPtrLessThanOrEqual(byte\_offset, byte\_length))}
\DoxyCodeLine{840           .Then([\&]() \{}
\DoxyCodeLine{841             \textcolor{keywordflow}{return} RoundDownToElementSize(}
\DoxyCodeLine{842                 a.UintPtrSub(byte\_length, byte\_offset));}
\DoxyCodeLine{843           \})}
\DoxyCodeLine{844           .Else([\&]() \{ \textcolor{keywordflow}{return} a.UintPtrConstant(0); \})}
\DoxyCodeLine{845           .ExpectTrue()}
\DoxyCodeLine{846           .Value();}
\DoxyCodeLine{847     \};}
\DoxyCodeLine{848 }
\DoxyCodeLine{849     \textcolor{comment}{// Case 4: Length-\/tracking backed by GSAB (BackingStore stores the length)}}
\DoxyCodeLine{850     \textcolor{keyword}{auto} GsabTracking = [\&]() \{}
\DoxyCodeLine{851       TNode<Number> temp = \mbox{\hyperlink{classv8_1_1internal_1_1TNode_aef7e09b0f9e153327c5c1eb4dd516e6e}{TNode<Number>::UncheckedCast}}(a.TypeGuard(}
\DoxyCodeLine{852           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TypeCache_a7df761cef026435ae74f2a0de5ea0668}{TypeCache::Get}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TypeCache_ad8fa947923612239a77ecb0a89103d71}{kJSArrayBufferViewByteLengthType}},}
\DoxyCodeLine{853           a.JSCallRuntime1(Runtime::kGrowableSharedArrayBufferByteLength,}
\DoxyCodeLine{854                            buffer, context, std::nullopt, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Operator_a46a45dbac84017b87c0432803df4c3efaf74cbb8deaff2098603cc5fcfe4c6f52}{Operator::kNoWrite}})));}
\DoxyCodeLine{855       TNode<UintPtrT> byte\_length =}
\DoxyCodeLine{856           a.EnterMachineGraph<UintPtrT>(temp, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{857       TNode<UintPtrT> byte\_offset = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{858           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a151eb9814fa1e4b746e84e49b70c6af9}{AccessBuilder::ForJSArrayBufferViewByteOffset}}(), view,}
\DoxyCodeLine{859           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{860 }
\DoxyCodeLine{861       \textcolor{keywordflow}{return} a}
\DoxyCodeLine{862           .MachineSelectIf<UintPtrT>(}
\DoxyCodeLine{863               a.UintPtrLessThanOrEqual(byte\_offset, byte\_length))}
\DoxyCodeLine{864           .Then([\&]() \{}
\DoxyCodeLine{865             \textcolor{keywordflow}{return} RoundDownToElementSize(}
\DoxyCodeLine{866                 a.UintPtrSub(byte\_length, byte\_offset));}
\DoxyCodeLine{867           \})}
\DoxyCodeLine{868           .Else([\&]() \{ \textcolor{keywordflow}{return} a.UintPtrConstant(0); \})}
\DoxyCodeLine{869           .ExpectTrue()}
\DoxyCodeLine{870           .Value();}
\DoxyCodeLine{871     \};}
\DoxyCodeLine{872 }
\DoxyCodeLine{873     \textcolor{keywordflow}{return} a.MachineSelectIf<UintPtrT>(length\_tracking\_bit)}
\DoxyCodeLine{874         .Then([\&]() \{}
\DoxyCodeLine{875           \textcolor{keywordflow}{return} a.MachineSelectIf<UintPtrT>(backed\_by\_rab\_bit)}
\DoxyCodeLine{876               .Then(RabTracking)}
\DoxyCodeLine{877               .Else(GsabTracking)}
\DoxyCodeLine{878               .Value();}
\DoxyCodeLine{879         \})}
\DoxyCodeLine{880         .Else([\&]() \{}
\DoxyCodeLine{881           \textcolor{keywordflow}{return} a.MachineSelectIf<UintPtrT>(backed\_by\_rab\_bit)}
\DoxyCodeLine{882               .Then(RabFixed)}
\DoxyCodeLine{883               .Else(GsabFixedOrNormal)}
\DoxyCodeLine{884               .Value();}
\DoxyCodeLine{885         \})}
\DoxyCodeLine{886         .Value();}
\DoxyCodeLine{887   \}}

\end{DoxyCode}


References assembler\+\_\+, DCHECK\+\_\+\+EQ, v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+Byte\+Length(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Bit\+Field(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Buffer(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Byte\+Length(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Byte\+Offset(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+Map(), v8\+::internal\+::compiler\+::\+Type\+Cache\+::\+Get(), instance\+\_\+type\+\_\+, v8\+::internal\+::compiler\+::\+Type\+Cache\+::k\+JSArray\+Buffer\+View\+Byte\+Length\+Type, v8\+::internal\+::compiler\+::\+Operator\+::k\+No\+Write, v8\+::internal\+::compiler\+::k\+No\+Write\+Barrier, maybe\+\_\+rab\+\_\+gsab(), v8\+::internal\+::compiler\+::\+Use\+Info\+::\+Truncating\+Word32(), Try\+Compute\+Static\+Element\+Shift(), v8\+::internal\+::\+TNode$<$ T $>$\+::\+Unchecked\+Cast(), and v8\+::internal\+::compiler\+::\+Use\+Info\+::\+Word().



Referenced by v8\+::internal\+::compiler\+::\+JSGraph\+Assembler\+::\+Array\+Buffer\+View\+Byte\+Length().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a972598cba72cba4b45aa43c5dd3e5e73_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a972598cba72cba4b45aa43c5dd3e5e73_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a71b9be997b56a06b7019088709c889a5}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a71b9be997b56a06b7019088709c889a5}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!BuildDetachedOrOutOfBoundsCheck@{BuildDetachedOrOutOfBoundsCheck}}
\index{BuildDetachedOrOutOfBoundsCheck@{BuildDetachedOrOutOfBoundsCheck}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{BuildDetachedOrOutOfBoundsCheck()}{BuildDetachedOrOutOfBoundsCheck()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1Word32T}{Word32T}}$>$ v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::\+Build\+Detached\+Or\+Out\+Of\+Bounds\+Check (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBufferView}{JSArray\+Buffer\+View}} $>$}]{view }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 889 of file graph-\/assembler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{890                                      \{}
\DoxyCodeLine{891     \textcolor{keyword}{auto}\& a = *\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4736c287aedb341272eabd94571726b5}{assembler\_}};}
\DoxyCodeLine{892 }
\DoxyCodeLine{893     \textcolor{comment}{// Load the underlying buffer and its bitfield.}}
\DoxyCodeLine{894     TNode<HeapObject> buffer = a.\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraphAssembler_acd289e9cee64d0e30896ab8c8e629ba1}{LoadField}}<HeapObject>(}
\DoxyCodeLine{895         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a02537ce5d5a1ce7d1a1fef121a1626cd}{AccessBuilder::ForJSArrayBufferViewBuffer}}(), view);}
\DoxyCodeLine{896     \textcolor{comment}{// Mask the detached bit.}}
\DoxyCodeLine{897     TNode<Word32T> detached\_bit = a.ArrayBufferDetachedBit(buffer);}
\DoxyCodeLine{898 }
\DoxyCodeLine{899     \textcolor{comment}{// If we statically know we cannot have rab/gsab backed, we are done here.}}
\DoxyCodeLine{900     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4cd71a88fa2e906cbda1d6091d11740d}{maybe\_rab\_gsab}}()) \{}
\DoxyCodeLine{901       \textcolor{keywordflow}{return} detached\_bit;}
\DoxyCodeLine{902     \}}
\DoxyCodeLine{903 }
\DoxyCodeLine{904     \textcolor{comment}{// Otherwise, we need to generate the checks for the view's bitfield.}}
\DoxyCodeLine{905     TNode<Word32T> bitfield = a.EnterMachineGraph<Word32T>(}
\DoxyCodeLine{906         a.LoadField<Word32T>(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_af51499fd1d24cd27808e22fc6a77b9a8}{AccessBuilder::ForJSArrayBufferViewBitField}}(),}
\DoxyCodeLine{907                              view),}
\DoxyCodeLine{908         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_aa94aa0f6add7ddb7cc354f8ef1dc037f}{UseInfo::TruncatingWord32}}());}
\DoxyCodeLine{909     TNode<Word32T> length\_tracking\_bit = a.Word32And(}
\DoxyCodeLine{910         bitfield, a.Uint32Constant(JSArrayBufferView::kIsLengthTracking));}
\DoxyCodeLine{911     TNode<Word32T> backed\_by\_rab\_bit = a.Word32And(}
\DoxyCodeLine{912         bitfield, a.Uint32Constant(JSArrayBufferView::kIsBackedByRab));}
\DoxyCodeLine{913 }
\DoxyCodeLine{914     \textcolor{keyword}{auto} RabLengthTracking = [\&]() \{}
\DoxyCodeLine{915       TNode<UintPtrT> byte\_offset = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{916           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a151eb9814fa1e4b746e84e49b70c6af9}{AccessBuilder::ForJSArrayBufferViewByteOffset}}(), view,}
\DoxyCodeLine{917           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{918 }
\DoxyCodeLine{919       TNode<UintPtrT> underlying\_byte\_length = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{920           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a3477d20363c5bd3afeb7fde419e0be68}{AccessBuilder::ForJSArrayBufferByteLength}}(), buffer, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{921 }
\DoxyCodeLine{922       \textcolor{keywordflow}{return} a.Word32Or(detached\_bit,}
\DoxyCodeLine{923                         a.UintPtrLessThan(underlying\_byte\_length, byte\_offset));}
\DoxyCodeLine{924     \};}
\DoxyCodeLine{925 }
\DoxyCodeLine{926     \textcolor{keyword}{auto} RabFixed = [\&]() \{}
\DoxyCodeLine{927       TNode<UintPtrT> unchecked\_byte\_length = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{928           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a0e786978222f715fe6ed0443bb4ea546}{AccessBuilder::ForJSArrayBufferViewByteLength}}(), view,}
\DoxyCodeLine{929           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{930       TNode<UintPtrT> byte\_offset = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{931           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a151eb9814fa1e4b746e84e49b70c6af9}{AccessBuilder::ForJSArrayBufferViewByteOffset}}(), view,}
\DoxyCodeLine{932           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{933 }
\DoxyCodeLine{934       TNode<UintPtrT> underlying\_byte\_length = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{935           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a3477d20363c5bd3afeb7fde419e0be68}{AccessBuilder::ForJSArrayBufferByteLength}}(), buffer, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{936 }
\DoxyCodeLine{937       \textcolor{keywordflow}{return} a.Word32Or(}
\DoxyCodeLine{938           detached\_bit,}
\DoxyCodeLine{939           a.UintPtrLessThan(underlying\_byte\_length,}
\DoxyCodeLine{940                             a.UintPtrAdd(byte\_offset, unchecked\_byte\_length)));}
\DoxyCodeLine{941     \};}
\DoxyCodeLine{942 }
\DoxyCodeLine{943     \textcolor{comment}{// Dispatch depending on rab/gsab and length tracking.}}
\DoxyCodeLine{944     \textcolor{keywordflow}{return} a.MachineSelectIf<Word32T>(backed\_by\_rab\_bit)}
\DoxyCodeLine{945         .Then([\&]() \{}
\DoxyCodeLine{946           \textcolor{keywordflow}{return} a.MachineSelectIf<Word32T>(length\_tracking\_bit)}
\DoxyCodeLine{947               .Then(RabLengthTracking)}
\DoxyCodeLine{948               .Else(RabFixed)}
\DoxyCodeLine{949               .Value();}
\DoxyCodeLine{950         \})}
\DoxyCodeLine{951         .Else([\&]() \{ \textcolor{keywordflow}{return} detached\_bit; \})}
\DoxyCodeLine{952         .Value();}
\DoxyCodeLine{953   \}}

\end{DoxyCode}


References assembler\+\_\+, v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+Byte\+Length(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Bit\+Field(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Buffer(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Byte\+Length(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Byte\+Offset(), maybe\+\_\+rab\+\_\+gsab(), v8\+::internal\+::compiler\+::\+Use\+Info\+::\+Truncating\+Word32(), and v8\+::internal\+::compiler\+::\+Use\+Info\+::\+Word().



Referenced by v8\+::internal\+::compiler\+::\+JSGraph\+Assembler\+::\+Check\+If\+Typed\+Array\+Was\+Detached\+Or\+Out\+Of\+Bounds().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a71b9be997b56a06b7019088709c889a5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a71b9be997b56a06b7019088709c889a5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a86921df22a311c8c4677cb7dfe8de076}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a86921df22a311c8c4677cb7dfe8de076}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!BuildLength@{BuildLength}}
\index{BuildLength@{BuildLength}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{BuildLength()}{BuildLength()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1UintPtrT}{Uint\+PtrT}}$>$ v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::\+Build\+Length (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBufferView}{JSArray\+Buffer\+View}} $>$}]{view,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Context}{Context}} $>$}]{context }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 622 of file graph-\/assembler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{623                                                       \{}
\DoxyCodeLine{624     \textcolor{keyword}{auto}\& a = *\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4736c287aedb341272eabd94571726b5}{assembler\_}};}
\DoxyCodeLine{625 }
\DoxyCodeLine{626     \textcolor{comment}{// Case 1: Normal (backed by AB/SAB) or non-\/length tracking backed by GSAB}}
\DoxyCodeLine{627     \textcolor{comment}{// (can't go oob once constructed)}}
\DoxyCodeLine{628     \textcolor{keyword}{auto} GsabFixedOrNormal = [\&]() \{}
\DoxyCodeLine{629       TNode<UintPtrT> byte\_length = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{630           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a0e786978222f715fe6ed0443bb4ea546}{AccessBuilder::ForJSArrayBufferViewByteLength}}(), view,}
\DoxyCodeLine{631           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{632       \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} size\_opt = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_afef63d2260c5c6e41cfec2e0840896b3}{TryComputeStaticElementSize}}()) \{}
\DoxyCodeLine{633         \textcolor{keywordflow}{return} a.UintPtrDiv(byte\_length, a.UintPtrConstant(*size\_opt));}
\DoxyCodeLine{634       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{635         TNode<Map> typed\_array\_map = a.LoadField<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a3e9844531586430b0ef0b32350b804dd}{Map}}>(}
\DoxyCodeLine{636             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a14edbb6e488dfe153c4a4dc333fa0096}{AccessBuilder::ForMap}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a1ee0d1fd80275438925bc568ec289797a3cb0f5f3b0a3f679f11bec177e0cdd98}{WriteBarrierKind::kNoWriteBarrier}}), view);}
\DoxyCodeLine{637         TNode<Uint32T> elements\_kind = a.LoadElementsKind(typed\_array\_map);}
\DoxyCodeLine{638         TNode<Uint32T> element\_size =}
\DoxyCodeLine{639             a.LookupByteSizeForElementsKind(elements\_kind);}
\DoxyCodeLine{640         \textcolor{keywordflow}{return} a.UintPtrDiv(byte\_length, a.ChangeUint32ToUintPtr(element\_size));}
\DoxyCodeLine{641       \}}
\DoxyCodeLine{642     \};}
\DoxyCodeLine{643 }
\DoxyCodeLine{644     \textcolor{comment}{// If we statically know we cannot have rab/gsab backed, we can simply}}
\DoxyCodeLine{645     \textcolor{comment}{// load from the view.}}
\DoxyCodeLine{646     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4cd71a88fa2e906cbda1d6091d11740d}{maybe\_rab\_gsab}}()) \{}
\DoxyCodeLine{647       \textcolor{keywordflow}{return} GsabFixedOrNormal();}
\DoxyCodeLine{648     \}}
\DoxyCodeLine{649 }
\DoxyCodeLine{650     \textcolor{comment}{// Otherwise, we need to generate the checks for the view's bitfield.}}
\DoxyCodeLine{651     TNode<Word32T> bitfield = a.EnterMachineGraph<Word32T>(}
\DoxyCodeLine{652         a.LoadField<Word32T>(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_af51499fd1d24cd27808e22fc6a77b9a8}{AccessBuilder::ForJSArrayBufferViewBitField}}(),}
\DoxyCodeLine{653                              view),}
\DoxyCodeLine{654         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_aa94aa0f6add7ddb7cc354f8ef1dc037f}{UseInfo::TruncatingWord32}}());}
\DoxyCodeLine{655     TNode<Word32T> length\_tracking\_bit = a.Word32And(}
\DoxyCodeLine{656         bitfield, a.Uint32Constant(JSArrayBufferView::kIsLengthTracking));}
\DoxyCodeLine{657     TNode<Word32T> backed\_by\_rab\_bit = a.Word32And(}
\DoxyCodeLine{658         bitfield, a.Uint32Constant(JSArrayBufferView::kIsBackedByRab));}
\DoxyCodeLine{659 }
\DoxyCodeLine{660     \textcolor{comment}{// Load the underlying buffer.}}
\DoxyCodeLine{661     TNode<HeapObject> buffer = a.LoadField<HeapObject>(}
\DoxyCodeLine{662         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a02537ce5d5a1ce7d1a1fef121a1626cd}{AccessBuilder::ForJSArrayBufferViewBuffer}}(), view);}
\DoxyCodeLine{663 }
\DoxyCodeLine{664     \textcolor{comment}{// Compute the element size.}}
\DoxyCodeLine{665     TNode<Uint32T> element\_size;}
\DoxyCodeLine{666     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} size\_opt = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_afef63d2260c5c6e41cfec2e0840896b3}{TryComputeStaticElementSize}}()) \{}
\DoxyCodeLine{667       element\_size = a.Uint32Constant(*size\_opt);}
\DoxyCodeLine{668     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{669       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}{instance\_type\_}}, JS\_TYPED\_ARRAY\_TYPE);}
\DoxyCodeLine{670       TNode<Map> typed\_array\_map = a.LoadField<\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a3e9844531586430b0ef0b32350b804dd}{Map}}>(}
\DoxyCodeLine{671           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a14edbb6e488dfe153c4a4dc333fa0096}{AccessBuilder::ForMap}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a1ee0d1fd80275438925bc568ec289797a3cb0f5f3b0a3f679f11bec177e0cdd98}{WriteBarrierKind::kNoWriteBarrier}}), view);}
\DoxyCodeLine{672       TNode<Uint32T> elements\_kind = a.LoadElementsKind(typed\_array\_map);}
\DoxyCodeLine{673       element\_size = a.LookupByteSizeForElementsKind(elements\_kind);}
\DoxyCodeLine{674     \}}
\DoxyCodeLine{675 }
\DoxyCodeLine{676     \textcolor{comment}{// 2) Fixed length backed by RAB (can go oob once constructed)}}
\DoxyCodeLine{677     \textcolor{keyword}{auto} RabFixed = [\&]() \{}
\DoxyCodeLine{678       TNode<UintPtrT> unchecked\_byte\_length = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{679           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a0e786978222f715fe6ed0443bb4ea546}{AccessBuilder::ForJSArrayBufferViewByteLength}}(), view,}
\DoxyCodeLine{680           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{681       TNode<UintPtrT> underlying\_byte\_length = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{682           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a3477d20363c5bd3afeb7fde419e0be68}{AccessBuilder::ForJSArrayBufferByteLength}}(), buffer, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{683       TNode<UintPtrT> byte\_offset = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{684           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a151eb9814fa1e4b746e84e49b70c6af9}{AccessBuilder::ForJSArrayBufferViewByteOffset}}(), view,}
\DoxyCodeLine{685           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{686 }
\DoxyCodeLine{687       TNode<UintPtrT> byte\_length =}
\DoxyCodeLine{688           a}
\DoxyCodeLine{689               .MachineSelectIf<UintPtrT>(a.UintPtrLessThanOrEqual(}
\DoxyCodeLine{690                   a.UintPtrAdd(byte\_offset, unchecked\_byte\_length),}
\DoxyCodeLine{691                   underlying\_byte\_length))}
\DoxyCodeLine{692               .Then([\&]() \{ \textcolor{keywordflow}{return} unchecked\_byte\_length; \})}
\DoxyCodeLine{693               .Else([\&]() \{ \textcolor{keywordflow}{return} a.UintPtrConstant(0); \})}
\DoxyCodeLine{694               .Value();}
\DoxyCodeLine{695       \textcolor{keywordflow}{return} a.UintPtrDiv(byte\_length, a.ChangeUint32ToUintPtr(element\_size));}
\DoxyCodeLine{696     \};}
\DoxyCodeLine{697 }
\DoxyCodeLine{698     \textcolor{comment}{// 3) Length-\/tracking backed by RAB (JSArrayBuffer stores the length)}}
\DoxyCodeLine{699     \textcolor{keyword}{auto} RabTracking = [\&]() \{}
\DoxyCodeLine{700       TNode<UintPtrT> byte\_length = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{701           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a3477d20363c5bd3afeb7fde419e0be68}{AccessBuilder::ForJSArrayBufferByteLength}}(), buffer, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{702       TNode<UintPtrT> byte\_offset = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{703           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a151eb9814fa1e4b746e84e49b70c6af9}{AccessBuilder::ForJSArrayBufferViewByteOffset}}(), view,}
\DoxyCodeLine{704           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{705 }
\DoxyCodeLine{706       \textcolor{keywordflow}{return} a}
\DoxyCodeLine{707           .MachineSelectIf<UintPtrT>(}
\DoxyCodeLine{708               a.UintPtrLessThanOrEqual(byte\_offset, byte\_length))}
\DoxyCodeLine{709           .Then([\&]() \{}
\DoxyCodeLine{710             \textcolor{comment}{// length = floor((byte\_length -\/ byte\_offset) / element\_size)}}
\DoxyCodeLine{711             \textcolor{keywordflow}{return} a.UintPtrDiv(a.UintPtrSub(byte\_length, byte\_offset),}
\DoxyCodeLine{712                                 a.ChangeUint32ToUintPtr(element\_size));}
\DoxyCodeLine{713           \})}
\DoxyCodeLine{714           .Else([\&]() \{ \textcolor{keywordflow}{return} a.UintPtrConstant(0); \})}
\DoxyCodeLine{715           .ExpectTrue()}
\DoxyCodeLine{716           .Value();}
\DoxyCodeLine{717     \};}
\DoxyCodeLine{718 }
\DoxyCodeLine{719     \textcolor{comment}{// 4) Length-\/tracking backed by GSAB (BackingStore stores the length)}}
\DoxyCodeLine{720     \textcolor{keyword}{auto} GsabTracking = [\&]() \{}
\DoxyCodeLine{721       TNode<Number> temp = \mbox{\hyperlink{classv8_1_1internal_1_1TNode_aef7e09b0f9e153327c5c1eb4dd516e6e}{TNode<Number>::UncheckedCast}}(a.TypeGuard(}
\DoxyCodeLine{722           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TypeCache_a7df761cef026435ae74f2a0de5ea0668}{TypeCache::Get}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TypeCache_ad8fa947923612239a77ecb0a89103d71}{kJSArrayBufferViewByteLengthType}},}
\DoxyCodeLine{723           a.JSCallRuntime1(Runtime::kGrowableSharedArrayBufferByteLength,}
\DoxyCodeLine{724                            buffer, context, std::nullopt, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Operator_a46a45dbac84017b87c0432803df4c3efaf74cbb8deaff2098603cc5fcfe4c6f52}{Operator::kNoWrite}})));}
\DoxyCodeLine{725       TNode<UintPtrT> byte\_length =}
\DoxyCodeLine{726           a.EnterMachineGraph<UintPtrT>(temp, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{727       TNode<UintPtrT> byte\_offset = MachineLoadField<UintPtrT>(}
\DoxyCodeLine{728           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1AccessBuilder_a151eb9814fa1e4b746e84e49b70c6af9}{AccessBuilder::ForJSArrayBufferViewByteOffset}}(), view,}
\DoxyCodeLine{729           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo_a6d1bfb4cd61c1de56977654c2081644d}{UseInfo::Word}}());}
\DoxyCodeLine{730 }
\DoxyCodeLine{731       \textcolor{keywordflow}{return} a}
\DoxyCodeLine{732           .MachineSelectIf<UintPtrT>(}
\DoxyCodeLine{733               a.UintPtrLessThanOrEqual(byte\_offset, byte\_length))}
\DoxyCodeLine{734           .Then([\&]() \{}
\DoxyCodeLine{735             \textcolor{comment}{// length = floor((byte\_length -\/ byte\_offset) / element\_size)}}
\DoxyCodeLine{736             \textcolor{keywordflow}{return} a.UintPtrDiv(a.UintPtrSub(byte\_length, byte\_offset),}
\DoxyCodeLine{737                                 a.ChangeUint32ToUintPtr(element\_size));}
\DoxyCodeLine{738           \})}
\DoxyCodeLine{739           .Else([\&]() \{ \textcolor{keywordflow}{return} a.UintPtrConstant(0); \})}
\DoxyCodeLine{740           .ExpectTrue()}
\DoxyCodeLine{741           .Value();}
\DoxyCodeLine{742     \};}
\DoxyCodeLine{743 }
\DoxyCodeLine{744     \textcolor{keywordflow}{return} a.MachineSelectIf<UintPtrT>(length\_tracking\_bit)}
\DoxyCodeLine{745         .Then([\&]() \{}
\DoxyCodeLine{746           \textcolor{keywordflow}{return} a.MachineSelectIf<UintPtrT>(backed\_by\_rab\_bit)}
\DoxyCodeLine{747               .Then(RabTracking)}
\DoxyCodeLine{748               .Else(GsabTracking)}
\DoxyCodeLine{749               .Value();}
\DoxyCodeLine{750         \})}
\DoxyCodeLine{751         .Else([\&]() \{}
\DoxyCodeLine{752           \textcolor{keywordflow}{return} a.MachineSelectIf<UintPtrT>(backed\_by\_rab\_bit)}
\DoxyCodeLine{753               .Then(RabFixed)}
\DoxyCodeLine{754               .Else(GsabFixedOrNormal)}
\DoxyCodeLine{755               .Value();}
\DoxyCodeLine{756         \})}
\DoxyCodeLine{757         .Value();}
\DoxyCodeLine{758   \}}

\end{DoxyCode}


References assembler\+\_\+, DCHECK\+\_\+\+EQ, v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+Byte\+Length(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Bit\+Field(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Buffer(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Byte\+Length(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+JSArray\+Buffer\+View\+Byte\+Offset(), v8\+::internal\+::compiler\+::\+Access\+Builder\+::\+For\+Map(), v8\+::internal\+::compiler\+::\+Type\+Cache\+::\+Get(), instance\+\_\+type\+\_\+, v8\+::internal\+::compiler\+::\+Type\+Cache\+::k\+JSArray\+Buffer\+View\+Byte\+Length\+Type, v8\+::internal\+::compiler\+::\+Operator\+::k\+No\+Write, v8\+::internal\+::compiler\+::k\+No\+Write\+Barrier, maybe\+\_\+rab\+\_\+gsab(), v8\+::internal\+::compiler\+::\+Use\+Info\+::\+Truncating\+Word32(), Try\+Compute\+Static\+Element\+Size(), v8\+::internal\+::\+TNode$<$ T $>$\+::\+Unchecked\+Cast(), and v8\+::internal\+::compiler\+::\+Use\+Info\+::\+Word().



Referenced by v8\+::internal\+::compiler\+::\+JSGraph\+Assembler\+::\+Typed\+Array\+Length().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a86921df22a311c8c4677cb7dfe8de076_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a86921df22a311c8c4677cb7dfe8de076_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a85f9d74c48d734900208f6366e6c7eb0}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a85f9d74c48d734900208f6366e6c7eb0}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!MachineLoadField@{MachineLoadField}}
\index{MachineLoadField@{MachineLoadField}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{MachineLoadField()}{MachineLoadField()}}
{\footnotesize\ttfamily template$<$typename T $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$\mbox{\hyperlink{classT}{T}}$>$ v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::\+Machine\+Load\+Field (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1FieldAccess}{Field\+Access}} const \&}]{access,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1TNode}{TNode}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1HeapObject}{Heap\+Object}} $>$}]{object,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1UseInfo}{Use\+Info}} \&}]{use\+\_\+info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 957 of file graph-\/assembler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{958                                                      \{}
\DoxyCodeLine{959     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4736c287aedb341272eabd94571726b5}{assembler\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraphAssembler_aa0a5d3e07616d7628a1a9dc5433b5f3a}{EnterMachineGraph}}<\mbox{\hyperlink{classT}{T}}>(}
\DoxyCodeLine{960         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4736c287aedb341272eabd94571726b5}{assembler\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraphAssembler_acd289e9cee64d0e30896ab8c8e629ba1}{LoadField}}<\mbox{\hyperlink{classT}{T}}>(access, object), use\_info);}
\DoxyCodeLine{961   \}}

\end{DoxyCode}


References assembler\+\_\+, v8\+::internal\+::compiler\+::\+JSGraph\+Assembler\+::\+Enter\+Machine\+Graph(), and v8\+::internal\+::compiler\+::\+JSGraph\+Assembler\+::\+Load\+Field().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a85f9d74c48d734900208f6366e6c7eb0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4cd71a88fa2e906cbda1d6091d11740d}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4cd71a88fa2e906cbda1d6091d11740d}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!maybe\_rab\_gsab@{maybe\_rab\_gsab}}
\index{maybe\_rab\_gsab@{maybe\_rab\_gsab}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{maybe\_rab\_gsab()}{maybe\_rab\_gsab()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::maybe\+\_\+rab\+\_\+gsab (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 589 of file graph-\/assembler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{589                               \{}
\DoxyCodeLine{590     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}{candidates\_}}.empty()) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{591     \textcolor{keywordflow}{return} !\mbox{\hyperlink{namespacev8_1_1base_adcd90950c0b92baf7c69e2e711fe1e67}{base::all\_of}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}{candidates\_}}, [](\textcolor{keyword}{auto} e) \{}
\DoxyCodeLine{592       \textcolor{keywordflow}{return} !\mbox{\hyperlink{namespacev8_1_1internal_a5f4a87eb71f4bc26a393c7d676473196}{IsRabGsabTypedArrayElementsKind}}(e);}
\DoxyCodeLine{593     \});}
\DoxyCodeLine{594   \}}

\end{DoxyCode}


References v8\+::base\+::all\+\_\+of(), candidates\+\_\+, and v8\+::internal\+::\+Is\+Rab\+Gsab\+Typed\+Array\+Elements\+Kind().



Referenced by Build\+Byte\+Length(), Build\+Detached\+Or\+Out\+Of\+Bounds\+Check(), and Build\+Length().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4cd71a88fa2e906cbda1d6091d11740d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4cd71a88fa2e906cbda1d6091d11740d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ad169e2606bdd2a2f689621b0dbe97ce8}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ad169e2606bdd2a2f689621b0dbe97ce8}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!TryComputeStaticElementShift@{TryComputeStaticElementShift}}
\index{TryComputeStaticElementShift@{TryComputeStaticElementShift}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{TryComputeStaticElementShift()}{TryComputeStaticElementShift()}}
{\footnotesize\ttfamily std\+::optional$<$\mbox{\hyperlink{classint}{int}}$>$ v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::\+Try\+Compute\+Static\+Element\+Shift (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 596 of file graph-\/assembler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{596                                                   \{}
\DoxyCodeLine{597     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}{instance\_type\_}} != JS\_RAB\_GSAB\_DATA\_VIEW\_TYPE);}
\DoxyCodeLine{598     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}{instance\_type\_}} == JS\_DATA\_VIEW\_TYPE) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{599     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}{candidates\_}}.empty()) \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{600     \textcolor{keywordtype}{int} shift = \mbox{\hyperlink{namespacev8_1_1internal_a7b8719ab75557f37baf05c5e0de3487d}{ElementsKindToShiftSize}}(*\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}{candidates\_}}.begin());}
\DoxyCodeLine{601     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1base_adcd90950c0b92baf7c69e2e711fe1e67}{base::all\_of}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}{candidates\_}}, [shift](\textcolor{keyword}{auto} e) \{}
\DoxyCodeLine{602           \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a7b8719ab75557f37baf05c5e0de3487d}{ElementsKindToShiftSize}}(e) == shift;}
\DoxyCodeLine{603         \})) \{}
\DoxyCodeLine{604       \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{605     \}}
\DoxyCodeLine{606     \textcolor{keywordflow}{return} shift;}
\DoxyCodeLine{607   \}}

\end{DoxyCode}


References v8\+::base\+::all\+\_\+of(), candidates\+\_\+, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Elements\+Kind\+To\+Shift\+Size(), and instance\+\_\+type\+\_\+.



Referenced by Build\+Byte\+Length().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ad169e2606bdd2a2f689621b0dbe97ce8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ad169e2606bdd2a2f689621b0dbe97ce8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_afef63d2260c5c6e41cfec2e0840896b3}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_afef63d2260c5c6e41cfec2e0840896b3}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!TryComputeStaticElementSize@{TryComputeStaticElementSize}}
\index{TryComputeStaticElementSize@{TryComputeStaticElementSize}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{TryComputeStaticElementSize()}{TryComputeStaticElementSize()}}
{\footnotesize\ttfamily std\+::optional$<$\mbox{\hyperlink{classint}{int}}$>$ v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::\+Try\+Compute\+Static\+Element\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 609 of file graph-\/assembler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{609                                                  \{}
\DoxyCodeLine{610     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}{instance\_type\_}} != JS\_RAB\_GSAB\_DATA\_VIEW\_TYPE);}
\DoxyCodeLine{611     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}{instance\_type\_}} == JS\_DATA\_VIEW\_TYPE) \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{612     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}{candidates\_}}.empty()) \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{613     \textcolor{keywordtype}{int} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} = \mbox{\hyperlink{namespacev8_1_1internal_af28df3a64e5728c553a6287c3b2aab0a}{ElementsKindToByteSize}}(*\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}{candidates\_}}.begin());}
\DoxyCodeLine{614     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1base_adcd90950c0b92baf7c69e2e711fe1e67}{base::all\_of}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}{candidates\_}}, [\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}](\textcolor{keyword}{auto} e) \{}
\DoxyCodeLine{615           \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_af28df3a64e5728c553a6287c3b2aab0a}{ElementsKindToByteSize}}(e) == \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{616         \})) \{}
\DoxyCodeLine{617       \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{618     \}}
\DoxyCodeLine{619     \textcolor{keywordflow}{return} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{620   \}}

\end{DoxyCode}


References v8\+::base\+::all\+\_\+of(), candidates\+\_\+, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Elements\+Kind\+To\+Byte\+Size(), instance\+\_\+type\+\_\+, and size().



Referenced by Build\+Length().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_afef63d2260c5c6e41cfec2e0840896b3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_afef63d2260c5c6e41cfec2e0840896b3_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4736c287aedb341272eabd94571726b5}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a4736c287aedb341272eabd94571726b5}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!assembler\_@{assembler\_}}
\index{assembler\_@{assembler\_}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{assembler\_}{assembler\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraphAssembler}{JSGraph\+Assembler}}$\ast$ v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::assembler\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 963 of file graph-\/assembler.\+cc.



Referenced by Array\+Buffer\+View\+Access\+Builder(), Build\+Byte\+Length(), Build\+Detached\+Or\+Out\+Of\+Bounds\+Check(), Build\+Length(), and Machine\+Load\+Field().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_a05b1d73e51d5a0066c19af2f40d49b72}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!candidates\_@{candidates\_}}
\index{candidates\_@{candidates\_}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{candidates\_}{candidates\_}}
{\footnotesize\ttfamily std\+::set$<$\mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149c}{Elements\+Kind}}$>$ v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::candidates\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 965 of file graph-\/assembler.\+cc.



Referenced by maybe\+\_\+rab\+\_\+gsab(), Try\+Compute\+Static\+Element\+Shift(), and Try\+Compute\+Static\+Element\+Size().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}\label{classv8_1_1internal_1_1compiler_1_1ArrayBufferViewAccessBuilder_ae591597e8f1101bf332db78e6466f15d}} 
\index{v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}!instance\_type\_@{instance\_type\_}}
\index{instance\_type\_@{instance\_type\_}!v8::internal::compiler::ArrayBufferViewAccessBuilder@{v8::internal::compiler::ArrayBufferViewAccessBuilder}}
\doxysubsubsection{\texorpdfstring{instance\_type\_}{instance\_type\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a9312a9fc987dba9376a530956f94e8fe}{Instance\+Type}} v8\+::internal\+::compiler\+::\+Array\+Buffer\+View\+Access\+Builder\+::instance\+\_\+type\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 964 of file graph-\/assembler.\+cc.



Referenced by Array\+Buffer\+View\+Access\+Builder(), Build\+Byte\+Length(), Build\+Length(), Try\+Compute\+Static\+Element\+Shift(), and Try\+Compute\+Static\+Element\+Size().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/\mbox{\hyperlink{graph-assembler_8cc}{graph-\/assembler.\+cc}}\end{DoxyCompactItemize}
