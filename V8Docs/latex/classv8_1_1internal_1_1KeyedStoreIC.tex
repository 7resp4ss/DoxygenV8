\hypertarget{classv8_1_1internal_1_1KeyedStoreIC}{}\doxysection{v8\+::internal\+::Keyed\+Store\+IC Class Reference}
\label{classv8_1_1internal_1_1KeyedStoreIC}\index{v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}}


{\ttfamily \#include $<$ic.\+h$>$}



Inheritance diagram for v8\+::internal\+::Keyed\+Store\+IC\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1KeyedStoreIC__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Keyed\+Store\+IC\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1KeyedStoreIC__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6}{Keyed\+Access\+Store\+Mode}} \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_a0d99a86f21d342854c18ee615f814287}{Get\+Keyed\+Access\+Store\+Mode}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_ae8a7a968461fb60b4b03bdb9a5be795f}{Keyed\+Store\+IC}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}, \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FeedbackVector}{Feedback\+Vector}} $>$ vector, \mbox{\hyperlink{classv8_1_1internal_1_1FeedbackSlot}{Feedback\+Slot}} slot, \mbox{\hyperlink{namespacev8_1_1internal_a568220f4c0d8eed9fda4e10c93e025ea}{Feedback\+Slot\+Kind}} \mbox{\hyperlink{classv8_1_1internal_1_1IC_a8b5bd465d7121a9addc65b6f47c1e321}{kind}})
\item 
\mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_ab2ac9c3cf92c26789e8a208b70aacd3d}{Store}} (\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_a03f078cfc6f1c8041efc00c7fcc7a39d}{JSAny}} $>$ object, \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}}, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}})
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_ac28f29fdad09a18dd34b085ac549a973}{Update\+Store\+Element}} (\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ receiver\+\_\+map, \mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6}{Keyed\+Access\+Store\+Mode}} store\+\_\+mode, \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ new\+\_\+receiver\+\_\+map)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_af7e430937238eef8ea6aa0e41403d66e}{Compute\+Transitioned\+Map}} (\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ map, \mbox{\hyperlink{namespacev8_1_1internal_aa01c0a7d2bcbc5aed8f0b08c5b0bd9be}{Transition\+Mode}} transition\+\_\+mode)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_a07101859bfb58c94a9afb027aa8e45c0}{Store\+Element\+Handler}} (\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ receiver\+\_\+map, \mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6}{Keyed\+Access\+Store\+Mode}} store\+\_\+mode, \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_acd10a3519c540121d30308892e89a261}{Union\+Of}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Smi}{Smi}}, \mbox{\hyperlink{classv8_1_1internal_1_1Cell}{Cell}} $>$$>$ prev\+\_\+validity\+\_\+cell=\mbox{\hyperlink{namespacev8_1_1internal_a12bba79f0b2c466b43e23e173e34465d}{k\+Null\+Maybe\+Handle}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_aec3e69713cc463ab9b7eb347b791e803}{Store\+Element\+Polymorphic\+Handlers}} (\mbox{\hyperlink{classv8_1_1internal_1_1MapsAndHandlers}{Maps\+And\+Handlers}} $\ast$receiver\+\_\+maps\+\_\+and\+\_\+handlers, \mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6}{Keyed\+Access\+Store\+Mode}} store\+\_\+mode)
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_ae59e849648858af1fd22081890d47b78}{IC}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 312 of file ic.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1KeyedStoreIC_ae8a7a968461fb60b4b03bdb9a5be795f}\label{classv8_1_1internal_1_1KeyedStoreIC_ae8a7a968461fb60b4b03bdb9a5be795f}} 
\index{v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}!KeyedStoreIC@{KeyedStoreIC}}
\index{KeyedStoreIC@{KeyedStoreIC}!v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}}
\doxysubsubsection{\texorpdfstring{KeyedStoreIC()}{KeyedStoreIC()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Keyed\+Store\+IC\+::\+Keyed\+Store\+IC (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1FeedbackVector}{Feedback\+Vector}} $>$}]{vector,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1FeedbackSlot}{Feedback\+Slot}}}]{slot,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a568220f4c0d8eed9fda4e10c93e025ea}{Feedback\+Slot\+Kind}}}]{kind }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 318 of file ic.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{320       : \mbox{\hyperlink{classv8_1_1internal_1_1StoreIC_ae93a2be70e62921efe5525c434143131}{StoreIC}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}, vector, slot, \mbox{\hyperlink{classv8_1_1internal_1_1IC_a8b5bd465d7121a9addc65b6f47c1e321}{kind}}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1KeyedStoreIC_af7e430937238eef8ea6aa0e41403d66e}\label{classv8_1_1internal_1_1KeyedStoreIC_af7e430937238eef8ea6aa0e41403d66e}} 
\index{v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}!ComputeTransitionedMap@{ComputeTransitionedMap}}
\index{ComputeTransitionedMap@{ComputeTransitionedMap}!v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}}
\doxysubsubsection{\texorpdfstring{ComputeTransitionedMap()}{ComputeTransitionedMap()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}}$>$ v8\+::internal\+::\+Keyed\+Store\+IC\+::\+Compute\+Transitioned\+Map (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{map,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_aa01c0a7d2bcbc5aed8f0b08c5b0bd9be}{Transition\+Mode}}}]{transition\+\_\+mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1KeyedStoreIC_a0d99a86f21d342854c18ee615f814287}\label{classv8_1_1internal_1_1KeyedStoreIC_a0d99a86f21d342854c18ee615f814287}} 
\index{v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}!GetKeyedAccessStoreMode@{GetKeyedAccessStoreMode}}
\index{GetKeyedAccessStoreMode@{GetKeyedAccessStoreMode}!v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}}
\doxysubsubsection{\texorpdfstring{GetKeyedAccessStoreMode()}{GetKeyedAccessStoreMode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6}{Keyed\+Access\+Store\+Mode}} v8\+::internal\+::\+Keyed\+Store\+IC\+::\+Get\+Keyed\+Access\+Store\+Mode (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 314 of file ic.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{314                                                  \{}
\DoxyCodeLine{315     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1IC_ac10e141b7bede2f69f8af8340a90d384}{nexus}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FeedbackNexus_a396e49c2e3dfa573e148b526e95cae53}{GetKeyedAccessStoreMode}}();}
\DoxyCodeLine{316   \}}

\end{DoxyCode}


References v8\+::internal\+::\+Feedback\+Nexus\+::\+Get\+Keyed\+Access\+Store\+Mode(), and v8\+::internal\+::\+IC\+::nexus().



Referenced by Update\+Store\+Element().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1KeyedStoreIC_a0d99a86f21d342854c18ee615f814287_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1KeyedStoreIC_a0d99a86f21d342854c18ee615f814287_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1KeyedStoreIC_ab2ac9c3cf92c26789e8a208b70aacd3d}\label{classv8_1_1internal_1_1KeyedStoreIC_ab2ac9c3cf92c26789e8a208b70aacd3d}} 
\index{v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}!Store@{Store}}
\index{Store@{Store}!v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}}
\doxysubsubsection{\texorpdfstring{Store()}{Store()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ v8\+::internal\+::\+Keyed\+Store\+IC\+::\+Store (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_a03f078cfc6f1c8041efc00c7fcc7a39d}{JSAny}} $>$}]{object,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{name,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{value }\end{DoxyParamCaption})}



Definition at line 2599 of file ic.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2601                                                                           \{}
\DoxyCodeLine{2602   \textcolor{comment}{// TODO(verwaest): Let SetProperty do the migration, since storing a property}}
\DoxyCodeLine{2603   \textcolor{comment}{// might deprecate the current map again, if value does not fit.}}
\DoxyCodeLine{2604   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_a0c7b2641f57ea334eba3157b04dfb4d6}{MigrateDeprecated}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), \textcolor{keywordtype}{object})) \{}
\DoxyCodeLine{2605     DirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{2606     \textcolor{comment}{// TODO(v8:12548): refactor DefineKeyedOwnIC as a subclass of StoreIC}}
\DoxyCodeLine{2607     \textcolor{comment}{// so the logic doesn't get mixed here.}}
\DoxyCodeLine{2608     \mbox{\hyperlink{execution_2isolate_8h_a45bb81ab232e9f2663545ec92dc0b950}{ASSIGN\_RETURN\_ON\_EXCEPTION}}(}
\DoxyCodeLine{2609         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}},}
\DoxyCodeLine{2610         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a4375ca63976ad5a71a0714e1028510dd}{IsDefineKeyedOwnIC}}()}
\DoxyCodeLine{2611             ? \mbox{\hyperlink{classv8_1_1internal_1_1Runtime_a953c65664599051fadd7a344d4c01605}{Runtime::DefineObjectOwnProperty}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), \textcolor{keywordtype}{object}, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}},}
\DoxyCodeLine{2612                                                \mbox{\hyperlink{namespacev8_1_1internal_a5a9c953b927bbae6c9e0091778fc4e96a3de65b7d55d7330a42c36baee8e0333b}{StoreOrigin::kNamed}})}
\DoxyCodeLine{2613             : \mbox{\hyperlink{classv8_1_1internal_1_1Runtime_a1ca1cb57067fe79a15317e6b26385440}{Runtime::SetObjectProperty}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), \textcolor{keywordtype}{object}, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}},}
\DoxyCodeLine{2614                                          \mbox{\hyperlink{namespacev8_1_1internal_a5a9c953b927bbae6c9e0091778fc4e96a2231cb8054980456bf5d242d4171c492}{StoreOrigin::kMaybeKeyed}}));}
\DoxyCodeLine{2615     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{2616   \}}
\DoxyCodeLine{2617 }
\DoxyCodeLine{2618   DirectHandle<Object> store\_handle;}
\DoxyCodeLine{2619 }
\DoxyCodeLine{2620   intptr\_t maybe\_index;}
\DoxyCodeLine{2621   Handle<Name> maybe\_name;}
\DoxyCodeLine{2622   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_a4631bacb0230cb3812dd449094232bc8}{KeyType}} key\_type = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_a49026973f04a1f43dbedf8d3a843e1b8}{TryConvertKey}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), \&maybe\_index, \&maybe\_name);}
\DoxyCodeLine{2623 }
\DoxyCodeLine{2624   \textcolor{keywordflow}{if} (key\_type == \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_a4631bacb0230cb3812dd449094232bc8ab29ee0f200b80e06ab759be550b518d0}{kName}}) \{}
\DoxyCodeLine{2625     \mbox{\hyperlink{execution_2isolate_8h_a45bb81ab232e9f2663545ec92dc0b950}{ASSIGN\_RETURN\_ON\_EXCEPTION}}(}
\DoxyCodeLine{2626         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), store\_handle,}
\DoxyCodeLine{2627         \mbox{\hyperlink{classv8_1_1internal_1_1StoreIC_afb1a555bd6ba5b424d5d3e4133b81ac6}{StoreIC::Store}}(\textcolor{keywordtype}{object}, maybe\_name, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \mbox{\hyperlink{namespacev8_1_1internal_a5a9c953b927bbae6c9e0091778fc4e96a2231cb8054980456bf5d242d4171c492}{StoreOrigin::kMaybeKeyed}}));}
\DoxyCodeLine{2628     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1IC_a47ca21a1fbdb0b1146cb42f3844a9b62}{vector\_needs\_update}}()) \{}
\DoxyCodeLine{2629       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1IC_aa747ed53466599a03cd21e639fc686f9}{ConfigureVectorState}}(MEGAMORPHIC, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}})) \{}
\DoxyCodeLine{2630         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}unhandled internalized string key"{}});}
\DoxyCodeLine{2631         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a1f89dd078deea90d36984a2ccd956c8b}{TraceIC}}(\textcolor{stringliteral}{"{}StoreIC"{}}, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{2632       \}}
\DoxyCodeLine{2633     \}}
\DoxyCodeLine{2634     \textcolor{keywordflow}{return} store\_handle;}
\DoxyCodeLine{2635   \}}
\DoxyCodeLine{2636 }
\DoxyCodeLine{2637   \mbox{\hyperlink{classv8_1_1internal_1_1JSObject_aa21de02f20ef01460b97e179d7e1d60f}{JSObject::MakePrototypesFast}}(\textcolor{keywordtype}{object}, \mbox{\hyperlink{namespacev8_1_1internal_aeca996efa44e101da3b6e65e616b0540affcb8a1b2c948a91e9ab5d60b194320f}{kStartAtPrototype}}, \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}());}
\DoxyCodeLine{2638 }
\DoxyCodeLine{2639   \textcolor{comment}{// TODO(jkummerow): Refactor the condition logic here and below.}}
\DoxyCodeLine{2640   \textcolor{keywordtype}{bool} use\_ic = (\mbox{\hyperlink{classv8_1_1internal_1_1IC_a44761904b47f546a821e76605ba889df}{state}}() != \mbox{\hyperlink{namespacev8_1_1internal_aeef5aadaecbd08b3fcbb9ec1faa36c01a5e21ad0652f710f392b8fb78d6247921}{NO\_FEEDBACK}}) \&\& \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.use\_ic \&\&}
\DoxyCodeLine{2641                 !IsStringWrapper(*\textcolor{keywordtype}{object}) \&\& !IsAccessCheckNeeded(*\textcolor{keywordtype}{object}) \&\&}
\DoxyCodeLine{2642                 !IsJSGlobalProxy(*\textcolor{keywordtype}{object});}
\DoxyCodeLine{2643   \textcolor{keywordflow}{if} (use\_ic \&\& !\mbox{\hyperlink{namespacev8_1_1internal_ac299e59759eecb4621f6bad64d5db952}{IsSmi}}(*\textcolor{keywordtype}{object})) \{}
\DoxyCodeLine{2644     \textcolor{comment}{// Don't use ICs for maps of the objects in Array's prototype chain. We}}
\DoxyCodeLine{2645     \textcolor{comment}{// expect to be able to trap element sets to objects with those maps in}}
\DoxyCodeLine{2646     \textcolor{comment}{// the runtime to enable optimization of element hole access.}}
\DoxyCodeLine{2647     DirectHandle<HeapObject> heap\_object = Cast<HeapObject>(\textcolor{keywordtype}{object});}
\DoxyCodeLine{2648     \textcolor{keywordflow}{if} (heap\_object-\/>map()-\/>IsMapInArrayPrototypeChain(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}())) \{}
\DoxyCodeLine{2649       \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}map in array prototype"{}});}
\DoxyCodeLine{2650       use\_ic = \textcolor{keyword}{false};}
\DoxyCodeLine{2651     \}}
\DoxyCodeLine{2652   \}}
\DoxyCodeLine{2653 }
\DoxyCodeLine{2654   Handle<Map> old\_receiver\_map;}
\DoxyCodeLine{2655   \textcolor{keywordtype}{bool} is\_arguments = \textcolor{keyword}{false};}
\DoxyCodeLine{2656   \textcolor{keywordtype}{bool} key\_is\_valid\_index = (key\_type == \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_a4631bacb0230cb3812dd449094232bc8a38a8b13c0eb02da9a968bf2c3b4af0f6}{kIntPtr}});}
\DoxyCodeLine{2657   \mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6}{KeyedAccessStoreMode}} store\_mode = \mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6abe27a83a280bf51ef63099f1357db731}{KeyedAccessStoreMode::kInBounds}};}
\DoxyCodeLine{2658   \textcolor{keywordflow}{if} (use\_ic \&\& IsJSReceiver(*\textcolor{keywordtype}{object}) \&\& key\_is\_valid\_index) \{}
\DoxyCodeLine{2659     DirectHandle<JSReceiver> receiver = Cast<JSReceiver>(\textcolor{keywordtype}{object});}
\DoxyCodeLine{2660     old\_receiver\_map = \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}(receiver-\/>map(), \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}());}
\DoxyCodeLine{2661     is\_arguments = IsJSArgumentsObject(*receiver);}
\DoxyCodeLine{2662     \textcolor{keywordtype}{bool} is\_jsobject = IsJSObject(*receiver);}
\DoxyCodeLine{2663     \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}};}
\DoxyCodeLine{2664     key\_is\_valid\_index = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_a91cafc3cb62c32cad72605ace31d954f}{IntPtrKeyToSize}}(maybe\_index, receiver, \&\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{2665     \textcolor{keywordflow}{if} (is\_jsobject \&\& !is\_arguments \&\& key\_is\_valid\_index) \{}
\DoxyCodeLine{2666       DirectHandle<JSObject> receiver\_object = Cast<JSObject>(\textcolor{keywordtype}{object});}
\DoxyCodeLine{2667       store\_mode = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_aa89fcbf6c8bb58f2ee7c3b3f623050cd}{GetStoreMode}}(receiver\_object, \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{2668     \}}
\DoxyCodeLine{2669   \}}
\DoxyCodeLine{2670 }
\DoxyCodeLine{2671   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(store\_handle.is\_null());}
\DoxyCodeLine{2672   \textcolor{comment}{// TODO(v8:12548): refactor DefineKeyedOwnIC as a subclass of StoreIC}}
\DoxyCodeLine{2673   \textcolor{comment}{// so the logic doesn't get mixed here.}}
\DoxyCodeLine{2674   MaybeDirectHandle<Object> \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{2675       \mbox{\hyperlink{classv8_1_1internal_1_1IC_a4375ca63976ad5a71a0714e1028510dd}{IsDefineKeyedOwnIC}}()}
\DoxyCodeLine{2676           ? \mbox{\hyperlink{classv8_1_1internal_1_1Runtime_a953c65664599051fadd7a344d4c01605}{Runtime::DefineObjectOwnProperty}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), \textcolor{keywordtype}{object}, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}},}
\DoxyCodeLine{2677                                              \mbox{\hyperlink{namespacev8_1_1internal_a5a9c953b927bbae6c9e0091778fc4e96a3de65b7d55d7330a42c36baee8e0333b}{StoreOrigin::kNamed}})}
\DoxyCodeLine{2678           : Runtime::SetObjectProperty(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), object, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}},}
\DoxyCodeLine{2679                                        \mbox{\hyperlink{namespacev8_1_1internal_a5a9c953b927bbae6c9e0091778fc4e96}{StoreOrigin}}::\mbox{\hyperlink{namespacev8_1_1internal_a5a9c953b927bbae6c9e0091778fc4e96a2231cb8054980456bf5d242d4171c492}{kMaybeKeyed}});}
\DoxyCodeLine{2680   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.is\_null()) \{}
\DoxyCodeLine{2681     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}()-\/>has\_exception());}
\DoxyCodeLine{2682     \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}failed to set property"{}});}
\DoxyCodeLine{2683     use\_ic = \textcolor{keyword}{false};}
\DoxyCodeLine{2684   \}}
\DoxyCodeLine{2685   \textcolor{keywordflow}{if} (use\_ic) \{}
\DoxyCodeLine{2686     \textcolor{keywordflow}{if} (!old\_receiver\_map.is\_null()) \{}
\DoxyCodeLine{2687       \textcolor{keywordflow}{if} (is\_arguments) \{}
\DoxyCodeLine{2688         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}arguments receiver"{}});}
\DoxyCodeLine{2689       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (IsJSArray(*\textcolor{keywordtype}{object}) \&\& \mbox{\hyperlink{namespacev8_1_1internal_a14de482ad3892f80b9684ad2d52d6b71}{StoreModeCanGrow}}(store\_mode) \&\&}
\DoxyCodeLine{2690                  \mbox{\hyperlink{classv8_1_1internal_1_1JSArray_a9ed1ff1a289d65b4709f1269f3f6c4da}{JSArray::HasReadOnlyLength}}(Cast<JSArray>(\textcolor{keywordtype}{object}))) \{}
\DoxyCodeLine{2691         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}array has read only length"{}});}
\DoxyCodeLine{2692       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (IsJSObject(*\textcolor{keywordtype}{object}) \&\&}
\DoxyCodeLine{2693                  \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_a247ee1782a53a84da11b8e2e44371556}{MayHaveTypedArrayInPrototypeChain}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(),}
\DoxyCodeLine{2694                                                    Cast<JSObject>(\textcolor{keywordtype}{object}))) \{}
\DoxyCodeLine{2695         \textcolor{comment}{// Make sure we don't handle this in IC if there's any JSTypedArray in}}
\DoxyCodeLine{2696         \textcolor{comment}{// the \{receiver\}'s prototype chain, since that prototype is going to}}
\DoxyCodeLine{2697         \textcolor{comment}{// swallow all stores that are out-\/of-\/bounds for said prototype, and we}}
\DoxyCodeLine{2698         \textcolor{comment}{// just let the runtime deal with the complexity of this.}}
\DoxyCodeLine{2699         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}typed array in the prototype chain"{}});}
\DoxyCodeLine{2700       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (key\_is\_valid\_index) \{}
\DoxyCodeLine{2701         \textcolor{keywordflow}{if} (old\_receiver\_map-\/>is\_abandoned\_prototype\_map()) \{}
\DoxyCodeLine{2702           \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}receiver with prototype map"{}});}
\DoxyCodeLine{2703 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{2704         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (IsWasmObjectMap(*old\_receiver\_map)) \{}
\DoxyCodeLine{2705           \textcolor{comment}{// Handle object types for which we don't need to check for}}
\DoxyCodeLine{2706           \textcolor{comment}{// read-\/only prototype elements because we'll use the slow handler}}
\DoxyCodeLine{2707           \textcolor{comment}{// anyway.}}
\DoxyCodeLine{2708           DirectHandle<HeapObject> receiver = Cast<HeapObject>(\textcolor{keywordtype}{object});}
\DoxyCodeLine{2709           \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_ac28f29fdad09a18dd34b085ac549a973}{UpdateStoreElement}}(old\_receiver\_map, store\_mode,}
\DoxyCodeLine{2710                              \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}(receiver-\/>map(), \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}()));}
\DoxyCodeLine{2711 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{2712         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (old\_receiver\_map-\/>has\_dictionary\_elements() ||}
\DoxyCodeLine{2713                    !old\_receiver\_map}
\DoxyCodeLine{2714                         -\/>ShouldCheckForReadOnlyElementsInPrototypeChain(}
\DoxyCodeLine{2715                             \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}())) \{}
\DoxyCodeLine{2716           \textcolor{comment}{// We should go generic if receiver isn't a dictionary, but our}}
\DoxyCodeLine{2717           \textcolor{comment}{// prototype chain does have dictionary elements. This ensures that}}
\DoxyCodeLine{2718           \textcolor{comment}{// other non-\/dictionary receivers in the polymorphic case benefit}}
\DoxyCodeLine{2719           \textcolor{comment}{// from fast path keyed stores.}}
\DoxyCodeLine{2720           DirectHandle<HeapObject> receiver = Cast<HeapObject>(\textcolor{keywordtype}{object});}
\DoxyCodeLine{2721           \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_ac28f29fdad09a18dd34b085ac549a973}{UpdateStoreElement}}(old\_receiver\_map, store\_mode,}
\DoxyCodeLine{2722                              \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}(receiver-\/>map(), \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}()));}
\DoxyCodeLine{2723         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2724           \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}prototype with potentially read-\/only elements"{}});}
\DoxyCodeLine{2725         \}}
\DoxyCodeLine{2726       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2727         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}non-\/smi-\/like key"{}});}
\DoxyCodeLine{2728       \}}
\DoxyCodeLine{2729     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2730       \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}non-\/JSObject receiver"{}});}
\DoxyCodeLine{2731     \}}
\DoxyCodeLine{2732   \}}
\DoxyCodeLine{2733 }
\DoxyCodeLine{2734   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1IC_a47ca21a1fbdb0b1146cb42f3844a9b62}{vector\_needs\_update}}()) \{}
\DoxyCodeLine{2735     \mbox{\hyperlink{classv8_1_1internal_1_1IC_aa747ed53466599a03cd21e639fc686f9}{ConfigureVectorState}}(MEGAMORPHIC, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{2736   \}}
\DoxyCodeLine{2737   \mbox{\hyperlink{classv8_1_1internal_1_1IC_a1f89dd078deea90d36984a2ccd956c8b}{TraceIC}}(\textcolor{stringliteral}{"{}StoreIC"{}}, \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{2738 }
\DoxyCodeLine{2739   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}};}
\DoxyCodeLine{2740 \}}

\end{DoxyCode}


References ASSIGN\+\_\+\+RETURN\+\_\+\+ON\+\_\+\+EXCEPTION, v8\+::internal\+::\+IC\+::\+Configure\+Vector\+State(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Runtime\+::\+Define\+Object\+Own\+Property(), v8\+::internal\+::anonymous\+\_\+namespace\{ic.\+cc\}\+::\+Get\+Store\+Mode(), v8\+::internal\+::handle(), v8\+::internal\+::\+JSArray\+::\+Has\+Read\+Only\+Length(), v8\+::internal\+::index, v8\+::internal\+::anonymous\+\_\+namespace\{ic.\+cc\}\+::\+Int\+Ptr\+Key\+To\+Size(), v8\+::internal\+::\+Handle\+Base\+::is\+\_\+null(), v8\+::internal\+::\+Direct\+Handle$<$ T $>$\+::is\+\_\+null(), v8\+::internal\+::\+IC\+::\+Is\+Define\+Keyed\+Own\+IC(), v8\+::internal\+::\+IC\+::isolate(), v8\+::internal\+::\+Is\+Smi(), v8\+::internal\+::key, v8\+::internal\+::k\+In\+Bounds, v8\+::internal\+::k\+Maybe\+Keyed, v8\+::internal\+::anonymous\+\_\+namespace\{ic.\+cc\}\+::k\+Name, v8\+::internal\+::k\+Named, v8\+::internal\+::k\+Start\+At\+Prototype, v8\+::internal\+::\+JSObject\+::\+Make\+Prototypes\+Fast(), v8\+::internal\+::anonymous\+\_\+namespace\{ic.\+cc\}\+::\+May\+Have\+Typed\+Array\+In\+Prototype\+Chain(), v8\+::internal\+::\+MEGAMORPHIC, v8\+::internal\+::anonymous\+\_\+namespace\{ic.\+cc\}\+::\+Migrate\+Deprecated(), v8\+::internal\+::\+NO\+\_\+\+FEEDBACK, v8\+::base\+::internal\+::result, v8\+::internal\+::\+IC\+::set\+\_\+slow\+\_\+stub\+\_\+reason(), v8\+::internal\+::\+Runtime\+::\+Set\+Object\+Property(), v8\+::internal\+::\+IC\+::state(), v8\+::internal\+::\+Store\+IC\+::\+Store(), v8\+::internal\+::\+Store\+Mode\+Can\+Grow(), v8\+::internal\+::\+IC\+::\+Trace\+IC(), v8\+::internal\+::anonymous\+\_\+namespace\{ic.\+cc\}\+::\+Try\+Convert\+Key(), Update\+Store\+Element(), v8\+::internal\+::v8\+\_\+flags, v8\+::internal\+::value, and v8\+::internal\+::\+IC\+::vector\+\_\+needs\+\_\+update().



Referenced by v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1KeyedStoreIC_ab2ac9c3cf92c26789e8a208b70aacd3d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1KeyedStoreIC_ab2ac9c3cf92c26789e8a208b70aacd3d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1KeyedStoreIC_a07101859bfb58c94a9afb027aa8e45c0}\label{classv8_1_1internal_1_1KeyedStoreIC_a07101859bfb58c94a9afb027aa8e45c0}} 
\index{v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}!StoreElementHandler@{StoreElementHandler}}
\index{StoreElementHandler@{StoreElementHandler}!v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}}
\doxysubsubsection{\texorpdfstring{StoreElementHandler()}{StoreElementHandler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ v8\+::internal\+::\+Keyed\+Store\+IC\+::\+Store\+Element\+Handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{receiver\+\_\+map,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6}{Keyed\+Access\+Store\+Mode}}}]{store\+\_\+mode,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_acd10a3519c540121d30308892e89a261}{Union\+Of}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Smi}{Smi}}, \mbox{\hyperlink{classv8_1_1internal_1_1Cell}{Cell}} $>$$>$}]{prev\+\_\+validity\+\_\+cell = {\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a12bba79f0b2c466b43e23e173e34465d}{k\+Null\+Maybe\+Handle}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2416 of file ic.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2418                                                               \{}
\DoxyCodeLine{2419   \textcolor{keywordflow}{if} (!IsJSObjectMap(*receiver\_map)) \{}
\DoxyCodeLine{2420     \textcolor{comment}{// DefineKeyedOwnIC, which is used to define computed fields in instances,}}
\DoxyCodeLine{2421     \textcolor{comment}{// should handled by the slow stub below instead of the proxy stub.}}
\DoxyCodeLine{2422     \textcolor{keywordflow}{if} (IsJSProxyMap(*receiver\_map) \&\& !\mbox{\hyperlink{classv8_1_1internal_1_1IC_a4375ca63976ad5a71a0714e1028510dd}{IsDefineKeyedOwnIC}}()) \{}
\DoxyCodeLine{2423       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1StoreHandler_aa17c9254e967d6013d36765f84a53de1}{StoreHandler::StoreProxy}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}());}
\DoxyCodeLine{2424     \}}
\DoxyCodeLine{2425 }
\DoxyCodeLine{2426 \textcolor{preprocessor}{\#if V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{2427     \textcolor{keywordflow}{if} (IsWasmObjectMap(*receiver\_map)) \{}
\DoxyCodeLine{2428       \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}wasm object"{}});}
\DoxyCodeLine{2429     \}}
\DoxyCodeLine{2430 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_WEBASSEMBLY}}
\DoxyCodeLine{2431 }
\DoxyCodeLine{2432     \textcolor{comment}{// Wasm objects or other kind of special objects go through the slow stub.}}
\DoxyCodeLine{2433     \mbox{\hyperlink{runtime-call-stats_8h_a0f7fe432da7171d27d037b1f2c36f9d5}{TRACE\_HANDLER\_STATS}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), KeyedStoreIC\_SlowStub);}
\DoxyCodeLine{2434     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1StoreHandler_a3958bbd24407f5c3970e7048e9412b14}{StoreHandler::StoreSlow}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), store\_mode);}
\DoxyCodeLine{2435   \}}
\DoxyCodeLine{2436 }
\DoxyCodeLine{2437   \textcolor{comment}{// The only case when could keep using non-\/slow element store handler for}}
\DoxyCodeLine{2438   \textcolor{comment}{// a fast array with potentially read-\/only elements is when it's an}}
\DoxyCodeLine{2439   \textcolor{comment}{// initializing store to array literal.}}
\DoxyCodeLine{2440   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(}
\DoxyCodeLine{2441       !receiver\_map-\/>has\_dictionary\_elements() \&\&}
\DoxyCodeLine{2442           receiver\_map-\/>ShouldCheckForReadOnlyElementsInPrototypeChain(}
\DoxyCodeLine{2443               \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}()),}
\DoxyCodeLine{2444       \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3950111dd38b3dbd7bdd980f35de40a8}{IsStoreInArrayLiteralIC}}());}
\DoxyCodeLine{2445 }
\DoxyCodeLine{2446   \textcolor{comment}{// TODO(ishell): move to StoreHandler::StoreElement().}}
\DoxyCodeLine{2447   Handle<Code> \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}};}
\DoxyCodeLine{2448   \textcolor{keywordflow}{if} (receiver\_map-\/>has\_sloppy\_arguments\_elements()) \{}
\DoxyCodeLine{2449     \textcolor{comment}{// TODO(jgruber): Update counter name.}}
\DoxyCodeLine{2450     \mbox{\hyperlink{runtime-call-stats_8h_a0f7fe432da7171d27d037b1f2c36f9d5}{TRACE\_HANDLER\_STATS}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), KeyedStoreIC\_KeyedStoreSloppyArgumentsStub);}
\DoxyCodeLine{2451     \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1StoreHandler_a930783446e6d1c027b675e08c067ec03}{StoreHandler::StoreSloppyArgumentsBuiltin}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), store\_mode);}
\DoxyCodeLine{2452   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (receiver\_map-\/>has\_fast\_elements() ||}
\DoxyCodeLine{2453              receiver\_map-\/>has\_sealed\_elements() ||}
\DoxyCodeLine{2454              receiver\_map-\/>has\_nonextensible\_elements() ||}
\DoxyCodeLine{2455              receiver\_map-\/>has\_typed\_array\_or\_rab\_gsab\_typed\_array\_elements()) \{}
\DoxyCodeLine{2456     \textcolor{comment}{// TODO(jgruber): Update counter name.}}
\DoxyCodeLine{2457     \mbox{\hyperlink{runtime-call-stats_8h_a0f7fe432da7171d27d037b1f2c36f9d5}{TRACE\_HANDLER\_STATS}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), KeyedStoreIC\_StoreFastElementStub);}
\DoxyCodeLine{2458     \textcolor{keywordflow}{if} (IsJSArgumentsObjectMap(*receiver\_map) \&\&}
\DoxyCodeLine{2459         receiver\_map-\/>has\_fast\_packed\_elements()) \{}
\DoxyCodeLine{2460       \textcolor{comment}{// Allow fast behaviour for in-\/bounds stores while making it miss and}}
\DoxyCodeLine{2461       \textcolor{comment}{// properly handle the out of bounds store case.}}
\DoxyCodeLine{2462       \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1StoreHandler_a61b9f75ec70c0bccb57a71833b9e41e7}{StoreHandler::StoreFastElementBuiltin}}(}
\DoxyCodeLine{2463           \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), \mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6abe27a83a280bf51ef63099f1357db731}{KeyedAccessStoreMode::kInBounds}});}
\DoxyCodeLine{2464     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2465       \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = \mbox{\hyperlink{classv8_1_1internal_1_1StoreHandler_a61b9f75ec70c0bccb57a71833b9e41e7}{StoreHandler::StoreFastElementBuiltin}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), store\_mode);}
\DoxyCodeLine{2466       \textcolor{keywordflow}{if} (receiver\_map-\/>has\_typed\_array\_or\_rab\_gsab\_typed\_array\_elements()) \{}
\DoxyCodeLine{2467         \textcolor{keywordflow}{return} \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}};}
\DoxyCodeLine{2468       \}}
\DoxyCodeLine{2469     \}}
\DoxyCodeLine{2470   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1IC_a3950111dd38b3dbd7bdd980f35de40a8}{IsStoreInArrayLiteralIC}}()) \{}
\DoxyCodeLine{2471     \textcolor{comment}{// TODO(jgruber): Update counter name.}}
\DoxyCodeLine{2472     \mbox{\hyperlink{runtime-call-stats_8h_a0f7fe432da7171d27d037b1f2c36f9d5}{TRACE\_HANDLER\_STATS}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), StoreInArrayLiteralIC\_SlowStub);}
\DoxyCodeLine{2473     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1StoreHandler_a3958bbd24407f5c3970e7048e9412b14}{StoreHandler::StoreSlow}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), store\_mode);}
\DoxyCodeLine{2474   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2475     \textcolor{comment}{// TODO(jgruber): Update counter name.}}
\DoxyCodeLine{2476     \mbox{\hyperlink{runtime-call-stats_8h_a0f7fe432da7171d27d037b1f2c36f9d5}{TRACE\_HANDLER\_STATS}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), KeyedStoreIC\_StoreElementStub);}
\DoxyCodeLine{2477     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_a5feb64a99571462d3380d03aa42c149cace123a96977080e9fd831f0f40e97a37}{DICTIONARY\_ELEMENTS}} == receiver\_map-\/>elements\_kind() ||}
\DoxyCodeLine{2478            receiver\_map-\/>has\_frozen\_elements());}
\DoxyCodeLine{2479     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1StoreHandler_a3958bbd24407f5c3970e7048e9412b14}{StoreHandler::StoreSlow}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), store\_mode);}
\DoxyCodeLine{2480   \}}
\DoxyCodeLine{2481 }
\DoxyCodeLine{2482   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1IC_acce8d19441c402ec93edcb7d04aeefb1}{IsAnyDefineOwn}}() || \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3950111dd38b3dbd7bdd980f35de40a8}{IsStoreInArrayLiteralIC}}()) \textcolor{keywordflow}{return} \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}};}
\DoxyCodeLine{2483   DirectHandle<UnionOf<Smi, Cell>> validity\_cell;}
\DoxyCodeLine{2484   \textcolor{keywordflow}{if} (!prev\_validity\_cell.ToHandle(\&validity\_cell)) \{}
\DoxyCodeLine{2485     validity\_cell =}
\DoxyCodeLine{2486         \mbox{\hyperlink{classv8_1_1internal_1_1Map_a09b2d0beeb5472571911523c80dae532}{Map::GetOrCreatePrototypeChainValidityCell}}(receiver\_map, \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}());}
\DoxyCodeLine{2487   \}}
\DoxyCodeLine{2488   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac299e59759eecb4621f6bad64d5db952}{IsSmi}}(*validity\_cell)) \{}
\DoxyCodeLine{2489     \textcolor{comment}{// There's no prototype validity cell to check, so we can just use the stub.}}
\DoxyCodeLine{2490     \textcolor{keywordflow}{return} \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}};}
\DoxyCodeLine{2491   \}}
\DoxyCodeLine{2492   Handle<StoreHandler> handler = \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_ab14a4aa3b9d3a2890d81a5951207a8d8}{NewStoreHandler}}(0);}
\DoxyCodeLine{2493   handler-\/>set\_validity\_cell(*validity\_cell);}
\DoxyCodeLine{2494   handler-\/>set\_smi\_handler(*\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}});}
\DoxyCodeLine{2495   \textcolor{keywordflow}{return} handler;}
\DoxyCodeLine{2496 \}}

\end{DoxyCode}


References code, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+DICTIONARY\+\_\+\+ELEMENTS, v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+Map\+::\+Get\+Or\+Create\+Prototype\+Chain\+Validity\+Cell(), v8\+::internal\+::\+IC\+::\+Is\+Any\+Define\+Own(), v8\+::internal\+::\+IC\+::\+Is\+Define\+Keyed\+Own\+IC(), v8\+::internal\+::\+IC\+::isolate(), v8\+::internal\+::\+Is\+Smi(), v8\+::internal\+::\+IC\+::\+Is\+Store\+In\+Array\+Literal\+IC(), v8\+::internal\+::k\+In\+Bounds, v8\+::internal\+::\+Factory\+::\+New\+Store\+Handler(), v8\+::internal\+::\+IC\+::set\+\_\+slow\+\_\+stub\+\_\+reason(), v8\+::internal\+::\+Store\+Handler\+::\+Store\+Fast\+Element\+Builtin(), v8\+::internal\+::\+Store\+Handler\+::\+Store\+Proxy(), v8\+::internal\+::\+Store\+Handler\+::\+Store\+Sloppy\+Arguments\+Builtin(), v8\+::internal\+::\+Store\+Handler\+::\+Store\+Slow(), and TRACE\+\_\+\+HANDLER\+\_\+\+STATS.



Referenced by Store\+Element\+Polymorphic\+Handlers(), and Update\+Store\+Element().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1KeyedStoreIC_a07101859bfb58c94a9afb027aa8e45c0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1KeyedStoreIC_a07101859bfb58c94a9afb027aa8e45c0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1KeyedStoreIC_aec3e69713cc463ab9b7eb347b791e803}\label{classv8_1_1internal_1_1KeyedStoreIC_aec3e69713cc463ab9b7eb347b791e803}} 
\index{v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}!StoreElementPolymorphicHandlers@{StoreElementPolymorphicHandlers}}
\index{StoreElementPolymorphicHandlers@{StoreElementPolymorphicHandlers}!v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}}
\doxysubsubsection{\texorpdfstring{StoreElementPolymorphicHandlers()}{StoreElementPolymorphicHandlers()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Keyed\+Store\+IC\+::\+Store\+Element\+Polymorphic\+Handlers (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1MapsAndHandlers}{Maps\+And\+Handlers}} $\ast$}]{receiver\+\_\+maps\+\_\+and\+\_\+handlers,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6}{Keyed\+Access\+Store\+Mode}}}]{store\+\_\+mode }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2498 of file ic.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2500                                      \{}
\DoxyCodeLine{2501   DirectHandleVector<Map> receiver\_maps(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}());}
\DoxyCodeLine{2502   receiver\_maps.reserve(receiver\_maps\_and\_handlers-\/>size());}
\DoxyCodeLine{2503   \textcolor{keywordflow}{for} (DirectHandle<Map> map : receiver\_maps\_and\_handlers-\/>maps()) \{}
\DoxyCodeLine{2504     receiver\_maps.push\_back(map);}
\DoxyCodeLine{2505   \}}
\DoxyCodeLine{2506   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < receiver\_maps\_and\_handlers-\/>size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{2507     \textcolor{keyword}{auto} [receiver\_map, old\_handler] = (*receiver\_maps\_and\_handlers)[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{2508     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!receiver\_map-\/>is\_deprecated());}
\DoxyCodeLine{2509     DirectHandle<Object> handler;}
\DoxyCodeLine{2510     DirectHandle<Map> transition;}
\DoxyCodeLine{2511 }
\DoxyCodeLine{2512     \textcolor{keywordflow}{if} (receiver\_map-\/>instance\_type() < FIRST\_JS\_RECEIVER\_TYPE ||}
\DoxyCodeLine{2513         receiver\_map-\/>ShouldCheckForReadOnlyElementsInPrototypeChain(}
\DoxyCodeLine{2514             \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}())) \{}
\DoxyCodeLine{2515       \textcolor{comment}{// TODO(mvstanton): Consider embedding store\_mode in the state of the slow}}
\DoxyCodeLine{2516       \textcolor{comment}{// keyed store ic for uniformity.}}
\DoxyCodeLine{2517       \mbox{\hyperlink{runtime-call-stats_8h_a0f7fe432da7171d27d037b1f2c36f9d5}{TRACE\_HANDLER\_STATS}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), KeyedStoreIC\_SlowStub);}
\DoxyCodeLine{2518       handler = \mbox{\hyperlink{classv8_1_1internal_1_1StoreHandler_a3958bbd24407f5c3970e7048e9412b14}{StoreHandler::StoreSlow}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}());}
\DoxyCodeLine{2519 }
\DoxyCodeLine{2520     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2521       \{}
\DoxyCodeLine{2522         Tagged<Map> tmap = receiver\_map-\/>FindElementsKindTransitionedMap(}
\DoxyCodeLine{2523             \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(),}
\DoxyCodeLine{2524             \mbox{\hyperlink{namespacev8_1_1internal_a5c4187488df27885c33c4566d8b7b9d5}{MapHandlesSpan}}(receiver\_maps.begin(), receiver\_maps.end()),}
\DoxyCodeLine{2525             \mbox{\hyperlink{namespacev8_1_1internal_a420e377bba6b25b38450dd44912cd5f6a21ed2c08d58afea3d6b70cec9fbc377b}{ConcurrencyMode::kSynchronous}});}
\DoxyCodeLine{2526         \textcolor{keywordflow}{if} (!tmap.is\_null()) \{}
\DoxyCodeLine{2527           \textcolor{keywordflow}{if} (receiver\_map-\/>is\_stable()) \{}
\DoxyCodeLine{2528             receiver\_map-\/>NotifyLeafMapLayoutChange(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}());}
\DoxyCodeLine{2529           \}}
\DoxyCodeLine{2530           transition = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(tmap, \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}());}
\DoxyCodeLine{2531         \}}
\DoxyCodeLine{2532       \}}
\DoxyCodeLine{2533 }
\DoxyCodeLine{2534       MaybeDirectHandle<UnionOf<Smi, Cell>> validity\_cell;}
\DoxyCodeLine{2535       \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} old\_handler\_obj;}
\DoxyCodeLine{2536       \textcolor{keywordflow}{if} (!old\_handler.is\_null() \&\&}
\DoxyCodeLine{2537           (*old\_handler).GetHeapObject(\&old\_handler\_obj) \&\&}
\DoxyCodeLine{2538           IsDataHandler(old\_handler\_obj)) \{}
\DoxyCodeLine{2539         validity\_cell = \mbox{\hyperlink{namespacev8_1_1internal_a73502f55102d18cb764881bc29f35c05}{direct\_handle}}(}
\DoxyCodeLine{2540             Cast<DataHandler>(old\_handler\_obj)-\/>validity\_cell(), \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}());}
\DoxyCodeLine{2541       \}}
\DoxyCodeLine{2542       \textcolor{comment}{// TODO(mythria): Do not recompute the handler if we know there is no}}
\DoxyCodeLine{2543       \textcolor{comment}{// change in the handler.}}
\DoxyCodeLine{2544       \textcolor{comment}{// TODO(mvstanton): The code below is doing pessimistic elements}}
\DoxyCodeLine{2545       \textcolor{comment}{// transitions. I would like to stop doing that and rely on Allocation}}
\DoxyCodeLine{2546       \textcolor{comment}{// Site Tracking to do a better job of ensuring the data types are what}}
\DoxyCodeLine{2547       \textcolor{comment}{// they need to be. Not all the elements are in place yet, pessimistic}}
\DoxyCodeLine{2548       \textcolor{comment}{// elements transitions are still important for performance.}}
\DoxyCodeLine{2549       \textcolor{keywordflow}{if} (!transition.is\_null()) \{}
\DoxyCodeLine{2550         \mbox{\hyperlink{runtime-call-stats_8h_a0f7fe432da7171d27d037b1f2c36f9d5}{TRACE\_HANDLER\_STATS}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(),}
\DoxyCodeLine{2551                             KeyedStoreIC\_ElementsTransitionAndStoreStub);}
\DoxyCodeLine{2552         handler = \mbox{\hyperlink{classv8_1_1internal_1_1StoreHandler_ae126314415dbc2baae2428bd2403b1d8}{StoreHandler::StoreElementTransition}}(}
\DoxyCodeLine{2553             \mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), receiver\_map, transition, store\_mode, validity\_cell);}
\DoxyCodeLine{2554       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2555         handler = \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_a07101859bfb58c94a9afb027aa8e45c0}{StoreElementHandler}}(receiver\_map, store\_mode, validity\_cell);}
\DoxyCodeLine{2556       \}}
\DoxyCodeLine{2557     \}}
\DoxyCodeLine{2558     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!handler.is\_null());}
\DoxyCodeLine{2559     receiver\_maps\_and\_handlers-\/>set\_map(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, receiver\_map);}
\DoxyCodeLine{2560     receiver\_maps\_and\_handlers-\/>set\_handler(\mbox{\hyperlink{namespacev8_1_1internal}{i}},}
\DoxyCodeLine{2561                                             MaybeObjectDirectHandle(handler));}
\DoxyCodeLine{2562   \}}
\DoxyCodeLine{2563 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Direct\+Handle\+Vector$<$ T $>$\+::begin(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::direct\+\_\+handle(), v8\+::internal\+::\+Direct\+Handle\+Vector$<$ T $>$\+::end(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Direct\+Handle$<$ T $>$\+::is\+\_\+null(), v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::is\+\_\+null(), v8\+::internal\+::\+IC\+::isolate(), v8\+::internal\+::k\+Synchronous, v8\+::internal\+::\+Maps\+And\+Handlers\+::maps(), v8\+::internal\+::\+Direct\+Handle\+Vector$<$ T $>$\+::push\+\_\+back(), v8\+::internal\+::\+Direct\+Handle\+Vector$<$ T $>$\+::reserve(), v8\+::internal\+::\+Maps\+And\+Handlers\+::set\+\_\+handler(), v8\+::internal\+::\+Maps\+And\+Handlers\+::set\+\_\+map(), v8\+::internal\+::\+Maps\+And\+Handlers\+::size(), Store\+Element\+Handler(), v8\+::internal\+::\+Store\+Handler\+::\+Store\+Element\+Transition(), v8\+::internal\+::\+Store\+Handler\+::\+Store\+Slow(), and TRACE\+\_\+\+HANDLER\+\_\+\+STATS.



Referenced by Update\+Store\+Element().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1KeyedStoreIC_aec3e69713cc463ab9b7eb347b791e803_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1KeyedStoreIC_aec3e69713cc463ab9b7eb347b791e803_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1KeyedStoreIC_ac28f29fdad09a18dd34b085ac549a973}\label{classv8_1_1internal_1_1KeyedStoreIC_ac28f29fdad09a18dd34b085ac549a973}} 
\index{v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}!UpdateStoreElement@{UpdateStoreElement}}
\index{UpdateStoreElement@{UpdateStoreElement}!v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}}
\doxysubsubsection{\texorpdfstring{UpdateStoreElement()}{UpdateStoreElement()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Keyed\+Store\+IC\+::\+Update\+Store\+Element (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{receiver\+\_\+map,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6}{Keyed\+Access\+Store\+Mode}}}]{store\+\_\+mode,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{new\+\_\+receiver\+\_\+map }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line 2276 of file ic.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2278                                                                     \{}
\DoxyCodeLine{2279   MapsAndHandlers target\_maps\_and\_handlers(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}());}
\DoxyCodeLine{2280   \mbox{\hyperlink{classv8_1_1internal_1_1IC_ac10e141b7bede2f69f8af8340a90d384}{nexus}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1FeedbackNexus_a63480b78852156257d33114f191db598}{ExtractMapsAndHandlers}}(}
\DoxyCodeLine{2281       \&target\_maps\_and\_handlers,}
\DoxyCodeLine{2282       [\textcolor{keyword}{this}](Handle<Map> map) \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1Map_a43e909e42bb38750263f7177b9367005}{Map::TryUpdate}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a790b764e0094402a9a27322fab61c7c8}{isolate}}(), map); \});}
\DoxyCodeLine{2283   \textcolor{keywordflow}{if} (target\_maps\_and\_handlers.empty()) \{}
\DoxyCodeLine{2284     DirectHandle<Map> monomorphic\_map = receiver\_map;}
\DoxyCodeLine{2285     \textcolor{comment}{// If we transitioned to a map that is a more general map than incoming}}
\DoxyCodeLine{2286     \textcolor{comment}{// then use the new map.}}
\DoxyCodeLine{2287     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1IC_a75cfd909bf1ce29dd6da2db193d797bd}{IsTransitionOfMonomorphicTarget}}(*receiver\_map, *new\_receiver\_map)) \{}
\DoxyCodeLine{2288       monomorphic\_map = new\_receiver\_map;}
\DoxyCodeLine{2289     \}}
\DoxyCodeLine{2290     DirectHandle<Object> handler =}
\DoxyCodeLine{2291         \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_a07101859bfb58c94a9afb027aa8e45c0}{StoreElementHandler}}(monomorphic\_map, store\_mode);}
\DoxyCodeLine{2292     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1IC_aa747ed53466599a03cd21e639fc686f9}{ConfigureVectorState}}(DirectHandle<Name>(), monomorphic\_map, handler);}
\DoxyCodeLine{2293   \}}
\DoxyCodeLine{2294 }
\DoxyCodeLine{2295   \textcolor{keywordflow}{for} (DirectHandle<Map> map : target\_maps\_and\_handlers.maps()) \{}
\DoxyCodeLine{2296     \textcolor{keywordflow}{if} (!map.is\_null() \&\& map-\/>instance\_type() == JS\_PRIMITIVE\_WRAPPER\_TYPE) \{}
\DoxyCodeLine{2297       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1IC_a3950111dd38b3dbd7bdd980f35de40a8}{IsStoreInArrayLiteralIC}}());}
\DoxyCodeLine{2298       \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}JSPrimitiveWrapper"{}});}
\DoxyCodeLine{2299       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2300     \}}
\DoxyCodeLine{2301   \}}
\DoxyCodeLine{2302 }
\DoxyCodeLine{2303   \textcolor{comment}{// There are several special cases where an IC that is MONOMORPHIC can still}}
\DoxyCodeLine{2304   \textcolor{comment}{// transition to a different IC that handles a superset of the original IC.}}
\DoxyCodeLine{2305   \textcolor{comment}{// Handle those here if the receiver map hasn't changed or it has transitioned}}
\DoxyCodeLine{2306   \textcolor{comment}{// to a more general kind.}}
\DoxyCodeLine{2307   \mbox{\hyperlink{namespacev8_1_1internal_aadf935167ffc52ab89c53c22f9d79aa6}{KeyedAccessStoreMode}} old\_store\_mode = \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_a0d99a86f21d342854c18ee615f814287}{GetKeyedAccessStoreMode}}();}
\DoxyCodeLine{2308   DirectHandle<Map> previous\_receiver\_map = target\_maps\_and\_handlers.maps()[0];}
\DoxyCodeLine{2309   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1IC_a44761904b47f546a821e76605ba889df}{state}}() == MONOMORPHIC) \{}
\DoxyCodeLine{2310     DirectHandle<Map> transitioned\_receiver\_map = new\_receiver\_map;}
\DoxyCodeLine{2311     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1IC_a75cfd909bf1ce29dd6da2db193d797bd}{IsTransitionOfMonomorphicTarget}}(*previous\_receiver\_map,}
\DoxyCodeLine{2312                                         *transitioned\_receiver\_map)) \{}
\DoxyCodeLine{2313       \textcolor{comment}{// If the "{}old"{} and "{}new"{} maps are in the same elements map family, or}}
\DoxyCodeLine{2314       \textcolor{comment}{// if they at least come from the same origin for a transitioning store,}}
\DoxyCodeLine{2315       \textcolor{comment}{// stay MONOMORPHIC and use the map for the most generic ElementsKind.}}
\DoxyCodeLine{2316       DirectHandle<Object> handler =}
\DoxyCodeLine{2317           \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_a07101859bfb58c94a9afb027aa8e45c0}{StoreElementHandler}}(transitioned\_receiver\_map, store\_mode);}
\DoxyCodeLine{2318       \mbox{\hyperlink{classv8_1_1internal_1_1IC_aa747ed53466599a03cd21e639fc686f9}{ConfigureVectorState}}(DirectHandle<Name>(), transitioned\_receiver\_map,}
\DoxyCodeLine{2319                            handler);}
\DoxyCodeLine{2320       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2321     \}}
\DoxyCodeLine{2322     \textcolor{comment}{// If there is no transition and if we have seen the same map earlier and}}
\DoxyCodeLine{2323     \textcolor{comment}{// there is only a change in the store\_mode we can still stay monomorphic.}}
\DoxyCodeLine{2324     \textcolor{keywordflow}{if} (receiver\_map.is\_identical\_to(previous\_receiver\_map) \&\&}
\DoxyCodeLine{2325         new\_receiver\_map.is\_identical\_to(receiver\_map) \&\&}
\DoxyCodeLine{2326         \mbox{\hyperlink{namespacev8_1_1internal_a14b8488892a1014309545336f0d38760}{StoreModeIsInBounds}}(old\_store\_mode) \&\&}
\DoxyCodeLine{2327         !\mbox{\hyperlink{namespacev8_1_1internal_a14b8488892a1014309545336f0d38760}{StoreModeIsInBounds}}(store\_mode)) \{}
\DoxyCodeLine{2328       \textcolor{keywordflow}{if} (IsJSArrayMap(*receiver\_map) \&\&}
\DoxyCodeLine{2329           \mbox{\hyperlink{classv8_1_1internal_1_1JSArray_a6c53325cdaf931a217269966b08d4d41}{JSArray::MayHaveReadOnlyLength}}(*receiver\_map)) \{}
\DoxyCodeLine{2330         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(}
\DoxyCodeLine{2331             \textcolor{stringliteral}{"{}can't generalize store mode (potentially read-\/only length)"{}});}
\DoxyCodeLine{2332         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2333       \}}
\DoxyCodeLine{2334       \textcolor{comment}{// A "{}normal"{} IC that handles stores can switch to a version that can}}
\DoxyCodeLine{2335       \textcolor{comment}{// grow at the end of the array, handle OOB accesses or copy COW arrays}}
\DoxyCodeLine{2336       \textcolor{comment}{// and still stay MONOMORPHIC.}}
\DoxyCodeLine{2337       DirectHandle<Object> handler =}
\DoxyCodeLine{2338           \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_a07101859bfb58c94a9afb027aa8e45c0}{StoreElementHandler}}(receiver\_map, store\_mode);}
\DoxyCodeLine{2339       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1IC_aa747ed53466599a03cd21e639fc686f9}{ConfigureVectorState}}(DirectHandle<Name>(), receiver\_map, handler);}
\DoxyCodeLine{2340     \}}
\DoxyCodeLine{2341   \}}
\DoxyCodeLine{2342 }
\DoxyCodeLine{2343   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1IC_a44761904b47f546a821e76605ba889df}{state}}() != GENERIC);}
\DoxyCodeLine{2344 }
\DoxyCodeLine{2345   \textcolor{keywordtype}{bool} map\_added =}
\DoxyCodeLine{2346       \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_a71cfc1c77f97a43a04eb4641123eda6a}{AddOneReceiverMapIfMissing}}(\&target\_maps\_and\_handlers, receiver\_map);}
\DoxyCodeLine{2347 }
\DoxyCodeLine{2348   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1IC_a75cfd909bf1ce29dd6da2db193d797bd}{IsTransitionOfMonomorphicTarget}}(*receiver\_map, *new\_receiver\_map)) \{}
\DoxyCodeLine{2349     map\_added |=}
\DoxyCodeLine{2350         \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02ic_8cc_03_a71cfc1c77f97a43a04eb4641123eda6a}{AddOneReceiverMapIfMissing}}(\&target\_maps\_and\_handlers, new\_receiver\_map);}
\DoxyCodeLine{2351   \}}
\DoxyCodeLine{2352 }
\DoxyCodeLine{2353   \textcolor{keywordflow}{if} (!map\_added) \{}
\DoxyCodeLine{2354     \textcolor{comment}{// If the miss wasn't due to an unseen map, a polymorphic stub}}
\DoxyCodeLine{2355     \textcolor{comment}{// won't help, use the megamorphic stub which can handle everything.}}
\DoxyCodeLine{2356     \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}same map added twice"{}});}
\DoxyCodeLine{2357     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2358   \}}
\DoxyCodeLine{2359 }
\DoxyCodeLine{2360   \textcolor{comment}{// If the maximum number of receiver maps has been exceeded, use the}}
\DoxyCodeLine{2361   \textcolor{comment}{// megamorphic version of the IC.}}
\DoxyCodeLine{2362   \textcolor{keywordflow}{if} (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(target\_maps\_and\_handlers.size()) >}
\DoxyCodeLine{2363       \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.max\_valid\_polymorphic\_map\_count) \{}
\DoxyCodeLine{2364     \textcolor{keywordflow}{return};}
\DoxyCodeLine{2365   \}}
\DoxyCodeLine{2366 }
\DoxyCodeLine{2367   \textcolor{comment}{// Make sure all polymorphic handlers have the same store mode, otherwise the}}
\DoxyCodeLine{2368   \textcolor{comment}{// megamorphic stub must be used.}}
\DoxyCodeLine{2369   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_a14b8488892a1014309545336f0d38760}{StoreModeIsInBounds}}(old\_store\_mode)) \{}
\DoxyCodeLine{2370     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a14b8488892a1014309545336f0d38760}{StoreModeIsInBounds}}(store\_mode)) \{}
\DoxyCodeLine{2371       store\_mode = old\_store\_mode;}
\DoxyCodeLine{2372     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (store\_mode != old\_store\_mode) \{}
\DoxyCodeLine{2373       \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(\textcolor{stringliteral}{"{}store mode mismatch"{}});}
\DoxyCodeLine{2374       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2375     \}}
\DoxyCodeLine{2376   \}}
\DoxyCodeLine{2377 }
\DoxyCodeLine{2378   \textcolor{comment}{// If the store mode isn't the standard mode, make sure that all polymorphic}}
\DoxyCodeLine{2379   \textcolor{comment}{// receivers are either external arrays, or all "{}normal"{} arrays with writable}}
\DoxyCodeLine{2380   \textcolor{comment}{// length. Otherwise, use the megamorphic stub.}}
\DoxyCodeLine{2381   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_a14b8488892a1014309545336f0d38760}{StoreModeIsInBounds}}(store\_mode)) \{}
\DoxyCodeLine{2382     \textcolor{keywordtype}{size\_t} external\_arrays = 0;}
\DoxyCodeLine{2383     \textcolor{keywordflow}{for} (DirectHandle<Map> map : target\_maps\_and\_handlers.maps()) \{}
\DoxyCodeLine{2384       \textcolor{keywordflow}{if} (IsJSArrayMap(*map) \&\& \mbox{\hyperlink{classv8_1_1internal_1_1JSArray_a6c53325cdaf931a217269966b08d4d41}{JSArray::MayHaveReadOnlyLength}}(*map)) \{}
\DoxyCodeLine{2385         \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(}
\DoxyCodeLine{2386             \textcolor{stringliteral}{"{}unsupported combination of arrays (potentially read-\/only length)"{}});}
\DoxyCodeLine{2387         \textcolor{keywordflow}{return};}
\DoxyCodeLine{2388 }
\DoxyCodeLine{2389       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (map-\/>has\_typed\_array\_or\_rab\_gsab\_typed\_array\_elements()) \{}
\DoxyCodeLine{2390         \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1IC_a3950111dd38b3dbd7bdd980f35de40a8}{IsStoreInArrayLiteralIC}}());}
\DoxyCodeLine{2391         external\_arrays++;}
\DoxyCodeLine{2392       \}}
\DoxyCodeLine{2393     \}}
\DoxyCodeLine{2394     \textcolor{keywordflow}{if} (external\_arrays != 0 \&\&}
\DoxyCodeLine{2395         external\_arrays != target\_maps\_and\_handlers.size()) \{}
\DoxyCodeLine{2396       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1IC_a3950111dd38b3dbd7bdd980f35de40a8}{IsStoreInArrayLiteralIC}}());}
\DoxyCodeLine{2397       \mbox{\hyperlink{classv8_1_1internal_1_1IC_a3258c0d1f71f6a32353cf3319455d073}{set\_slow\_stub\_reason}}(}
\DoxyCodeLine{2398           \textcolor{stringliteral}{"{}unsupported combination of external and normal arrays"{}});}
\DoxyCodeLine{2399       \textcolor{keywordflow}{return};}
\DoxyCodeLine{2400     \}}
\DoxyCodeLine{2401   \}}
\DoxyCodeLine{2402 }
\DoxyCodeLine{2403   \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_aec3e69713cc463ab9b7eb347b791e803}{StoreElementPolymorphicHandlers}}(\&target\_maps\_and\_handlers, store\_mode);}
\DoxyCodeLine{2404   \textcolor{keywordflow}{if} (target\_maps\_and\_handlers.empty()) \{}
\DoxyCodeLine{2405     DirectHandle<Object> handler =}
\DoxyCodeLine{2406         \mbox{\hyperlink{classv8_1_1internal_1_1KeyedStoreIC_a07101859bfb58c94a9afb027aa8e45c0}{StoreElementHandler}}(receiver\_map, store\_mode);}
\DoxyCodeLine{2407     \mbox{\hyperlink{classv8_1_1internal_1_1IC_aa747ed53466599a03cd21e639fc686f9}{ConfigureVectorState}}(DirectHandle<Name>(), receiver\_map, handler);}
\DoxyCodeLine{2408   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (target\_maps\_and\_handlers.size() == 1) \{}
\DoxyCodeLine{2409     \textcolor{keyword}{auto} [map, handler] = target\_maps\_and\_handlers[0];}
\DoxyCodeLine{2410     \mbox{\hyperlink{classv8_1_1internal_1_1IC_aa747ed53466599a03cd21e639fc686f9}{ConfigureVectorState}}(DirectHandle<Name>(), map, handler);}
\DoxyCodeLine{2411   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2412     \mbox{\hyperlink{classv8_1_1internal_1_1IC_aa747ed53466599a03cd21e639fc686f9}{ConfigureVectorState}}(DirectHandle<Name>(), target\_maps\_and\_handlers);}
\DoxyCodeLine{2413   \}}
\DoxyCodeLine{2414 \}}

\end{DoxyCode}


References v8\+::internal\+::anonymous\+\_\+namespace\{ic.\+cc\}\+::\+Add\+One\+Receiver\+Map\+If\+Missing(), v8\+::internal\+::\+IC\+::\+Configure\+Vector\+State(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+Maps\+And\+Handlers\+::empty(), v8\+::internal\+::\+Feedback\+Nexus\+::\+Extract\+Maps\+And\+Handlers(), v8\+::internal\+::\+GENERIC, Get\+Keyed\+Access\+Store\+Mode(), v8\+::internal\+::\+Handle\+Base\+::is\+\_\+identical\+\_\+to(), v8\+::internal\+::\+Handle\+Base\+::is\+\_\+null(), v8\+::internal\+::\+IC\+::isolate(), v8\+::internal\+::\+IC\+::\+Is\+Store\+In\+Array\+Literal\+IC(), v8\+::internal\+::\+IC\+::\+Is\+Transition\+Of\+Monomorphic\+Target(), v8\+::internal\+::\+Maps\+And\+Handlers\+::maps(), v8\+::internal\+::\+JSArray\+::\+May\+Have\+Read\+Only\+Length(), v8\+::internal\+::\+MONOMORPHIC, v8\+::internal\+::\+IC\+::nexus(), v8\+::internal\+::\+IC\+::set\+\_\+slow\+\_\+stub\+\_\+reason(), v8\+::internal\+::\+Maps\+And\+Handlers\+::size(), v8\+::internal\+::\+IC\+::state(), Store\+Element\+Handler(), Store\+Element\+Polymorphic\+Handlers(), v8\+::internal\+::\+Store\+Mode\+Is\+In\+Bounds(), v8\+::internal\+::\+Map\+::\+Try\+Update(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+Store\+In\+Array\+Literal\+IC\+::\+Store(), and Store().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1KeyedStoreIC_ac28f29fdad09a18dd34b085ac549a973_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1KeyedStoreIC_ac28f29fdad09a18dd34b085ac549a973_icgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1KeyedStoreIC_ae59e849648858af1fd22081890d47b78}\label{classv8_1_1internal_1_1KeyedStoreIC_ae59e849648858af1fd22081890d47b78}} 
\index{v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}!IC@{IC}}
\index{IC@{IC}!v8::internal::KeyedStoreIC@{v8::internal::KeyedStoreIC}}
\doxysubsubsection{\texorpdfstring{IC}{IC}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1IC}{IC}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 343 of file ic.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/ic/\mbox{\hyperlink{ic_8h}{ic.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/ic/\mbox{\hyperlink{ic_8cc}{ic.\+cc}}\end{DoxyCompactItemize}
