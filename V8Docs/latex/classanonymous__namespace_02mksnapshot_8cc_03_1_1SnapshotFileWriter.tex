\hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter}{}\doxysection{anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer Class Reference}
\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter}\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}


Collaboration diagram for anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=274pt]{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_af69d19b702293d52ab1167b86b24fdb4}{Set\+Snapshot\+File}} (const char $\ast$snapshot\+\_\+cpp\+\_\+file)
\item 
void \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a1af5f6b40121e84c26b3f4a1b6603973}{Set\+Startup\+Blob\+File}} (const char $\ast$snapshot\+\_\+blob\+\_\+file)
\item 
void \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a77bcc134bfe4223cd482902286fea139}{Write\+Snapshot}} (\mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}} blob) const
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a37e34f1d8b0db0847c42d4e312919c50}{Maybe\+Write\+Startup\+Blob}} (\mbox{\hyperlink{classv8_1_1base_1_1Vector}{v8\+::base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ blob) const
\item 
void \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a38192600f461f2896d50abe46cb5d558}{Maybe\+Write\+Snapshot\+File}} (\mbox{\hyperlink{classv8_1_1base_1_1Vector}{v8\+::base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ blob) const
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a0176dcdd046abdccea57deaacba51770}{Write\+Snapshot\+File\+Prefix}} (FILE $\ast$fp)
\item 
static void \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a1159ca620020877125e336f09b7a2044}{Write\+Snapshot\+File\+Suffix}} (FILE $\ast$fp)
\item 
static void \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_af1eea83047e8cd667cf2089867c64341}{Write\+Snapshot\+File\+Data}} (FILE $\ast$fp, \mbox{\hyperlink{classv8_1_1base_1_1Vector}{v8\+::base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ blob)
\item 
static void \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ac7208e66a60a1c6bd01b703c9b9ef831}{Write\+Binary\+Contents\+As\+CArray}} (FILE $\ast$fp, \mbox{\hyperlink{classv8_1_1base_1_1Vector}{v8\+::base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ blob)
\item 
static FILE $\ast$ \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_add53421d061a7159268e8d3dc9f5d292}{Get\+File\+Descriptor\+Or\+Die}} (const char $\ast$filename)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const char $\ast$ \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a405b749e010cb3f7d8372a7607a8ee24}{snapshot\+\_\+cpp\+\_\+path\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\item 
const char $\ast$ \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ab901d1955304bc93c005617e2fe3d4ef}{snapshot\+\_\+blob\+\_\+path\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 28 of file mksnapshot.\+cc.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_add53421d061a7159268e8d3dc9f5d292}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_add53421d061a7159268e8d3dc9f5d292}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!GetFileDescriptorOrDie@{GetFileDescriptorOrDie}}
\index{GetFileDescriptorOrDie@{GetFileDescriptorOrDie}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{GetFileDescriptorOrDie()}{GetFileDescriptorOrDie()}}
{\footnotesize\ttfamily static FILE$\ast$ anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::\+Get\+File\+Descriptor\+Or\+Die (\begin{DoxyParamCaption}\item[{const char $\ast$}]{filename }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 121 of file mksnapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{121                                                             \{}
\DoxyCodeLine{122     FILE* fp = \mbox{\hyperlink{classv8_1_1base_1_1OS_a847804239d3654d9dc61325fd7a8b195}{v8::base::OS::FOpen}}(filename, \textcolor{stringliteral}{"{}wb"{}});}
\DoxyCodeLine{123     \textcolor{keywordflow}{if} (fp == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{124       \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{i::PrintF}}(\textcolor{stringliteral}{"{}Unable to open file \(\backslash\)"{}\%s\(\backslash\)"{} for writing.\(\backslash\)n"{}}, filename);}
\DoxyCodeLine{125       exit(1);}
\DoxyCodeLine{126     \}}
\DoxyCodeLine{127     \textcolor{keywordflow}{return} fp;}
\DoxyCodeLine{128   \}}

\end{DoxyCode}


References v8\+::base\+::\+OS\+::\+FOpen(), and v8\+::internal\+::\+Print\+F().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_add53421d061a7159268e8d3dc9f5d292_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a38192600f461f2896d50abe46cb5d558}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a38192600f461f2896d50abe46cb5d558}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!MaybeWriteSnapshotFile@{MaybeWriteSnapshotFile}}
\index{MaybeWriteSnapshotFile@{MaybeWriteSnapshotFile}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{MaybeWriteSnapshotFile()}{MaybeWriteSnapshotFile()}}
{\footnotesize\ttfamily void anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::\+Maybe\+Write\+Snapshot\+File (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{v8\+::base\+::\+Vector}}$<$ const uint8\+\_\+t $>$}]{blob }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 63 of file mksnapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{63                                                                       \{}
\DoxyCodeLine{64     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a405b749e010cb3f7d8372a7607a8ee24}{snapshot\_cpp\_path\_}}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{65 }
\DoxyCodeLine{66     FILE* fp = \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_add53421d061a7159268e8d3dc9f5d292}{GetFileDescriptorOrDie}}(\mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a405b749e010cb3f7d8372a7607a8ee24}{snapshot\_cpp\_path\_}});}
\DoxyCodeLine{67 }
\DoxyCodeLine{68     \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a0176dcdd046abdccea57deaacba51770}{WriteSnapshotFilePrefix}}(fp);}
\DoxyCodeLine{69     \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_af1eea83047e8cd667cf2089867c64341}{WriteSnapshotFileData}}(fp, blob);}
\DoxyCodeLine{70     \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a1159ca620020877125e336f09b7a2044}{WriteSnapshotFileSuffix}}(fp);}
\DoxyCodeLine{71 }
\DoxyCodeLine{72     \mbox{\hyperlink{namespacev8_1_1base_a5c78a9800cbcf09478d155ac69cdbd0f}{v8::base::Fclose}}(fp);}
\DoxyCodeLine{73   \}}

\end{DoxyCode}


References v8\+::base\+::\+Fclose().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a38192600f461f2896d50abe46cb5d558_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a37e34f1d8b0db0847c42d4e312919c50}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a37e34f1d8b0db0847c42d4e312919c50}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!MaybeWriteStartupBlob@{MaybeWriteStartupBlob}}
\index{MaybeWriteStartupBlob@{MaybeWriteStartupBlob}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{MaybeWriteStartupBlob()}{MaybeWriteStartupBlob()}}
{\footnotesize\ttfamily void anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::\+Maybe\+Write\+Startup\+Blob (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{v8\+::base\+::\+Vector}}$<$ const uint8\+\_\+t $>$}]{blob }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 50 of file mksnapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{50                                                                      \{}
\DoxyCodeLine{51     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ab901d1955304bc93c005617e2fe3d4ef}{snapshot\_blob\_path\_}}) \textcolor{keywordflow}{return};}
\DoxyCodeLine{52 }
\DoxyCodeLine{53     FILE* fp = \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_add53421d061a7159268e8d3dc9f5d292}{GetFileDescriptorOrDie}}(\mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ab901d1955304bc93c005617e2fe3d4ef}{snapshot\_blob\_path\_}});}
\DoxyCodeLine{54     \textcolor{keywordtype}{size\_t} written = fwrite(blob.\mbox{\hyperlink{classv8_1_1base_1_1Vector_a127410ecb29a2d265d49cbf575f676f9}{begin}}(), 1, blob.\mbox{\hyperlink{classv8_1_1base_1_1Vector_a1eb4ed5d322a219428bdb9f9a2cb6708}{length}}(), fp);}
\DoxyCodeLine{55     \mbox{\hyperlink{namespacev8_1_1base_a5c78a9800cbcf09478d155ac69cdbd0f}{v8::base::Fclose}}(fp);}
\DoxyCodeLine{56     \textcolor{keywordflow}{if} (written != \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(blob.\mbox{\hyperlink{classv8_1_1base_1_1Vector_a1eb4ed5d322a219428bdb9f9a2cb6708}{length}}())) \{}
\DoxyCodeLine{57       \mbox{\hyperlink{namespacev8_1_1internal_a3430752cde9f29d73e97ceed1bce0856}{i::PrintF}}(\textcolor{stringliteral}{"{}Writing snapshot file failed.. Aborting.\(\backslash\)n"{}});}
\DoxyCodeLine{58       remove(\mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ab901d1955304bc93c005617e2fe3d4ef}{snapshot\_blob\_path\_}});}
\DoxyCodeLine{59       exit(1);}
\DoxyCodeLine{60     \}}
\DoxyCodeLine{61   \}}

\end{DoxyCode}


References v8\+::base\+::\+Vector$<$ T $>$\+::begin(), v8\+::base\+::\+Fclose(), v8\+::base\+::\+Vector$<$ T $>$\+::length(), and v8\+::internal\+::\+Print\+F().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a37e34f1d8b0db0847c42d4e312919c50_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_af69d19b702293d52ab1167b86b24fdb4}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_af69d19b702293d52ab1167b86b24fdb4}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!SetSnapshotFile@{SetSnapshotFile}}
\index{SetSnapshotFile@{SetSnapshotFile}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{SetSnapshotFile()}{SetSnapshotFile()}}
{\footnotesize\ttfamily void anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::\+Set\+Snapshot\+File (\begin{DoxyParamCaption}\item[{const char $\ast$}]{snapshot\+\_\+cpp\+\_\+file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 30 of file mksnapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{30                                                       \{}
\DoxyCodeLine{31     \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a405b749e010cb3f7d8372a7607a8ee24}{snapshot\_cpp\_path\_}} = snapshot\_cpp\_file;}
\DoxyCodeLine{32   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a1af5f6b40121e84c26b3f4a1b6603973}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a1af5f6b40121e84c26b3f4a1b6603973}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!SetStartupBlobFile@{SetStartupBlobFile}}
\index{SetStartupBlobFile@{SetStartupBlobFile}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{SetStartupBlobFile()}{SetStartupBlobFile()}}
{\footnotesize\ttfamily void anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::\+Set\+Startup\+Blob\+File (\begin{DoxyParamCaption}\item[{const char $\ast$}]{snapshot\+\_\+blob\+\_\+file }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 34 of file mksnapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{34                                                           \{}
\DoxyCodeLine{35     \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ab901d1955304bc93c005617e2fe3d4ef}{snapshot\_blob\_path\_}} = snapshot\_blob\_file;}
\DoxyCodeLine{36   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ac7208e66a60a1c6bd01b703c9b9ef831}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ac7208e66a60a1c6bd01b703c9b9ef831}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!WriteBinaryContentsAsCArray@{WriteBinaryContentsAsCArray}}
\index{WriteBinaryContentsAsCArray@{WriteBinaryContentsAsCArray}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{WriteBinaryContentsAsCArray()}{WriteBinaryContentsAsCArray()}}
{\footnotesize\ttfamily static void anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::\+Write\+Binary\+Contents\+As\+CArray (\begin{DoxyParamCaption}\item[{FILE $\ast$}]{fp,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{v8\+::base\+::\+Vector}}$<$ const uint8\+\_\+t $>$}]{blob }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 111 of file mksnapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{112                                                   \{}
\DoxyCodeLine{113     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < blob.\mbox{\hyperlink{classv8_1_1base_1_1Vector_a1eb4ed5d322a219428bdb9f9a2cb6708}{length}}(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{114       \textcolor{keywordflow}{if} ((\mbox{\hyperlink{namespacev8_1_1internal}{i}} \& 0x1F) == 0x1F) fprintf(fp, \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{115       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal}{i}} > 0) fprintf(fp, \textcolor{stringliteral}{"{},"{}});}
\DoxyCodeLine{116       fprintf(fp, \textcolor{stringliteral}{"{}\%u"{}}, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(blob.\mbox{\hyperlink{classv8_1_1base_1_1Vector_a649cf78bfb9dbe2ce2db1b99cf94d7e1}{at}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}})));}
\DoxyCodeLine{117     \}}
\DoxyCodeLine{118     fprintf(fp, \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{119   \}}

\end{DoxyCode}


References v8\+::base\+::\+Vector$<$ T $>$\+::at(), and v8\+::base\+::\+Vector$<$ T $>$\+::length().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ac7208e66a60a1c6bd01b703c9b9ef831_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a77bcc134bfe4223cd482902286fea139}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a77bcc134bfe4223cd482902286fea139}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!WriteSnapshot@{WriteSnapshot}}
\index{WriteSnapshot@{WriteSnapshot}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{WriteSnapshot()}{WriteSnapshot()}}
{\footnotesize\ttfamily void anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::\+Write\+Snapshot (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1StartupData}{v8\+::\+Startup\+Data}}}]{blob }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 38 of file mksnapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{38                                                \{}
\DoxyCodeLine{39     \textcolor{comment}{// TODO(crbug/633159): if we crash before the files have been fully created,}}
\DoxyCodeLine{40     \textcolor{comment}{// we end up with a corrupted snapshot file. The build step would succeed,}}
\DoxyCodeLine{41     \textcolor{comment}{// but the build target is unusable. Ideally we would write out temporary}}
\DoxyCodeLine{42     \textcolor{comment}{// files and only move them to the final destination as last step.}}
\DoxyCodeLine{43     \mbox{\hyperlink{classv8_1_1base_1_1Vector}{v8::base::Vector<const uint8\_t>}} blob\_vector(}
\DoxyCodeLine{44         \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }uint8\_t*\textcolor{keyword}{>}(blob.\mbox{\hyperlink{classv8_1_1StartupData_a8daf0c5282d7c465988757dc4ecda1af}{data}}), blob.\mbox{\hyperlink{classv8_1_1StartupData_a2f797e167b2bebd18ddca83dedda6ffa}{raw\_size}});}
\DoxyCodeLine{45     \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a38192600f461f2896d50abe46cb5d558}{MaybeWriteSnapshotFile}}(blob\_vector);}
\DoxyCodeLine{46     \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a37e34f1d8b0db0847c42d4e312919c50}{MaybeWriteStartupBlob}}(blob\_vector);}
\DoxyCodeLine{47   \}}

\end{DoxyCode}


References v8\+::\+Startup\+Data\+::data, and v8\+::\+Startup\+Data\+::raw\+\_\+size.

\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_af1eea83047e8cd667cf2089867c64341}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_af1eea83047e8cd667cf2089867c64341}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!WriteSnapshotFileData@{WriteSnapshotFileData}}
\index{WriteSnapshotFileData@{WriteSnapshotFileData}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{WriteSnapshotFileData()}{WriteSnapshotFileData()}}
{\footnotesize\ttfamily static void anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::\+Write\+Snapshot\+File\+Data (\begin{DoxyParamCaption}\item[{FILE $\ast$}]{fp,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{v8\+::base\+::\+Vector}}$<$ const uint8\+\_\+t $>$}]{blob }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 99 of file mksnapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{100                                                                       \{}
\DoxyCodeLine{101     fprintf(}
\DoxyCodeLine{102         fp,}
\DoxyCodeLine{103         \textcolor{stringliteral}{"{}alignas(kPointerAlignment) static const uint8\_t blob\_data[] = \{\(\backslash\)n"{}});}
\DoxyCodeLine{104     \mbox{\hyperlink{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ac7208e66a60a1c6bd01b703c9b9ef831}{WriteBinaryContentsAsCArray}}(fp, blob);}
\DoxyCodeLine{105     fprintf(fp, \textcolor{stringliteral}{"{}\};\(\backslash\)n"{}});}
\DoxyCodeLine{106     fprintf(fp, \textcolor{stringliteral}{"{}static const int blob\_size = \%d;\(\backslash\)n"{}}, blob.\mbox{\hyperlink{classv8_1_1base_1_1Vector_a1eb4ed5d322a219428bdb9f9a2cb6708}{length}}());}
\DoxyCodeLine{107     fprintf(fp, \textcolor{stringliteral}{"{}static const v8::StartupData blob =\(\backslash\)n"{}});}
\DoxyCodeLine{108     fprintf(fp, \textcolor{stringliteral}{"{}\{ (const char*) blob\_data, blob\_size \};\(\backslash\)n"{}});}
\DoxyCodeLine{109   \}}

\end{DoxyCode}


References v8\+::base\+::\+Vector$<$ T $>$\+::length().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_af1eea83047e8cd667cf2089867c64341_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a0176dcdd046abdccea57deaacba51770}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a0176dcdd046abdccea57deaacba51770}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!WriteSnapshotFilePrefix@{WriteSnapshotFilePrefix}}
\index{WriteSnapshotFilePrefix@{WriteSnapshotFilePrefix}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{WriteSnapshotFilePrefix()}{WriteSnapshotFilePrefix()}}
{\footnotesize\ttfamily static void anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::\+Write\+Snapshot\+File\+Prefix (\begin{DoxyParamCaption}\item[{FILE $\ast$}]{fp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 75 of file mksnapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{75                                                 \{}
\DoxyCodeLine{76     fprintf(fp, \textcolor{stringliteral}{"{}// Autogenerated snapshot file. Do not edit.\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{77     fprintf(fp, \textcolor{stringliteral}{"{}\#include \(\backslash\)"{}src/init/v8.h\(\backslash\)"{}\(\backslash\)n"{}});}
\DoxyCodeLine{78     fprintf(fp, \textcolor{stringliteral}{"{}\#include \(\backslash\)"{}src/base/platform/platform.h\(\backslash\)"{}\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{79     fprintf(fp, \textcolor{stringliteral}{"{}\#include \(\backslash\)"{}src/flags/flags.h\(\backslash\)"{}\(\backslash\)n"{}});}
\DoxyCodeLine{80     fprintf(fp, \textcolor{stringliteral}{"{}\#include \(\backslash\)"{}src/snapshot/snapshot.h\(\backslash\)"{}\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{81     fprintf(fp, \textcolor{stringliteral}{"{}namespace v8 \{\(\backslash\)n"{}});}
\DoxyCodeLine{82     fprintf(fp, \textcolor{stringliteral}{"{}namespace internal \{\(\backslash\)n\(\backslash\)n"{}});}
\DoxyCodeLine{83   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a1159ca620020877125e336f09b7a2044}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a1159ca620020877125e336f09b7a2044}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!WriteSnapshotFileSuffix@{WriteSnapshotFileSuffix}}
\index{WriteSnapshotFileSuffix@{WriteSnapshotFileSuffix}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{WriteSnapshotFileSuffix()}{WriteSnapshotFileSuffix()}}
{\footnotesize\ttfamily static void anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::\+Write\+Snapshot\+File\+Suffix (\begin{DoxyParamCaption}\item[{FILE $\ast$}]{fp }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 85 of file mksnapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{85                                                 \{}
\DoxyCodeLine{86     fprintf(fp, \textcolor{stringliteral}{"{}const v8::StartupData* Snapshot::DefaultSnapshotBlob() \{\(\backslash\)n"{}});}
\DoxyCodeLine{87     fprintf(fp, \textcolor{stringliteral}{"{}  return \&blob;\(\backslash\)n"{}});}
\DoxyCodeLine{88     fprintf(fp, \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}});}
\DoxyCodeLine{89     fprintf(fp, \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{90     fprintf(}
\DoxyCodeLine{91         fp,}
\DoxyCodeLine{92         \textcolor{stringliteral}{"{}bool Snapshot::ShouldVerifyChecksum(const v8::StartupData* data) \{\(\backslash\)n"{}});}
\DoxyCodeLine{93     fprintf(fp, \textcolor{stringliteral}{"{}  return v8\_flags.verify\_snapshot\_checksum;\(\backslash\)n"{}});}
\DoxyCodeLine{94     fprintf(fp, \textcolor{stringliteral}{"{}\}\(\backslash\)n"{}});}
\DoxyCodeLine{95     fprintf(fp, \textcolor{stringliteral}{"{}\}  // namespace internal\(\backslash\)n"{}});}
\DoxyCodeLine{96     fprintf(fp, \textcolor{stringliteral}{"{}\}  // namespace v8\(\backslash\)n"{}});}
\DoxyCodeLine{97   \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ab901d1955304bc93c005617e2fe3d4ef}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_ab901d1955304bc93c005617e2fe3d4ef}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!snapshot\_blob\_path\_@{snapshot\_blob\_path\_}}
\index{snapshot\_blob\_path\_@{snapshot\_blob\_path\_}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{snapshot\_blob\_path\_}{snapshot\_blob\_path\_}}
{\footnotesize\ttfamily const char$\ast$ anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::snapshot\+\_\+blob\+\_\+path\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 131 of file mksnapshot.\+cc.

\mbox{\Hypertarget{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a405b749e010cb3f7d8372a7607a8ee24}\label{classanonymous__namespace_02mksnapshot_8cc_03_1_1SnapshotFileWriter_a405b749e010cb3f7d8372a7607a8ee24}} 
\index{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}!snapshot\_cpp\_path\_@{snapshot\_cpp\_path\_}}
\index{snapshot\_cpp\_path\_@{snapshot\_cpp\_path\_}!anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter@{anonymous\_namespace\lcurly{}mksnapshot.cc\rcurly{}::SnapshotFileWriter}}
\doxysubsubsection{\texorpdfstring{snapshot\_cpp\_path\_}{snapshot\_cpp\_path\_}}
{\footnotesize\ttfamily const char$\ast$ anonymous\+\_\+namespace\{mksnapshot.\+cc\}\+::Snapshot\+File\+Writer\+::snapshot\+\_\+cpp\+\_\+path\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 130 of file mksnapshot.\+cc.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/snapshot/\mbox{\hyperlink{mksnapshot_8cc}{mksnapshot.\+cc}}\end{DoxyCompactItemize}
