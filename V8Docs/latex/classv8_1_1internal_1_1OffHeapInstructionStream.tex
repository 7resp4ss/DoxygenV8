\hypertarget{classv8_1_1internal_1_1OffHeapInstructionStream}{}\doxysection{v8\+::internal\+::Off\+Heap\+Instruction\+Stream Class Reference}
\label{classv8_1_1internal_1_1OffHeapInstructionStream}\index{v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}}


{\ttfamily \#include $<$embedded-\/data.\+h$>$}



Inheritance diagram for v8\+::internal\+::Off\+Heap\+Instruction\+Stream\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=271pt]{classv8_1_1internal_1_1OffHeapInstructionStream__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Off\+Heap\+Instruction\+Stream\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=271pt]{classv8_1_1internal_1_1OffHeapInstructionStream__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1OffHeapInstructionStream_aec34f32cd594529aa7360f28e05523d7}{Pc\+Is\+Off\+Heap}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} pc)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1OffHeapInstructionStream_a4a7d02c3fea5f0d0a744bd499a63ddd7}{Try\+Get\+Address\+For\+Hashing}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} address, uint32\+\_\+t $\ast$hashable\+\_\+address)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} \mbox{\hyperlink{classv8_1_1internal_1_1OffHeapInstructionStream_ae9124a4166481cc5143fcc1030195697}{Try\+Lookup\+Code}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} address)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1OffHeapInstructionStream_adc9133f0bd6a2bca25af653f2fc2b5ba}{Create\+Off\+Heap\+Off\+Heap\+Instruction\+Stream}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, uint8\+\_\+t $\ast$$\ast$\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}, uint32\+\_\+t $\ast$code\+\_\+size, uint8\+\_\+t $\ast$$\ast$data, uint32\+\_\+t $\ast$data\+\_\+size)
\item 
static void \mbox{\hyperlink{classv8_1_1internal_1_1OffHeapInstructionStream_a18ebd4d96dcc9fc06ba5a93016380bba}{Free\+Off\+Heap\+Off\+Heap\+Instruction\+Stream}} (uint8\+\_\+t $\ast$\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}, uint32\+\_\+t code\+\_\+size, uint8\+\_\+t $\ast$data, uint32\+\_\+t data\+\_\+size)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 25 of file embedded-\/data.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1OffHeapInstructionStream_adc9133f0bd6a2bca25af653f2fc2b5ba}\label{classv8_1_1internal_1_1OffHeapInstructionStream_adc9133f0bd6a2bca25af653f2fc2b5ba}} 
\index{v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}!CreateOffHeapOffHeapInstructionStream@{CreateOffHeapOffHeapInstructionStream}}
\index{CreateOffHeapOffHeapInstructionStream@{CreateOffHeapOffHeapInstructionStream}!v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}}
\doxysubsubsection{\texorpdfstring{CreateOffHeapOffHeapInstructionStream()}{CreateOffHeapOffHeapInstructionStream()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Off\+Heap\+Instruction\+Stream\+::\+Create\+Off\+Heap\+Off\+Heap\+Instruction\+Stream (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{uint8\+\_\+t $\ast$$\ast$}]{code,  }\item[{uint32\+\_\+t $\ast$}]{code\+\_\+size,  }\item[{uint8\+\_\+t $\ast$$\ast$}]{data,  }\item[{uint32\+\_\+t $\ast$}]{data\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 105 of file embedded-\/data.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{107                          \{}
\DoxyCodeLine{108   \textcolor{comment}{// Create the embedded blob from scratch using the current Isolate's heap.}}
\DoxyCodeLine{109   EmbeddedData d = \mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_a22241b9cb8e52b8f781d3e3d28823030}{EmbeddedData::NewFromIsolate}}(isolate);}
\DoxyCodeLine{110 }
\DoxyCodeLine{111   \textcolor{comment}{// Allocate the backing store that will contain the embedded blob in this}}
\DoxyCodeLine{112   \textcolor{comment}{// Isolate. The backing store is on the native heap, *not* on V8's garbage-\/}}
\DoxyCodeLine{113   \textcolor{comment}{// collected heap.}}
\DoxyCodeLine{114   \mbox{\hyperlink{classv8_1_1PageAllocator}{v8::PageAllocator}}* page\_allocator = \mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{v8::internal::GetPlatformPageAllocator}}();}
\DoxyCodeLine{115   \textcolor{keyword}{const} uint32\_t alignment =}
\DoxyCodeLine{116       \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(page\_allocator-\/>\mbox{\hyperlink{classv8_1_1PageAllocator_a92c2f6dbb3afa6c47dafd4c12ab4641f}{AllocatePageSize}}());}
\DoxyCodeLine{117 }
\DoxyCodeLine{118   \textcolor{keywordtype}{void}* \textcolor{keyword}{const} requested\_allocation\_code\_address =}
\DoxyCodeLine{119       \mbox{\hyperlink{src_2base_2macros_8h_a642af91b62cafba63b2a751a6547a085}{AlignedAddress}}(isolate-\/>heap()-\/>GetRandomMmapAddr(), alignment);}
\DoxyCodeLine{120   \textcolor{keyword}{const} uint32\_t allocation\_code\_size = \mbox{\hyperlink{src_2base_2macros_8h_a5113f5db9eec9c30ecea57b8d4175f2d}{RoundUp}}(d.code\_size(), alignment);}
\DoxyCodeLine{121   uint8\_t* allocated\_code\_bytes = \textcolor{keyword}{static\_cast<}uint8\_t*\textcolor{keyword}{>}(}
\DoxyCodeLine{122       \mbox{\hyperlink{namespacev8_1_1internal_a3ce652c7cf886797e12fd8404dca14c0}{AllocatePages}}(page\_allocator, allocation\_code\_size, alignment,}
\DoxyCodeLine{123                     \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a}{PageAllocator::kReadWrite}},}
\DoxyCodeLine{124                     \mbox{\hyperlink{classv8_1_1PageAllocator_1_1AllocationHint}{v8::PageAllocator::AllocationHint}}().WithAddress(}
\DoxyCodeLine{125                         requested\_allocation\_code\_address)));}
\DoxyCodeLine{126   \mbox{\hyperlink{src_2base_2logging_8h_a9154b181227e4b02e465befe50219158}{CHECK\_NOT\_NULL}}(allocated\_code\_bytes);}
\DoxyCodeLine{127 }
\DoxyCodeLine{128   \textcolor{keywordtype}{void}* \textcolor{keyword}{const} requested\_allocation\_data\_address =}
\DoxyCodeLine{129       \mbox{\hyperlink{src_2base_2macros_8h_a642af91b62cafba63b2a751a6547a085}{AlignedAddress}}(isolate-\/>heap()-\/>GetRandomMmapAddr(), alignment);}
\DoxyCodeLine{130   \textcolor{keyword}{const} uint32\_t allocation\_data\_size = \mbox{\hyperlink{src_2base_2macros_8h_a5113f5db9eec9c30ecea57b8d4175f2d}{RoundUp}}(d.data\_size(), alignment);}
\DoxyCodeLine{131   uint8\_t* allocated\_data\_bytes = \textcolor{keyword}{static\_cast<}uint8\_t*\textcolor{keyword}{>}(}
\DoxyCodeLine{132       \mbox{\hyperlink{namespacev8_1_1internal_a3ce652c7cf886797e12fd8404dca14c0}{AllocatePages}}(page\_allocator, allocation\_data\_size, alignment,}
\DoxyCodeLine{133                     \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a}{PageAllocator::kReadWrite}},}
\DoxyCodeLine{134                     \mbox{\hyperlink{classv8_1_1PageAllocator_1_1AllocationHint}{v8::PageAllocator::AllocationHint}}().WithAddress(}
\DoxyCodeLine{135                         requested\_allocation\_data\_address)));}
\DoxyCodeLine{136   \mbox{\hyperlink{src_2base_2logging_8h_a9154b181227e4b02e465befe50219158}{CHECK\_NOT\_NULL}}(allocated\_data\_bytes);}
\DoxyCodeLine{137 }
\DoxyCodeLine{138   \textcolor{comment}{// Copy the embedded blob into the newly allocated backing store. Switch}}
\DoxyCodeLine{139   \textcolor{comment}{// permissions to read-\/execute since builtin code is immutable from now on}}
\DoxyCodeLine{140   \textcolor{comment}{// and must be executable in case any JS execution is triggered.}}
\DoxyCodeLine{141   \textcolor{comment}{//}}
\DoxyCodeLine{142   \textcolor{comment}{// Once this backing store is set as the current\_embedded\_blob, V8 cannot tell}}
\DoxyCodeLine{143   \textcolor{comment}{// the difference between a 'real' embedded build (where the blob is embedded}}
\DoxyCodeLine{144   \textcolor{comment}{// in the binary) and what we are currently setting up here (where the blob is}}
\DoxyCodeLine{145   \textcolor{comment}{// on the native heap).}}
\DoxyCodeLine{146   std::memcpy(allocated\_code\_bytes, d.code(), d.code\_size());}
\DoxyCodeLine{147   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.experimental\_flush\_embedded\_blob\_icache) \{}
\DoxyCodeLine{148     \mbox{\hyperlink{namespacev8_1_1internal_a4ae783a89fc65122f5edc866f1209176}{FlushInstructionCache}}(allocated\_code\_bytes, d.code\_size());}
\DoxyCodeLine{149   \}}
\DoxyCodeLine{150   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_a0b20b06fc0f215d9b9eac890977a53e7}{SetPermissions}}(page\_allocator, allocated\_code\_bytes,}
\DoxyCodeLine{151                        allocation\_code\_size, \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415a1aa2e51abe8d2706dfba3cd369bb78b0}{PageAllocator::kReadExecute}}));}
\DoxyCodeLine{152 }
\DoxyCodeLine{153   std::memcpy(allocated\_data\_bytes, d.data(), d.data\_size());}
\DoxyCodeLine{154   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_a0b20b06fc0f215d9b9eac890977a53e7}{SetPermissions}}(page\_allocator, allocated\_data\_bytes,}
\DoxyCodeLine{155                        allocation\_data\_size, \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415a1c3883d970517c3e3de7bb26e7cfeafa}{PageAllocator::kRead}}));}
\DoxyCodeLine{156 }
\DoxyCodeLine{157   *\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = allocated\_code\_bytes;}
\DoxyCodeLine{158   *code\_size = d.code\_size();}
\DoxyCodeLine{159   *data = allocated\_data\_bytes;}
\DoxyCodeLine{160   *data\_size = d.data\_size();}
\DoxyCodeLine{161 }
\DoxyCodeLine{162   d.Dispose();}
\DoxyCodeLine{163 \}}

\end{DoxyCode}


References Aligned\+Address(), v8\+::internal\+::\+Allocate\+Pages(), v8\+::\+Page\+Allocator\+::\+Allocate\+Page\+Size(), CHECK, CHECK\+\_\+\+NOT\+\_\+\+NULL, code, v8\+::internal\+::\+Embedded\+Data\+::code(), v8\+::internal\+::\+Embedded\+Data\+::code\+\_\+size(), v8\+::internal\+::\+Embedded\+Data\+::data(), v8\+::internal\+::\+Embedded\+Data\+::data\+\_\+size(), v8\+::internal\+::\+Embedded\+Data\+::\+Dispose(), v8\+::internal\+::\+Flush\+Instruction\+Cache(), v8\+::internal\+::\+Get\+Platform\+Page\+Allocator(), v8\+::internal\+::\+Heap\+::\+Get\+Random\+Mmap\+Addr(), v8\+::internal\+::\+Isolate\+::heap(), v8\+::\+Page\+Allocator\+::k\+Read, v8\+::\+Page\+Allocator\+::k\+Read\+Execute, v8\+::\+Page\+Allocator\+::k\+Read\+Write, v8\+::internal\+::\+Embedded\+Data\+::\+New\+From\+Isolate(), Round\+Up(), v8\+::internal\+::\+Set\+Permissions(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::\+Isolate\+::\+Create\+And\+Set\+Embedded\+Blob().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1OffHeapInstructionStream_adc9133f0bd6a2bca25af653f2fc2b5ba_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1OffHeapInstructionStream_adc9133f0bd6a2bca25af653f2fc2b5ba_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1OffHeapInstructionStream_a18ebd4d96dcc9fc06ba5a93016380bba}\label{classv8_1_1internal_1_1OffHeapInstructionStream_a18ebd4d96dcc9fc06ba5a93016380bba}} 
\index{v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}!FreeOffHeapOffHeapInstructionStream@{FreeOffHeapOffHeapInstructionStream}}
\index{FreeOffHeapOffHeapInstructionStream@{FreeOffHeapOffHeapInstructionStream}!v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}}
\doxysubsubsection{\texorpdfstring{FreeOffHeapOffHeapInstructionStream()}{FreeOffHeapOffHeapInstructionStream()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Off\+Heap\+Instruction\+Stream\+::\+Free\+Off\+Heap\+Off\+Heap\+Instruction\+Stream (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{code,  }\item[{uint32\+\_\+t}]{code\+\_\+size,  }\item[{uint8\+\_\+t $\ast$}]{data,  }\item[{uint32\+\_\+t}]{data\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 166 of file embedded-\/data.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{167                                                                           \{}
\DoxyCodeLine{168   \mbox{\hyperlink{classv8_1_1PageAllocator}{v8::PageAllocator}}* page\_allocator = \mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{v8::internal::GetPlatformPageAllocator}}();}
\DoxyCodeLine{169   \textcolor{keyword}{const} uint32\_t page\_size =}
\DoxyCodeLine{170       \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(page\_allocator-\/>\mbox{\hyperlink{classv8_1_1PageAllocator_a92c2f6dbb3afa6c47dafd4c12ab4641f}{AllocatePageSize}}());}
\DoxyCodeLine{171   \mbox{\hyperlink{namespacev8_1_1internal_af33be30dc6995646ac5a541bdf0ede03}{FreePages}}(page\_allocator, \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}, \mbox{\hyperlink{src_2base_2macros_8h_a5113f5db9eec9c30ecea57b8d4175f2d}{RoundUp}}(code\_size, page\_size));}
\DoxyCodeLine{172   \mbox{\hyperlink{namespacev8_1_1internal_af33be30dc6995646ac5a541bdf0ede03}{FreePages}}(page\_allocator, data, \mbox{\hyperlink{src_2base_2macros_8h_a5113f5db9eec9c30ecea57b8d4175f2d}{RoundUp}}(data\_size, page\_size));}
\DoxyCodeLine{173 \}}

\end{DoxyCode}


References v8\+::\+Page\+Allocator\+::\+Allocate\+Page\+Size(), code, v8\+::internal\+::\+Free\+Pages(), v8\+::internal\+::\+Get\+Platform\+Page\+Allocator(), and Round\+Up().



Referenced by v8\+::internal\+::\+Free\+Current\+Embedded\+Blob(), and v8\+::internal\+::\+Isolate\+::\+Tear\+Down\+Embedded\+Blob().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1OffHeapInstructionStream_a18ebd4d96dcc9fc06ba5a93016380bba_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1OffHeapInstructionStream_a18ebd4d96dcc9fc06ba5a93016380bba_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1OffHeapInstructionStream_aec34f32cd594529aa7360f28e05523d7}\label{classv8_1_1internal_1_1OffHeapInstructionStream_aec34f32cd594529aa7360f28e05523d7}} 
\index{v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}!PcIsOffHeap@{PcIsOffHeap}}
\index{PcIsOffHeap@{PcIsOffHeap}!v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}}
\doxysubsubsection{\texorpdfstring{PcIsOffHeap()}{PcIsOffHeap()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Off\+Heap\+Instruction\+Stream\+::\+Pc\+Is\+Off\+Heap (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{pc }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 41 of file embedded-\/data.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{41                                                                        \{}
\DoxyCodeLine{42   \textcolor{comment}{// Mksnapshot calls this while the embedded blob is not available yet.}}
\DoxyCodeLine{43   \textcolor{keywordflow}{if} (isolate-\/>embedded\_blob\_code() == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{44   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a1e813a2d79484ec55165b897c21f21b3}{Isolate::CurrentEmbeddedBlobCode}}());}
\DoxyCodeLine{45 }
\DoxyCodeLine{46   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_a5f046101e1ed7d746979f87acbcb60e5}{EmbeddedData::FromBlob}}(isolate).IsInCodeRange(pc)) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{47   \textcolor{keywordflow}{return} isolate-\/>is\_short\_builtin\_calls\_enabled() \&\&}
\DoxyCodeLine{48          \mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_a5f046101e1ed7d746979f87acbcb60e5}{EmbeddedData::FromBlob}}().\mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_a39ce8c64940b01141ff6f7aebe1d2d62}{IsInCodeRange}}(pc);}
\DoxyCodeLine{49 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::\+Current\+Embedded\+Blob\+Code(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::\+Isolate\+::embedded\+\_\+blob\+\_\+code(), v8\+::internal\+::\+Embedded\+Data\+::\+From\+Blob(), v8\+::internal\+::\+Isolate\+::is\+\_\+short\+\_\+builtin\+\_\+calls\+\_\+enabled(), and v8\+::internal\+::\+Embedded\+Data\+::\+Is\+In\+Code\+Range().



Referenced by v8\+::internal\+::\+Code\+::\+Is\+Isolate\+Independent(), and v8\+::internal\+::\+Heap\+::\+Try\+Find\+Code\+For\+Inner\+Pointer\+For\+Printing().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1OffHeapInstructionStream_aec34f32cd594529aa7360f28e05523d7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1OffHeapInstructionStream_aec34f32cd594529aa7360f28e05523d7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1OffHeapInstructionStream_a4a7d02c3fea5f0d0a744bd499a63ddd7}\label{classv8_1_1internal_1_1OffHeapInstructionStream_a4a7d02c3fea5f0d0a744bd499a63ddd7}} 
\index{v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}!TryGetAddressForHashing@{TryGetAddressForHashing}}
\index{TryGetAddressForHashing@{TryGetAddressForHashing}!v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}}
\doxysubsubsection{\texorpdfstring{TryGetAddressForHashing()}{TryGetAddressForHashing()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+Off\+Heap\+Instruction\+Stream\+::\+Try\+Get\+Address\+For\+Hashing (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{address,  }\item[{uint32\+\_\+t $\ast$}]{hashable\+\_\+address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 52 of file embedded-\/data.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{53                                                                    \{}
\DoxyCodeLine{54   \textcolor{comment}{// Mksnapshot calls this while the embedded blob is not available yet.}}
\DoxyCodeLine{55   \textcolor{keywordflow}{if} (isolate-\/>embedded\_blob\_code() == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{56   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a1e813a2d79484ec55165b897c21f21b3}{Isolate::CurrentEmbeddedBlobCode}}());}
\DoxyCodeLine{57 }
\DoxyCodeLine{58   EmbeddedData d = \mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_a5f046101e1ed7d746979f87acbcb60e5}{EmbeddedData::FromBlob}}(isolate);}
\DoxyCodeLine{59   \textcolor{keywordflow}{if} (d.IsInCodeRange(address)) \{}
\DoxyCodeLine{60     *hashable\_address = d.AddressForHashing(address);}
\DoxyCodeLine{61     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{62   \}}
\DoxyCodeLine{63 }
\DoxyCodeLine{64   \textcolor{keywordflow}{if} (isolate-\/>is\_short\_builtin\_calls\_enabled()) \{}
\DoxyCodeLine{65     d = \mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_a5f046101e1ed7d746979f87acbcb60e5}{EmbeddedData::FromBlob}}();}
\DoxyCodeLine{66     \textcolor{keywordflow}{if} (d.IsInCodeRange(address)) \{}
\DoxyCodeLine{67       *hashable\_address = d.AddressForHashing(address);}
\DoxyCodeLine{68       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{69     \}}
\DoxyCodeLine{70   \}}
\DoxyCodeLine{71   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{72 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Embedded\+Data\+::\+Address\+For\+Hashing(), v8\+::internal\+::\+Isolate\+::\+Current\+Embedded\+Blob\+Code(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::\+Isolate\+::embedded\+\_\+blob\+\_\+code(), v8\+::internal\+::\+Embedded\+Data\+::\+From\+Blob(), v8\+::internal\+::\+Isolate\+::is\+\_\+short\+\_\+builtin\+\_\+calls\+\_\+enabled(), and v8\+::internal\+::\+Embedded\+Data\+::\+Is\+In\+Code\+Range().



Referenced by v8\+::internal\+::anonymous\+\_\+namespace\{frames.\+cc\}\+::\+Pc\+Address\+For\+Hashing().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1OffHeapInstructionStream_a4a7d02c3fea5f0d0a744bd499a63ddd7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1OffHeapInstructionStream_a4a7d02c3fea5f0d0a744bd499a63ddd7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1OffHeapInstructionStream_ae9124a4166481cc5143fcc1030195697}\label{classv8_1_1internal_1_1OffHeapInstructionStream_ae9124a4166481cc5143fcc1030195697}} 
\index{v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}!TryLookupCode@{TryLookupCode}}
\index{TryLookupCode@{TryLookupCode}!v8::internal::OffHeapInstructionStream@{v8::internal::OffHeapInstructionStream}}
\doxysubsubsection{\texorpdfstring{TryLookupCode()}{TryLookupCode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} v8\+::internal\+::\+Off\+Heap\+Instruction\+Stream\+::\+Try\+Lookup\+Code (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 75 of file embedded-\/data.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{76                                                                  \{}
\DoxyCodeLine{77   \textcolor{comment}{// Mksnapshot calls this while the embedded blob is not available yet.}}
\DoxyCodeLine{78   \textcolor{keywordflow}{if} (isolate-\/>embedded\_blob\_code() == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88}{Builtin::kNoBuiltinId}};}
\DoxyCodeLine{79   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a1e813a2d79484ec55165b897c21f21b3}{Isolate::CurrentEmbeddedBlobCode}}());}
\DoxyCodeLine{80 }
\DoxyCodeLine{81   \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} builtin = \mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_a5f046101e1ed7d746979f87acbcb60e5}{EmbeddedData::FromBlob}}(isolate).\mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_abfca50e87246885a98c636e1245d1a8f}{TryLookupCode}}(address);}
\DoxyCodeLine{82 }
\DoxyCodeLine{83   \textcolor{keywordflow}{if} (isolate-\/>is\_short\_builtin\_calls\_enabled() \&\&}
\DoxyCodeLine{84       !\mbox{\hyperlink{classv8_1_1internal_1_1Builtins_a9f4e993a04694469eb0eef27133908a1}{Builtins::IsBuiltinId}}(builtin)) \{}
\DoxyCodeLine{85     builtin = \mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_a5f046101e1ed7d746979f87acbcb60e5}{EmbeddedData::FromBlob}}().\mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_abfca50e87246885a98c636e1245d1a8f}{TryLookupCode}}(address);}
\DoxyCodeLine{86   \}}
\DoxyCodeLine{87 }
\DoxyCodeLine{88 \textcolor{preprocessor}{\#ifdef V8\_COMPRESS\_POINTERS\_IN\_SHARED\_CAGE}}
\DoxyCodeLine{89   \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_a8796533fcea5aac4bd78fafc6a3b0156}{V8\_SHORT\_BUILTIN\_CALLS\_BOOL}} \&\& !\mbox{\hyperlink{classv8_1_1internal_1_1Builtins_a9f4e993a04694469eb0eef27133908a1}{Builtins::IsBuiltinId}}(builtin)) \{}
\DoxyCodeLine{90     \textcolor{comment}{// When shared pointer compression cage is enabled and it has the embedded}}
\DoxyCodeLine{91     \textcolor{comment}{// code blob copy then it could have been used regardless of whether the}}
\DoxyCodeLine{92     \textcolor{comment}{// isolate uses it or knows about it or not (see}}
\DoxyCodeLine{93     \textcolor{comment}{// InstructionStream::OffHeapInstructionStart()).}}
\DoxyCodeLine{94     \textcolor{comment}{// So, this blob has to be checked too.}}
\DoxyCodeLine{95     CodeRange* code\_range = \mbox{\hyperlink{classv8_1_1internal_1_1IsolateGroup_a3ca6c5d3f2b884f5866595543d2e0fd7}{IsolateGroup::current}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1IsolateGroup_a6ae9475240aa40023643dff75bc31d30}{GetCodeRange}}();}
\DoxyCodeLine{96     \textcolor{keywordflow}{if} (code\_range \&\& code\_range-\/>embedded\_blob\_code\_copy() != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{97       builtin = \mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_a5f046101e1ed7d746979f87acbcb60e5}{EmbeddedData::FromBlob}}(code\_range).\mbox{\hyperlink{classv8_1_1internal_1_1EmbeddedData_abfca50e87246885a98c636e1245d1a8f}{TryLookupCode}}(address);}
\DoxyCodeLine{98     \}}
\DoxyCodeLine{99   \}}
\DoxyCodeLine{100 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{101   \textcolor{keywordflow}{return} builtin;}
\DoxyCodeLine{102 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+Group\+::current(), v8\+::internal\+::\+Isolate\+::\+Current\+Embedded\+Blob\+Code(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::\+Isolate\+::embedded\+\_\+blob\+\_\+code(), v8\+::internal\+::\+Code\+Range\+::embedded\+\_\+blob\+\_\+code\+\_\+copy(), v8\+::internal\+::\+Embedded\+Data\+::\+From\+Blob(), v8\+::internal\+::\+Isolate\+Group\+::\+Get\+Code\+Range(), v8\+::internal\+::\+Isolate\+::is\+\_\+short\+\_\+builtin\+\_\+calls\+\_\+enabled(), v8\+::internal\+::\+Builtins\+::\+Is\+Builtin\+Id(), v8\+::internal\+::k\+No\+Builtin\+Id, v8\+::internal\+::\+Embedded\+Data\+::\+Try\+Lookup\+Code(), and V8\+\_\+\+SHORT\+\_\+\+BUILTIN\+\_\+\+CALLS\+\_\+\+BOOL.



Referenced by v8\+::internal\+::\+Heap\+::\+Gc\+Safe\+Instruction\+Stream\+Contains(), v8\+::internal\+::\+Heap\+::\+Gc\+Safe\+Try\+Find\+Code\+For\+Inner\+Pointer(), v8\+::internal\+::anonymous\+\_\+namespace\{frames.\+cc\}\+::\+Is\+Interpreter\+Frame\+Pc(), and v8\+::internal\+::\+Builtins\+::\+Lookup().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1OffHeapInstructionStream_ae9124a4166481cc5143fcc1030195697_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1OffHeapInstructionStream_ae9124a4166481cc5143fcc1030195697_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/snapshot/embedded/\mbox{\hyperlink{embedded-data_8h}{embedded-\/data.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/snapshot/embedded/\mbox{\hyperlink{embedded-data_8cc}{embedded-\/data.\+cc}}\end{DoxyCompactItemize}
