\hypertarget{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache}{}\doxysection{v8\+::internal\+::anonymous\+\_\+namespace\{js-\/date-\/time-\/format.cc\}\+::Calendar\+Cache Class Reference}
\label{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache}\index{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache@{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache}}


Collaboration diagram for v8\+::internal\+::anonymous\+\_\+namespace\{js-\/date-\/time-\/format.cc\}\+::Calendar\+Cache\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
icu\+::\+Calendar $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a566c73a2a873f276036189fa2d98b1d2}{Create\+Calendar}} (const icu\+::\+Locale \&locale, icu\+::\+Time\+Zone $\ast$tz)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::map$<$ std\+::string, std\+::unique\+\_\+ptr$<$ icu\+::\+Calendar $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a0fadc3394527fec553448ed0101a7ea0}{map\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a546857f325cacf7fe1998af582fed2c5}{mutex\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 1548 of file js-\/date-\/time-\/format.\+cc.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a566c73a2a873f276036189fa2d98b1d2}\label{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a566c73a2a873f276036189fa2d98b1d2}} 
\index{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache@{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache}!CreateCalendar@{CreateCalendar}}
\index{CreateCalendar@{CreateCalendar}!v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache@{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache}}
\doxysubsubsection{\texorpdfstring{CreateCalendar()}{CreateCalendar()}}
{\footnotesize\ttfamily icu\+::\+Calendar$\ast$ v8\+::internal\+::anonymous\+\_\+namespace\{js-\/\mbox{\hyperlink{namespacev8_1_1internal_aceb45b828c320bc4fd5d4e7dff4662c4}{date}}-\/\mbox{\hyperlink{namespacev8_1_1internal_abab02b3a9f25e94b199fc934deeea432}{time}}-\/format.\+cc\}\+::Calendar\+Cache\+::\+Create\+Calendar (\begin{DoxyParamCaption}\item[{const icu\+::\+Locale \&}]{locale,  }\item[{icu\+::\+Time\+Zone $\ast$}]{tz }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 1550 of file js-\/date-\/time-\/format.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1550                                                                         \{}
\DoxyCodeLine{1551     icu::UnicodeString tz\_id;}
\DoxyCodeLine{1552     tz-\/>getID(tz\_id);}
\DoxyCodeLine{1553     \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}};}
\DoxyCodeLine{1554     tz\_id.toUTF8String<\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}}>(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{1555     \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}} += \textcolor{stringliteral}{"{}:"{}};}
\DoxyCodeLine{1556     \mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}} += locale.getName();}
\DoxyCodeLine{1557 }
\DoxyCodeLine{1558     \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} guard(\&\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a546857f325cacf7fe1998af582fed2c5}{mutex\_}});}
\DoxyCodeLine{1559     \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a0fadc3394527fec553448ed0101a7ea0}{map\_}}.find(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{1560     \textcolor{keywordflow}{if} (it != \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a0fadc3394527fec553448ed0101a7ea0}{map\_}}.end()) \{}
\DoxyCodeLine{1561       \textcolor{keyword}{delete} tz;}
\DoxyCodeLine{1562       \textcolor{keywordflow}{return} it-\/>second-\/>clone();}
\DoxyCodeLine{1563     \}}
\DoxyCodeLine{1564     \textcolor{comment}{// Create a calendar using locale, and apply time zone to it.}}
\DoxyCodeLine{1565     UErrorCode \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = U\_ZERO\_ERROR;}
\DoxyCodeLine{1566     std::unique\_ptr<icu::Calendar> calendar(}
\DoxyCodeLine{1567         icu::Calendar::createInstance(tz, locale, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{1568     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(U\_SUCCESS(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{1569     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(calendar.get());}
\DoxyCodeLine{1570 }
\DoxyCodeLine{1571     \textcolor{keywordflow}{if} (calendar-\/>getDynamicClassID() ==}
\DoxyCodeLine{1572             icu::GregorianCalendar::getStaticClassID() ||}
\DoxyCodeLine{1573         strcmp(calendar-\/>getType(), \textcolor{stringliteral}{"{}iso8601"{}}) == 0) \{}
\DoxyCodeLine{1574       icu::GregorianCalendar* gc =}
\DoxyCodeLine{1575           \textcolor{keyword}{static\_cast<}icu::GregorianCalendar*\textcolor{keyword}{>}(calendar.get());}
\DoxyCodeLine{1576       \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = U\_ZERO\_ERROR;}
\DoxyCodeLine{1577       \textcolor{comment}{// The beginning of ECMAScript time, namely -\/(2**53)}}
\DoxyCodeLine{1578       \textcolor{keyword}{const} \textcolor{keywordtype}{double} start\_of\_time = -\/9007199254740992;}
\DoxyCodeLine{1579       gc-\/>setGregorianChange(start\_of\_time, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}});}
\DoxyCodeLine{1580       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(U\_SUCCESS(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{1581     \}}
\DoxyCodeLine{1582 }
\DoxyCodeLine{1583     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a0fadc3394527fec553448ed0101a7ea0}{map\_}}.size() > 8) \{  \textcolor{comment}{// Cache at most 8 calendars.}}
\DoxyCodeLine{1584       \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a0fadc3394527fec553448ed0101a7ea0}{map\_}}.clear();}
\DoxyCodeLine{1585     \}}
\DoxyCodeLine{1586     \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a0fadc3394527fec553448ed0101a7ea0}{map\_}}[\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}] = std::move(calendar);}
\DoxyCodeLine{1587     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a0fadc3394527fec553448ed0101a7ea0}{map\_}}[\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}]-\/>clone();}
\DoxyCodeLine{1588   \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::key, v8\+::internal\+::status, and v8\+::internal\+::string.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a566c73a2a873f276036189fa2d98b1d2_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a0fadc3394527fec553448ed0101a7ea0}\label{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a0fadc3394527fec553448ed0101a7ea0}} 
\index{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache@{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache}!map\_@{map\_}}
\index{map\_@{map\_}!v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache@{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache}}
\doxysubsubsection{\texorpdfstring{map\_}{map\_}}
{\footnotesize\ttfamily std\+::map$<$std\+::string, std\+::unique\+\_\+ptr$<$icu\+::\+Calendar$>$ $>$ v8\+::internal\+::anonymous\+\_\+namespace\{js-\/\mbox{\hyperlink{namespacev8_1_1internal_aceb45b828c320bc4fd5d4e7dff4662c4}{date}}-\/\mbox{\hyperlink{namespacev8_1_1internal_abab02b3a9f25e94b199fc934deeea432}{time}}-\/format.\+cc\}\+::Calendar\+Cache\+::map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1591 of file js-\/date-\/time-\/format.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a546857f325cacf7fe1998af582fed2c5}\label{classv8_1_1internal_1_1anonymous__namespace_02js-date-time-format_8cc_03_1_1CalendarCache_a546857f325cacf7fe1998af582fed2c5}} 
\index{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache@{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache}!mutex\_@{mutex\_}}
\index{mutex\_@{mutex\_}!v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache@{v8::internal::anonymous\_namespace\lcurly{}js-\/date-\/time-\/format.cc\rcurly{}::CalendarCache}}
\doxysubsubsection{\texorpdfstring{mutex\_}{mutex\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} v8\+::internal\+::anonymous\+\_\+namespace\{js-\/\mbox{\hyperlink{namespacev8_1_1internal_aceb45b828c320bc4fd5d4e7dff4662c4}{date}}-\/\mbox{\hyperlink{namespacev8_1_1internal_abab02b3a9f25e94b199fc934deeea432}{time}}-\/format.\+cc\}\+::Calendar\+Cache\+::mutex\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1592 of file js-\/date-\/time-\/format.\+cc.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{js-date-time-format_8cc}{js-\/date-\/time-\/format.\+cc}}\end{DoxyCompactItemize}
