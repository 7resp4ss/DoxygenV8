\hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData}{}\doxysection{v8\+::internal\+::wasm\+::Validate\+Functions\+Streaming\+Job\+Data Struct Reference}
\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData}\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}


Collaboration diagram for v8\+::internal\+::wasm\+::Validate\+Functions\+Streaming\+Job\+Data\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_1_1Unit}{Unit}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a30537e9b0e0f4d0160b17f97f2ceed43}{Initialize}} (\mbox{\hyperlink{classint}{int}} num\+\_\+declared\+\_\+functions)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aea4d7941a772b26e34a901b0e3dad6c9}{Add\+Unit}} (\mbox{\hyperlink{classint}{int}} declared\+\_\+func\+\_\+index, \mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$ \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}, \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} $\ast$job\+\_\+handle)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a82498d65506cdd9a96e15cbc43061da0}{Num\+Outstanding\+Units}} () const
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_1_1Unit}{Unit}} \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aa3640734bcf13379124fb8a689e3865f}{Get\+Unit}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a5552012797ffa8222c56b7b65fcc4c45}{Update\+Detected\+Features}} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}} new\+\_\+detected\+\_\+features)
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1OwnedVector}{base\+::\+Owned\+Vector}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_1_1Unit}{Unit}} $>$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a19f07dd2194cf5b0c00412210dc91b92}{units}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_1_1Unit}{Unit}} $\ast$ $>$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a4ec50926fec4429aac9d5d81a5d9a705}{next\+\_\+available\+\_\+unit}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_1_1Unit}{Unit}} $\ast$ $>$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a3fbf9bebc526ac76149545b2e6b1e5bc}{end\+\_\+of\+\_\+available\+\_\+units}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $>$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a9cfdfc887c8e71d8e6f5e70352b372c2}{found\+\_\+error}} \{\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\}
\item 
std\+::atomic$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}} $>$ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_ace23482eb9e8803b07a5f797fb9a0985}{detected\+\_\+features}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 2489 of file module-\/compiler.\+cc.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aea4d7941a772b26e34a901b0e3dad6c9}\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aea4d7941a772b26e34a901b0e3dad6c9}} 
\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}!AddUnit@{AddUnit}}
\index{AddUnit@{AddUnit}!v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}
\doxysubsubsection{\texorpdfstring{AddUnit()}{AddUnit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::\+Add\+Unit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{declared\+\_\+func\+\_\+index,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ const uint8\+\_\+t $>$}]{code,  }\item[{\mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} $\ast$}]{job\+\_\+handle }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 2510 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2511                                       \{}
\DoxyCodeLine{2512     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a19f07dd2194cf5b0c00412210dc91b92}{units}});}
\DoxyCodeLine{2513     \textcolor{comment}{// Write new unit to \{*end\}, then increment \{end\}. There is only one thread}}
\DoxyCodeLine{2514     \textcolor{comment}{// adding new units, so no further synchronization needed.}}
\DoxyCodeLine{2515     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-duration-format_8cc_03_a92a126cff80447cdefea20ae7d212120}{Unit}}* ptr = \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a3fbf9bebc526ac76149545b2e6b1e5bc}{end\_of\_available\_units}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{2516     \textcolor{comment}{// Check invariant: \{next <= end\}.}}
\DoxyCodeLine{2517     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a4ec50926fec4429aac9d5d81a5d9a705}{next\_available\_unit}}.load(std::memory\_order\_relaxed), ptr);}
\DoxyCodeLine{2518     *ptr++ = \{declared\_func\_index, \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}\};}
\DoxyCodeLine{2519     \textcolor{comment}{// Use release semantics, so whoever loads this pointer (using acquire}}
\DoxyCodeLine{2520     \textcolor{comment}{// semantics) sees all our previous stores.}}
\DoxyCodeLine{2521     \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a3fbf9bebc526ac76149545b2e6b1e5bc}{end\_of\_available\_units}}.store(ptr, std::memory\_order\_release);}
\DoxyCodeLine{2522     \textcolor{keywordtype}{size\_t} total\_units\_added = ptr -\/ \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a19f07dd2194cf5b0c00412210dc91b92}{units}}.begin();}
\DoxyCodeLine{2523     \textcolor{comment}{// Periodically notify concurrency increase. This has overhead, so avoid}}
\DoxyCodeLine{2524     \textcolor{comment}{// calling it too often. As long as threads are still running they will}}
\DoxyCodeLine{2525     \textcolor{comment}{// continue processing new units anyway, and if background threads validate}}
\DoxyCodeLine{2526     \textcolor{comment}{// faster than we can add units, then only notifying after increasingly long}}
\DoxyCodeLine{2527     \textcolor{comment}{// delays is the right thing to do to avoid too many small validation tasks.}}
\DoxyCodeLine{2528     \textcolor{comment}{// We notify on each power of two after 16 units, and every 16k units (just}}
\DoxyCodeLine{2529     \textcolor{comment}{// to have *some* upper limit and avoiding to pile up too many units).}}
\DoxyCodeLine{2530     \textcolor{comment}{// Additionally, notify after receiving the last unit of the module.}}
\DoxyCodeLine{2531     \textcolor{keywordflow}{if} ((total\_units\_added >= 16 \&\&}
\DoxyCodeLine{2532          \mbox{\hyperlink{namespacev8_1_1base_1_1bits_af9eb752b538fa8a66badab8f26e0e000}{base::bits::IsPowerOfTwo}}(total\_units\_added)) ||}
\DoxyCodeLine{2533         (total\_units\_added \% (16 * 1024)) == 0 || ptr == \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a19f07dd2194cf5b0c00412210dc91b92}{units}}.end()) \{}
\DoxyCodeLine{2534       job\_handle-\/>NotifyConcurrencyIncrease();}
\DoxyCodeLine{2535     \}}
\DoxyCodeLine{2536   \}}

\end{DoxyCode}


References code, DCHECK\+\_\+\+LE, DCHECK\+\_\+\+NOT\+\_\+\+NULL, end\+\_\+of\+\_\+available\+\_\+units, v8\+::base\+::bits\+::\+Is\+Power\+Of\+Two(), next\+\_\+available\+\_\+unit, v8\+::\+Job\+Handle\+::\+Notify\+Concurrency\+Increase(), and units.



Referenced by v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+Process\+Function\+Body().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aea4d7941a772b26e34a901b0e3dad6c9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aea4d7941a772b26e34a901b0e3dad6c9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aa3640734bcf13379124fb8a689e3865f}\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aa3640734bcf13379124fb8a689e3865f}} 
\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}!GetUnit@{GetUnit}}
\index{GetUnit@{GetUnit}!v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}
\doxysubsubsection{\texorpdfstring{GetUnit()}{GetUnit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_1_1Unit}{Unit}} v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::\+Get\+Unit (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 2547 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2547                  \{}
\DoxyCodeLine{2548     \textcolor{comment}{// Use an acquire load to synchronize with the store in \{AddUnit\}. All units}}
\DoxyCodeLine{2549     \textcolor{comment}{// before this \{end\} are fully initialized and ready to execute.}}
\DoxyCodeLine{2550     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-duration-format_8cc_03_a92a126cff80447cdefea20ae7d212120}{Unit}}* \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a3fbf9bebc526ac76149545b2e6b1e5bc}{end\_of\_available\_units}}.load(std::memory\_order\_acquire);}
\DoxyCodeLine{2551     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-duration-format_8cc_03_a92a126cff80447cdefea20ae7d212120}{Unit}}* next = \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a4ec50926fec4429aac9d5d81a5d9a705}{next\_available\_unit}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{2552     \textcolor{keywordflow}{while} (next < \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}) \{}
\DoxyCodeLine{2553       \textcolor{keywordflow}{if} (\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a4ec50926fec4429aac9d5d81a5d9a705}{next\_available\_unit}}.compare\_exchange\_weak(}
\DoxyCodeLine{2554               next, next + 1, std::memory\_order\_relaxed)) \{}
\DoxyCodeLine{2555         \textcolor{keywordflow}{return} *next;}
\DoxyCodeLine{2556       \}}
\DoxyCodeLine{2557       \textcolor{comment}{// Otherwise retry with updated \{next\} pointer.}}
\DoxyCodeLine{2558     \}}
\DoxyCodeLine{2559     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{2560   \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::end(), end\+\_\+of\+\_\+available\+\_\+units, and next\+\_\+available\+\_\+unit.



Referenced by v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+::\+Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aa3640734bcf13379124fb8a689e3865f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_aa3640734bcf13379124fb8a689e3865f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a30537e9b0e0f4d0160b17f97f2ceed43}\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a30537e9b0e0f4d0160b17f97f2ceed43}} 
\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}!Initialize@{Initialize}}
\index{Initialize@{Initialize}!v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}
\doxysubsubsection{\texorpdfstring{Initialize()}{Initialize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::\+Initialize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{num\+\_\+declared\+\_\+functions }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 2502 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2502                                               \{}
\DoxyCodeLine{2503     \mbox{\hyperlink{src_2base_2logging_8h_a2209830df6b59d1ec1fdf66b9352924f}{DCHECK\_NULL}}(\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a19f07dd2194cf5b0c00412210dc91b92}{units}});}
\DoxyCodeLine{2504     \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a19f07dd2194cf5b0c00412210dc91b92}{units}} = \mbox{\hyperlink{classv8_1_1base_1_1OwnedVector_af4f3e4cad212e5321ef9d3cb31009fe8}{base::OwnedVector<Unit>::NewForOverwrite}}(num\_declared\_functions);}
\DoxyCodeLine{2505     \textcolor{comment}{// Initially \{next == end\}.}}
\DoxyCodeLine{2506     \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a4ec50926fec4429aac9d5d81a5d9a705}{next\_available\_unit}}.store(\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a19f07dd2194cf5b0c00412210dc91b92}{units}}.begin(), std::memory\_order\_relaxed);}
\DoxyCodeLine{2507     \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a3fbf9bebc526ac76149545b2e6b1e5bc}{end\_of\_available\_units}}.store(\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a19f07dd2194cf5b0c00412210dc91b92}{units}}.begin(), std::memory\_order\_relaxed);}
\DoxyCodeLine{2508   \}}

\end{DoxyCode}


References DCHECK\+\_\+\+NULL, end\+\_\+of\+\_\+available\+\_\+units, v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::\+New\+For\+Overwrite(), next\+\_\+available\+\_\+unit, and units.



Referenced by v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+Process\+Function\+Body().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a30537e9b0e0f4d0160b17f97f2ceed43_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a30537e9b0e0f4d0160b17f97f2ceed43_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a82498d65506cdd9a96e15cbc43061da0}\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a82498d65506cdd9a96e15cbc43061da0}} 
\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}!NumOutstandingUnits@{NumOutstandingUnits}}
\index{NumOutstandingUnits@{NumOutstandingUnits}!v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}
\doxysubsubsection{\texorpdfstring{NumOutstandingUnits()}{NumOutstandingUnits()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::\+Num\+Outstanding\+Units (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 2538 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2538                                      \{}
\DoxyCodeLine{2539     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-duration-format_8cc_03_a92a126cff80447cdefea20ae7d212120}{Unit}}* next = \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a4ec50926fec4429aac9d5d81a5d9a705}{next\_available\_unit}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{2540     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-duration-format_8cc_03_a92a126cff80447cdefea20ae7d212120}{Unit}}* \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a3fbf9bebc526ac76149545b2e6b1e5bc}{end\_of\_available\_units}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{2541     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(next, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{2542     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} -\/ next;}
\DoxyCodeLine{2543   \}}

\end{DoxyCode}


References DCHECK\+\_\+\+LE, v8\+::internal\+::compiler\+::end(), end\+\_\+of\+\_\+available\+\_\+units, and next\+\_\+available\+\_\+unit.



Referenced by v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+::\+Get\+Max\+Concurrency().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a82498d65506cdd9a96e15cbc43061da0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a82498d65506cdd9a96e15cbc43061da0_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a5552012797ffa8222c56b7b65fcc4c45}\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a5552012797ffa8222c56b7b65fcc4c45}} 
\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}!UpdateDetectedFeatures@{UpdateDetectedFeatures}}
\index{UpdateDetectedFeatures@{UpdateDetectedFeatures}!v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}
\doxysubsubsection{\texorpdfstring{UpdateDetectedFeatures()}{UpdateDetectedFeatures()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::\+Update\+Detected\+Features (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}}}]{new\+\_\+detected\+\_\+features }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 2562 of file module-\/compiler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2562                                                                           \{}
\DoxyCodeLine{2563     WasmDetectedFeatures old\_features =}
\DoxyCodeLine{2564         \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_ace23482eb9e8803b07a5f797fb9a0985}{detected\_features}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{2565     \textcolor{keywordflow}{while} (!\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_ace23482eb9e8803b07a5f797fb9a0985}{detected\_features}}.compare\_exchange\_weak(}
\DoxyCodeLine{2566         old\_features, old\_features | new\_detected\_features,}
\DoxyCodeLine{2567         std::memory\_order\_relaxed)) \{}
\DoxyCodeLine{2568       \textcolor{comment}{// Retry with updated \{old\_features\}.}}
\DoxyCodeLine{2569     \}}
\DoxyCodeLine{2570   \}}

\end{DoxyCode}


References detected\+\_\+features.



Referenced by v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+::\+Run().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a5552012797ffa8222c56b7b65fcc4c45_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_ace23482eb9e8803b07a5f797fb9a0985}\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_ace23482eb9e8803b07a5f797fb9a0985}} 
\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}!detected\_features@{detected\_features}}
\index{detected\_features@{detected\_features}!v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}
\doxysubsubsection{\texorpdfstring{detected\_features}{detected\_features}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}}$>$ v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::detected\+\_\+features}



Definition at line 2576 of file module-\/compiler.\+cc.



Referenced by v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+On\+Finished\+Stream(), and Update\+Detected\+Features().

\mbox{\Hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a3fbf9bebc526ac76149545b2e6b1e5bc}\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a3fbf9bebc526ac76149545b2e6b1e5bc}} 
\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}!end\_of\_available\_units@{end\_of\_available\_units}}
\index{end\_of\_available\_units@{end\_of\_available\_units}!v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}
\doxysubsubsection{\texorpdfstring{end\_of\_available\_units}{end\_of\_available\_units}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_1_1Unit}{Unit}}$\ast$$>$ v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::end\+\_\+of\+\_\+available\+\_\+units}



Definition at line 2574 of file module-\/compiler.\+cc.



Referenced by Add\+Unit(), Get\+Unit(), Initialize(), and Num\+Outstanding\+Units().

\mbox{\Hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a9cfdfc887c8e71d8e6f5e70352b372c2}\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a9cfdfc887c8e71d8e6f5e70352b372c2}} 
\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}!found\_error@{found\_error}}
\index{found\_error@{found\_error}!v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}
\doxysubsubsection{\texorpdfstring{found\_error}{found\_error}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}$>$ v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::found\+\_\+error \{\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\}}



Definition at line 2575 of file module-\/compiler.\+cc.



Referenced by v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+On\+Finished\+Stream(), and v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+::\+Run().

\mbox{\Hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a4ec50926fec4429aac9d5d81a5d9a705}\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a4ec50926fec4429aac9d5d81a5d9a705}} 
\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}!next\_available\_unit@{next\_available\_unit}}
\index{next\_available\_unit@{next\_available\_unit}!v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}
\doxysubsubsection{\texorpdfstring{next\_available\_unit}{next\_available\_unit}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_1_1Unit}{Unit}}$\ast$$>$ v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::next\+\_\+available\+\_\+unit}



Definition at line 2573 of file module-\/compiler.\+cc.



Referenced by Add\+Unit(), Get\+Unit(), Initialize(), and Num\+Outstanding\+Units().

\mbox{\Hypertarget{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a19f07dd2194cf5b0c00412210dc91b92}\label{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_a19f07dd2194cf5b0c00412210dc91b92}} 
\index{v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}!units@{units}}
\index{units@{units}!v8::internal::wasm::ValidateFunctionsStreamingJobData@{v8::internal::wasm::ValidateFunctionsStreamingJobData}}
\doxysubsubsection{\texorpdfstring{units}{units}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1OwnedVector}{base\+::\+Owned\+Vector}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1ValidateFunctionsStreamingJobData_1_1Unit}{Unit}}$>$ v8\+::internal\+::wasm\+::\+Validate\+Functions\+Streaming\+Job\+Data\+::units}



Definition at line 2572 of file module-\/compiler.\+cc.



Referenced by Add\+Unit(), and Initialize().



The documentation for this struct was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{module-compiler_8cc}{module-\/compiler.\+cc}}\end{DoxyCompactItemize}
