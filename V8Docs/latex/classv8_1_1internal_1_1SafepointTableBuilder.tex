\hypertarget{classv8_1_1internal_1_1SafepointTableBuilder}{}\doxysection{v8\+::internal\+::Safepoint\+Table\+Builder Class Reference}
\label{classv8_1_1internal_1_1SafepointTableBuilder}\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}


{\ttfamily \#include $<$safepoint-\/table.\+h$>$}



Inheritance diagram for v8\+::internal\+::Safepoint\+Table\+Builder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{classv8_1_1internal_1_1SafepointTableBuilder__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Safepoint\+Table\+Builder\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1SafepointTableBuilder__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1SafepointTableBuilder_1_1EntryBuilder}{Entry\+Builder}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_1_1Safepoint}{Safepoint}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_ab0a292835bce588fe0c4602504cdc1ad}{Safepoint\+Table\+Builder}} (\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$zone)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a40ad58037e49ced483c2daa10d4711f3}{Safepoint\+Table\+Builder}} (const \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder}{Safepoint\+Table\+Builder}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder}{Safepoint\+Table\+Builder}} \& \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a4c4c14619de6cc14a4c4ecdf0ba5e4ed}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder}{Safepoint\+Table\+Builder}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_1_1Safepoint}{Safepoint}} \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_af99e1e48cfd22a4fb3ac253ca7b909cd}{Define\+Safepoint}} (\mbox{\hyperlink{classv8_1_1internal_1_1Assembler}{Assembler}} $\ast$assembler, \mbox{\hyperlink{classint}{int}} pc\+\_\+offset=0)
\item 
\mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_ad1811a5851bb0068c7ec1cef071a2670}{Emit}} (\mbox{\hyperlink{classv8_1_1internal_1_1Assembler}{Assembler}} $\ast$assembler, \mbox{\hyperlink{classint}{int}} stack\+\_\+slot\+\_\+count)
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a5d28da722852204e8641c93119a68702}{Update\+Deoptimization\+Info}} (\mbox{\hyperlink{classint}{int}} pc, \mbox{\hyperlink{classint}{int}} trampoline, \mbox{\hyperlink{classint}{int}} start, \mbox{\hyperlink{classint}{int}} deopt\+\_\+index)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a78a95889a34a2d7df66a2dd63a3c6dea}{Remove\+Duplicates}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a742f7223d4b9478e971824ee05103cb3}{Update\+Min\+Max\+Stack\+Index}} (\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a51623e1a0794dfd3bc69bde585770ef1}{min\+\_\+stack\+\_\+index}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a87eeb4a2b20379b762695dc38c124d8e}{min\+\_\+stack\+\_\+index\+\_\+}} = std\+::numeric\+\_\+limits$<$\mbox{\hyperlink{classint}{int}}$>$\+::max()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneDeque}{Zone\+Deque}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1SafepointTableBuilder_1_1EntryBuilder}{Entry\+Builder}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a3c8f45f20536074b124e54fb90de110f}{zone\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}


Definition at line 197 of file safepoint-\/table.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_ab0a292835bce588fe0c4602504cdc1ad}\label{classv8_1_1internal_1_1SafepointTableBuilder_ab0a292835bce588fe0c4602504cdc1ad}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!SafepointTableBuilder@{SafepointTableBuilder}}
\index{SafepointTableBuilder@{SafepointTableBuilder}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{SafepointTableBuilder()}{SafepointTableBuilder()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Safepoint\+Table\+Builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{zone }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 210 of file safepoint-\/table.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{210 : \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}(zone), \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a3c8f45f20536074b124e54fb90de110f}{zone\_}}(zone) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_a40ad58037e49ced483c2daa10d4711f3}\label{classv8_1_1internal_1_1SafepointTableBuilder_a40ad58037e49ced483c2daa10d4711f3}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!SafepointTableBuilder@{SafepointTableBuilder}}
\index{SafepointTableBuilder@{SafepointTableBuilder}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{SafepointTableBuilder()}{SafepointTableBuilder()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Safepoint\+Table\+Builder (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder}{Safepoint\+Table\+Builder}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_af99e1e48cfd22a4fb3ac253ca7b909cd}\label{classv8_1_1internal_1_1SafepointTableBuilder_af99e1e48cfd22a4fb3ac253ca7b909cd}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!DefineSafepoint@{DefineSafepoint}}
\index{DefineSafepoint@{DefineSafepoint}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{DefineSafepoint()}{DefineSafepoint()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_1_1Safepoint}{Safepoint\+Table\+Builder\+::\+Safepoint}} v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Define\+Safepoint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Assembler}{Assembler}} $\ast$}]{assembler,  }\item[{\mbox{\hyperlink{classint}{int}}}]{pc\+\_\+offset = {\ttfamily 0} }\end{DoxyParamCaption})}



Definition at line 143 of file safepoint-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{144                                          \{}
\DoxyCodeLine{145   pc\_offset = pc\_offset ? pc\_offset : assembler-\/>pc\_offset\_for\_safepoint();}
\DoxyCodeLine{146   \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.emplace\_back(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a3c8f45f20536074b124e54fb90de110f}{zone\_}}, pc\_offset);}
\DoxyCodeLine{147   \textcolor{keywordflow}{return} SafepointTableBuilder::Safepoint(\&\mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.back(), \textcolor{keyword}{this});}
\DoxyCodeLine{148 \}}

\end{DoxyCode}


References entries\+\_\+, v8\+::internal\+::\+Assembler\+::pc\+\_\+offset\+\_\+for\+\_\+safepoint(), and zone\+\_\+.



Referenced by v8\+::internal\+::wasm\+::\+Liftoff\+Assembler\+::\+Patch\+Prepare\+Stack\+Frame(), and v8\+::internal\+::compiler\+::\+Code\+Generator\+::\+Record\+Safepoint().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1SafepointTableBuilder_af99e1e48cfd22a4fb3ac253ca7b909cd_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1SafepointTableBuilder_af99e1e48cfd22a4fb3ac253ca7b909cd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_ad1811a5851bb0068c7ec1cef071a2670}\label{classv8_1_1internal_1_1SafepointTableBuilder_ad1811a5851bb0068c7ec1cef071a2670}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!Emit@{Emit}}
\index{Emit@{Emit}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{Emit()}{Emit()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Emit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Assembler}{Assembler}} $\ast$}]{assembler,  }\item[{\mbox{\hyperlink{classint}{int}}}]{stack\+\_\+slot\+\_\+count }\end{DoxyParamCaption})}



Definition at line 165 of file safepoint-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{165                                                                            \{}
\DoxyCodeLine{166   \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(max\_stack\_index\_, stack\_slot\_count);}
\DoxyCodeLine{167 }
\DoxyCodeLine{168 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{169   \textcolor{keywordtype}{int} last\_pc = -\/1;}
\DoxyCodeLine{170   \textcolor{keywordtype}{int} last\_trampoline = -\/1;}
\DoxyCodeLine{171   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} EntryBuilder\& entry : \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}) \{}
\DoxyCodeLine{172     \textcolor{comment}{// Entries are ordered by PC.}}
\DoxyCodeLine{173     \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(last\_pc, entry.pc);}
\DoxyCodeLine{174     last\_pc = entry.pc;}
\DoxyCodeLine{175     \textcolor{comment}{// Trampoline PCs are increasing, and larger than regular PCs.}}
\DoxyCodeLine{176     \textcolor{keywordflow}{if} (entry.trampoline != \mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_ae9823bcc6eb7bcdc6be78ee7b60af4e8}{SafepointEntry::kNoTrampolinePC}}) \{}
\DoxyCodeLine{177       \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(last\_trampoline, entry.trampoline);}
\DoxyCodeLine{178       \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.back().pc, entry.trampoline);}
\DoxyCodeLine{179       last\_trampoline = entry.trampoline;}
\DoxyCodeLine{180     \}}
\DoxyCodeLine{181     \textcolor{comment}{// An entry either has trampoline and deopt index, or none of the two.}}
\DoxyCodeLine{182     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(entry.trampoline == \mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_ae9823bcc6eb7bcdc6be78ee7b60af4e8}{SafepointEntry::kNoTrampolinePC}},}
\DoxyCodeLine{183               entry.deopt\_index == \mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_a92e9af47c11a0128f47aa33ce8af7621}{SafepointEntry::kNoDeoptIndex}});}
\DoxyCodeLine{184   \}}
\DoxyCodeLine{185 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// DEBUG}}
\DoxyCodeLine{186 }
\DoxyCodeLine{187   \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a78a95889a34a2d7df66a2dd63a3c6dea}{RemoveDuplicates}}();}
\DoxyCodeLine{188 }
\DoxyCodeLine{189   \textcolor{comment}{// The encoding is compacted by translating stack slot indices s.t. they}}
\DoxyCodeLine{190   \textcolor{comment}{// start at 0. See also below.}}
\DoxyCodeLine{191   \textcolor{keywordtype}{int} tagged\_slots\_size = stack\_slot\_count -\/ \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a51623e1a0794dfd3bc69bde585770ef1}{min\_stack\_index}}();}
\DoxyCodeLine{192 }
\DoxyCodeLine{193 \textcolor{preprocessor}{\#if V8\_TARGET\_ARCH\_ARM || V8\_TARGET\_ARCH\_ARM64}}
\DoxyCodeLine{194   \textcolor{comment}{// We cannot emit a const pool within the safepoint table.}}
\DoxyCodeLine{195   \mbox{\hyperlink{classv8_1_1internal_1_1Assembler_a7d251096d2cf49e5efbfeb25a40bcc0b}{Assembler::BlockConstPoolScope}} block\_const\_pool(assembler);}
\DoxyCodeLine{196 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{197 }
\DoxyCodeLine{198   \textcolor{comment}{// Make sure the safepoint table is properly aligned. Pad with nops.}}
\DoxyCodeLine{199   assembler-\/>Align(\mbox{\hyperlink{classv8_1_1internal_1_1InstructionStream_a57722be8f781df748d156a9b35a305b8}{InstructionStream::kMetadataAlignment}});}
\DoxyCodeLine{200   assembler-\/>RecordComment(\textcolor{stringliteral}{"{};;; Safepoint table."{}});}
\DoxyCodeLine{201   \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilderBase_a24650c811b77dad5e636fd0ca15f6b2c}{set\_safepoint\_table\_offset}}(assembler-\/>pc\_offset());}
\DoxyCodeLine{202 }
\DoxyCodeLine{203   \textcolor{comment}{// Compute the required sizes of the fields.}}
\DoxyCodeLine{204   \textcolor{keywordtype}{int} used\_register\_indexes = 0;}
\DoxyCodeLine{205   static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_ae9823bcc6eb7bcdc6be78ee7b60af4e8}{SafepointEntry::kNoTrampolinePC}} == -\/1);}
\DoxyCodeLine{206   \textcolor{keywordtype}{int} max\_pc = \mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_ae9823bcc6eb7bcdc6be78ee7b60af4e8}{SafepointEntry::kNoTrampolinePC}};}
\DoxyCodeLine{207   static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_a92e9af47c11a0128f47aa33ce8af7621}{SafepointEntry::kNoDeoptIndex}} == -\/1);}
\DoxyCodeLine{208   \textcolor{keywordtype}{int} max\_deopt\_index = \mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_a92e9af47c11a0128f47aa33ce8af7621}{SafepointEntry::kNoDeoptIndex}};}
\DoxyCodeLine{209   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} EntryBuilder\& entry : \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}) \{}
\DoxyCodeLine{210     used\_register\_indexes |= entry.register\_indexes;}
\DoxyCodeLine{211     max\_pc = std::max(max\_pc, std::max(entry.pc, entry.trampoline));}
\DoxyCodeLine{212     max\_deopt\_index = std::max(max\_deopt\_index, entry.deopt\_index);}
\DoxyCodeLine{213   \}}
\DoxyCodeLine{214 }
\DoxyCodeLine{215   \textcolor{comment}{// Derive the bytes and bools for the entry configuration from the values.}}
\DoxyCodeLine{216   \textcolor{keyword}{auto} value\_to\_bytes = [](\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}) \{}
\DoxyCodeLine{217     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(0, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{218     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} == 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{219     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} <= 0xff) \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{220     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} <= 0xffff) \textcolor{keywordflow}{return} 2;}
\DoxyCodeLine{221     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} <= 0xffffff) \textcolor{keywordflow}{return} 3;}
\DoxyCodeLine{222     \textcolor{keywordflow}{return} 4;}
\DoxyCodeLine{223   \};}
\DoxyCodeLine{224   \textcolor{keywordtype}{bool} has\_deopt\_data = max\_deopt\_index != -\/1;}
\DoxyCodeLine{225   \textcolor{keywordtype}{int} register\_indexes\_size = value\_to\_bytes(used\_register\_indexes);}
\DoxyCodeLine{226   \textcolor{comment}{// Add 1 so all values (including kNoDeoptIndex and kNoTrampolinePC) are}}
\DoxyCodeLine{227   \textcolor{comment}{// non-\/negative.}}
\DoxyCodeLine{228   static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_a92e9af47c11a0128f47aa33ce8af7621}{SafepointEntry::kNoDeoptIndex}} == -\/1);}
\DoxyCodeLine{229   static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_ae9823bcc6eb7bcdc6be78ee7b60af4e8}{SafepointEntry::kNoTrampolinePC}} == -\/1);}
\DoxyCodeLine{230   \textcolor{keywordtype}{int} pc\_size = value\_to\_bytes(max\_pc + 1);}
\DoxyCodeLine{231   \textcolor{keywordtype}{int} deopt\_index\_size = value\_to\_bytes(max\_deopt\_index + 1);}
\DoxyCodeLine{232   \textcolor{keywordtype}{int} tagged\_slots\_bytes =}
\DoxyCodeLine{233       (tagged\_slots\_size + \mbox{\hyperlink{namespacev8_1_1internal_a1f752d6859d2360901fc2a58c9548fd8}{kBitsPerByte}} -\/ 1) / \mbox{\hyperlink{namespacev8_1_1internal_a1f752d6859d2360901fc2a58c9548fd8}{kBitsPerByte}};}
\DoxyCodeLine{234 }
\DoxyCodeLine{235   \textcolor{comment}{// Add a CHECK to ensure we never overflow the space in the bitfield, even for}}
\DoxyCodeLine{236   \textcolor{comment}{// huge functions which might not be covered by tests.}}
\DoxyCodeLine{237   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1base_1_1BitField_a634dcf9bf5eb402dea1ec28d543bc55c}{SafepointTable::RegisterIndexesSizeField::is\_valid}}(}
\DoxyCodeLine{238       register\_indexes\_size));}
\DoxyCodeLine{239   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1base_1_1BitField_a634dcf9bf5eb402dea1ec28d543bc55c}{SafepointTable::PcSizeField::is\_valid}}(pc\_size));}
\DoxyCodeLine{240   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1base_1_1BitField_a634dcf9bf5eb402dea1ec28d543bc55c}{SafepointTable::DeoptIndexSizeField::is\_valid}}(deopt\_index\_size));}
\DoxyCodeLine{241   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1base_1_1BitField_a634dcf9bf5eb402dea1ec28d543bc55c}{SafepointTable::TaggedSlotsBytesField::is\_valid}}(tagged\_slots\_bytes));}
\DoxyCodeLine{242 }
\DoxyCodeLine{243   uint32\_t entry\_configuration =}
\DoxyCodeLine{244       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{SafepointTable::HasDeoptDataField::encode}}(has\_deopt\_data) |}
\DoxyCodeLine{245       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{SafepointTable::RegisterIndexesSizeField::encode}}(register\_indexes\_size) |}
\DoxyCodeLine{246       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{SafepointTable::PcSizeField::encode}}(pc\_size) |}
\DoxyCodeLine{247       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{SafepointTable::DeoptIndexSizeField::encode}}(deopt\_index\_size) |}
\DoxyCodeLine{248       \mbox{\hyperlink{classv8_1_1base_1_1BitField_a70718344d8a4df6c20b3cf9c9b14d0d4}{SafepointTable::TaggedSlotsBytesField::encode}}(tagged\_slots\_bytes);}
\DoxyCodeLine{249 }
\DoxyCodeLine{250   \textcolor{comment}{// Emit the table header.}}
\DoxyCodeLine{251   static\_assert(SafepointTable::kStackSlotsOffset == 0 * \mbox{\hyperlink{namespacev8_1_1internal_a0d861fe0fc98861bc356ec102d698706}{kIntSize}});}
\DoxyCodeLine{252   static\_assert(SafepointTable::kLengthOffset == 1 * \mbox{\hyperlink{namespacev8_1_1internal_a0d861fe0fc98861bc356ec102d698706}{kIntSize}});}
\DoxyCodeLine{253   static\_assert(SafepointTable::kEntryConfigurationOffset == 2 * \mbox{\hyperlink{namespacev8_1_1internal_a0d861fe0fc98861bc356ec102d698706}{kIntSize}});}
\DoxyCodeLine{254   static\_assert(SafepointTable::kHeaderSize == 3 * \mbox{\hyperlink{namespacev8_1_1internal_a0d861fe0fc98861bc356ec102d698706}{kIntSize}});}
\DoxyCodeLine{255   \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}} = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.size());}
\DoxyCodeLine{256   assembler-\/>dd(stack\_slot\_count);}
\DoxyCodeLine{257   assembler-\/>dd(\mbox{\hyperlink{namespacev8_1_1internal_afa9ea55d792121fba92b4cfc8ef8c9d7}{length}});}
\DoxyCodeLine{258   assembler-\/>dd(entry\_configuration);}
\DoxyCodeLine{259 }
\DoxyCodeLine{260   \textcolor{keyword}{auto} emit\_bytes = [assembler](\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}}, \textcolor{keywordtype}{int} bytes) \{}
\DoxyCodeLine{261     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(0, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{262     \textcolor{keywordflow}{for} (; bytes > 0; -\/-\/bytes, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}} >>= 8) assembler-\/>db(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{263     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(0, \mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{264   \};}
\DoxyCodeLine{265   \textcolor{comment}{// Emit entries, sorted by pc offsets.}}
\DoxyCodeLine{266   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} EntryBuilder\& entry : \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}) \{}
\DoxyCodeLine{267     emit\_bytes(entry.pc, pc\_size);}
\DoxyCodeLine{268     \textcolor{keywordflow}{if} (has\_deopt\_data) \{}
\DoxyCodeLine{269       \textcolor{comment}{// Add 1 so all values (including kNoDeoptIndex and kNoTrampolinePC) are}}
\DoxyCodeLine{270       \textcolor{comment}{// non-\/negative.}}
\DoxyCodeLine{271       static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_a92e9af47c11a0128f47aa33ce8af7621}{SafepointEntry::kNoDeoptIndex}} == -\/1);}
\DoxyCodeLine{272       static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_ae9823bcc6eb7bcdc6be78ee7b60af4e8}{SafepointEntry::kNoTrampolinePC}} == -\/1);}
\DoxyCodeLine{273       emit\_bytes(entry.deopt\_index + 1, deopt\_index\_size);}
\DoxyCodeLine{274       emit\_bytes(entry.trampoline + 1, pc\_size);}
\DoxyCodeLine{275     \}}
\DoxyCodeLine{276     emit\_bytes(entry.register\_indexes, register\_indexes\_size);}
\DoxyCodeLine{277   \}}
\DoxyCodeLine{278 }
\DoxyCodeLine{279   \textcolor{comment}{// Emit bitmaps of tagged stack slots. Note the slot list is reversed in the}}
\DoxyCodeLine{280   \textcolor{comment}{// encoding.}}
\DoxyCodeLine{281   \textcolor{comment}{// TODO(jgruber): Avoid building a reversed copy of the bit vector.}}
\DoxyCodeLine{282   ZoneVector<uint8\_t> bits(tagged\_slots\_bytes, 0, \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a3c8f45f20536074b124e54fb90de110f}{zone\_}});}
\DoxyCodeLine{283   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} EntryBuilder\& entry : \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}) \{}
\DoxyCodeLine{284     std::fill(bits.begin(), bits.end(), 0);}
\DoxyCodeLine{285 }
\DoxyCodeLine{286     \textcolor{comment}{// Run through the indexes and build a bitmap.}}
\DoxyCodeLine{287     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} idx : *entry.stack\_indexes) \{}
\DoxyCodeLine{288       \textcolor{comment}{// The encoding is compacted by translating stack slot indices s.t. they}}
\DoxyCodeLine{289       \textcolor{comment}{// start at 0. See also above.}}
\DoxyCodeLine{290       \textcolor{keyword}{const} \textcolor{keywordtype}{int} adjusted\_idx = idx -\/ \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a51623e1a0794dfd3bc69bde585770ef1}{min\_stack\_index}}();}
\DoxyCodeLine{291       \mbox{\hyperlink{src_2base_2logging_8h_afd957f297df7e9ee36c46185e961485f}{DCHECK\_GT}}(tagged\_slots\_size, adjusted\_idx);}
\DoxyCodeLine{292       \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = tagged\_slots\_size -\/ 1 -\/ adjusted\_idx;}
\DoxyCodeLine{293       \textcolor{keywordtype}{int} byte\_index = \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} >> \mbox{\hyperlink{namespacev8_1_1internal_ad5238c353859bf85e933bb31095f123f}{kBitsPerByteLog2}};}
\DoxyCodeLine{294       \textcolor{keywordtype}{int} bit\_index = \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} \& (\mbox{\hyperlink{namespacev8_1_1internal_a1f752d6859d2360901fc2a58c9548fd8}{kBitsPerByte}} -\/ 1);}
\DoxyCodeLine{295       bits[byte\_index] |= (1u << bit\_index);}
\DoxyCodeLine{296     \}}
\DoxyCodeLine{297 }
\DoxyCodeLine{298     \textcolor{comment}{// Emit the bitmap for the current entry.}}
\DoxyCodeLine{299     \textcolor{keywordflow}{for} (uint8\_t \textcolor{keywordtype}{byte} : bits) assembler-\/>db(\textcolor{keywordtype}{byte});}
\DoxyCodeLine{300   \}}
\DoxyCodeLine{301 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Assembler\+::\+Align(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::begin(), CHECK, v8\+::internal\+::\+Assembler\+::db(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+GT, DCHECK\+\_\+\+LE, DCHECK\+\_\+\+LT, v8\+::internal\+::\+Assembler\+::dd(), v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::encode(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::end(), entries\+\_\+, v8\+::internal\+::index, v8\+::base\+::\+Bit\+Field$<$ T, shift, size, U $>$\+::is\+\_\+valid(), v8\+::internal\+::k\+Bits\+Per\+Byte, v8\+::internal\+::k\+Bits\+Per\+Byte\+Log2, v8\+::internal\+::k\+Int\+Size, v8\+::internal\+::\+Instruction\+Stream\+::k\+Metadata\+Alignment, v8\+::internal\+::\+Safepoint\+Entry\+Base\+::k\+No\+Deopt\+Index, v8\+::internal\+::\+Safepoint\+Entry\+Base\+::k\+No\+Trampoline\+PC, v8\+::internal\+::length, min\+\_\+stack\+\_\+index(), v8\+::internal\+::\+Assembler\+Base\+::pc\+\_\+offset(), v8\+::internal\+::\+Assembler\+Base\+::\+Record\+Comment(), Remove\+Duplicates(), v8\+::internal\+::\+Safepoint\+Table\+Builder\+Base\+::set\+\_\+safepoint\+\_\+table\+\_\+offset(), v8\+::internal\+::value, and zone\+\_\+.



Referenced by v8\+::internal\+::compiler\+::\+Code\+Generator\+::\+Assemble\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1SafepointTableBuilder_ad1811a5851bb0068c7ec1cef071a2670_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1SafepointTableBuilder_ad1811a5851bb0068c7ec1cef071a2670_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_a51623e1a0794dfd3bc69bde585770ef1}\label{classv8_1_1internal_1_1SafepointTableBuilder_a51623e1a0794dfd3bc69bde585770ef1}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!min\_stack\_index@{min\_stack\_index}}
\index{min\_stack\_index@{min\_stack\_index}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{min\_stack\_index()}{min\_stack\_index()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Safepoint\+Table\+Builder\+::min\+\_\+stack\+\_\+index (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 266 of file safepoint-\/table.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{266                               \{}
\DoxyCodeLine{267     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a87eeb4a2b20379b762695dc38c124d8e}{min\_stack\_index\_}} == std::numeric\_limits<int>::max()}
\DoxyCodeLine{268                ? 0}
\DoxyCodeLine{269                : \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a87eeb4a2b20379b762695dc38c124d8e}{min\_stack\_index\_}};}
\DoxyCodeLine{270   \}}

\end{DoxyCode}


Referenced by Emit().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1SafepointTableBuilder_a51623e1a0794dfd3bc69bde585770ef1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_a4c4c14619de6cc14a4c4ecdf0ba5e4ed}\label{classv8_1_1internal_1_1SafepointTableBuilder_a4c4c14619de6cc14a4c4ecdf0ba5e4ed}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder}{Safepoint\+Table\+Builder}}\& v8\+::internal\+::\+Safepoint\+Table\+Builder\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder}{Safepoint\+Table\+Builder}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_a78a95889a34a2d7df66a2dd63a3c6dea}\label{classv8_1_1internal_1_1SafepointTableBuilder_a78a95889a34a2d7df66a2dd63a3c6dea}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!RemoveDuplicates@{RemoveDuplicates}}
\index{RemoveDuplicates@{RemoveDuplicates}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{RemoveDuplicates()}{RemoveDuplicates()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Remove\+Duplicates (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 303 of file safepoint-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{303                                              \{}
\DoxyCodeLine{304   \textcolor{comment}{// Remove any duplicate entries, i.e. succeeding entries that are identical}}
\DoxyCodeLine{305   \textcolor{comment}{// except for the PC. During lookup, we will find the first entry whose PC is}}
\DoxyCodeLine{306   \textcolor{comment}{// not larger than the PC at hand, and find the first non-\/duplicate.}}
\DoxyCodeLine{307 }
\DoxyCodeLine{308   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.size() < 2) \textcolor{keywordflow}{return};}
\DoxyCodeLine{309 }
\DoxyCodeLine{310   \textcolor{keyword}{auto} is\_identical\_except\_for\_pc = [](\textcolor{keyword}{const} EntryBuilder\& entry1,}
\DoxyCodeLine{311                                        \textcolor{keyword}{const} EntryBuilder\& entry2) \{}
\DoxyCodeLine{312     \textcolor{keywordflow}{if} (entry1.deopt\_index != entry2.deopt\_index) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{313     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(entry1.trampoline, entry2.trampoline);}
\DoxyCodeLine{314     \textcolor{keywordflow}{return} entry1.register\_indexes == entry2.register\_indexes \&\&}
\DoxyCodeLine{315            entry1.stack\_indexes-\/>Equals(*entry2.stack\_indexes);}
\DoxyCodeLine{316   \};}
\DoxyCodeLine{317 }
\DoxyCodeLine{318   \textcolor{keyword}{auto} remaining\_it = \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.begin();}
\DoxyCodeLine{319   \textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.end();}
\DoxyCodeLine{320 }
\DoxyCodeLine{321   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.begin(); it != \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}; ++remaining\_it) \{}
\DoxyCodeLine{322     \textcolor{keywordflow}{if} (remaining\_it != it) *remaining\_it = *it;}
\DoxyCodeLine{323     \textcolor{comment}{// Merge identical entries.}}
\DoxyCodeLine{324     \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{325       ++it;}
\DoxyCodeLine{326     \} \textcolor{keywordflow}{while} (it != \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} \&\& is\_identical\_except\_for\_pc(*it, *remaining\_it));}
\DoxyCodeLine{327   \}}
\DoxyCodeLine{328 }
\DoxyCodeLine{329   \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.erase(remaining\_it, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{330 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Entry\+Builder\+::deopt\+\_\+index, v8\+::internal\+::compiler\+::end(), entries\+\_\+, v8\+::internal\+::\+Growable\+Bit\+Vector\+::\+Equals(), v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Entry\+Builder\+::register\+\_\+indexes, v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Entry\+Builder\+::stack\+\_\+indexes, and v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Entry\+Builder\+::trampoline.



Referenced by Emit().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1SafepointTableBuilder_a78a95889a34a2d7df66a2dd63a3c6dea_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1SafepointTableBuilder_a78a95889a34a2d7df66a2dd63a3c6dea_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_a5d28da722852204e8641c93119a68702}\label{classv8_1_1internal_1_1SafepointTableBuilder_a5d28da722852204e8641c93119a68702}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!UpdateDeoptimizationInfo@{UpdateDeoptimizationInfo}}
\index{UpdateDeoptimizationInfo@{UpdateDeoptimizationInfo}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{UpdateDeoptimizationInfo()}{UpdateDeoptimizationInfo()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Update\+Deoptimization\+Info (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{pc,  }\item[{\mbox{\hyperlink{classint}{int}}}]{trampoline,  }\item[{\mbox{\hyperlink{classint}{int}}}]{start,  }\item[{\mbox{\hyperlink{classint}{int}}}]{deopt\+\_\+index }\end{DoxyParamCaption})}



Definition at line 150 of file safepoint-\/table.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{152                                                                      \{}
\DoxyCodeLine{153   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_ae9823bcc6eb7bcdc6be78ee7b60af4e8}{SafepointEntry::kNoTrampolinePC}}, trampoline);}
\DoxyCodeLine{154   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntryBase_a92e9af47c11a0128f47aa33ce8af7621}{SafepointEntry::kNoDeoptIndex}}, deopt\_index);}
\DoxyCodeLine{155   \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.begin() + start;}
\DoxyCodeLine{156   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1base_a0e542246e39cb25a93193a080e0e1148}{std::any\_of}}(it, \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}{entries\_}}.end(),}
\DoxyCodeLine{157                      [pc](\textcolor{keyword}{auto}\& entry) \{ return entry.pc == pc; \}));}
\DoxyCodeLine{158   \textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = start;}
\DoxyCodeLine{159   \textcolor{keywordflow}{while} (it-\/>pc != pc) ++it, ++\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}};}
\DoxyCodeLine{160   it-\/>trampoline = trampoline;}
\DoxyCodeLine{161   it-\/>deopt\_index = deopt\_index;}
\DoxyCodeLine{162   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}};}
\DoxyCodeLine{163 \}}

\end{DoxyCode}


References v8\+::base\+::any\+\_\+of(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NE, entries\+\_\+, v8\+::internal\+::index, v8\+::internal\+::\+Safepoint\+Entry\+Base\+::k\+No\+Deopt\+Index, and v8\+::internal\+::\+Safepoint\+Entry\+Base\+::k\+No\+Trampoline\+PC.



Referenced by v8\+::internal\+::compiler\+::\+Code\+Generator\+::\+Assemble\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1SafepointTableBuilder_a5d28da722852204e8641c93119a68702_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1SafepointTableBuilder_a5d28da722852204e8641c93119a68702_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_a742f7223d4b9478e971824ee05103cb3}\label{classv8_1_1internal_1_1SafepointTableBuilder_a742f7223d4b9478e971824ee05103cb3}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!UpdateMinMaxStackIndex@{UpdateMinMaxStackIndex}}
\index{UpdateMinMaxStackIndex@{UpdateMinMaxStackIndex}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{UpdateMinMaxStackIndex()}{UpdateMinMaxStackIndex()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Safepoint\+Table\+Builder\+::\+Update\+Min\+Max\+Stack\+Index (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 259 of file safepoint-\/table.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{259                                          \{}
\DoxyCodeLine{260 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{261     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} > max\_stack\_index\_) max\_stack\_index\_ = \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}};}
\DoxyCodeLine{262 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// DEBUG}}
\DoxyCodeLine{263     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} < \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a87eeb4a2b20379b762695dc38c124d8e}{min\_stack\_index\_}}) \mbox{\hyperlink{classv8_1_1internal_1_1SafepointTableBuilder_a87eeb4a2b20379b762695dc38c124d8e}{min\_stack\_index\_}} = \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}};}
\DoxyCodeLine{264   \}}

\end{DoxyCode}


References v8\+::internal\+::index.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}\label{classv8_1_1internal_1_1SafepointTableBuilder_acd6a101ec591b834870454b732d211d5}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!entries\_@{entries\_}}
\index{entries\_@{entries\_}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{entries\_}{entries\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneDeque}{Zone\+Deque}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1SafepointTableBuilder_1_1EntryBuilder}{Entry\+Builder}}$>$ v8\+::internal\+::\+Safepoint\+Table\+Builder\+::entries\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 281 of file safepoint-\/table.\+h.



Referenced by Define\+Safepoint(), Emit(), Remove\+Duplicates(), and Update\+Deoptimization\+Info().

\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_a87eeb4a2b20379b762695dc38c124d8e}\label{classv8_1_1internal_1_1SafepointTableBuilder_a87eeb4a2b20379b762695dc38c124d8e}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!min\_stack\_index\_@{min\_stack\_index\_}}
\index{min\_stack\_index\_@{min\_stack\_index\_}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{min\_stack\_index\_}{min\_stack\_index\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::\+Safepoint\+Table\+Builder\+::min\+\_\+stack\+\_\+index\+\_\+ = std\+::numeric\+\_\+limits$<$\mbox{\hyperlink{classint}{int}}$>$\+::max()\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 279 of file safepoint-\/table.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1SafepointTableBuilder_a3c8f45f20536074b124e54fb90de110f}\label{classv8_1_1internal_1_1SafepointTableBuilder_a3c8f45f20536074b124e54fb90de110f}} 
\index{v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}!zone\_@{zone\_}}
\index{zone\_@{zone\_}!v8::internal::SafepointTableBuilder@{v8::internal::SafepointTableBuilder}}
\doxysubsubsection{\texorpdfstring{zone\_}{zone\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$ v8\+::internal\+::\+Safepoint\+Table\+Builder\+::zone\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 282 of file safepoint-\/table.\+h.



Referenced by Define\+Safepoint(), and Emit().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/codegen/\mbox{\hyperlink{safepoint-table_8h}{safepoint-\/table.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/codegen/\mbox{\hyperlink{safepoint-table_8cc}{safepoint-\/table.\+cc}}\end{DoxyCompactItemize}
