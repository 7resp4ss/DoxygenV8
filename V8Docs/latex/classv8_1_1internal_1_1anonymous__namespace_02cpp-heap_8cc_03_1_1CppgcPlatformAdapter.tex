\hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter}{}\doxysection{v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.cc\}\+::Cppgc\+Platform\+Adapter Class Reference}
\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter}\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}


Inheritance diagram for v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.cc\}\+::Cppgc\+Platform\+Adapter\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=271pt]{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.cc\}\+::Cppgc\+Platform\+Adapter\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a02bdd32c849ababba93df8b4ca32489e}{Cppgc\+Platform\+Adapter}} (\mbox{\hyperlink{classv8_1_1Platform}{v8\+::\+Platform}} $\ast$platform)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_adb980c52f98d00ca327021f75f2ede69}{Cppgc\+Platform\+Adapter}} (const \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter}{Cppgc\+Platform\+Adapter}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter}{Cppgc\+Platform\+Adapter}} \& \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a0009fa11e4d7333f8b8c05347baf1d88}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter}{Cppgc\+Platform\+Adapter}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1PageAllocator}{Page\+Allocator}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a65643b63844e0aec983d77461e7450c5}{Get\+Page\+Allocator}} () final
\item 
double \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a0cbd479ddabef32055a602c9f0a802a2}{Monotonically\+Increasing\+Time}} () final
\begin{DoxyCompactList}\small\item\em Monotonically increasing time in seconds from an arbitrary fixed point in the past. \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1TaskRunner}{Task\+Runner}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a830448c2a0c5332c7cf8fdfbf3242db3}{Get\+Foreground\+Task\+Runner}} (\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}} priority) final
\begin{DoxyCompactList}\small\item\em Returns a \mbox{\hyperlink{classv8_1_1TaskRunner}{Task\+Runner}} with a specific $\vert$priority$\vert$ which can be used to post a task on the foreground thread. \end{DoxyCompactList}\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab14f8b6439b173c97a8a7ffae2871c61}{Post\+Job}} (\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}} priority, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1JobTask}{Job\+Task}} $>$ job\+\_\+task) final
\begin{DoxyCompactList}\small\item\em Posts {\ttfamily job\+\_\+task} to run in parallel. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classv8_1_1TracingController}{Tracing\+Controller}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa60e20d68fd467b7632e1163656b4218}{Get\+Tracing\+Controller}} () override
\begin{DoxyCompactList}\small\item\em Returns an instance of a {\ttfamily \mbox{\hyperlink{classv8_1_1TracingController}{Tracing\+Controller}}}. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a9a53c6e26058641e33b50f77508bd5c3}{Set\+Isolate}} (\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$isolate)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ad86056b43325ee99b55a947afb0d83ba}{Enable\+Detached\+Mode\+For\+Testing}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1Platform}{v8\+::\+Platform}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa14021772a6c99d6c93d3f454c94a143}{platform\+\_\+}}
\item 
\mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{cppgc\+::\+Page\+Allocator}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_acc1f23e649f447f76859d67004c7bae2}{page\+\_\+allocator\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a997a590def9d80e618c065de9635ffbf}{isolate\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab7d65bfbf039c22a962a84b284a2982f}{is\+\_\+in\+\_\+detached\+\_\+mode\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 153 of file cpp-\/heap.\+cc.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a02bdd32c849ababba93df8b4ca32489e}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a02bdd32c849ababba93df8b4ca32489e}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!CppgcPlatformAdapter@{CppgcPlatformAdapter}}
\index{CppgcPlatformAdapter@{CppgcPlatformAdapter}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{CppgcPlatformAdapter()}{CppgcPlatformAdapter()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::\+Cppgc\+Platform\+Adapter (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Platform}{v8\+::\+Platform}} $\ast$}]{platform }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}



Definition at line 155 of file cpp-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{156       : \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa14021772a6c99d6c93d3f454c94a143}{platform\_}}(platform),}
\DoxyCodeLine{157         \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_acc1f23e649f447f76859d67004c7bae2}{page\_allocator\_}}(platform-\/>\mbox{\hyperlink{classv8_1_1Platform_ab7c1886dd8131f7389b805bc98276702}{GetPageAllocator}}()}
\DoxyCodeLine{158                             ? platform-\/>\mbox{\hyperlink{classv8_1_1Platform_ab7c1886dd8131f7389b805bc98276702}{GetPageAllocator}}()}
\DoxyCodeLine{159                             : \&\mbox{\hyperlink{namespacecppgc_1_1internal_a06f6207fd2d95d954e9bb8b5e990022d}{cppgc::internal::GetGlobalPageAllocator}}()) \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_adb980c52f98d00ca327021f75f2ede69}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_adb980c52f98d00ca327021f75f2ede69}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!CppgcPlatformAdapter@{CppgcPlatformAdapter}}
\index{CppgcPlatformAdapter@{CppgcPlatformAdapter}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{CppgcPlatformAdapter()}{CppgcPlatformAdapter()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::\+Cppgc\+Platform\+Adapter (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter}{Cppgc\+Platform\+Adapter}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ad86056b43325ee99b55a947afb0d83ba}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ad86056b43325ee99b55a947afb0d83ba}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!EnableDetachedModeForTesting@{EnableDetachedModeForTesting}}
\index{EnableDetachedModeForTesting@{EnableDetachedModeForTesting}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{EnableDetachedModeForTesting()}{EnableDetachedModeForTesting()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::\+Enable\+Detached\+Mode\+For\+Testing (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 190 of file cpp-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{190 \{ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab7d65bfbf039c22a962a84b284a2982f}{is\_in\_detached\_mode\_}} = \textcolor{keyword}{true}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a830448c2a0c5332c7cf8fdfbf3242db3}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a830448c2a0c5332c7cf8fdfbf3242db3}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!GetForegroundTaskRunner@{GetForegroundTaskRunner}}
\index{GetForegroundTaskRunner@{GetForegroundTaskRunner}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{GetForegroundTaskRunner()}{GetForegroundTaskRunner()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1TaskRunner}{Task\+Runner}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::\+Get\+Foreground\+Task\+Runner (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}}}]{priority }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [final]}, {\ttfamily [virtual]}}



Returns a \mbox{\hyperlink{classv8_1_1TaskRunner}{Task\+Runner}} with a specific $\vert$priority$\vert$ which can be used to post a task on the foreground thread. 



Reimplemented from \mbox{\hyperlink{classcppgc_1_1Platform_ae48a2caa736eaad9cc827bcad1e2e8c1}{cppgc\+::\+Platform}}.



Definition at line 170 of file cpp-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{171                                    \{}
\DoxyCodeLine{172     \textcolor{comment}{// If no Isolate has been set, there's no task runner to leverage for}}
\DoxyCodeLine{173     \textcolor{comment}{// foreground tasks. In detached mode the original platform handles the}}
\DoxyCodeLine{174     \textcolor{comment}{// task runner retrieval.}}
\DoxyCodeLine{175     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a997a590def9d80e618c065de9635ffbf}{isolate\_}} \&\& !\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab7d65bfbf039c22a962a84b284a2982f}{is\_in\_detached\_mode\_}}) \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{176 }
\DoxyCodeLine{177     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa14021772a6c99d6c93d3f454c94a143}{platform\_}}-\/>\mbox{\hyperlink{classv8_1_1Platform_a098c125aa524aa3f3cde02dd158a143e}{GetForegroundTaskRunner}}(\mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a997a590def9d80e618c065de9635ffbf}{isolate\_}}, priority);}
\DoxyCodeLine{178   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a65643b63844e0aec983d77461e7450c5}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a65643b63844e0aec983d77461e7450c5}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!GetPageAllocator@{GetPageAllocator}}
\index{GetPageAllocator@{GetPageAllocator}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{GetPageAllocator()}{GetPageAllocator()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1PageAllocator}{Page\+Allocator}}$\ast$ v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::\+Get\+Page\+Allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [final]}, {\ttfamily [virtual]}}

\begin{DoxyReturn}{Returns}
the allocator used by cppgc to allocate its heap and various support structures. Returning nullptr results in using the {\ttfamily \mbox{\hyperlink{classv8_1_1PageAllocator}{Page\+Allocator}}} provided by {\ttfamily \mbox{\hyperlink{namespacecppgc_a7dc95658081246e6b9d4279d6a94bee6}{cppgc\+::\+Initialize\+Process()}}} instead. 
\end{DoxyReturn}


Implements \mbox{\hyperlink{classcppgc_1_1Platform_a495855d4b25ce29041eaa683b066623e}{cppgc\+::\+Platform}}.



Definition at line 164 of file cpp-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{164 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_acc1f23e649f447f76859d67004c7bae2}{page\_allocator\_}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa60e20d68fd467b7632e1163656b4218}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa60e20d68fd467b7632e1163656b4218}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!GetTracingController@{GetTracingController}}
\index{GetTracingController@{GetTracingController}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{GetTracingController()}{GetTracingController()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1TracingController}{Tracing\+Controller}}$\ast$ v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::\+Get\+Tracing\+Controller (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [virtual]}}



Returns an instance of a {\ttfamily \mbox{\hyperlink{classv8_1_1TracingController}{Tracing\+Controller}}}. 

This must be non-\/nullptr. The default implementation returns an empty {\ttfamily \mbox{\hyperlink{classv8_1_1TracingController}{Tracing\+Controller}}} that consumes trace data without effect. 

Reimplemented from \mbox{\hyperlink{classcppgc_1_1Platform_a449d2d2e535fa36e830d59fc43823226}{cppgc\+::\+Platform}}.



Definition at line 185 of file cpp-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{185                                                      \{}
\DoxyCodeLine{186     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa14021772a6c99d6c93d3f454c94a143}{platform\_}}-\/>\mbox{\hyperlink{classv8_1_1Platform_aa760c7bf8c46495eb650d2be72399747}{GetTracingController}}();}
\DoxyCodeLine{187   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a0cbd479ddabef32055a602c9f0a802a2}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a0cbd479ddabef32055a602c9f0a802a2}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!MonotonicallyIncreasingTime@{MonotonicallyIncreasingTime}}
\index{MonotonicallyIncreasingTime@{MonotonicallyIncreasingTime}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{MonotonicallyIncreasingTime()}{MonotonicallyIncreasingTime()}}
{\footnotesize\ttfamily double v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::\+Monotonically\+Increasing\+Time (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [final]}, {\ttfamily [virtual]}}



Monotonically increasing time in seconds from an arbitrary fixed point in the past. 

This function is expected to return at least millisecond-\/precision values. For this reason, it is recommended that the fixed point be no further in the past than the epoch. 

Implements \mbox{\hyperlink{classcppgc_1_1Platform_a84e8ad12fbf3693eceffe3477166798a}{cppgc\+::\+Platform}}.



Definition at line 166 of file cpp-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{166                                              \{}
\DoxyCodeLine{167     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa14021772a6c99d6c93d3f454c94a143}{platform\_}}-\/>\mbox{\hyperlink{classv8_1_1Platform_a6d4d7c2dcf6b0c7113099b97fa7f57b7}{MonotonicallyIncreasingTime}}();}
\DoxyCodeLine{168   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a0009fa11e4d7333f8b8c05347baf1d88}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a0009fa11e4d7333f8b8c05347baf1d88}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter}{Cppgc\+Platform\+Adapter}}\& v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter}{Cppgc\+Platform\+Adapter}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab14f8b6439b173c97a8a7ffae2871c61}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab14f8b6439b173c97a8a7ffae2871c61}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!PostJob@{PostJob}}
\index{PostJob@{PostJob}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{PostJob()}{PostJob()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::\+Post\+Job (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{Task\+Priority}}}]{priority,  }\item[{std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1JobTask}{Job\+Task}} $>$}]{job\+\_\+task }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [final]}, {\ttfamily [virtual]}}



Posts {\ttfamily job\+\_\+task} to run in parallel. 

Returns a {\ttfamily \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}}} associated with the {\ttfamily Job}, which can be joined or canceled. This avoids degenerate cases\+:
\begin{DoxyItemize}
\item Calling {\ttfamily Call\+On\+Worker\+Thread()} for each work item, causing significant overhead.
\item Fixed number of {\ttfamily Call\+On\+Worker\+Thread()} calls that split the work and might run for a long time. This is problematic when many components post \char`\"{}num cores\char`\"{} tasks and all expect to use all the cores. In these cases, the scheduler lacks context to be fair to multiple same-\/priority requests and/or ability to request lower priority work to yield when high priority work comes in. A canonical implementation of {\ttfamily job\+\_\+task} looks like\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{class }MyJobTask : \textcolor{keyword}{public} \mbox{\hyperlink{namespacecppgc_af642e7a654c11a50fc291a85840537c8}{JobTask}} \{}
\DoxyCodeLine{ \textcolor{keyword}{public}:}
\DoxyCodeLine{  MyJobTask(...) : worker\_queue\_(...) \{\}}
\DoxyCodeLine{  \textcolor{comment}{// JobTask implementation.}}
\DoxyCodeLine{  \textcolor{keywordtype}{void} Run(\mbox{\hyperlink{namespacecppgc_a74aa606ef974ec10b401c6538a239245}{JobDelegate}}* delegate)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{    \textcolor{keywordflow}{while} (!delegate-\/>ShouldYield()) \{}
\DoxyCodeLine{      \textcolor{comment}{// Smallest unit of work.}}
\DoxyCodeLine{      \textcolor{keyword}{auto} work\_item = worker\_queue\_.TakeWorkItem(); \textcolor{comment}{// Thread safe.}}
\DoxyCodeLine{      \textcolor{keywordflow}{if} (!work\_item) \textcolor{keywordflow}{return};}
\DoxyCodeLine{      ProcessWork(work\_item);}
\DoxyCodeLine{    \}}
\DoxyCodeLine{  \}}
\DoxyCodeLine{}
\DoxyCodeLine{  \textcolor{keywordtype}{size\_t} GetMaxConcurrency()\textcolor{keyword}{ const override }\{}
\DoxyCodeLine{    \textcolor{keywordflow}{return} worker\_queue\_.GetSize(); \textcolor{comment}{// Thread safe.}}
\DoxyCodeLine{  \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{comment}{// ...}}
\DoxyCodeLine{\textcolor{keyword}{auto} \mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}} = \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab14f8b6439b173c97a8a7ffae2871c61}{PostJob}}(\mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051a602dfdb2b16ea7a1f4392dc3d5761f7d}{TaskPriority::kUserVisible}},}
\DoxyCodeLine{                      std::make\_unique<MyJobTask>(...));}
\DoxyCodeLine{\mbox{\hyperlink{namespacev8_1_1internal_a8c89f00da07e125218128b9fbf0a321c}{handle}}-\/>Join();}

\end{DoxyCode}

\end{DoxyItemize}

{\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab14f8b6439b173c97a8a7ffae2871c61}{Post\+Job()}}} and methods of the returned Job\+Handle/\+Job\+Delegate, must never be called while holding a lock that could be acquired by {\ttfamily \mbox{\hyperlink{classv8_1_1JobTask_a9b6d0cee5615420f30b0db8a4c5e8c3b}{Job\+Task\+::\+Run()}}} or {\ttfamily \mbox{\hyperlink{classv8_1_1JobTask_a9f1505551639903b327baecbeb38f6f7}{Job\+Task\+::\+Get\+Max\+Concurrency()}}} -- that could result in a deadlock. This is because (1) {\ttfamily \mbox{\hyperlink{classv8_1_1JobTask_a9f1505551639903b327baecbeb38f6f7}{Job\+Task\+::\+Get\+Max\+Concurrency()}}} may be invoked while holding internal lock (A), hence {\ttfamily \mbox{\hyperlink{classv8_1_1JobTask_a9f1505551639903b327baecbeb38f6f7}{Job\+Task\+::\+Get\+Max\+Concurrency()}}} can only use a lock (B) if that lock is {\itshape never} held while calling back into {\ttfamily \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}}} from any thread (A=$>$B/B=$>$A deadlock) and (2) {\ttfamily \mbox{\hyperlink{classv8_1_1JobTask_a9b6d0cee5615420f30b0db8a4c5e8c3b}{Job\+Task\+::\+Run()}}} or {\ttfamily \mbox{\hyperlink{classv8_1_1JobTask_a9f1505551639903b327baecbeb38f6f7}{Job\+Task\+::\+Get\+Max\+Concurrency()}}} may be invoked synchronously from {\ttfamily \mbox{\hyperlink{classv8_1_1JobHandle}{Job\+Handle}}} (B=$>$Job\+Handle\+::foo=$>$B deadlock).

A sufficient {\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab14f8b6439b173c97a8a7ffae2871c61}{Post\+Job()}}} implementation that uses the default Job provided in libplatform looks like\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{std::unique\_ptr<JobHandle> \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab14f8b6439b173c97a8a7ffae2871c61}{PostJob}}(}
\DoxyCodeLine{    \mbox{\hyperlink{namespacev8_a680c1a715d1d5df94b21e8b1ee1bf051}{TaskPriority}} priority, std::unique\_ptr<JobTask> job\_task)\textcolor{keyword}{ override }\{}
\DoxyCodeLine{  \textcolor{keywordflow}{return} std::make\_unique<DefaultJobHandle>(}
\DoxyCodeLine{      std::make\_shared<DefaultJobState>(}
\DoxyCodeLine{          \textcolor{keyword}{this}, std::move(job\_task), kNumThreads));}
\DoxyCodeLine{\}}

\end{DoxyCode}
 

Reimplemented from \mbox{\hyperlink{classcppgc_1_1Platform_a6cd9224a397cb79d4c56e3f0dc163c74}{cppgc\+::\+Platform}}.



Definition at line 180 of file cpp-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{181                                                                             \{}
\DoxyCodeLine{182     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa14021772a6c99d6c93d3f454c94a143}{platform\_}}-\/>\mbox{\hyperlink{classv8_1_1Platform_adcf8355f078499e5b32541b849a656cf}{PostJob}}(priority, std::move(job\_task));}
\DoxyCodeLine{183   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a9a53c6e26058641e33b50f77508bd5c3}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a9a53c6e26058641e33b50f77508bd5c3}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!SetIsolate@{SetIsolate}}
\index{SetIsolate@{SetIsolate}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{SetIsolate()}{SetIsolate()}}
{\footnotesize\ttfamily void v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::\+Set\+Isolate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 189 of file cpp-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{189 \{ \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a997a590def9d80e618c065de9635ffbf}{isolate\_}} = isolate; \}}

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab7d65bfbf039c22a962a84b284a2982f}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_ab7d65bfbf039c22a962a84b284a2982f}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!is\_in\_detached\_mode\_@{is\_in\_detached\_mode\_}}
\index{is\_in\_detached\_mode\_@{is\_in\_detached\_mode\_}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{is\_in\_detached\_mode\_}{is\_in\_detached\_mode\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::is\+\_\+in\+\_\+detached\+\_\+mode\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 196 of file cpp-\/heap.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a997a590def9d80e618c065de9635ffbf}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_a997a590def9d80e618c065de9635ffbf}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!isolate\_@{isolate\_}}
\index{isolate\_@{isolate\_}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{isolate\_}{isolate\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Isolate}{v8\+::\+Isolate}}$\ast$ v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::isolate\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 195 of file cpp-\/heap.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_acc1f23e649f447f76859d67004c7bae2}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_acc1f23e649f447f76859d67004c7bae2}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!page\_allocator\_@{page\_allocator\_}}
\index{page\_allocator\_@{page\_allocator\_}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{page\_allocator\_}{page\_allocator\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{cppgc\+::\+Page\+Allocator}}$\ast$ v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::page\+\_\+allocator\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 194 of file cpp-\/heap.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa14021772a6c99d6c93d3f454c94a143}\label{classv8_1_1internal_1_1anonymous__namespace_02cpp-heap_8cc_03_1_1CppgcPlatformAdapter_aa14021772a6c99d6c93d3f454c94a143}} 
\index{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}!platform\_@{platform\_}}
\index{platform\_@{platform\_}!v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter@{v8::internal::anonymous\_namespace\lcurly{}cpp-\/heap.cc\rcurly{}::CppgcPlatformAdapter}}
\doxysubsubsection{\texorpdfstring{platform\_}{platform\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Platform}{v8\+::\+Platform}}$\ast$ v8\+::internal\+::anonymous\+\_\+namespace\{cpp-\/heap.\+cc\}\+::Cppgc\+Platform\+Adapter\+::platform\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 193 of file cpp-\/heap.\+cc.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/cppgc-\/js/\mbox{\hyperlink{cpp-heap_8cc}{cpp-\/heap.\+cc}}\end{DoxyCompactItemize}
