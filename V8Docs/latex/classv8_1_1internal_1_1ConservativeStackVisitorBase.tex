\hypertarget{classv8_1_1internal_1_1ConservativeStackVisitorBase}{}\doxysection{v8\+::internal\+::Conservative\+Stack\+Visitor\+Base$<$ Concrete\+Visitor $>$ Class Template Reference}
\label{classv8_1_1internal_1_1ConservativeStackVisitorBase}\index{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}}


{\ttfamily \#include $<$conservative-\/stack-\/visitor.\+h$>$}



Inheritance diagram for v8\+::internal\+::Conservative\+Stack\+Visitor\+Base$<$ Concrete\+Visitor $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConservativeStackVisitorBase__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::Conservative\+Stack\+Visitor\+Base$<$ Concrete\+Visitor $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConservativeStackVisitorBase__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_afc5f5d845fdcdcdab492a07afd889d4a}{Conservative\+Stack\+Visitor\+Base}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1RootVisitor}{Root\+Visitor}} $\ast$root\+\_\+visitor)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_afcf03aa4909d2bc243237a153efea8be}{Visit\+Pointer}} (const void $\ast$pointer) final
\item 
\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_aadce087e595f968ad1feb2e8bbe1c8ff}{Find\+Base\+Ptr}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} maybe\+\_\+inner\+\_\+ptr, \mbox{\hyperlink{classv8_1_1internal_1_1PtrComprCageBase}{Ptr\+Compr\+Cage\+Base}} cage\+\_\+base) const
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}{Visit\+Conservatively\+If\+Pointer}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} address)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_a8907a7e58f342d0e19e1ad6b2bc2efc6}{Visit\+Conservatively\+If\+Pointer}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} address, \mbox{\hyperlink{classv8_1_1internal_1_1PtrComprCageBase}{Ptr\+Compr\+Cage\+Base}} cage\+\_\+base)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{classv8_1_1internal_1_1PtrComprCageBase}{Ptr\+Compr\+Cage\+Base}} \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_a9745c29461bf9ac65733f2a330083fc2}{cage\+\_\+base\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1RootVisitor}{Root\+Visitor}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_aa30465295728930b0cf5be8930d59673}{root\+\_\+visitor\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1MemoryAllocator}{Memory\+Allocator}} $\ast$const \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_abc5180bbe3e66e63a9a4d787aa021944}{allocator\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$typename Concrete\+Visitor$>$\newline
class v8\+::internal\+::\+Conservative\+Stack\+Visitor\+Base$<$ Concrete\+Visitor $>$}



Definition at line 36 of file conservative-\/stack-\/visitor.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConservativeStackVisitorBase_afc5f5d845fdcdcdab492a07afd889d4a}\label{classv8_1_1internal_1_1ConservativeStackVisitorBase_afc5f5d845fdcdcdab492a07afd889d4a}} 
\index{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}!ConservativeStackVisitorBase@{ConservativeStackVisitorBase}}
\index{ConservativeStackVisitorBase@{ConservativeStackVisitorBase}!v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}}
\doxysubsubsection{\texorpdfstring{ConservativeStackVisitorBase()}{ConservativeStackVisitorBase()}}
{\footnotesize\ttfamily template$<$typename Concrete\+Visitor $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase}{v8\+::internal\+::\+Conservative\+Stack\+Visitor\+Base}}$<$ Concrete\+Visitor $>$\+::\mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase}{Conservative\+Stack\+Visitor\+Base}} (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1RootVisitor}{Root\+Visitor}} $\ast$}]{root\+\_\+visitor }\end{DoxyParamCaption})}



Definition at line 30 of file conservative-\/stack-\/visitor-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{32     : \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_a9745c29461bf9ac65733f2a330083fc2}{cage\_base\_}}(isolate),}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#ifdef V8\_EXTERNAL\_CODE\_SPACE}}
\DoxyCodeLine{34       code\_cage\_base\_(isolate-\/>code\_cage\_base()),}
\DoxyCodeLine{35       code\_address\_region\_(isolate-\/>heap()-\/>code\_region()),}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{38       trusted\_cage\_base\_(isolate-\/>isolate\_data()-\/>trusted\_cage\_base\_address()),}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{40       \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_aa30465295728930b0cf5be8930d59673}{root\_visitor\_}}(root\_visitor),}
\DoxyCodeLine{41       \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_abc5180bbe3e66e63a9a4d787aa021944}{allocator\_}}(isolate-\/>heap()-\/>memory\_allocator()) \{}
\DoxyCodeLine{42 \}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConservativeStackVisitorBase_aadce087e595f968ad1feb2e8bbe1c8ff}\label{classv8_1_1internal_1_1ConservativeStackVisitorBase_aadce087e595f968ad1feb2e8bbe1c8ff}} 
\index{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}!FindBasePtr@{FindBasePtr}}
\index{FindBasePtr@{FindBasePtr}!v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}}
\doxysubsubsection{\texorpdfstring{FindBasePtr()}{FindBasePtr()}}
{\footnotesize\ttfamily template$<$typename Concrete\+Visitor $>$ \\
\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase}{v8\+::internal\+::\+Conservative\+Stack\+Visitor\+Base}}$<$ Concrete\+Visitor $>$\+::Find\+Base\+Ptr (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{maybe\+\_\+inner\+\_\+ptr,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1PtrComprCageBase}{Ptr\+Compr\+Cage\+Base}}}]{cage\+\_\+base }\end{DoxyParamCaption}) const}



Definition at line 66 of file conservative-\/stack-\/visitor-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{67                                                                \{}
\DoxyCodeLine{68 \textcolor{preprocessor}{\#ifdef V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{69   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(IsInterestingCage(cage\_base));}
\DoxyCodeLine{70 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{71   \textcolor{comment}{// Check if the pointer is contained by a normal or large page owned by this}}
\DoxyCodeLine{72   \textcolor{comment}{// heap. Bail out if it is not.}}
\DoxyCodeLine{73   \textcolor{comment}{// TODO(379788114): Consider introducing a bloom filter for pages.}}
\DoxyCodeLine{74   \textcolor{keyword}{const} MemoryChunk* chunk =}
\DoxyCodeLine{75       \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_abc5180bbe3e66e63a9a4d787aa021944}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MemoryAllocator_af751c8e8ae94dcb474c958b242d83a17}{LookupChunkContainingAddressInSafepoint}}(maybe\_inner\_ptr);}
\DoxyCodeLine{76   \textcolor{keywordflow}{if} (chunk == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{77     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}};}
\DoxyCodeLine{78   \}}
\DoxyCodeLine{79   \textcolor{keyword}{const} MemoryChunkMetadata* chunk\_metadata = chunk-\/>Metadata();}
\DoxyCodeLine{80   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(chunk\_metadata-\/>Contains(maybe\_inner\_ptr));}
\DoxyCodeLine{81 }
\DoxyCodeLine{82   \textcolor{keywordflow}{if} (!ConcreteVisitor::FilterPage(chunk)) \{}
\DoxyCodeLine{83     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}};}
\DoxyCodeLine{84   \}}
\DoxyCodeLine{85 }
\DoxyCodeLine{86   \textcolor{comment}{// If it is contained in a large page, we want to mark the only object on it.}}
\DoxyCodeLine{87   \textcolor{keywordflow}{if} (chunk-\/>IsLargePage()) \{}
\DoxyCodeLine{88     \textcolor{comment}{// This could be simplified if we could guarantee that there are no free}}
\DoxyCodeLine{89     \textcolor{comment}{// space or filler objects in large pages. A few cctests violate this now.}}
\DoxyCodeLine{90     \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} obj(}
\DoxyCodeLine{91         \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }LargePageMetadata*\textcolor{keyword}{>}(chunk\_metadata)-\/>GetObject());}
\DoxyCodeLine{92     MapWord map\_word = obj-\/>map\_word(cage\_base, \mbox{\hyperlink{namespacev8_a65227471e4ee0ccd275854a995f12a62}{kRelaxedLoad}});}
\DoxyCodeLine{93     \textcolor{keywordflow}{return} (!ConcreteVisitor::FilterLargeObject(obj, map\_word) ||}
\DoxyCodeLine{94             \mbox{\hyperlink{namespacev8_1_1internal_1_1InstanceTypeChecker_abbf68b3bf1ca62b0645f031cdc769188}{InstanceTypeChecker::IsFreeSpaceOrFiller}}(map\_word.ToMap()))}
\DoxyCodeLine{95                ? \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}}}
\DoxyCodeLine{96                : obj.address();}
\DoxyCodeLine{97   \}}
\DoxyCodeLine{98 }
\DoxyCodeLine{99   \textcolor{comment}{// Otherwise, we have a pointer inside a normal page.}}
\DoxyCodeLine{100   \textcolor{keyword}{const} PageMetadata* page = \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const }PageMetadata*\textcolor{keyword}{>}(chunk\_metadata);}
\DoxyCodeLine{101   \textcolor{comment}{// Try to find the address of a previous valid object on this page.}}
\DoxyCodeLine{102   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} base\_ptr =}
\DoxyCodeLine{103       \mbox{\hyperlink{classv8_1_1internal_1_1MarkingBitmap_a4c5e332a1057c85ef89c792e312cd711}{MarkingBitmap::FindPreviousValidObject}}(page, maybe\_inner\_ptr);}
\DoxyCodeLine{104   \textcolor{comment}{// Iterate through the objects in the page forwards, until we find the object}}
\DoxyCodeLine{105   \textcolor{comment}{// containing maybe\_inner\_ptr.}}
\DoxyCodeLine{106   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(base\_ptr, maybe\_inner\_ptr);}
\DoxyCodeLine{107   MarkingBitmap* bitmap = \textcolor{keyword}{const\_cast<}MarkingBitmap*\textcolor{keyword}{>}(page-\/>marking\_bitmap());}
\DoxyCodeLine{108   \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{}
\DoxyCodeLine{109     \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} obj(\mbox{\hyperlink{classv8_1_1internal_1_1HeapObject_aa18961d55321b920bd98b2fbcf729775}{HeapObject::FromAddress}}(base\_ptr));}
\DoxyCodeLine{110     MapWord map\_word = obj-\/>map\_word(cage\_base, \mbox{\hyperlink{namespacev8_a65227471e4ee0ccd275854a995f12a62}{kRelaxedLoad}});}
\DoxyCodeLine{111     \textcolor{keywordflow}{if} (!ConcreteVisitor::FilterNormalObject(obj, map\_word, bitmap)) \{}
\DoxyCodeLine{112       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}};}
\DoxyCodeLine{113     \}}
\DoxyCodeLine{114     \textcolor{keyword}{const} \textcolor{keywordtype}{int} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} = obj-\/>SizeFromMap(map\_word.ToMap());}
\DoxyCodeLine{115     \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(0, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{116     \textcolor{keywordflow}{if} (maybe\_inner\_ptr < base\_ptr + \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}) \{}
\DoxyCodeLine{117       ConcreteVisitor::HandleObjectFound(obj, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, bitmap);}
\DoxyCodeLine{118       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1InstanceTypeChecker_abbf68b3bf1ca62b0645f031cdc769188}{IsFreeSpaceOrFiller}}(obj, cage\_base) ? \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}} : base\_ptr;}
\DoxyCodeLine{119     \}}
\DoxyCodeLine{120     base\_ptr += \mbox{\hyperlink{common_2globals_8h_a76f936b13cc7401de647c23963eda5c1}{ALIGN\_TO\_ALLOCATION\_ALIGNMENT}}(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{121     \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(base\_ptr, page-\/>area\_end());}
\DoxyCodeLine{122   \}}
\DoxyCodeLine{123 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Tagged$<$ Heap\+Object $>$\+::address(), ALIGN\+\_\+\+TO\+\_\+\+ALLOCATION\+\_\+\+ALIGNMENT, v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::area\+\_\+end(), v8\+::internal\+::\+Memory\+Chunk\+Metadata\+::\+Contains(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+LE, DCHECK\+\_\+\+LT, v8\+::internal\+::\+Marking\+Bitmap\+::\+Find\+Previous\+Valid\+Object(), v8\+::internal\+::\+Heap\+Object\+::\+From\+Address(), v8\+::internal\+::\+Instance\+Type\+Checker\+::\+Is\+Free\+Space\+Or\+Filler(), v8\+::internal\+::\+Memory\+Chunk\+::\+Is\+Large\+Page(), v8\+::internal\+::k\+Null\+Address, v8\+::k\+Relaxed\+Load, v8\+::internal\+::\+Mutable\+Page\+Metadata\+::marking\+\_\+bitmap(), v8\+::internal\+::\+Memory\+Chunk\+::\+Metadata(), size(), and v8\+::internal\+::\+Map\+Word\+::\+To\+Map().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConservativeStackVisitorBase_aadce087e595f968ad1feb2e8bbe1c8ff_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}\label{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}} 
\index{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}!VisitConservativelyIfPointer@{VisitConservativelyIfPointer}}
\index{VisitConservativelyIfPointer@{VisitConservativelyIfPointer}!v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}}
\doxysubsubsection{\texorpdfstring{VisitConservativelyIfPointer()}{VisitConservativelyIfPointer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily template$<$typename Concrete\+Visitor $>$ \\
void \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase}{v8\+::internal\+::\+Conservative\+Stack\+Visitor\+Base}}$<$ Concrete\+Visitor $>$\+::Visit\+Conservatively\+If\+Pointer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 155 of file conservative-\/stack-\/visitor-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{155                                                                   \{}
\DoxyCodeLine{156 \textcolor{preprocessor}{\#ifdef V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{157   \textcolor{comment}{// Only proceed if the address falls in one of the interesting cages,}}
\DoxyCodeLine{158   \textcolor{comment}{// otherwise bail out.}}
\DoxyCodeLine{159   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1V8HeapCompressionSchemeImpl_af810e31fb7342bd0340defc38e375fe7}{V8HeapCompressionScheme::GetPtrComprCageBaseAddress}}(address) ==}
\DoxyCodeLine{160       \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_a9745c29461bf9ac65733f2a330083fc2}{cage\_base\_}}.address()) \{}
\DoxyCodeLine{161     \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}{VisitConservativelyIfPointer}}(address, \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_a9745c29461bf9ac65733f2a330083fc2}{cage\_base\_}});}
\DoxyCodeLine{162   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} constexpr (ConcreteVisitor::kOnlyVisitMainV8Cage) \{}
\DoxyCodeLine{163     \textcolor{keywordflow}{return};}
\DoxyCodeLine{164 \textcolor{preprocessor}{\#ifdef V8\_EXTERNAL\_CODE\_SPACE}}
\DoxyCodeLine{165   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (code\_address\_region\_.contains(address)) \{}
\DoxyCodeLine{166     \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}{VisitConservativelyIfPointer}}(address, code\_cage\_base\_);}
\DoxyCodeLine{167 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_EXTERNAL\_CODE\_SPACE}}
\DoxyCodeLine{168   \}}
\DoxyCodeLine{169 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{170   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1V8HeapCompressionSchemeImpl_af810e31fb7342bd0340defc38e375fe7}{TrustedSpaceCompressionScheme::GetPtrComprCageBaseAddress}}(address) ==}
\DoxyCodeLine{171       trusted\_cage\_base\_.address()) \{}
\DoxyCodeLine{172     \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}{VisitConservativelyIfPointer}}(address, trusted\_cage\_base\_);}
\DoxyCodeLine{173   \}}
\DoxyCodeLine{174 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{175 \textcolor{preprocessor}{\#else   }\textcolor{comment}{// !V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{176   \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}{VisitConservativelyIfPointer}}(address, \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_a9745c29461bf9ac65733f2a330083fc2}{cage\_base\_}});}
\DoxyCodeLine{177 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{178 \}}

\end{DoxyCode}


References v8\+::internal\+::\+V8\+Heap\+Compression\+Scheme\+Impl$<$ Cage $>$\+::\+Get\+Ptr\+Compr\+Cage\+Base\+Address().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConservativeStackVisitorBase_a8907a7e58f342d0e19e1ad6b2bc2efc6}\label{classv8_1_1internal_1_1ConservativeStackVisitorBase_a8907a7e58f342d0e19e1ad6b2bc2efc6}} 
\index{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}!VisitConservativelyIfPointer@{VisitConservativelyIfPointer}}
\index{VisitConservativelyIfPointer@{VisitConservativelyIfPointer}!v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}}
\doxysubsubsection{\texorpdfstring{VisitConservativelyIfPointer()}{VisitConservativelyIfPointer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily template$<$typename Concrete\+Visitor $>$ \\
void \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase}{v8\+::internal\+::\+Conservative\+Stack\+Visitor\+Base}}$<$ Concrete\+Visitor $>$\+::Visit\+Conservatively\+If\+Pointer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{address,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1PtrComprCageBase}{Ptr\+Compr\+Cage\+Base}}}]{cage\+\_\+base }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 182 of file conservative-\/stack-\/visitor-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{183                                                                                \{}
\DoxyCodeLine{184   \textcolor{comment}{// Bail out immediately if the pointer is not in the space managed by the}}
\DoxyCodeLine{185   \textcolor{comment}{// allocator.}}
\DoxyCodeLine{186   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_abc5180bbe3e66e63a9a4d787aa021944}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MemoryAllocator_a62cc2ea9b3c1e7bd2355ff9408b30c68}{IsOutsideAllocatedSpace}}(address)) \{}
\DoxyCodeLine{187     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\textcolor{keyword}{nullptr},}
\DoxyCodeLine{188               \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_abc5180bbe3e66e63a9a4d787aa021944}{allocator\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1MemoryAllocator_af751c8e8ae94dcb474c958b242d83a17}{LookupChunkContainingAddressInSafepoint}}(address));}
\DoxyCodeLine{189     \textcolor{keywordflow}{return};}
\DoxyCodeLine{190   \}}
\DoxyCodeLine{191   \textcolor{comment}{// Proceed with inner-\/pointer resolution.}}
\DoxyCodeLine{192   \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} base\_ptr = \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_aadce087e595f968ad1feb2e8bbe1c8ff}{FindBasePtr}}(address, cage\_base);}
\DoxyCodeLine{193   \textcolor{keywordflow}{if} (base\_ptr == \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}}) \{}
\DoxyCodeLine{194     \textcolor{keywordflow}{return};}
\DoxyCodeLine{195   \}}
\DoxyCodeLine{196   \mbox{\hyperlink{namespacev8_1_1internal_a57f5ecf71b9a2757b0555b2be4c640b8}{Tagged<HeapObject>}} obj = \mbox{\hyperlink{classv8_1_1internal_1_1HeapObject_aa18961d55321b920bd98b2fbcf729775}{HeapObject::FromAddress}}(base\_ptr);}
\DoxyCodeLine{197   \mbox{\hyperlink{namespacev8_1_1internal_a5297fd2c72981b2220e6b9a831570fb3}{Tagged<Object>}} root = obj;}
\DoxyCodeLine{198   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_aa30465295728930b0cf5be8930d59673}{root\_visitor\_}});}
\DoxyCodeLine{199   \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_aa30465295728930b0cf5be8930d59673}{root\_visitor\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1RootVisitor_aa78a6dcf8930fbd29d1cb4c6605c2fae}{VisitRootPointer}}(Root::kStackRoots, \textcolor{keyword}{nullptr},}
\DoxyCodeLine{200                                   FullObjectSlot(\&root));}
\DoxyCodeLine{201   \textcolor{comment}{// Check that the root visitor did not modify the root slot.}}
\DoxyCodeLine{202   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(root, obj);}
\DoxyCodeLine{203 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::\+Heap\+Object\+::\+From\+Address(), and v8\+::internal\+::k\+Null\+Address.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConservativeStackVisitorBase_a8907a7e58f342d0e19e1ad6b2bc2efc6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConservativeStackVisitorBase_afcf03aa4909d2bc243237a153efea8be}\label{classv8_1_1internal_1_1ConservativeStackVisitorBase_afcf03aa4909d2bc243237a153efea8be}} 
\index{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}!VisitPointer@{VisitPointer}}
\index{VisitPointer@{VisitPointer}!v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}}
\doxysubsubsection{\texorpdfstring{VisitPointer()}{VisitPointer()}}
{\footnotesize\ttfamily template$<$typename Concrete\+Visitor $>$ \\
void \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase}{v8\+::internal\+::\+Conservative\+Stack\+Visitor\+Base}}$<$ Concrete\+Visitor $>$\+::Visit\+Pointer (\begin{DoxyParamCaption}\item[{const void $\ast$}]{pointer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [virtual]}}



Implements \mbox{\hyperlink{classheap_1_1base_1_1StackVisitor_a148852d2b6085bd01a8a384941341119}{heap\+::base\+::\+Stack\+Visitor}}.



Definition at line 126 of file conservative-\/stack-\/visitor-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{127                          \{}
\DoxyCodeLine{128   \textcolor{keyword}{auto} address = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}\textcolor{keyword}{>}(\textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(pointer));}
\DoxyCodeLine{129 \textcolor{preprocessor}{\#ifdef V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{130   \mbox{\hyperlink{classv8_1_1internal_1_1V8HeapCompressionSchemeImpl_aac6e4133e27c0bde6518dea7fe51d75c}{V8HeapCompressionScheme::ProcessIntermediatePointers}}(}
\DoxyCodeLine{131       address,}
\DoxyCodeLine{132       [\textcolor{keyword}{this}](\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} ptr) \{ \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}{VisitConservativelyIfPointer}}(ptr, \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_a9745c29461bf9ac65733f2a330083fc2}{cage\_base\_}}); \});}
\DoxyCodeLine{133   \textcolor{keywordflow}{if} constexpr (ConcreteVisitor::kOnlyVisitMainV8Cage) \{}
\DoxyCodeLine{134     \textcolor{keywordflow}{return};}
\DoxyCodeLine{135   \}}
\DoxyCodeLine{136 \textcolor{preprocessor}{\#ifdef V8\_EXTERNAL\_CODE\_SPACE}}
\DoxyCodeLine{137   ExternalCodeCompressionScheme::ProcessIntermediatePointers(}
\DoxyCodeLine{138       address, [\textcolor{keyword}{this}](\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} ptr) \{}
\DoxyCodeLine{139         \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}{VisitConservativelyIfPointer}}(ptr, code\_cage\_base\_);}
\DoxyCodeLine{140       \});}
\DoxyCodeLine{141 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_EXTERNAL\_CODE\_SPACE}}
\DoxyCodeLine{142 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{143   \mbox{\hyperlink{classv8_1_1internal_1_1V8HeapCompressionSchemeImpl_aac6e4133e27c0bde6518dea7fe51d75c}{TrustedSpaceCompressionScheme::ProcessIntermediatePointers}}(}
\DoxyCodeLine{144       address, [\textcolor{keyword}{this}](\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} ptr) \{}
\DoxyCodeLine{145         \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}{VisitConservativelyIfPointer}}(ptr, trusted\_cage\_base\_);}
\DoxyCodeLine{146       \});}
\DoxyCodeLine{147 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{148 \textcolor{preprocessor}{\#else   }\textcolor{comment}{// !V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{149   \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase_af5c4f55f5774a338b9d33061c2fb7b9d}{VisitConservativelyIfPointer}}(address);}
\DoxyCodeLine{150 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_COMPRESS\_POINTERS}}
\DoxyCodeLine{151 \}}

\end{DoxyCode}


References v8\+::internal\+::\+V8\+Heap\+Compression\+Scheme\+Impl$<$ Cage $>$\+::\+Process\+Intermediate\+Pointers().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1ConservativeStackVisitorBase_afcf03aa4909d2bc243237a153efea8be_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1ConservativeStackVisitorBase_abc5180bbe3e66e63a9a4d787aa021944}\label{classv8_1_1internal_1_1ConservativeStackVisitorBase_abc5180bbe3e66e63a9a4d787aa021944}} 
\index{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}!allocator\_@{allocator\_}}
\index{allocator\_@{allocator\_}!v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}}
\doxysubsubsection{\texorpdfstring{allocator\_}{allocator\_}}
{\footnotesize\ttfamily template$<$typename Concrete\+Visitor $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1MemoryAllocator}{Memory\+Allocator}}$\ast$ const \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase}{v8\+::internal\+::\+Conservative\+Stack\+Visitor\+Base}}$<$ Concrete\+Visitor $>$\+::allocator\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 76 of file conservative-\/stack-\/visitor.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1ConservativeStackVisitorBase_a9745c29461bf9ac65733f2a330083fc2}\label{classv8_1_1internal_1_1ConservativeStackVisitorBase_a9745c29461bf9ac65733f2a330083fc2}} 
\index{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}!cage\_base\_@{cage\_base\_}}
\index{cage\_base\_@{cage\_base\_}!v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}}
\doxysubsubsection{\texorpdfstring{cage\_base\_}{cage\_base\_}}
{\footnotesize\ttfamily template$<$typename Concrete\+Visitor $>$ \\
const \mbox{\hyperlink{classv8_1_1internal_1_1PtrComprCageBase}{Ptr\+Compr\+Cage\+Base}} \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase}{v8\+::internal\+::\+Conservative\+Stack\+Visitor\+Base}}$<$ Concrete\+Visitor $>$\+::cage\+\_\+base\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 66 of file conservative-\/stack-\/visitor.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1ConservativeStackVisitorBase_aa30465295728930b0cf5be8930d59673}\label{classv8_1_1internal_1_1ConservativeStackVisitorBase_aa30465295728930b0cf5be8930d59673}} 
\index{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}!root\_visitor\_@{root\_visitor\_}}
\index{root\_visitor\_@{root\_visitor\_}!v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$@{v8::internal::ConservativeStackVisitorBase$<$ ConcreteVisitor $>$}}
\doxysubsubsection{\texorpdfstring{root\_visitor\_}{root\_visitor\_}}
{\footnotesize\ttfamily template$<$typename Concrete\+Visitor $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1RootVisitor}{Root\+Visitor}}$\ast$ const \mbox{\hyperlink{classv8_1_1internal_1_1ConservativeStackVisitorBase}{v8\+::internal\+::\+Conservative\+Stack\+Visitor\+Base}}$<$ Concrete\+Visitor $>$\+::root\+\_\+visitor\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 75 of file conservative-\/stack-\/visitor.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{conservative-stack-visitor_8h}{conservative-\/stack-\/visitor.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/\mbox{\hyperlink{conservative-stack-visitor-inl_8h}{conservative-\/stack-\/visitor-\/inl.\+h}}\end{DoxyCompactItemize}
