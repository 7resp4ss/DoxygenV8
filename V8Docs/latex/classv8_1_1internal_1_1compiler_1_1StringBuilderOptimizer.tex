\hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer}{}\doxysection{v8\+::internal\+::compiler\+::String\+Builder\+Optimizer Class Reference}
\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer}\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}


{\ttfamily \#include $<$string-\/builder-\/optimizer.\+h$>$}



Collaboration diagram for v8\+::internal\+::compiler\+::String\+Builder\+Optimizer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1Status}{Status}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1StringBuilder}{String\+Builder}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad938bcfd329e739f5a09eb7b88678081}{String\+Builder\+Optimizer}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraph}{JSGraph}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aa072bbcb3afbace328da431a0f3574e4}{jsgraph}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule}{Schedule}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}, \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\+\_\+zone}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522}{broker}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79c7ac8e832d797235bd223f7f6ab76d}{Block\+Should\+Finalize\+String\+Builders}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a9370028d5cca630c223f43f7f613d4ca}{Get\+String\+Builders\+To\+Finalize}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afa8213096c61872f3e7624c0e3050f29}{Is\+String\+Builder\+End}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad2eb4d4b64ac6f7d6dae7abf01933b06}{Is\+Non\+Loop\+Phi\+String\+Builder\+End}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a9a9731ac16087c0d17e6d44c403aaf21}{Is\+String\+Builder\+Concat\+Input}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79ddf0a18c0476c96e329aa7110940a7}{Concat\+Is\+In\+String\+Builder}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7651fef55e0ee6bc716d3b69dcf37c1b}{Is\+First\+Concat\+In\+String\+Builder}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{One\+Or\+Two\+Byte\+Analysis\+::\+State}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aad734b86fa06299e3d73795b1a45bc54}{Get\+One\+Or\+Two\+Byte}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a13ea9f1d6757798b8968ee9b7ae01b24}{Run}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraph}{JSGraph}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aa072bbcb3afbace328da431a0f3574e4}{jsgraph}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TFGraph}{TFGraph}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a27f13bdc20a0f6f78f14bd7b5526d5c5}{graph}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule}{Schedule}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\+\_\+zone}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522}{broker}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380}{State}} \+: uint8\+\_\+t \{ \newline
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380af4fa4b4b7a8441c10964d3d0c84b990f}{k\+Unvisited}} = 0
, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{k\+Begin\+String\+Builder}}
, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{k\+In\+String\+Builder}}
, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a5de143ed3332e093d8e2a0517de15f2a}{k\+Pending\+Phi}}
, \newline
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}{k\+Confirmed\+In\+String\+Builder}}
, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a7af3652974ec23df14261aa2864c2a78}{k\+End\+String\+Builder}}
, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a663af9d6453261674d573c62f976737d}{k\+End\+String\+Builder\+Loop\+Phi}}
, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{k\+Invalid}}
, \newline
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380aee6f0ba7453e5aace7a5912ed694b5dc}{k\+Number\+Of\+State}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1Status}{Status}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{Get\+Status}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node) const
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{Set\+Status}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380}{State}} state, \mbox{\hyperlink{classint}{int}} id=\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{k\+Invalid\+Id}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0c39c3079c84e53f1239b6221ff0d5a9}{Update\+Status}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380}{State}} state)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a659c5eadc8319cd54f78df984ca97916}{Is\+Loop\+Phi}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node) const
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab66e1432c44f25fdef1c0b6fac9b197a}{Loop\+Contains}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$loop\+\_\+phi, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a1dfe5315cf65deb7536b96f92e05140a}{Get\+String\+Builder\+Id\+For\+Concat}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a3cf3a8f3f0ff2c0d9ab3f6e681a867fa}{Replace\+Concat\+Input\+If\+Needed}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node, \mbox{\hyperlink{classint}{int}} input\+\_\+idx)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7a0494d886654ff17b43a6176845a204}{Check\+Node\+Uses}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$concat\+\_\+child, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1Status}{Status}} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a4bc4b34398bd65e94024d18f227c0a1e}{Check\+Previous\+Node\+Uses}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$child, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1Status}{Status}} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}, \mbox{\hyperlink{classint}{int}} input\+\_\+if\+\_\+loop\+\_\+phi=0)
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aff19dd8c9326aec36198ff86799c0128}{Get\+Phi\+Predecessors\+Common\+Id}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0125d8ee2a195da90d7e72977b1ec9c1}{Finalize\+String\+Builders}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab665a8a005ea4df2e7622565e9cad94c}{Visit\+Node}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1BasicBlock}{Basic\+Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a472d50a648b015d88b0f5f339edd8bbe}{Visit\+Graph}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1StringBuilder}{String\+Builder}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a35efd05ad4de91827826311e8cf06758}{k\+Invalid\+String\+Builder}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraph}{JSGraph}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab23734f8b6f87ae4b8c1a67964f52583}{jsgraph\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule}{Schedule}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a569cf07c323395f6ada568338ef39c91}{schedule\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aeb8be41988d39c07940f3196d1867449}{temp\+\_\+zone\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a88b2d920037788c3b7dde79aaa23a362}{broker\+\_\+}}
\item 
unsigned \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_af912c31e7de4a332a04184af2af6380f}{string\+\_\+builder\+\_\+count\+\_\+}} = 0
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ std\+::optional$<$ \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$ $>$ $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab0f33012df119a1c62c12ab471a239d4}{blocks\+\_\+to\+\_\+trimmings\+\_\+map\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1Status}{Status}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad3374101edf30d2ddc6e97df05b3535c}{status\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1StringBuilder}{String\+Builder}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a39003d4e1380f93f1147728c38038195}{string\+\_\+builders\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1BasicBlock}{Basic\+Block}} $\ast$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7670f2950fa8b9bd40854c2904f16f67}{loop\+\_\+headers\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{k\+Invalid\+Id}} = -\/1
\item 
static constexpr \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_af4482e020ebdef25ac27302177b9497a}{k\+Allow\+Any\+String\+On\+The\+Rhs}} = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 214 of file string-\/builder-\/optimizer.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!State@{State}}
\index{State@{State}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{State}{State}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380}{v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+State}} \+: uint8\+\_\+t\hspace{0.3cm}{\ttfamily [strong]}, {\ttfamily [private]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kUnvisited@{kUnvisited}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kUnvisited@{kUnvisited}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380af4fa4b4b7a8441c10964d3d0c84b990f}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380af4fa4b4b7a8441c10964d3d0c84b990f}} 
k\+Unvisited&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kBeginStringBuilder@{kBeginStringBuilder}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kBeginStringBuilder@{kBeginStringBuilder}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}} 
k\+Begin\+String\+Builder&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kInStringBuilder@{kInStringBuilder}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kInStringBuilder@{kInStringBuilder}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}} 
k\+In\+String\+Builder&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kPendingPhi@{kPendingPhi}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kPendingPhi@{kPendingPhi}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a5de143ed3332e093d8e2a0517de15f2a}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a5de143ed3332e093d8e2a0517de15f2a}} 
k\+Pending\+Phi&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kConfirmedInStringBuilder@{kConfirmedInStringBuilder}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kConfirmedInStringBuilder@{kConfirmedInStringBuilder}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}} 
k\+Confirmed\+In\+String\+Builder&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kEndStringBuilder@{kEndStringBuilder}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kEndStringBuilder@{kEndStringBuilder}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a7af3652974ec23df14261aa2864c2a78}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a7af3652974ec23df14261aa2864c2a78}} 
k\+End\+String\+Builder&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kEndStringBuilderLoopPhi@{kEndStringBuilderLoopPhi}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kEndStringBuilderLoopPhi@{kEndStringBuilderLoopPhi}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a663af9d6453261674d573c62f976737d}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a663af9d6453261674d573c62f976737d}} 
k\+End\+String\+Builder\+Loop\+Phi&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kInvalid@{kInvalid}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kInvalid@{kInvalid}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}} 
k\+Invalid&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kNumberOfState@{kNumberOfState}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kNumberOfState@{kNumberOfState}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380aee6f0ba7453e5aace7a5912ed694b5dc}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380aee6f0ba7453e5aace7a5912ed694b5dc}} 
k\+Number\+Of\+State&\\
\hline

\end{DoxyEnumFields}


Definition at line 268 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{268                    : uint8\_t \{}
\DoxyCodeLine{269     \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a4307712b5db9d879cc68bef07f992093}{kUnvisited}} = 0,}
\DoxyCodeLine{270     kBeginStringBuilder,        \textcolor{comment}{// A (potential) beginning of a StringBuilder}}
\DoxyCodeLine{271     kInStringBuilder,           \textcolor{comment}{// A node that could be in a StringBuilder}}
\DoxyCodeLine{272     kPendingPhi,                \textcolor{comment}{// A phi that could be in a StringBuilder}}
\DoxyCodeLine{273     kConfirmedInStringBuilder,  \textcolor{comment}{// A node that is definitely in a StringBuilder}}
\DoxyCodeLine{274     kEndStringBuilder,  \textcolor{comment}{// A node that ends definitely a StringBuilder, and that}}
\DoxyCodeLine{275                         \textcolor{comment}{// can be trimmed right away}}
\DoxyCodeLine{276     kEndStringBuilderLoopPhi,  \textcolor{comment}{// A phi that ends a StringBuilder, and whose}}
\DoxyCodeLine{277                                \textcolor{comment}{// trimming need to be done at the beginning of}}
\DoxyCodeLine{278                                \textcolor{comment}{// the following blocks.}}
\DoxyCodeLine{279     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02isolate_8cc_03_afcab528259303a389ac8aa3d12b339a1a43517b08d21463aea1323cca40a40c91}{kInvalid}},  \textcolor{comment}{// A node that we visited and that we can't optimize.}}
\DoxyCodeLine{280     kNumberOfState}
\DoxyCodeLine{281   \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad938bcfd329e739f5a09eb7b88678081}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad938bcfd329e739f5a09eb7b88678081}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!StringBuilderOptimizer@{StringBuilderOptimizer}}
\index{StringBuilderOptimizer@{StringBuilderOptimizer}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{StringBuilderOptimizer()}{StringBuilderOptimizer()}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+String\+Builder\+Optimizer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraph}{JSGraph}} $\ast$}]{jsgraph,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule}{Schedule}} $\ast$}]{schedule,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{temp\+\_\+zone,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}} $\ast$}]{broker }\end{DoxyParamCaption})}



Definition at line 1178 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1182     : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab23734f8b6f87ae4b8c1a67964f52583}{jsgraph\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aa072bbcb3afbace328da431a0f3574e4}{jsgraph}}),}
\DoxyCodeLine{1183       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a569cf07c323395f6ada568338ef39c91}{schedule\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}),}
\DoxyCodeLine{1184       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aeb8be41988d39c07940f3196d1867449}{temp\_zone\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\_zone}}),}
\DoxyCodeLine{1185       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a88b2d920037788c3b7dde79aaa23a362}{broker\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522}{broker}}),}
\DoxyCodeLine{1186       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab0f33012df119a1c62c12ab471a239d4}{blocks\_to\_trimmings\_map\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule_a2815dd992b00ca23f0451501b11c98fb}{BasicBlockCount}}(), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\_zone}}),}
\DoxyCodeLine{1187       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad3374101edf30d2ddc6e97df05b3535c}{status\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aa072bbcb3afbace328da431a0f3574e4}{jsgraph}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MachineGraph_a453021fea6ef3030504bb24f34b8c5b6}{graph}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TFGraph_a92f4cae118969b1a61dd07500561174f}{NodeCount}}(),}
\DoxyCodeLine{1188               \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}}\{kInvalidId, State::kUnvisited\}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\_zone}}),}
\DoxyCodeLine{1189       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a39003d4e1380f93f1147728c38038195}{string\_builders\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\_zone}}),}
\DoxyCodeLine{1190       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7670f2950fa8b9bd40854c2904f16f67}{loop\_headers\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\_zone}}) \{\}}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79c7ac8e832d797235bd223f7f6ab76d}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79c7ac8e832d797235bd223f7f6ab76d}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!BlockShouldFinalizeStringBuilders@{BlockShouldFinalizeStringBuilders}}
\index{BlockShouldFinalizeStringBuilders@{BlockShouldFinalizeStringBuilders}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{BlockShouldFinalizeStringBuilders()}{BlockShouldFinalizeStringBuilders()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Block\+Should\+Finalize\+String\+Builders (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})}



Definition at line 317 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{318                        \{}
\DoxyCodeLine{319   \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(block-\/>id().ToInt(), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab0f33012df119a1c62c12ab471a239d4}{blocks\_to\_trimmings\_map\_}}.size());}
\DoxyCodeLine{320   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab0f33012df119a1c62c12ab471a239d4}{blocks\_to\_trimmings\_map\_}}[block-\/>id().ToInt()].has\_value();}
\DoxyCodeLine{321 \}}

\end{DoxyCode}


References blocks\+\_\+to\+\_\+trimmings\+\_\+map\+\_\+, DCHECK\+\_\+\+LT, v8\+::internal\+::compiler\+::\+Basic\+Block\+::id(), and v8\+::internal\+::compiler\+::\+Basic\+Block\+::\+Id\+::\+To\+Int().



Referenced by Get\+String\+Builders\+To\+Finalize().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79c7ac8e832d797235bd223f7f6ab76d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79c7ac8e832d797235bd223f7f6ab76d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!broker@{broker}}
\index{broker@{broker}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{broker()}{broker()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}}$\ast$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::broker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 265 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{265 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a88b2d920037788c3b7dde79aaa23a362}{broker\_}}; \}}

\end{DoxyCode}


Referenced by Finalize\+String\+Builders(), Replace\+Concat\+Input\+If\+Needed(), and Visit\+Node().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7a0494d886654ff17b43a6176845a204}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7a0494d886654ff17b43a6176845a204}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!CheckNodeUses@{CheckNodeUses}}
\index{CheckNodeUses@{CheckNodeUses}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{CheckNodeUses()}{CheckNodeUses()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Check\+Node\+Uses (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{concat\+\_\+child,  }\item[{\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1Status}{Status}}}]{status }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 638 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{640                                                           \{}
\DoxyCodeLine{641   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(string\_builder\_child).state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}} ||}
\DoxyCodeLine{642          \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(string\_builder\_child).state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a5de143ed3332e093d8e2a0517de15f2a}{State::kPendingPhi}});}
\DoxyCodeLine{643   BasicBlock* child\_block = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule_adba2b547f951366974d25caad19e575e}{block}}(string\_builder\_child);}
\DoxyCodeLine{644   \textcolor{keywordflow}{if} (node-\/>UseCount() == 1) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{645   BasicBlock* node\_block = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule_adba2b547f951366974d25caad19e575e}{block}}(node);}
\DoxyCodeLine{646   \textcolor{keywordtype}{bool} is\_loop\_phi = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a659c5eadc8319cd54f78df984ca97916}{IsLoopPhi}}(node);}
\DoxyCodeLine{647   \textcolor{keywordtype}{bool} child\_is\_in\_loop =}
\DoxyCodeLine{648       is\_loop\_phi \&\& \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab66e1432c44f25fdef1c0b6fac9b197a}{LoopContains}}(node, string\_builder\_child);}
\DoxyCodeLine{649   base::SmallVector<BasicBlock*, kMaxPredecessors> current\_predecessors;}
\DoxyCodeLine{650   \textcolor{keywordtype}{bool} predecessors\_computed = \textcolor{keyword}{false};}
\DoxyCodeLine{651   \textcolor{keywordflow}{for} (Node* other\_child : node-\/>uses()) \{}
\DoxyCodeLine{652     \textcolor{keywordflow}{if} (other\_child == string\_builder\_child) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{653     BasicBlock* other\_child\_block = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule_adba2b547f951366974d25caad19e575e}{block}}(other\_child);}
\DoxyCodeLine{654     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a254b932e6ccf797dc1d3c9917336600d}{OpcodeIsAllowed}}(other\_child-\/>opcode())) \{}
\DoxyCodeLine{655       \textcolor{comment}{// \{other\_child\} could write \{node\} (the beginning of the string builder)}}
\DoxyCodeLine{656       \textcolor{comment}{// in memory (or keep it alive through other means, such as a Phi). This}}
\DoxyCodeLine{657       \textcolor{comment}{// means that if \{string\_builder\_child\} modifies the string builder, then}}
\DoxyCodeLine{658       \textcolor{comment}{// the value stored by \{other\_child\} will become out-\/dated (since}}
\DoxyCodeLine{659       \textcolor{comment}{// \{other\_child\} will probably just write a pointer to the string in}}
\DoxyCodeLine{660       \textcolor{comment}{// memory, and the string pointed by this pointer will be updated by the}}
\DoxyCodeLine{661       \textcolor{comment}{// string builder).}}
\DoxyCodeLine{662       \textcolor{keywordflow}{if} (is\_loop\_phi \&\& child\_is\_in\_loop \&\&}
\DoxyCodeLine{663           !node\_block-\/>LoopContains(other\_child\_block)) \{}
\DoxyCodeLine{664         \textcolor{comment}{// \{other\_child\} keeps the string alive, but this is only after the}}
\DoxyCodeLine{665         \textcolor{comment}{// loop, when \{string\_builder\_child\} isn't alive anymore, so this isn't}}
\DoxyCodeLine{666         \textcolor{comment}{// an issue.}}
\DoxyCodeLine{667         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{668       \}}
\DoxyCodeLine{669       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{670     \}}
\DoxyCodeLine{671     \textcolor{keywordflow}{if} (other\_child\_block == child\_block) \{}
\DoxyCodeLine{672       \textcolor{comment}{// Both \{child\} and \{other\_child\} are in the same block, we need to make}}
\DoxyCodeLine{673       \textcolor{comment}{// sure that \{other\_child\} comes first.}}
\DoxyCodeLine{674       \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} other\_status = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(other\_child);}
\DoxyCodeLine{675       \textcolor{keywordflow}{if} (other\_status.id != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}}) \{}
\DoxyCodeLine{676         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(other\_status.id, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id);}
\DoxyCodeLine{677         \textcolor{comment}{// \{node\} flows into 2 different nodes of the string builder, both of}}
\DoxyCodeLine{678         \textcolor{comment}{// which are in the same BasicBlock, which is not supported. We need to}}
\DoxyCodeLine{679         \textcolor{comment}{// invalidate \{other\_child\} as well, or the input of \{child\} could be}}
\DoxyCodeLine{680         \textcolor{comment}{// wrong. In theory, we could keep one of \{other\_child\} and \{child\} (the}}
\DoxyCodeLine{681         \textcolor{comment}{// one that comes the later in the BasicBlock), but it's simpler to keep}}
\DoxyCodeLine{682         \textcolor{comment}{// neither, and end the string builder on \{node\}.}}
\DoxyCodeLine{683         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(other\_child, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{684         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{685       \}}
\DoxyCodeLine{686       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_acad9c3baa7b040c6b7137be7e1dc556d}{ComesBeforeInBlock}}(other\_child, string\_builder\_child, child\_block)) \{}
\DoxyCodeLine{687         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{688       \}}
\DoxyCodeLine{689       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{690     \}}
\DoxyCodeLine{691     \textcolor{keywordflow}{if} (is\_loop\_phi) \{}
\DoxyCodeLine{692       \textcolor{keywordflow}{if} ((child\_is\_in\_loop \&\& !node\_block-\/>LoopContains(other\_child\_block)) ||}
\DoxyCodeLine{693           (!child\_is\_in\_loop \&\& node\_block-\/>LoopContains(other\_child\_block))) \{}
\DoxyCodeLine{694         \textcolor{comment}{// \{child\} is in the loop and \{other\_child\} isn't (or the other way}}
\DoxyCodeLine{695         \textcolor{comment}{// around). In that case, we skip \{other\_child\}: it will be tested}}
\DoxyCodeLine{696         \textcolor{comment}{// later when we leave the loop (if \{child\} is in the loop) or has}}
\DoxyCodeLine{697         \textcolor{comment}{// been tested earlier while we were inside the loop (if \{child\} isn't}}
\DoxyCodeLine{698         \textcolor{comment}{// in the loop).}}
\DoxyCodeLine{699         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{700       \}}
\DoxyCodeLine{701     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a0f6616ec658f329b8899c513f70ef30a}{ValidControlFlowForStringBuilder}}(child\_block, other\_child\_block,}
\DoxyCodeLine{702                                                  node\_block, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7670f2950fa8b9bd40854c2904f16f67}{loop\_headers\_}})) \{}
\DoxyCodeLine{703       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{704     \}}
\DoxyCodeLine{705 }
\DoxyCodeLine{706     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_ac933348317640264b24e39e0aa65674d}{IsPhiContainingGivenInputs}}(other\_child, node, string\_builder\_child,}
\DoxyCodeLine{707                                    \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}())) \{}
\DoxyCodeLine{708       \textcolor{comment}{// \{other\_child\} is a Phi that merges \{child\} and \{node\} (and maybe some}}
\DoxyCodeLine{709       \textcolor{comment}{// other nodes that we don't care about for now: if \{other\_child\} merges}}
\DoxyCodeLine{710       \textcolor{comment}{// more than 2 nodes, it won't be added to the string builder anyways).}}
\DoxyCodeLine{711       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{712     \}}
\DoxyCodeLine{713 }
\DoxyCodeLine{714     base::SmallVector<BasicBlock*, kMaxPredecessors> other\_predecessors;}
\DoxyCodeLine{715     \textcolor{keywordtype}{bool} all\_other\_predecessors\_computed =}
\DoxyCodeLine{716         \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a1b2deb5afd0e7ee81bbd36c4c7aa0328}{ComputePredecessors}}(other\_child\_block, node\_block, \&other\_predecessors);}
\DoxyCodeLine{717 }
\DoxyCodeLine{718     \textcolor{comment}{// Making sure that \{child\_block\} isn't in the predecessors of}}
\DoxyCodeLine{719     \textcolor{comment}{// \{other\_child\_block\}. Otherwise, the use of \{node\} in \{other\_child\}}}
\DoxyCodeLine{720     \textcolor{comment}{// would be invalid.}}
\DoxyCodeLine{721     \textcolor{keywordflow}{if} (std::find(other\_predecessors.begin(), other\_predecessors.end(),}
\DoxyCodeLine{722                   child\_block) != other\_predecessors.end()) \{}
\DoxyCodeLine{723       \textcolor{comment}{// \{child\} is in the predecessor of \{other\_child\}, which is definitely}}
\DoxyCodeLine{724       \textcolor{comment}{// invalid (because it means that \{other\_child\} uses an out-\/dated version}}
\DoxyCodeLine{725       \textcolor{comment}{// of \{node\}, since \{child\} modified it).}}
\DoxyCodeLine{726       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{727     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{728       \textcolor{keywordflow}{if} (all\_other\_predecessors\_computed) \{}
\DoxyCodeLine{729         \textcolor{comment}{// \{child\} is definitely not in the predecessors of \{other\_child\}, which}}
\DoxyCodeLine{730         \textcolor{comment}{// means that it's either a successor of \{other\_child\} (which is safe),}}
\DoxyCodeLine{731         \textcolor{comment}{// or it's in another path of the graph alltogether (which is also}}
\DoxyCodeLine{732         \textcolor{comment}{// safe).}}
\DoxyCodeLine{733         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{734       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{735         \textcolor{comment}{// We didn't compute all the predecessors of \{other\_child\}, so it's}}
\DoxyCodeLine{736         \textcolor{comment}{// possible that \{child\_block\} is one of the predecessor that we didn't}}
\DoxyCodeLine{737         \textcolor{comment}{// compute.}}
\DoxyCodeLine{738         \textcolor{comment}{//}}
\DoxyCodeLine{739         \textcolor{comment}{// Trying to see if we can find \{other\_child\_block\} in the}}
\DoxyCodeLine{740         \textcolor{comment}{// predecessors of \{child\_block\}: that would mean that \{other\_child\}}}
\DoxyCodeLine{741         \textcolor{comment}{// is guaranteed to be scheduled before \{child\}, making it safe.}}
\DoxyCodeLine{742         \textcolor{keywordflow}{if} (!predecessors\_computed) \{}
\DoxyCodeLine{743           \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a1b2deb5afd0e7ee81bbd36c4c7aa0328}{ComputePredecessors}}(child\_block, node\_block, \&current\_predecessors);}
\DoxyCodeLine{744           predecessors\_computed = \textcolor{keyword}{true};}
\DoxyCodeLine{745         \}}
\DoxyCodeLine{746         \textcolor{keywordflow}{if} (std::find(current\_predecessors.begin(), current\_predecessors.end(),}
\DoxyCodeLine{747                       other\_child\_block) == current\_predecessors.end()) \{}
\DoxyCodeLine{748           \textcolor{comment}{// We didn't find \{other\_child\} in the predecessors of \{child\}. It}}
\DoxyCodeLine{749           \textcolor{comment}{// means that either \{other\_child\} comes after in the graph (which}}
\DoxyCodeLine{750           \textcolor{comment}{// is unsafe), or that \{other\_child\} and \{child\} are on two}}
\DoxyCodeLine{751           \textcolor{comment}{// independent subgraphs (which is safe). We have no efficient way}}
\DoxyCodeLine{752           \textcolor{comment}{// to know which one of the two this is, so, we fall back to a}}
\DoxyCodeLine{753           \textcolor{comment}{// stricter approach: the use of \{node\} in \{other\_child\} is}}
\DoxyCodeLine{754           \textcolor{comment}{// guaranteed to be safe if \{other\_child\_block\} dominates}}
\DoxyCodeLine{755           \textcolor{comment}{// \{child\_block\}.}}
\DoxyCodeLine{756           \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a898c935b8b8006e40d2953cf1f7820b5}{IsClosebyDominator}}(other\_child\_block, child\_block)) \{}
\DoxyCodeLine{757             \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{758           \}}
\DoxyCodeLine{759         \}}
\DoxyCodeLine{760       \}}
\DoxyCodeLine{761     \}}
\DoxyCodeLine{762   \}}
\DoxyCodeLine{763   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{764 \}}

\end{DoxyCode}


References v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::begin(), v8\+::internal\+::compiler\+::\+Schedule\+::block(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Comes\+Before\+In\+Block(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Compute\+Predecessors(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::end(), Get\+Status(), v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Status\+::id, v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Is\+Closeby\+Dominator(), Is\+Loop\+Phi(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Is\+Phi\+Containing\+Given\+Inputs(), k\+In\+String\+Builder, k\+Invalid, k\+Invalid\+Id, k\+Pending\+Phi, loop\+\_\+headers\+\_\+, v8\+::internal\+::compiler\+::\+Basic\+Block\+::\+Loop\+Contains(), Loop\+Contains(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Opcode\+Is\+Allowed(), schedule(), Set\+Status(), v8\+::internal\+::status, v8\+::internal\+::compiler\+::\+Node\+::\+Use\+Count(), v8\+::internal\+::compiler\+::\+Node\+::uses(), and v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Valid\+Control\+Flow\+For\+String\+Builder().



Referenced by Check\+Previous\+Node\+Uses().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7a0494d886654ff17b43a6176845a204_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7a0494d886654ff17b43a6176845a204_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a4bc4b34398bd65e94024d18f227c0a1e}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a4bc4b34398bd65e94024d18f227c0a1e}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!CheckPreviousNodeUses@{CheckPreviousNodeUses}}
\index{CheckPreviousNodeUses@{CheckPreviousNodeUses}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{CheckPreviousNodeUses()}{CheckPreviousNodeUses()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Check\+Previous\+Node\+Uses (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{child,  }\item[{\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1Status}{Status}}}]{status,  }\item[{\mbox{\hyperlink{classint}{int}}}]{input\+\_\+if\+\_\+loop\+\_\+phi = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 775 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{776                                                                           \{}
\DoxyCodeLine{777   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a28cca41977bd3a107541928d45cf58de}{IsConcat}}(child)) \{}
\DoxyCodeLine{778     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7a0494d886654ff17b43a6176845a204}{CheckNodeUses}}(child-\/>InputAt(1), child, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}});}
\DoxyCodeLine{779   \}}
\DoxyCodeLine{780   \textcolor{keywordflow}{if} (child-\/>opcode() == IrOpcode::kPhi) \{}
\DoxyCodeLine{781     BasicBlock* child\_block = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule_adba2b547f951366974d25caad19e575e}{block}}(child);}
\DoxyCodeLine{782     \textcolor{keywordflow}{if} (child\_block-\/>IsLoopHeader()) \{}
\DoxyCodeLine{783       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7a0494d886654ff17b43a6176845a204}{CheckNodeUses}}(child-\/>InputAt(input\_if\_loop\_phi), child, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}});}
\DoxyCodeLine{784     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{785       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(child-\/>InputCount(), 3);}
\DoxyCodeLine{786       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7a0494d886654ff17b43a6176845a204}{CheckNodeUses}}(child-\/>InputAt(0), child, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}) \&\&}
\DoxyCodeLine{787              \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7a0494d886654ff17b43a6176845a204}{CheckNodeUses}}(child-\/>InputAt(1), child, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}});}
\DoxyCodeLine{788     \}}
\DoxyCodeLine{789   \}}
\DoxyCodeLine{790   \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{791 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Schedule\+::block(), Check\+Node\+Uses(), DCHECK\+\_\+\+EQ, v8\+::internal\+::compiler\+::\+Node\+::\+Input\+At(), v8\+::internal\+::compiler\+::\+Node\+::\+Input\+Count(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Is\+Concat(), v8\+::internal\+::compiler\+::\+Basic\+Block\+::\+Is\+Loop\+Header(), v8\+::internal\+::compiler\+::\+Node\+::opcode(), schedule(), v8\+::internal\+::status, and v8\+::internal\+::\+UNREACHABLE().



Referenced by Visit\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a4bc4b34398bd65e94024d18f227c0a1e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a4bc4b34398bd65e94024d18f227c0a1e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79ddf0a18c0476c96e329aa7110940a7}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79ddf0a18c0476c96e329aa7110940a7}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!ConcatIsInStringBuilder@{ConcatIsInStringBuilder}}
\index{ConcatIsInStringBuilder@{ConcatIsInStringBuilder}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{ConcatIsInStringBuilder()}{ConcatIsInStringBuilder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Concat\+Is\+In\+String\+Builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})}



Definition at line 362 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{362                                                                \{}
\DoxyCodeLine{363   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a28cca41977bd3a107541928d45cf58de}{IsConcat}}(node));}
\DoxyCodeLine{364   \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(node);}
\DoxyCodeLine{365   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}{State::kConfirmedInStringBuilder}} ||}
\DoxyCodeLine{366                      \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}} ||}
\DoxyCodeLine{367                      \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a7af3652974ec23df14261aa2864c2a78}{State::kEndStringBuilder}},}
\DoxyCodeLine{368                  \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}} \&\&}
\DoxyCodeLine{369                      StringBuilderIsValid(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a39003d4e1380f93f1147728c38038195}{string\_builders\_}}[\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id]));}
\DoxyCodeLine{370   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}{State::kConfirmedInStringBuilder}} ||}
\DoxyCodeLine{371          \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}} ||}
\DoxyCodeLine{372          \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a7af3652974ec23df14261aa2864c2a78}{State::kEndStringBuilder}};}
\DoxyCodeLine{373 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+IMPLIES, Get\+Status(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Is\+Concat(), k\+Begin\+String\+Builder, k\+Confirmed\+In\+String\+Builder, k\+End\+String\+Builder, k\+Invalid\+Id, v8\+::internal\+::status, and string\+\_\+builders\+\_\+.



Referenced by Get\+One\+Or\+Two\+Byte(), and Is\+First\+Concat\+In\+String\+Builder().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79ddf0a18c0476c96e329aa7110940a7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79ddf0a18c0476c96e329aa7110940a7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0125d8ee2a195da90d7e72977b1ec9c1}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0125d8ee2a195da90d7e72977b1ec9c1}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!FinalizeStringBuilders@{FinalizeStringBuilders}}
\index{FinalizeStringBuilders@{FinalizeStringBuilders}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{FinalizeStringBuilders()}{FinalizeStringBuilders()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Finalize\+String\+Builders (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1016 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1016                                                     \{}
\DoxyCodeLine{1017   OneOrTwoByteAnalysis one\_or\_two\_byte\_analysis(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a27f13bdc20a0f6f78f14bd7b5526d5c5}{graph}}(), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\_zone}}(), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522}{broker}}());}
\DoxyCodeLine{1018 }
\DoxyCodeLine{1019   \textcolor{comment}{// We use \{to\_visit\} to iterate through a string builder, and \{ends\} to}}
\DoxyCodeLine{1020   \textcolor{comment}{// collect its ending. To save some memory, these 2 variables are declared a}}
\DoxyCodeLine{1021   \textcolor{comment}{// bit early, and we .clear() them at the beginning of each iteration (which}}
\DoxyCodeLine{1022   \textcolor{comment}{// shouldn't free their memory), rather than allocating new memory for each}}
\DoxyCodeLine{1023   \textcolor{comment}{// string builder.}}
\DoxyCodeLine{1024   ZoneVector<Node*> to\_visit(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\_zone}}());}
\DoxyCodeLine{1025   ZoneVector<Node*> ends(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\_zone}}());}
\DoxyCodeLine{1026 }
\DoxyCodeLine{1027   \textcolor{keywordtype}{bool} one\_string\_builder\_or\_more\_valid = \textcolor{keyword}{false};}
\DoxyCodeLine{1028   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} string\_builder\_id = 0;}
\DoxyCodeLine{1029        string\_builder\_id < \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_af912c31e7de4a332a04184af2af6380f}{string\_builder\_count\_}}; string\_builder\_id++) \{}
\DoxyCodeLine{1030     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02debug-wasm-objects_8cc_03_ac7c517734a53299986759fea4b640a49}{StringBuilder}}* string\_builder = \&\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a39003d4e1380f93f1147728c38038195}{string\_builders\_}}[string\_builder\_id];}
\DoxyCodeLine{1031     Node* start = string\_builder-\/>start;}
\DoxyCodeLine{1032     \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} start\_status = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(start);}
\DoxyCodeLine{1033     \textcolor{keywordflow}{if} (start\_status.state != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}} ||}
\DoxyCodeLine{1034         !string\_builder-\/>has\_loop\_phi) \{}
\DoxyCodeLine{1035       \textcolor{comment}{// \{start\} has already been invalidated, or the string builder doesn't}}
\DoxyCodeLine{1036       \textcolor{comment}{// contain a loop Phi.}}
\DoxyCodeLine{1037       *string\_builder = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a35efd05ad4de91827826311e8cf06758}{kInvalidStringBuilder}};}
\DoxyCodeLine{1038       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0c39c3079c84e53f1239b6221ff0d5a9}{UpdateStatus}}(start, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{1039       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1040     \}}
\DoxyCodeLine{1041     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(start\_status.state, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}});}
\DoxyCodeLine{1042     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(start\_status.id, string\_builder\_id);}
\DoxyCodeLine{1043     one\_string\_builder\_or\_more\_valid = \textcolor{keyword}{true};}
\DoxyCodeLine{1044 }
\DoxyCodeLine{1045     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{OneOrTwoByteAnalysis::State}} one\_or\_two\_byte =}
\DoxyCodeLine{1046         one\_or\_two\_byte\_analysis.OneOrTwoByte(start);}
\DoxyCodeLine{1047 }
\DoxyCodeLine{1048     to\_visit.clear();}
\DoxyCodeLine{1049     ends.clear();}
\DoxyCodeLine{1050 }
\DoxyCodeLine{1051     to\_visit.push\_back(start);}
\DoxyCodeLine{1052     \textcolor{keywordflow}{while} (!to\_visit.empty()) \{}
\DoxyCodeLine{1053       Node* curr = to\_visit.back();}
\DoxyCodeLine{1054       to\_visit.pop\_back();}
\DoxyCodeLine{1055 }
\DoxyCodeLine{1056       \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} curr\_status = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(curr);}
\DoxyCodeLine{1057       \textcolor{keywordflow}{if} (curr\_status.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}{State::kConfirmedInStringBuilder}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1058 }
\DoxyCodeLine{1059       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(curr\_status.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}} ||}
\DoxyCodeLine{1060              curr\_status.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}});}
\DoxyCodeLine{1061       \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(curr\_status.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}},}
\DoxyCodeLine{1062                      curr == start);}
\DoxyCodeLine{1063       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(curr\_status.id, start\_status.id);}
\DoxyCodeLine{1064       \textcolor{keywordflow}{if} (curr\_status.state != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}}) \{}
\DoxyCodeLine{1065         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0c39c3079c84e53f1239b6221ff0d5a9}{UpdateStatus}}(curr, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}{State::kConfirmedInStringBuilder}});}
\DoxyCodeLine{1066       \}}
\DoxyCodeLine{1067 }
\DoxyCodeLine{1068       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a28cca41977bd3a107541928d45cf58de}{IsConcat}}(curr)) \{}
\DoxyCodeLine{1069         one\_or\_two\_byte = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a97207e88f4f3e5fd39bc7182b8613ccf}{OneOrTwoByteAnalysis::ConcatResultIsOneOrTwoByte}}(}
\DoxyCodeLine{1070             one\_or\_two\_byte, one\_or\_two\_byte\_analysis.OneOrTwoByte(curr));}
\DoxyCodeLine{1071         \textcolor{comment}{// Duplicating string inputs if needed, and marking them as}}
\DoxyCodeLine{1072         \textcolor{comment}{// InStringBuilder (so that EffectControlLinearizer doesn't lower them).}}
\DoxyCodeLine{1073         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a3cf3a8f3f0ff2c0d9ab3f6e681a867fa}{ReplaceConcatInputIfNeeded}}(curr, 1);}
\DoxyCodeLine{1074         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a3cf3a8f3f0ff2c0d9ab3f6e681a867fa}{ReplaceConcatInputIfNeeded}}(curr, 2);}
\DoxyCodeLine{1075       \}}
\DoxyCodeLine{1076 }
\DoxyCodeLine{1077       \textcolor{comment}{// Check if \{curr\} is one of the string builder's ends: if \{curr\} has no}}
\DoxyCodeLine{1078       \textcolor{comment}{// uses that are part of the string builder, then \{curr\} ends the string}}
\DoxyCodeLine{1079       \textcolor{comment}{// builder.}}
\DoxyCodeLine{1080       \textcolor{keywordtype}{bool} has\_use\_in\_string\_builder = \textcolor{keyword}{false};}
\DoxyCodeLine{1081       \textcolor{keywordflow}{for} (Node* next : curr-\/>uses()) \{}
\DoxyCodeLine{1082         \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} next\_status = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(next);}
\DoxyCodeLine{1083         \textcolor{keywordflow}{if} ((next\_status.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}} ||}
\DoxyCodeLine{1084              next\_status.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}{State::kConfirmedInStringBuilder}}) \&\&}
\DoxyCodeLine{1085             next\_status.id == curr\_status.id) \{}
\DoxyCodeLine{1086           \textcolor{keywordflow}{if} (next\_status.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}}) \{}
\DoxyCodeLine{1087             \textcolor{comment}{// We only add to \{to\_visit\} when the state is kInStringBuilder to}}
\DoxyCodeLine{1088             \textcolor{comment}{// make sure that we don't revisit already-\/visited nodes.}}
\DoxyCodeLine{1089             to\_visit.push\_back(next);}
\DoxyCodeLine{1090           \}}
\DoxyCodeLine{1091           \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a659c5eadc8319cd54f78df984ca97916}{IsLoopPhi}}(curr) || !\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab66e1432c44f25fdef1c0b6fac9b197a}{LoopContains}}(curr, next)) \{}
\DoxyCodeLine{1092             \textcolor{comment}{// The condition above is true when:}}
\DoxyCodeLine{1093             \textcolor{comment}{//  -\/ \{curr\} is not a loop phi: in that case, \{next\} is (one of) the}}
\DoxyCodeLine{1094             \textcolor{comment}{//    nodes in the string builder after \{curr\}.}}
\DoxyCodeLine{1095             \textcolor{comment}{//  -\/ \{curr\} is a loop phi, and \{next\} is not inside the loop: in}}
\DoxyCodeLine{1096             \textcolor{comment}{//    that case, \{node\} is (one of) the nodes in the string builder}}
\DoxyCodeLine{1097             \textcolor{comment}{//    that are after \{curr\}. Note that we ignore uses of \{curr\}}}
\DoxyCodeLine{1098             \textcolor{comment}{//    inside the loop, since if \{curr\} has no uses **after** the}}
\DoxyCodeLine{1099             \textcolor{comment}{//    loop, then it's (one of) the end of the string builder.}}
\DoxyCodeLine{1100             has\_use\_in\_string\_builder = \textcolor{keyword}{true};}
\DoxyCodeLine{1101           \}}
\DoxyCodeLine{1102         \}}
\DoxyCodeLine{1103       \}}
\DoxyCodeLine{1104       \textcolor{keywordflow}{if} (!has\_use\_in\_string\_builder) \{}
\DoxyCodeLine{1105         ends.push\_back(curr);}
\DoxyCodeLine{1106       \}}
\DoxyCodeLine{1107     \}}
\DoxyCodeLine{1108 }
\DoxyCodeLine{1109     \textcolor{comment}{// Note that there is no need to check that the ends have no conflicting}}
\DoxyCodeLine{1110     \textcolor{comment}{// uses, because none of the ends can be alive at the same time, and thus,}}
\DoxyCodeLine{1111     \textcolor{comment}{// uses of the different ends can't be alive at the same time either. The}}
\DoxyCodeLine{1112     \textcolor{comment}{// reason that ens can't be alive at the same time is that if 2 ends were}}
\DoxyCodeLine{1113     \textcolor{comment}{// alive at the same time, then there exist a node n that is a predecessors}}
\DoxyCodeLine{1114     \textcolor{comment}{// of both ends, and that has 2 successors in the string builder (and alive}}
\DoxyCodeLine{1115     \textcolor{comment}{// at the same time), which is not possible because CheckNodeUses prevents}}
\DoxyCodeLine{1116     \textcolor{comment}{// it.}}
\DoxyCodeLine{1117 }
\DoxyCodeLine{1118     \textcolor{comment}{// Collecting next blocks where trimming is required (blocks following a}}
\DoxyCodeLine{1119     \textcolor{comment}{// loop Phi where the Phi is the last in a string builder), and setting}}
\DoxyCodeLine{1120     \textcolor{comment}{// kEndStringBuilder state to nodes where trimming should be done right}}
\DoxyCodeLine{1121     \textcolor{comment}{// after computing the node (when the last node in a string builder is not a}}
\DoxyCodeLine{1122     \textcolor{comment}{// loop phi).}}
\DoxyCodeLine{1123     \textcolor{keywordflow}{for} (Node* \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} : ends) \{}
\DoxyCodeLine{1124       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a659c5eadc8319cd54f78df984ca97916}{IsLoopPhi}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}})) \{}
\DoxyCodeLine{1125         BasicBlock* phi\_block = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule_adba2b547f951366974d25caad19e575e}{block}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{1126         \textcolor{keywordflow}{for} (BasicBlock* block : phi\_block-\/>successors()) \{}
\DoxyCodeLine{1127           \textcolor{keywordflow}{if} (phi\_block-\/>LoopContains(block)) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{1128           \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab0f33012df119a1c62c12ab471a239d4}{blocks\_to\_trimmings\_map\_}}[block-\/>id().ToInt()].has\_value()) \{}
\DoxyCodeLine{1129             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab0f33012df119a1c62c12ab471a239d4}{blocks\_to\_trimmings\_map\_}}[block-\/>id().ToInt()] =}
\DoxyCodeLine{1130                 ZoneVector<Node*>(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}{temp\_zone}}());}
\DoxyCodeLine{1131           \}}
\DoxyCodeLine{1132           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab0f33012df119a1c62c12ab471a239d4}{blocks\_to\_trimmings\_map\_}}[block-\/>id().ToInt()]-\/>push\_back(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}});}
\DoxyCodeLine{1133         \}}
\DoxyCodeLine{1134         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0c39c3079c84e53f1239b6221ff0d5a9}{UpdateStatus}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a663af9d6453261674d573c62f976737d}{State::kEndStringBuilderLoopPhi}});}
\DoxyCodeLine{1135       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{1136         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0c39c3079c84e53f1239b6221ff0d5a9}{UpdateStatus}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a7af3652974ec23df14261aa2864c2a78}{State::kEndStringBuilder}});}
\DoxyCodeLine{1137       \}}
\DoxyCodeLine{1138     \}}
\DoxyCodeLine{1139 }
\DoxyCodeLine{1140     string\_builder-\/>one\_or\_two\_bytes = one\_or\_two\_byte;}
\DoxyCodeLine{1141   \}}
\DoxyCodeLine{1142 }
\DoxyCodeLine{1143 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{1144   \textcolor{keywordflow}{if} (one\_string\_builder\_or\_more\_valid) \{}
\DoxyCodeLine{1145     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522}{broker}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker_a5e0cdc4e2fb09a325e4da3afa2d59a3a}{isolate}}()-\/>set\_has\_turbofan\_string\_builders();}
\DoxyCodeLine{1146   \}}
\DoxyCodeLine{1147 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{1148   \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(one\_string\_builder\_or\_more\_valid);}
\DoxyCodeLine{1149 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1150 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::back(), v8\+::internal\+::compiler\+::\+Schedule\+::block(), blocks\+\_\+to\+\_\+trimmings\+\_\+map\+\_\+, broker(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::clear(), v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::\+Concat\+Result\+Is\+One\+Or\+Two\+Byte(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::empty(), v8\+::internal\+::compiler\+::end(), Get\+Status(), graph(), v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+String\+Builder\+::has\+\_\+loop\+\_\+phi, v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Status\+::id, v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Is\+Concat(), Is\+Loop\+Phi(), v8\+::internal\+::compiler\+::\+JSHeap\+Broker\+::isolate(), k\+Begin\+String\+Builder, k\+Confirmed\+In\+String\+Builder, k\+End\+String\+Builder, k\+End\+String\+Builder\+Loop\+Phi, k\+In\+String\+Builder, k\+Invalid, k\+Invalid\+String\+Builder, v8\+::internal\+::compiler\+::\+Basic\+Block\+::\+Loop\+Contains(), Loop\+Contains(), v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+String\+Builder\+::one\+\_\+or\+\_\+two\+\_\+bytes, v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::\+One\+Or\+Two\+Byte(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::pop\+\_\+back(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::push\+\_\+back(), Replace\+Concat\+Input\+If\+Needed(), schedule(), v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+String\+Builder\+::start, v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Status\+::state, string\+\_\+builder\+\_\+count\+\_\+, string\+\_\+builders\+\_\+, v8\+::internal\+::compiler\+::\+Basic\+Block\+::successors(), temp\+\_\+zone(), Update\+Status(), USE, and v8\+::internal\+::compiler\+::\+Node\+::uses().



Referenced by Visit\+Graph().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0125d8ee2a195da90d7e72977b1ec9c1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0125d8ee2a195da90d7e72977b1ec9c1_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aad734b86fa06299e3d73795b1a45bc54}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aad734b86fa06299e3d73795b1a45bc54}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!GetOneOrTwoByte@{GetOneOrTwoByte}}
\index{GetOneOrTwoByte@{GetOneOrTwoByte}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{GetOneOrTwoByte()}{GetOneOrTwoByte()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{One\+Or\+Two\+Byte\+Analysis\+::\+State}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Get\+One\+Or\+Two\+Byte (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})}



Definition at line 329 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{330                 \{}
\DoxyCodeLine{331   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79ddf0a18c0476c96e329aa7110940a7}{ConcatIsInStringBuilder}}(node));}
\DoxyCodeLine{332   \textcolor{comment}{// TODO(v8:13785,dmercadier): once externalization can no longer convert a}}
\DoxyCodeLine{333   \textcolor{comment}{// 1-\/byte into a 2-\/byte string, return the proper OneOrTwoByte status for the}}
\DoxyCodeLine{334   \textcolor{comment}{// node (= remove the next line and uncomment the 2 after).}}
\DoxyCodeLine{335   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{OneOrTwoByteAnalysis::State::kCantKnow}};}
\DoxyCodeLine{336   \textcolor{comment}{// int string\_builder\_number = GetStringBuilderIdForConcat(node);}}
\DoxyCodeLine{337   \textcolor{comment}{// return string\_builders\_[string\_builder\_number].one\_or\_two\_bytes;}}
\DoxyCodeLine{338 \}}

\end{DoxyCode}


References Concat\+Is\+In\+String\+Builder(), v8\+::internal\+::\+DCHECK(), and v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::k\+Cant\+Know.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aad734b86fa06299e3d73795b1a45bc54_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aff19dd8c9326aec36198ff86799c0128}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aff19dd8c9326aec36198ff86799c0128}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!GetPhiPredecessorsCommonId@{GetPhiPredecessorsCommonId}}
\index{GetPhiPredecessorsCommonId@{GetPhiPredecessorsCommonId}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{GetPhiPredecessorsCommonId()}{GetPhiPredecessorsCommonId()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Get\+Phi\+Predecessors\+Common\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 414 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{414                                                                  \{}
\DoxyCodeLine{415   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>opcode(), IrOpcode::kPhi);}
\DoxyCodeLine{416   \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}};}
\DoxyCodeLine{417   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < node-\/>op()-\/>ValueInputCount(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{418     Node* input = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1NodeProperties_a7053cfe3857d7d48ad3d005d633c94cf}{NodeProperties::GetValueInput}}(node, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{419     \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(input);}
\DoxyCodeLine{420     \textcolor{keywordflow}{switch} (\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state) \{}
\DoxyCodeLine{421       \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}}:}
\DoxyCodeLine{422       \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}}:}
\DoxyCodeLine{423       \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a5de143ed3332e093d8e2a0517de15f2a}{State::kPendingPhi}}:}
\DoxyCodeLine{424         \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}}) \{}
\DoxyCodeLine{425           \textcolor{comment}{// Initializind \{id\}.}}
\DoxyCodeLine{426           \textcolor{keywordtype}{id} = \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id;}
\DoxyCodeLine{427         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} != \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id) \{}
\DoxyCodeLine{428           \textcolor{comment}{// 2 inputs belong to different StringBuilder chains.}}
\DoxyCodeLine{429           \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}};}
\DoxyCodeLine{430         \}}
\DoxyCodeLine{431         \textcolor{keywordflow}{break};}
\DoxyCodeLine{432       \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}}:}
\DoxyCodeLine{433       \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380af4fa4b4b7a8441c10964d3d0c84b990f}{State::kUnvisited}}:}
\DoxyCodeLine{434         \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}};}
\DoxyCodeLine{435       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{436         \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{437     \}}
\DoxyCodeLine{438   \}}
\DoxyCodeLine{439   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\textcolor{keywordtype}{id}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}});}
\DoxyCodeLine{440   \textcolor{keywordflow}{return} id;}
\DoxyCodeLine{441 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NE, Get\+Status(), v8\+::internal\+::compiler\+::\+Node\+Properties\+::\+Get\+Value\+Input(), k\+Begin\+String\+Builder, k\+In\+String\+Builder, k\+Invalid, k\+Invalid\+Id, k\+Pending\+Phi, k\+Unvisited, v8\+::internal\+::compiler\+::\+Node\+::op(), v8\+::internal\+::compiler\+::\+Node\+::opcode(), v8\+::internal\+::status, and v8\+::internal\+::\+UNREACHABLE().



Referenced by Visit\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aff19dd8c9326aec36198ff86799c0128_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aff19dd8c9326aec36198ff86799c0128_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!GetStatus@{GetStatus}}
\index{GetStatus@{GetStatus}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{GetStatus()}{GetStatus()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1Status}{Status}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Get\+Status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 290 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{290                                      \{}
\DoxyCodeLine{291     \textcolor{keywordflow}{if} (node-\/>id() > \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad3374101edf30d2ddc6e97df05b3535c}{status\_}}.size()) \{}
\DoxyCodeLine{292       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}}\{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}}\};}
\DoxyCodeLine{293     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{294       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad3374101edf30d2ddc6e97df05b3535c}{status\_}}[node-\/>id()];}
\DoxyCodeLine{295     \}}
\DoxyCodeLine{296   \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Node\+::id(), and v8\+::internal\+::anonymous\+\_\+namespace\{isolate.\+cc\}\+::k\+Invalid.



Referenced by Check\+Node\+Uses(), Concat\+Is\+In\+String\+Builder(), Finalize\+String\+Builders(), Get\+Phi\+Predecessors\+Common\+Id(), Get\+String\+Builder\+Id\+For\+Concat(), Is\+First\+Concat\+In\+String\+Builder(), Is\+String\+Builder\+Concat\+Input(), Is\+String\+Builder\+End(), Replace\+Concat\+Input\+If\+Needed(), and Visit\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a1dfe5315cf65deb7536b96f92e05140a}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a1dfe5315cf65deb7536b96f92e05140a}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!GetStringBuilderIdForConcat@{GetStringBuilderIdForConcat}}
\index{GetStringBuilderIdForConcat@{GetStringBuilderIdForConcat}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{GetStringBuilderIdForConcat()}{GetStringBuilderIdForConcat()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Get\+String\+Builder\+Id\+For\+Concat (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 375 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{375                                                                   \{}
\DoxyCodeLine{376   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a28cca41977bd3a107541928d45cf58de}{IsConcat}}(node));}
\DoxyCodeLine{377   \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(node);}
\DoxyCodeLine{378   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}{State::kConfirmedInStringBuilder}} ||}
\DoxyCodeLine{379          \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}} ||}
\DoxyCodeLine{380          \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a7af3652974ec23df14261aa2864c2a78}{State::kEndStringBuilder}});}
\DoxyCodeLine{381   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}});}
\DoxyCodeLine{382   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id;}
\DoxyCodeLine{383 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NE, Get\+Status(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Is\+Concat(), k\+Begin\+String\+Builder, k\+Confirmed\+In\+String\+Builder, k\+End\+String\+Builder, k\+Invalid\+Id, and v8\+::internal\+::status.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a1dfe5315cf65deb7536b96f92e05140a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a9370028d5cca630c223f43f7f613d4ca}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a9370028d5cca630c223f43f7f613d4ca}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!GetStringBuildersToFinalize@{GetStringBuildersToFinalize}}
\index{GetStringBuildersToFinalize@{GetStringBuildersToFinalize}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{GetStringBuildersToFinalize()}{GetStringBuildersToFinalize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$ $>$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Get\+String\+Builders\+To\+Finalize (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})}



Definition at line 323 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{324                        \{}
\DoxyCodeLine{325   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79c7ac8e832d797235bd223f7f6ab76d}{BlockShouldFinalizeStringBuilders}}(block));}
\DoxyCodeLine{326   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab0f33012df119a1c62c12ab471a239d4}{blocks\_to\_trimmings\_map\_}}[block-\/>id().ToInt()].value();}
\DoxyCodeLine{327 \}}

\end{DoxyCode}


References blocks\+\_\+to\+\_\+trimmings\+\_\+map\+\_\+, Block\+Should\+Finalize\+String\+Builders(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::compiler\+::\+Basic\+Block\+::id(), and v8\+::internal\+::compiler\+::\+Basic\+Block\+::\+Id\+::\+To\+Int().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a9370028d5cca630c223f43f7f613d4ca_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a27f13bdc20a0f6f78f14bd7b5526d5c5}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a27f13bdc20a0f6f78f14bd7b5526d5c5}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!graph@{graph}}
\index{graph@{graph}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{graph()}{graph()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TFGraph}{TFGraph}}$\ast$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::graph (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 262 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{262 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab23734f8b6f87ae4b8c1a67964f52583}{jsgraph\_}}-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1MachineGraph_a453021fea6ef3030504bb24f34b8c5b6}{graph}}(); \}}

\end{DoxyCode}


Referenced by Finalize\+String\+Builders(), and Replace\+Concat\+Input\+If\+Needed().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a27f13bdc20a0f6f78f14bd7b5526d5c5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7651fef55e0ee6bc716d3b69dcf37c1b}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7651fef55e0ee6bc716d3b69dcf37c1b}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!IsFirstConcatInStringBuilder@{IsFirstConcatInStringBuilder}}
\index{IsFirstConcatInStringBuilder@{IsFirstConcatInStringBuilder}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{IsFirstConcatInStringBuilder()}{IsFirstConcatInStringBuilder()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Is\+First\+Concat\+In\+String\+Builder (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})}



Definition at line 385 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{385                                                                     \{}
\DoxyCodeLine{386   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a79ddf0a18c0476c96e329aa7110940a7}{ConcatIsInStringBuilder}}(node)) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{387   \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(node);}
\DoxyCodeLine{388   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}};}
\DoxyCodeLine{389 \}}

\end{DoxyCode}


References Concat\+Is\+In\+String\+Builder(), Get\+Status(), k\+Begin\+String\+Builder, and v8\+::internal\+::status.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7651fef55e0ee6bc716d3b69dcf37c1b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a659c5eadc8319cd54f78df984ca97916}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a659c5eadc8319cd54f78df984ca97916}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!IsLoopPhi@{IsLoopPhi}}
\index{IsLoopPhi@{IsLoopPhi}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{IsLoopPhi()}{IsLoopPhi()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Is\+Loop\+Phi (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 331 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{331                                    \{}
\DoxyCodeLine{332     \textcolor{keywordflow}{return} node-\/>opcode() == IrOpcode::kPhi \&\&}
\DoxyCodeLine{333            \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule_adba2b547f951366974d25caad19e575e}{block}}(node)-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1BasicBlock_aebd20273b715c4e966c748800c301804}{IsLoopHeader}}();}
\DoxyCodeLine{334   \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Schedule\+::block(), v8\+::internal\+::compiler\+::\+Basic\+Block\+::\+Is\+Loop\+Header(), and v8\+::internal\+::compiler\+::\+Node\+::opcode().



Referenced by Check\+Node\+Uses(), Finalize\+String\+Builders(), and Is\+Non\+Loop\+Phi\+String\+Builder\+End().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a659c5eadc8319cd54f78df984ca97916_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a659c5eadc8319cd54f78df984ca97916_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad2eb4d4b64ac6f7d6dae7abf01933b06}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad2eb4d4b64ac6f7d6dae7abf01933b06}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!IsNonLoopPhiStringBuilderEnd@{IsNonLoopPhiStringBuilderEnd}}
\index{IsNonLoopPhiStringBuilderEnd@{IsNonLoopPhiStringBuilderEnd}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{IsNonLoopPhiStringBuilderEnd()}{IsNonLoopPhiStringBuilderEnd()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Is\+Non\+Loop\+Phi\+String\+Builder\+End (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})}



Definition at line 350 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{350                                                                     \{}
\DoxyCodeLine{351   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afa8213096c61872f3e7624c0e3050f29}{IsStringBuilderEnd}}(node) \&\& !\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a659c5eadc8319cd54f78df984ca97916}{IsLoopPhi}}(node);}
\DoxyCodeLine{352 \}}

\end{DoxyCode}


References Is\+Loop\+Phi(), and Is\+String\+Builder\+End().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad2eb4d4b64ac6f7d6dae7abf01933b06_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a9a9731ac16087c0d17e6d44c403aaf21}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a9a9731ac16087c0d17e6d44c403aaf21}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!IsStringBuilderConcatInput@{IsStringBuilderConcatInput}}
\index{IsStringBuilderConcatInput@{IsStringBuilderConcatInput}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{IsStringBuilderConcatInput()}{IsStringBuilderConcatInput()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Is\+String\+Builder\+Concat\+Input (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})}



Definition at line 354 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{354                                                                   \{}
\DoxyCodeLine{355   \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(node);}
\DoxyCodeLine{356   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}{State::kConfirmedInStringBuilder}},}
\DoxyCodeLine{357                  \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}} \&\&}
\DoxyCodeLine{358                      StringBuilderIsValid(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a39003d4e1380f93f1147728c38038195}{string\_builders\_}}[\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id]));}
\DoxyCodeLine{359   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}{State::kConfirmedInStringBuilder}};}
\DoxyCodeLine{360 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+IMPLIES, Get\+Status(), k\+Confirmed\+In\+String\+Builder, k\+Invalid\+Id, v8\+::internal\+::status, and string\+\_\+builders\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a9a9731ac16087c0d17e6d44c403aaf21_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afa8213096c61872f3e7624c0e3050f29}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afa8213096c61872f3e7624c0e3050f29}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!IsStringBuilderEnd@{IsStringBuilderEnd}}
\index{IsStringBuilderEnd@{IsStringBuilderEnd}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{IsStringBuilderEnd()}{IsStringBuilderEnd()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Is\+String\+Builder\+End (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})}



Definition at line 340 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{340                                                           \{}
\DoxyCodeLine{341   \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(node);}
\DoxyCodeLine{342   \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a7af3652974ec23df14261aa2864c2a78}{State::kEndStringBuilder}} ||}
\DoxyCodeLine{343                      \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a663af9d6453261674d573c62f976737d}{State::kEndStringBuilderLoopPhi}},}
\DoxyCodeLine{344                  \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}} \&\&}
\DoxyCodeLine{345                      StringBuilderIsValid(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a39003d4e1380f93f1147728c38038195}{string\_builders\_}}[\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id]));}
\DoxyCodeLine{346   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a7af3652974ec23df14261aa2864c2a78}{State::kEndStringBuilder}} ||}
\DoxyCodeLine{347          \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a663af9d6453261674d573c62f976737d}{State::kEndStringBuilderLoopPhi}};}
\DoxyCodeLine{348 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+IMPLIES, Get\+Status(), k\+End\+String\+Builder, k\+End\+String\+Builder\+Loop\+Phi, k\+Invalid\+Id, v8\+::internal\+::status, and string\+\_\+builders\+\_\+.



Referenced by Is\+Non\+Loop\+Phi\+String\+Builder\+End().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afa8213096c61872f3e7624c0e3050f29_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afa8213096c61872f3e7624c0e3050f29_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aa072bbcb3afbace328da431a0f3574e4}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aa072bbcb3afbace328da431a0f3574e4}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!jsgraph@{jsgraph}}
\index{jsgraph@{jsgraph}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{jsgraph()}{jsgraph()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraph}{JSGraph}}$\ast$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::jsgraph (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 261 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{261 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab23734f8b6f87ae4b8c1a67964f52583}{jsgraph\_}}; \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab66e1432c44f25fdef1c0b6fac9b197a}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab66e1432c44f25fdef1c0b6fac9b197a}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!LoopContains@{LoopContains}}
\index{LoopContains@{LoopContains}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{LoopContains()}{LoopContains()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Loop\+Contains (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{loop\+\_\+phi,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 335 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{335                                                 \{}
\DoxyCodeLine{336     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a659c5eadc8319cd54f78df984ca97916}{IsLoopPhi}}(loop\_phi));}
\DoxyCodeLine{337     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule_adba2b547f951366974d25caad19e575e}{block}}(loop\_phi)-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1BasicBlock_a5645be1794e86c2cff02dacdedeb12f0}{LoopContains}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}()-\/>block(node));}
\DoxyCodeLine{338   \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Schedule\+::block(), v8\+::internal\+::\+DCHECK(), and v8\+::internal\+::compiler\+::\+Basic\+Block\+::\+Loop\+Contains().



Referenced by Check\+Node\+Uses(), and Finalize\+String\+Builders().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab66e1432c44f25fdef1c0b6fac9b197a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab66e1432c44f25fdef1c0b6fac9b197a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a3cf3a8f3f0ff2c0d9ab3f6e681a867fa}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a3cf3a8f3f0ff2c0d9ab3f6e681a867fa}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!ReplaceConcatInputIfNeeded@{ReplaceConcatInputIfNeeded}}
\index{ReplaceConcatInputIfNeeded@{ReplaceConcatInputIfNeeded}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{ReplaceConcatInputIfNeeded()}{ReplaceConcatInputIfNeeded()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Replace\+Concat\+Input\+If\+Needed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classint}{int}}}]{input\+\_\+idx }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 397 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{398                                                                        \{}
\DoxyCodeLine{399   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_ae6ef7bb53ae6b483ee9b5fca46a40eed}{IsLiteralString}}(node-\/>InputAt(input\_idx), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522}{broker}}())) \textcolor{keywordflow}{return};}
\DoxyCodeLine{400   Node* input = node-\/>InputAt(input\_idx);}
\DoxyCodeLine{401   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(input-\/>op()-\/>EffectOutputCount(), 0);}
\DoxyCodeLine{402   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(input-\/>op()-\/>ControlOutputCount(), 0);}
\DoxyCodeLine{403   \textcolor{keywordflow}{if} (input-\/>UseCount() > 1) \{}
\DoxyCodeLine{404     input = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a27f13bdc20a0f6f78f14bd7b5526d5c5}{graph}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TFGraph_a74ddea578fcea4c330478ad00b00006b}{CloneNode}}(input);}
\DoxyCodeLine{405     node-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node_ab6aa5c0ce7d3ad1349cebfe168377ebe}{ReplaceInput}}(input\_idx, input);}
\DoxyCodeLine{406   \}}
\DoxyCodeLine{407   \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} node\_status = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(node);}
\DoxyCodeLine{408   \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(node\_status.id, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}});}
\DoxyCodeLine{409   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(input, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ac20bd90d7c7da487270b7f0c9161bd09}{State::kConfirmedInStringBuilder}}, node\_status.id);}
\DoxyCodeLine{410 \}}

\end{DoxyCode}


References broker(), v8\+::internal\+::compiler\+::\+TFGraph\+::\+Clone\+Node(), v8\+::internal\+::compiler\+::\+Operator\+::\+Control\+Output\+Count(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NE, v8\+::internal\+::compiler\+::\+Operator\+::\+Effect\+Output\+Count(), Get\+Status(), graph(), v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Status\+::id, v8\+::internal\+::compiler\+::\+Node\+::\+Input\+At(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Is\+Literal\+String(), k\+Confirmed\+In\+String\+Builder, k\+Invalid\+Id, v8\+::internal\+::compiler\+::\+Node\+::op(), v8\+::internal\+::compiler\+::\+Node\+::\+Replace\+Input(), Set\+Status(), and v8\+::internal\+::compiler\+::\+Node\+::\+Use\+Count().



Referenced by Finalize\+String\+Builders().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a3cf3a8f3f0ff2c0d9ab3f6e681a867fa_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a3cf3a8f3f0ff2c0d9ab3f6e681a867fa_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a13ea9f1d6757798b8968ee9b7ae01b24}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a13ea9f1d6757798b8968ee9b7ae01b24}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!Run@{Run}}
\index{Run@{Run}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{Run()}{Run()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Run (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 1176 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1176 \{ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a472d50a648b015d88b0f5f339edd8bbe}{VisitGraph}}(); \}}

\end{DoxyCode}


References Visit\+Graph().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a13ea9f1d6757798b8968ee9b7ae01b24_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!schedule@{schedule}}
\index{schedule@{schedule}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{schedule()}{schedule()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule}{Schedule}}$\ast$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::schedule (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 263 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{263 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a569cf07c323395f6ada568338ef39c91}{schedule\_}}; \}}

\end{DoxyCode}


Referenced by Check\+Node\+Uses(), Check\+Previous\+Node\+Uses(), Finalize\+String\+Builders(), Visit\+Graph(), and Visit\+Node().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!SetStatus@{SetStatus}}
\index{SetStatus@{SetStatus}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{SetStatus()}{SetStatus()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Set\+Status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380}{State}}}]{state,  }\item[{\mbox{\hyperlink{classint}{int}}}]{id = {\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{k\+Invalid\+Id}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 297 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{297                                                                \{}
\DoxyCodeLine{298     \mbox{\hyperlink{src_2base_2logging_8h_a986dc8f4ec6dcd0644efe205c13f8eb7}{DCHECK\_NE}}(state, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380af4fa4b4b7a8441c10964d3d0c84b990f}{State::kUnvisited}});}
\DoxyCodeLine{299     \mbox{\hyperlink{src_2base_2logging_8h_a96a75539aa82216cdde2250a11126ea0}{DCHECK\_IMPLIES}}(\textcolor{keywordtype}{id} != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}}, state != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{300     \textcolor{keywordflow}{if} (node-\/>id() >= \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad3374101edf30d2ddc6e97df05b3535c}{status\_}}.size()) \{}
\DoxyCodeLine{301       \textcolor{comment}{// We should really not allocate too many new nodes: the only new nodes we}}
\DoxyCodeLine{302       \textcolor{comment}{// allocate are constant inputs of nodes in the string builder that have}}
\DoxyCodeLine{303       \textcolor{comment}{// multiple uses. Thus, we use a slow exponential growth for \{status\_\}.}}
\DoxyCodeLine{304       constexpr \textcolor{keywordtype}{double} growth\_factor = 1.1;}
\DoxyCodeLine{305       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad3374101edf30d2ddc6e97df05b3535c}{status\_}}.resize(node-\/>id() * growth\_factor,}
\DoxyCodeLine{306                      \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}}\{kInvalidId, State::kUnvisited\});}
\DoxyCodeLine{307     \}}
\DoxyCodeLine{308     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad3374101edf30d2ddc6e97df05b3535c}{status\_}}[node-\/>id()] = \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}}\{id, state\};}
\DoxyCodeLine{309   \}}

\end{DoxyCode}


References DCHECK\+\_\+\+IMPLIES, DCHECK\+\_\+\+NE, v8\+::internal\+::compiler\+::\+Node\+::id(), v8\+::internal\+::anonymous\+\_\+namespace\{isolate.\+cc\}\+::k\+Invalid, and v8\+::internal\+::compiler\+::k\+Unvisited.



Referenced by Check\+Node\+Uses(), Replace\+Concat\+Input\+If\+Needed(), and Visit\+Node().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!temp\_zone@{temp\_zone}}
\index{temp\_zone@{temp\_zone}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{temp\_zone()}{temp\_zone()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::temp\+\_\+zone (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 264 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{264 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aeb8be41988d39c07940f3196d1867449}{temp\_zone\_}}; \}}

\end{DoxyCode}


Referenced by Finalize\+String\+Builders().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a01d7434ee6bb3a5a868650f1a6164e89_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0c39c3079c84e53f1239b6221ff0d5a9}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0c39c3079c84e53f1239b6221ff0d5a9}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!UpdateStatus@{UpdateStatus}}
\index{UpdateStatus@{UpdateStatus}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{UpdateStatus()}{UpdateStatus()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Update\+Status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380}{State}}}]{state }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 310 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{310                                              \{}
\DoxyCodeLine{311     \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}} ? \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}} : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(node).\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1Status_ad0398d70f7057c73e6c4bf32620ca3c2}{id}};}
\DoxyCodeLine{312     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad3374101edf30d2ddc6e97df05b3535c}{status\_}}[node-\/>id()] = \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}}\{id, state\};}
\DoxyCodeLine{313   \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Node\+::id(), and v8\+::internal\+::anonymous\+\_\+namespace\{isolate.\+cc\}\+::k\+Invalid.



Referenced by Finalize\+String\+Builders().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0c39c3079c84e53f1239b6221ff0d5a9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0c39c3079c84e53f1239b6221ff0d5a9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a472d50a648b015d88b0f5f339edd8bbe}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a472d50a648b015d88b0f5f339edd8bbe}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!VisitGraph@{VisitGraph}}
\index{VisitGraph@{VisitGraph}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{VisitGraph()}{VisitGraph()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Visit\+Graph (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1152 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{1152                                         \{}
\DoxyCodeLine{1153   \textcolor{comment}{// Initial discovery of the potential string builders.}}
\DoxyCodeLine{1154   \textcolor{keywordflow}{for} (BasicBlock* block : *\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}()-\/>rpo\_order()) \{}
\DoxyCodeLine{1155     \textcolor{comment}{// Removing finished loops.}}
\DoxyCodeLine{1156     \textcolor{keywordflow}{while} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7670f2950fa8b9bd40854c2904f16f67}{loop\_headers\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_a40b4c6f563e6b4253b77a7351e3c88b2}{empty}}() \&\&}
\DoxyCodeLine{1157            \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7670f2950fa8b9bd40854c2904f16f67}{loop\_headers\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_af1e14717af927853f497f9c0e47d4e2d}{back}}()-\/>loop\_end() == block) \{}
\DoxyCodeLine{1158       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7670f2950fa8b9bd40854c2904f16f67}{loop\_headers\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_ad6b06f58d8462c313c06681d4833668f}{pop\_back}}();}
\DoxyCodeLine{1159     \}}
\DoxyCodeLine{1160     \textcolor{comment}{// Adding new loop if necessary.}}
\DoxyCodeLine{1161     \textcolor{keywordflow}{if} (block-\/>IsLoopHeader()) \{}
\DoxyCodeLine{1162       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7670f2950fa8b9bd40854c2904f16f67}{loop\_headers\_}}.\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector_af4d3701d605c7c9ed301a2ef3880784f}{push\_back}}(block);}
\DoxyCodeLine{1163     \}}
\DoxyCodeLine{1164     \textcolor{comment}{// Visiting block content.}}
\DoxyCodeLine{1165     \textcolor{keywordflow}{for} (Node* node : *block-\/>nodes()) \{}
\DoxyCodeLine{1166       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab665a8a005ea4df2e7622565e9cad94c}{VisitNode}}(node, block);}
\DoxyCodeLine{1167     \}}
\DoxyCodeLine{1168   \}}
\DoxyCodeLine{1169 }
\DoxyCodeLine{1170   \textcolor{comment}{// Finalize valid string builders (moving valid nodes to status}}
\DoxyCodeLine{1171   \textcolor{comment}{// kConfirmedInStringBuilder or kEndStringBuilder), and collecting the}}
\DoxyCodeLine{1172   \textcolor{comment}{// trimming points.}}
\DoxyCodeLine{1173   \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a0125d8ee2a195da90d7e72977b1ec9c1}{FinalizeStringBuilders}}();}
\DoxyCodeLine{1174 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::back(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::empty(), Finalize\+String\+Builders(), loop\+\_\+headers\+\_\+, v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::pop\+\_\+back(), v8\+::internal\+::\+Zone\+Vector$<$ T $>$\+::push\+\_\+back(), schedule(), and Visit\+Node().



Referenced by Run().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a472d50a648b015d88b0f5f339edd8bbe_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a472d50a648b015d88b0f5f339edd8bbe_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab665a8a005ea4df2e7622565e9cad94c}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab665a8a005ea4df2e7622565e9cad94c}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!VisitNode@{VisitNode}}
\index{VisitNode@{VisitNode}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{VisitNode()}{VisitNode()}}
{\footnotesize\ttfamily void v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Visit\+Node (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1BasicBlock}{Basic\+Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 793 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{793                                                                     \{}
\DoxyCodeLine{794   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a28cca41977bd3a107541928d45cf58de}{IsConcat}}(node)) \{}
\DoxyCodeLine{795     Node* lhs = node-\/>InputAt(1);}
\DoxyCodeLine{796     Node* rhs = node-\/>InputAt(2);}
\DoxyCodeLine{797 }
\DoxyCodeLine{798     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_ae6ef7bb53ae6b483ee9b5fca46a40eed}{IsLiteralString}}(rhs, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522}{broker}}())) \{}
\DoxyCodeLine{799       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{800       \textcolor{keywordflow}{return};}
\DoxyCodeLine{801     \}}
\DoxyCodeLine{802 }
\DoxyCodeLine{803     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_ae6ef7bb53ae6b483ee9b5fca46a40eed}{IsLiteralString}}(lhs, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a005472dd868bea3495a4ef94577d1522}{broker}}())) \{}
\DoxyCodeLine{804       \textcolor{comment}{// This node could start a string builder. However, we won't know until}}
\DoxyCodeLine{805       \textcolor{comment}{// we've properly inspected its uses, found a Phi somewhere down its use}}
\DoxyCodeLine{806       \textcolor{comment}{// chain, made sure that the Phi was valid, etc. Pre-\/emptively, we do a}}
\DoxyCodeLine{807       \textcolor{comment}{// quick check (with HasConcatOrPhiUse) that this node has a}}
\DoxyCodeLine{808       \textcolor{comment}{// StringConcat/NewConsString in its uses, and if so, we set its state as}}
\DoxyCodeLine{809       \textcolor{comment}{// kBeginConcat, and increment the \{string\_builder\_count\_\}. The goal of}}
\DoxyCodeLine{810       \textcolor{comment}{// the HasConcatOrPhiUse is mainly to avoid incrementing}}
\DoxyCodeLine{811       \textcolor{comment}{// \{string\_builder\_count\_\} too often for things that are obviously just}}
\DoxyCodeLine{812       \textcolor{comment}{// regular concatenations of 2 constant strings and that can't be}}
\DoxyCodeLine{813       \textcolor{comment}{// beginning of string builders.}}
\DoxyCodeLine{814       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a6c83f2f5945121347b6d5081b073784e}{HasConcatOrPhiUse}}(lhs)) \{}
\DoxyCodeLine{815         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_af912c31e7de4a332a04184af2af6380f}{string\_builder\_count\_}});}
\DoxyCodeLine{816         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a39003d4e1380f93f1147728c38038195}{string\_builders\_}}.push\_back(}
\DoxyCodeLine{817             \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02debug-wasm-objects_8cc_03_ac7c517734a53299986759fea4b640a49}{StringBuilder}}\{node, \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_af912c31e7de4a332a04184af2af6380f}{string\_builder\_count\_}}), \textcolor{keyword}{false},}
\DoxyCodeLine{818                           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a25c2dc47991b3df171ed5192bcf70390}{OneOrTwoByteAnalysis::State::kUnknown}}\});}
\DoxyCodeLine{819         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_af912c31e7de4a332a04184af2af6380f}{string\_builder\_count\_}}++;}
\DoxyCodeLine{820       \}}
\DoxyCodeLine{821       \textcolor{comment}{// A concatenation between 2 literal strings has no predecessor in the}}
\DoxyCodeLine{822       \textcolor{comment}{// string builder, and there is thus no more checks/bookkeeping required}}
\DoxyCodeLine{823       \textcolor{comment}{// ==> early return.}}
\DoxyCodeLine{824       \textcolor{keywordflow}{return};}
\DoxyCodeLine{825     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{826       \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} lhs\_status = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(lhs);}
\DoxyCodeLine{827       \textcolor{keywordflow}{switch} (lhs\_status.state) \{}
\DoxyCodeLine{828         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}}:}
\DoxyCodeLine{829         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}}:}
\DoxyCodeLine{830           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}}, lhs\_status.id);}
\DoxyCodeLine{831           \textcolor{keywordflow}{break};}
\DoxyCodeLine{832         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a5de143ed3332e093d8e2a0517de15f2a}{State::kPendingPhi}}: \{}
\DoxyCodeLine{833           BasicBlock* phi\_block = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7bace7152c5fa75a7b342f3b64354cab}{schedule}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule_adba2b547f951366974d25caad19e575e}{block}}(lhs);}
\DoxyCodeLine{834           \textcolor{keywordflow}{if} (phi\_block-\/>LoopContains(block)) \{}
\DoxyCodeLine{835             \textcolor{comment}{// This node uses a PendingPhi and is inside the loop. We}}
\DoxyCodeLine{836             \textcolor{comment}{// speculatively set it to kInStringBuilder.}}
\DoxyCodeLine{837             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}}, lhs\_status.id);}
\DoxyCodeLine{838           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{839             \textcolor{comment}{// This node uses a PendingPhi but is not inside the loop, which}}
\DoxyCodeLine{840             \textcolor{comment}{// means that the PendingPhi was never resolved to a kInConcat or a}}
\DoxyCodeLine{841             \textcolor{comment}{// kInvalid, which means that it's actually not valid (because we}}
\DoxyCodeLine{842             \textcolor{comment}{// visit the graph in RPO order, which means that we've already}}
\DoxyCodeLine{843             \textcolor{comment}{// visited the whole loop). Thus, we set the Phi to kInvalid, and}}
\DoxyCodeLine{844             \textcolor{comment}{// thus, we also set the current node to kInvalid.}}
\DoxyCodeLine{845             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(lhs, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{846             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{847           \}}
\DoxyCodeLine{848           \textcolor{keywordflow}{break};}
\DoxyCodeLine{849         \}}
\DoxyCodeLine{850         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}}:}
\DoxyCodeLine{851         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380af4fa4b4b7a8441c10964d3d0c84b990f}{State::kUnvisited}}:}
\DoxyCodeLine{852           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{853           \textcolor{keywordflow}{break};}
\DoxyCodeLine{854         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{855           \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{856       \}}
\DoxyCodeLine{857     \}}
\DoxyCodeLine{858   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (node-\/>opcode() == IrOpcode::kPhi \&\&}
\DoxyCodeLine{859              \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_a65e21c951599d9d613063d6b5101729d}{PhiInputsAreConcatsOrPhi}}(node)) \{}
\DoxyCodeLine{860     \textcolor{keywordflow}{if} (!block-\/>IsLoopHeader()) \{}
\DoxyCodeLine{861       \textcolor{comment}{// This Phi merges nodes after a if/else.}}
\DoxyCodeLine{862       \textcolor{keywordtype}{int} \textcolor{keywordtype}{id} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aff19dd8c9326aec36198ff86799c0128}{GetPhiPredecessorsCommonId}}(node);}
\DoxyCodeLine{863       \textcolor{keywordflow}{if} (\textcolor{keywordtype}{id} == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}}) \{}
\DoxyCodeLine{864         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{865       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{866         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}}, \textcolor{keywordtype}{id});}
\DoxyCodeLine{867       \}}
\DoxyCodeLine{868     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{869       \textcolor{comment}{// This Phi merges a value from inside the loop with one from before.}}
\DoxyCodeLine{870       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(node-\/>op()-\/>ValueInputCount(), 2);}
\DoxyCodeLine{871       \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} first\_input\_status = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(node-\/>InputAt(0));}
\DoxyCodeLine{872       \textcolor{keywordflow}{switch} (first\_input\_status.state) \{}
\DoxyCodeLine{873         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a9ad2e8639c6f9d715018f277775a7b6d}{State::kBeginStringBuilder}}:}
\DoxyCodeLine{874         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}}:}
\DoxyCodeLine{875           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a5de143ed3332e093d8e2a0517de15f2a}{State::kPendingPhi}}, first\_input\_status.id);}
\DoxyCodeLine{876           \textcolor{keywordflow}{break};}
\DoxyCodeLine{877         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a5de143ed3332e093d8e2a0517de15f2a}{State::kPendingPhi}}:}
\DoxyCodeLine{878         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}}:}
\DoxyCodeLine{879         \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380af4fa4b4b7a8441c10964d3d0c84b990f}{State::kUnvisited}}:}
\DoxyCodeLine{880           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{881           \textcolor{keywordflow}{break};}
\DoxyCodeLine{882         \textcolor{keywordflow}{default}:}
\DoxyCodeLine{883           \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{884       \}}
\DoxyCodeLine{885     \}}
\DoxyCodeLine{886   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{887     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{888   \}}
\DoxyCodeLine{889 }
\DoxyCodeLine{890   \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(node);}
\DoxyCodeLine{891   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}} ||}
\DoxyCodeLine{892       \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a5de143ed3332e093d8e2a0517de15f2a}{State::kPendingPhi}}) \{}
\DoxyCodeLine{893     \textcolor{comment}{// We make sure that this node being in the string builder doesn't conflict}}
\DoxyCodeLine{894     \textcolor{comment}{// with other uses of the previous node of the string builder. Note that}}
\DoxyCodeLine{895     \textcolor{comment}{// loop phis can never have the kInStringBuilder state at this point. We}}
\DoxyCodeLine{896     \textcolor{comment}{// thus check their uses when we finish the loop and set the phi's status to}}
\DoxyCodeLine{897     \textcolor{comment}{// InStringBuilder.}}
\DoxyCodeLine{898     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a4bc4b34398bd65e94024d18f227c0a1e}{CheckPreviousNodeUses}}(node, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}, 0)) \{}
\DoxyCodeLine{899       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{900       \textcolor{keywordflow}{return};}
\DoxyCodeLine{901     \}}
\DoxyCodeLine{902     \textcolor{comment}{// Updating following PendingPhi if needed.}}
\DoxyCodeLine{903     \textcolor{keywordflow}{for} (Node* \mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}} : node-\/>uses()) \{}
\DoxyCodeLine{904       \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}}-\/>opcode() == IrOpcode::kPhi) \{}
\DoxyCodeLine{905         \mbox{\hyperlink{namespacev8_1_1bigint_a4cc6705682dcd70f37d42be24d7ae04e}{Status}} use\_status = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_afdae4f5bb5c0857441b0b584624e2372}{GetStatus}}(\mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}});}
\DoxyCodeLine{906         \textcolor{keywordflow}{if} (use\_status.state == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a5de143ed3332e093d8e2a0517de15f2a}{State::kPendingPhi}}) \{}
\DoxyCodeLine{907           \textcolor{comment}{// Finished the loop.}}
\DoxyCodeLine{908           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(\mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380a6b639206f954cec69123f64a0555cfc8}{State::kInStringBuilder}}, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id);}
\DoxyCodeLine{909           \textcolor{keywordflow}{if} (use\_status.id == \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id \&\&}
\DoxyCodeLine{910               \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a4bc4b34398bd65e94024d18f227c0a1e}{CheckPreviousNodeUses}}(\mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}}, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}, 1)) \{}
\DoxyCodeLine{911             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a39003d4e1380f93f1147728c38038195}{string\_builders\_}}[\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}.id].has\_loop\_phi = \textcolor{keyword}{true};}
\DoxyCodeLine{912           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{913             \textcolor{comment}{// One of the uses of \{node\} is a pending Phi that hasn't the}}
\DoxyCodeLine{914             \textcolor{comment}{// correct id (is that even possible?), or the uses of \{node\} are}}
\DoxyCodeLine{915             \textcolor{comment}{// invalid. Either way, both \{node\} and \{use\} are invalid.}}
\DoxyCodeLine{916             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(node, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{917             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a42337579c6ed2c14db1bb857085931d6}{SetStatus}}(\mbox{\hyperlink{flag-definitions_8h_a2e89dcc15f540da766f7767b13e377e1}{use}}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad1128c006734c566bd941dbe2fe82380ab10913c938482a8aa4ba85b7a1116cb4}{State::kInvalid}});}
\DoxyCodeLine{918           \}}
\DoxyCodeLine{919         \}}
\DoxyCodeLine{920       \}}
\DoxyCodeLine{921     \}}
\DoxyCodeLine{922   \}}
\DoxyCodeLine{923 \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::\+Schedule\+::block(), broker(), Check\+Previous\+Node\+Uses(), DCHECK\+\_\+\+EQ, Get\+Phi\+Predecessors\+Common\+Id(), Get\+Status(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Has\+Concat\+Or\+Phi\+Use(), v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Status\+::id, v8\+::internal\+::compiler\+::\+Node\+::\+Input\+At(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Is\+Concat(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Is\+Literal\+String(), v8\+::internal\+::compiler\+::\+Basic\+Block\+::\+Is\+Loop\+Header(), k\+Begin\+String\+Builder, k\+In\+String\+Builder, k\+Invalid, k\+Invalid\+Id, k\+Pending\+Phi, v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::k\+Unknown, k\+Unvisited, v8\+::internal\+::compiler\+::\+Basic\+Block\+::\+Loop\+Contains(), v8\+::internal\+::compiler\+::\+Node\+::op(), v8\+::internal\+::compiler\+::\+Node\+::opcode(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Phi\+Inputs\+Are\+Concats\+Or\+Phi(), schedule(), Set\+Status(), v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Status\+::state, v8\+::internal\+::status, string\+\_\+builder\+\_\+count\+\_\+, string\+\_\+builders\+\_\+, v8\+::internal\+::\+UNREACHABLE(), use(), v8\+::internal\+::compiler\+::\+Node\+::uses(), and v8\+::internal\+::compiler\+::\+Operator\+::\+Value\+Input\+Count().



Referenced by Visit\+Graph().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab665a8a005ea4df2e7622565e9cad94c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab665a8a005ea4df2e7622565e9cad94c_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab0f33012df119a1c62c12ab471a239d4}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab0f33012df119a1c62c12ab471a239d4}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!blocks\_to\_trimmings\_map\_@{blocks\_to\_trimmings\_map\_}}
\index{blocks\_to\_trimmings\_map\_@{blocks\_to\_trimmings\_map\_}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{blocks\_to\_trimmings\_map\_}{blocks\_to\_trimmings\_map\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$std\+::optional$<$\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}}$\ast$$>$ $>$ $>$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::blocks\+\_\+to\+\_\+trimmings\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 366 of file string-\/builder-\/optimizer.\+h.



Referenced by Block\+Should\+Finalize\+String\+Builders(), Finalize\+String\+Builders(), and Get\+String\+Builders\+To\+Finalize().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a88b2d920037788c3b7dde79aaa23a362}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a88b2d920037788c3b7dde79aaa23a362}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!broker\_@{broker\_}}
\index{broker\_@{broker\_}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{broker\_}{broker\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}}$\ast$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::broker\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 356 of file string-\/builder-\/optimizer.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab23734f8b6f87ae4b8c1a67964f52583}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ab23734f8b6f87ae4b8c1a67964f52583}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!jsgraph\_@{jsgraph\_}}
\index{jsgraph\_@{jsgraph\_}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{jsgraph\_}{jsgraph\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSGraph}{JSGraph}}$\ast$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::jsgraph\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 353 of file string-\/builder-\/optimizer.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_af4482e020ebdef25ac27302177b9497a}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_af4482e020ebdef25ac27302177b9497a}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kAllowAnyStringOnTheRhs@{kAllowAnyStringOnTheRhs}}
\index{kAllowAnyStringOnTheRhs@{kAllowAnyStringOnTheRhs}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{kAllowAnyStringOnTheRhs}{kAllowAnyStringOnTheRhs}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::k\+Allow\+Any\+String\+On\+The\+Rhs = \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}



Definition at line 351 of file string-\/builder-\/optimizer.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kInvalidId@{kInvalidId}}
\index{kInvalidId@{kInvalidId}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{kInvalidId}{kInvalidId}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classint}{int}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::k\+Invalid\+Id = -\/1\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}, {\ttfamily [private]}}



Definition at line 288 of file string-\/builder-\/optimizer.\+h.



Referenced by Check\+Node\+Uses(), Concat\+Is\+In\+String\+Builder(), Get\+Phi\+Predecessors\+Common\+Id(), Get\+String\+Builder\+Id\+For\+Concat(), Is\+String\+Builder\+Concat\+Input(), Is\+String\+Builder\+End(), Replace\+Concat\+Input\+If\+Needed(), and Visit\+Node().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a35efd05ad4de91827826311e8cf06758}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a35efd05ad4de91827826311e8cf06758}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!kInvalidStringBuilder@{kInvalidStringBuilder}}
\index{kInvalidStringBuilder@{kInvalidStringBuilder}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{kInvalidStringBuilder}{kInvalidStringBuilder}}
{\footnotesize\ttfamily const \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1StringBuilder}{String\+Builder}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::k\+Invalid\+String\+Builder\hspace{0.3cm}{\ttfamily [private]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{= \{}
\DoxyCodeLine{      \textcolor{keyword}{nullptr}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_abf84e56931de331409ee197cc23eaa4c}{kInvalidId}}, \textcolor{keyword}{false}, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a25c2dc47991b3df171ed5192bcf70390}{OneOrTwoByteAnalysis::State::kUnknown}}\}}

\end{DoxyCode}


Definition at line 321 of file string-\/builder-\/optimizer.\+h.



Referenced by Finalize\+String\+Builders().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7670f2950fa8b9bd40854c2904f16f67}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a7670f2950fa8b9bd40854c2904f16f67}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!loop\_headers\_@{loop\_headers\_}}
\index{loop\_headers\_@{loop\_headers\_}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{loop\_headers\_}{loop\_headers\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1BasicBlock}{Basic\+Block}}$\ast$$>$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::loop\+\_\+headers\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 371 of file string-\/builder-\/optimizer.\+h.



Referenced by Check\+Node\+Uses(), and Visit\+Graph().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a569cf07c323395f6ada568338ef39c91}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a569cf07c323395f6ada568338ef39c91}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!schedule\_@{schedule\_}}
\index{schedule\_@{schedule\_}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{schedule\_}{schedule\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Schedule}{Schedule}}$\ast$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::schedule\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 354 of file string-\/builder-\/optimizer.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad3374101edf30d2ddc6e97df05b3535c}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_ad3374101edf30d2ddc6e97df05b3535c}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!status\_@{status\_}}
\index{status\_@{status\_}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{status\_}{status\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1Status}{Status}}$>$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::status\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 367 of file string-\/builder-\/optimizer.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_af912c31e7de4a332a04184af2af6380f}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_af912c31e7de4a332a04184af2af6380f}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!string\_builder\_count\_@{string\_builder\_count\_}}
\index{string\_builder\_count\_@{string\_builder\_count\_}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{string\_builder\_count\_}{string\_builder\_count\_}}
{\footnotesize\ttfamily unsigned \mbox{\hyperlink{classint}{int}} v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::string\+\_\+builder\+\_\+count\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 357 of file string-\/builder-\/optimizer.\+h.



Referenced by Finalize\+String\+Builders(), and Visit\+Node().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a39003d4e1380f93f1147728c38038195}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_a39003d4e1380f93f1147728c38038195}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!string\_builders\_@{string\_builders\_}}
\index{string\_builders\_@{string\_builders\_}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{string\_builders\_}{string\_builders\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_1_1StringBuilder}{String\+Builder}}$>$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::string\+\_\+builders\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 368 of file string-\/builder-\/optimizer.\+h.



Referenced by Concat\+Is\+In\+String\+Builder(), Finalize\+String\+Builders(), Is\+String\+Builder\+Concat\+Input(), Is\+String\+Builder\+End(), and Visit\+Node().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aeb8be41988d39c07940f3196d1867449}\label{classv8_1_1internal_1_1compiler_1_1StringBuilderOptimizer_aeb8be41988d39c07940f3196d1867449}} 
\index{v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}!temp\_zone\_@{temp\_zone\_}}
\index{temp\_zone\_@{temp\_zone\_}!v8::internal::compiler::StringBuilderOptimizer@{v8::internal::compiler::StringBuilderOptimizer}}
\doxysubsubsection{\texorpdfstring{temp\_zone\_}{temp\_zone\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}}$\ast$ v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::temp\+\_\+zone\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 355 of file string-\/builder-\/optimizer.\+h.



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/\mbox{\hyperlink{string-builder-optimizer_8h}{string-\/builder-\/optimizer.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/compiler/\mbox{\hyperlink{string-builder-optimizer_8cc}{string-\/builder-\/optimizer.\+cc}}\end{DoxyCompactItemize}
