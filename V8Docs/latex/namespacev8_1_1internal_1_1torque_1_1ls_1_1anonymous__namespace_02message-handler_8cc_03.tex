\hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03}{}\doxysection{v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03}\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_1_1DiagnosticCollector}{Diagnostic\+Collector}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aa000e92fc8cdadd707fcc785aac28c8b}{Reset\+Compilation\+Error\+Diagnostics}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}} writer)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a774b6087d4ba159daa2bb7daf870d1cb}{Send\+Compilation\+Diagnostics}} (const \mbox{\hyperlink{structv8_1_1internal_1_1torque_1_1TorqueCompilerResult}{Torque\+Compiler\+Result}} \&result, \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}} writer)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a312cd2ef2b1718825f6026dfb9e50609}{Recompile\+Torque}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}} writer)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a92924094f5484951963b01a6ba988422}{Recompile\+Torque\+With\+Diagnostics}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}} writer)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a7f028845d1969ae24616b243126fbcfd}{Handle\+Initialize\+Request}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a4728dd8bdfc8bfd10ca80331c428b483}{Initialize\+Request}} request, \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}} writer)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a8ae8c7cffa335cba31527100f0a5b69d}{Handle\+Initialized\+Notification}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}} writer)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_ab7c2304aa0d209ddca6aa3ea84ce3294}{Handle\+Torque\+File\+List\+Notification}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_abc8201eefd67d87a008ed65af8fb7c0e}{Torque\+File\+List\+Notification}} notification, \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}} writer)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a4ef5369b02761664158af830755f6368}{Handle\+Goto\+Definition\+Request}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_ad3330a220169c09bbc58a093673187a7}{Goto\+Definition\+Request}} request, \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}} writer)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a018550b26af0b4b784953b6e0c1765f6}{Handle\+Change\+Watched\+Files\+Notification}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_aea4d09d732488fd8041bb051d33b24c7}{Did\+Change\+Watched\+Files\+Notification}} notification, \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}} writer)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aec11296d915b26c8e77d29c2c99dd60c}{Handle\+Document\+Symbol\+Request}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_ada4c8bed729aa97cbdd4b05a298911ac}{Document\+Symbol\+Request}} request, \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}} writer)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a018550b26af0b4b784953b6e0c1765f6}\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a018550b26af0b4b784953b6e0c1765f6}} 
\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}!HandleChangeWatchedFilesNotification@{HandleChangeWatchedFilesNotification}}
\index{HandleChangeWatchedFilesNotification@{HandleChangeWatchedFilesNotification}!v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{HandleChangeWatchedFilesNotification()}{HandleChangeWatchedFilesNotification()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::Handle\+Change\+Watched\+Files\+Notification (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_aea4d09d732488fd8041bb051d33b24c7}{Did\+Change\+Watched\+Files\+Notification}}}]{notification,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}}}]{writer }\end{DoxyParamCaption})}



Definition at line 294 of file message-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{295                                                                           \{}
\DoxyCodeLine{296   \textcolor{comment}{// TODO(szuend): Implement updates to the TorqueFile list when create/delete}}
\DoxyCodeLine{297   \textcolor{comment}{//               notifications are received. Currently we simply re-\/compile.}}
\DoxyCodeLine{298   \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a92924094f5484951963b01a6ba988422}{RecompileTorqueWithDiagnostics}}(writer);}
\DoxyCodeLine{299 \}}

\end{DoxyCode}


References Recompile\+Torque\+With\+Diagnostics().



Referenced by v8\+::internal\+::torque\+::ls\+::\+Handle\+Message().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a018550b26af0b4b784953b6e0c1765f6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a018550b26af0b4b784953b6e0c1765f6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aec11296d915b26c8e77d29c2c99dd60c}\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aec11296d915b26c8e77d29c2c99dd60c}} 
\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}!HandleDocumentSymbolRequest@{HandleDocumentSymbolRequest}}
\index{HandleDocumentSymbolRequest@{HandleDocumentSymbolRequest}!v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{HandleDocumentSymbolRequest()}{HandleDocumentSymbolRequest()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::Handle\+Document\+Symbol\+Request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_ada4c8bed729aa97cbdd4b05a298911ac}{Document\+Symbol\+Request}}}]{request,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}}}]{writer }\end{DoxyParamCaption})}



Definition at line 301 of file message-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{302                                                        \{}
\DoxyCodeLine{303   \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a17ef88e5d821dec4ff3ccccf08b5e85f}{DocumentSymbolResponse}} response;}
\DoxyCodeLine{304   response.set\_id(request.id());}
\DoxyCodeLine{305 }
\DoxyCodeLine{306   SourceId \textcolor{keywordtype}{id} =}
\DoxyCodeLine{307       SourceFileMap::GetSourceId(request.params().textDocument().uri());}
\DoxyCodeLine{308 }
\DoxyCodeLine{309   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& symbol : LanguageServerData::SymbolsForSourceId(\textcolor{keywordtype}{id})) \{}
\DoxyCodeLine{310     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(symbol-\/>IsUserDefined());}
\DoxyCodeLine{311     \textcolor{keywordflow}{if} (symbol-\/>IsMacro()) \{}
\DoxyCodeLine{312       Macro* macro = Macro::cast(symbol);}
\DoxyCodeLine{313       SymbolInformation info = response.add\_result();}
\DoxyCodeLine{314       info.set\_name(macro-\/>ReadableName());}
\DoxyCodeLine{315       info.set\_kind(\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_afd5aaa8da6c9fbff1051077ef657d7f7aa3b974a5f002b9d8d599a944c5fadca8}{SymbolKind::kFunction}});}
\DoxyCodeLine{316       info.location().SetTo(macro-\/>Position());}
\DoxyCodeLine{317     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (symbol-\/>IsBuiltin()) \{}
\DoxyCodeLine{318       \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}}* builtin = Builtin::cast(symbol);}
\DoxyCodeLine{319       SymbolInformation info = response.add\_result();}
\DoxyCodeLine{320       info.set\_name(builtin-\/>ReadableName());}
\DoxyCodeLine{321       info.set\_kind(\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_afd5aaa8da6c9fbff1051077ef657d7f7aa3b974a5f002b9d8d599a944c5fadca8}{SymbolKind::kFunction}});}
\DoxyCodeLine{322       info.location().SetTo(builtin-\/>Position());}
\DoxyCodeLine{323     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (symbol-\/>IsGenericCallable()) \{}
\DoxyCodeLine{324       GenericCallable* \textcolor{keyword}{generic} = GenericCallable::cast(symbol);}
\DoxyCodeLine{325       SymbolInformation info = response.add\_result();}
\DoxyCodeLine{326       info.set\_name(generic-\/>name());}
\DoxyCodeLine{327       info.set\_kind(\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_afd5aaa8da6c9fbff1051077ef657d7f7aa3b974a5f002b9d8d599a944c5fadca8}{SymbolKind::kFunction}});}
\DoxyCodeLine{328       info.location().SetTo(generic-\/>Position());}
\DoxyCodeLine{329     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (symbol-\/>IsTypeAlias()) \{}
\DoxyCodeLine{330       \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-display-names_8cc_03_a169d0b07e82f46d628050c890a0dacbe}{Type}}* \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}} = TypeAlias::cast(symbol)-\/>type();}
\DoxyCodeLine{331       \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_afd5aaa8da6c9fbff1051077ef657d7f7}{SymbolKind}} kind =}
\DoxyCodeLine{332           \mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}-\/>IsClassType() ? \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_afd5aaa8da6c9fbff1051077ef657d7f7a69542e9ac88496e628b9ee17f75ec82c}{SymbolKind::kClass}} : \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_afd5aaa8da6c9fbff1051077ef657d7f7aea5653220781a5615d141c669ca30213}{SymbolKind::kStruct}};}
\DoxyCodeLine{333 }
\DoxyCodeLine{334       SymbolInformation sym = response.add\_result();}
\DoxyCodeLine{335       sym.set\_name(\mbox{\hyperlink{namespacev8_1_1internal_1_1tracing_a96000282e12b2483531025283d63154d}{type}}-\/>ToString());}
\DoxyCodeLine{336       sym.set\_kind(kind);}
\DoxyCodeLine{337       sym.location().SetTo(symbol-\/>Position());}
\DoxyCodeLine{338     \}}
\DoxyCodeLine{339   \}}
\DoxyCodeLine{340 }
\DoxyCodeLine{341   \textcolor{comment}{// Trigger empty array creation in case no symbols were found.}}
\DoxyCodeLine{342   \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(response.result\_size());}
\DoxyCodeLine{343 }
\DoxyCodeLine{344   writer(std::move(response.GetJsonValue()));}
\DoxyCodeLine{345 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::torque\+::ls\+::\+Message\+::\+Get\+Json\+Value(), v8\+::internal\+::torque\+::\+Source\+File\+Map\+::\+Get\+Source\+Id(), v8\+::internal\+::torque\+::ls\+::k\+Class, v8\+::internal\+::torque\+::ls\+::k\+Function, v8\+::internal\+::torque\+::ls\+::k\+Struct, v8\+::internal\+::torque\+::\+Declarable\+::\+Position(), v8\+::internal\+::torque\+::\+Callable\+::\+Readable\+Name(), v8\+::internal\+::torque\+::\+Language\+Server\+Data\+::\+Symbols\+For\+Source\+Id(), v8\+::internal\+::tracing\+::type, and USE.



Referenced by v8\+::internal\+::torque\+::ls\+::\+Handle\+Message().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aec11296d915b26c8e77d29c2c99dd60c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aec11296d915b26c8e77d29c2c99dd60c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a4ef5369b02761664158af830755f6368}\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a4ef5369b02761664158af830755f6368}} 
\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}!HandleGotoDefinitionRequest@{HandleGotoDefinitionRequest}}
\index{HandleGotoDefinitionRequest@{HandleGotoDefinitionRequest}!v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{HandleGotoDefinitionRequest()}{HandleGotoDefinitionRequest()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::Handle\+Goto\+Definition\+Request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_ad3330a220169c09bbc58a093673187a7}{Goto\+Definition\+Request}}}]{request,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}}}]{writer }\end{DoxyParamCaption})}



Definition at line 264 of file message-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{265                                                        \{}
\DoxyCodeLine{266   \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a717cb0204e66920f6b9cad564299ea36}{GotoDefinitionResponse}} response;}
\DoxyCodeLine{267   response.set\_id(request.id());}
\DoxyCodeLine{268 }
\DoxyCodeLine{269   SourceId \textcolor{keywordtype}{id} =}
\DoxyCodeLine{270       SourceFileMap::GetSourceId(request.params().textDocument().uri());}
\DoxyCodeLine{271 }
\DoxyCodeLine{272   \textcolor{comment}{// Unknown source files cause an empty response which corresponds with}}
\DoxyCodeLine{273   \textcolor{comment}{// the definition not beeing found.}}
\DoxyCodeLine{274   \textcolor{keywordflow}{if} (!\textcolor{keywordtype}{id}.IsValid()) \{}
\DoxyCodeLine{275     response.SetNull(\textcolor{stringliteral}{"{}result"{}});}
\DoxyCodeLine{276     writer(std::move(response.GetJsonValue()));}
\DoxyCodeLine{277     \textcolor{keywordflow}{return};}
\DoxyCodeLine{278   \}}
\DoxyCodeLine{279 }
\DoxyCodeLine{280   \textcolor{keyword}{auto} pos =}
\DoxyCodeLine{281       LineAndColumn::WithUnknownOffset(request.params().position().line(),}
\DoxyCodeLine{282                                        request.params().position().character());}
\DoxyCodeLine{283 }
\DoxyCodeLine{284   \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} maybe\_definition = LanguageServerData::FindDefinition(\textcolor{keywordtype}{id}, pos)) \{}
\DoxyCodeLine{285     SourcePosition definition = *maybe\_definition;}
\DoxyCodeLine{286     response.result().SetTo(definition);}
\DoxyCodeLine{287   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{288     response.SetNull(\textcolor{stringliteral}{"{}result"{}});}
\DoxyCodeLine{289   \}}
\DoxyCodeLine{290 }
\DoxyCodeLine{291   writer(std::move(response.GetJsonValue()));}
\DoxyCodeLine{292 \}}

\end{DoxyCode}


References v8\+::internal\+::torque\+::\+Language\+Server\+Data\+::\+Find\+Definition(), v8\+::internal\+::torque\+::ls\+::\+Message\+::\+Get\+Json\+Value(), v8\+::internal\+::torque\+::\+Source\+File\+Map\+::\+Get\+Source\+Id(), v8\+::internal\+::torque\+::ls\+::\+Base\+Json\+Accessor\+::\+Set\+Null(), and v8\+::internal\+::torque\+::\+Line\+And\+Column\+::\+With\+Unknown\+Offset().



Referenced by v8\+::internal\+::torque\+::ls\+::\+Handle\+Message().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a4ef5369b02761664158af830755f6368_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a4ef5369b02761664158af830755f6368_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a8ae8c7cffa335cba31527100f0a5b69d}\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a8ae8c7cffa335cba31527100f0a5b69d}} 
\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}!HandleInitializedNotification@{HandleInitializedNotification}}
\index{HandleInitializedNotification@{HandleInitializedNotification}!v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{HandleInitializedNotification()}{HandleInitializedNotification()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::Handle\+Initialized\+Notification (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}}}]{writer }\end{DoxyParamCaption})}



Definition at line 226 of file message-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{226                                                          \{}
\DoxyCodeLine{227   \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_ae727d8c0ca1923755ee15d619f7cdf12}{RegistrationRequest}} request;}
\DoxyCodeLine{228   \textcolor{comment}{// TODO(szuend): The language server needs a "{}global"{} request id counter.}}
\DoxyCodeLine{229   request.set\_id(2000);}
\DoxyCodeLine{230   request.set\_method(\textcolor{stringliteral}{"{}client/registerCapability"{}});}
\DoxyCodeLine{231 }
\DoxyCodeLine{232   Registration reg = request.params().add\_registrations();}
\DoxyCodeLine{233   \textcolor{keyword}{auto} options =}
\DoxyCodeLine{234       reg.registerOptions<DidChangeWatchedFilesRegistrationOptions>();}
\DoxyCodeLine{235   FileSystemWatcher watcher = options.add\_watchers();}
\DoxyCodeLine{236   watcher.set\_globPattern(\textcolor{stringliteral}{"{}**/*.tq"{}});}
\DoxyCodeLine{237   watcher.set\_kind(FileSystemWatcher::WatchKind::kAll);}
\DoxyCodeLine{238 }
\DoxyCodeLine{239   reg.set\_id(\textcolor{stringliteral}{"{}did-\/change-\/id"{}});}
\DoxyCodeLine{240   reg.set\_method(\textcolor{stringliteral}{"{}workspace/didChangeWatchedFiles"{}});}
\DoxyCodeLine{241 }
\DoxyCodeLine{242   writer(std::move(request.GetJsonValue()));}
\DoxyCodeLine{243 \}}

\end{DoxyCode}


References v8\+::internal\+::torque\+::ls\+::\+Message\+::\+Get\+Json\+Value().



Referenced by v8\+::internal\+::torque\+::ls\+::\+Handle\+Message().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a8ae8c7cffa335cba31527100f0a5b69d_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a8ae8c7cffa335cba31527100f0a5b69d_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a7f028845d1969ae24616b243126fbcfd}\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a7f028845d1969ae24616b243126fbcfd}} 
\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}!HandleInitializeRequest@{HandleInitializeRequest}}
\index{HandleInitializeRequest@{HandleInitializeRequest}!v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{HandleInitializeRequest()}{HandleInitializeRequest()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::Handle\+Initialize\+Request (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a4728dd8bdfc8bfd10ca80331c428b483}{Initialize\+Request}}}]{request,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}}}]{writer }\end{DoxyParamCaption})}



Definition at line 209 of file message-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{209                                                                               \{}
\DoxyCodeLine{210   \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_ab0576ff751a558b53f30017b69b53a4b}{InitializeResponse}} response;}
\DoxyCodeLine{211   response.set\_id(request.id());}
\DoxyCodeLine{212   response.result().capabilities().textDocumentSync();}
\DoxyCodeLine{213   response.result().capabilities().set\_definitionProvider(\textcolor{keyword}{true});}
\DoxyCodeLine{214   response.result().capabilities().set\_documentSymbolProvider(\textcolor{keyword}{true});}
\DoxyCodeLine{215 }
\DoxyCodeLine{216   \textcolor{comment}{// TODO(szuend): Register for document synchronisation here,}}
\DoxyCodeLine{217   \textcolor{comment}{//               so we work with the content that the client}}
\DoxyCodeLine{218   \textcolor{comment}{//               provides, not directly read from files.}}
\DoxyCodeLine{219   \textcolor{comment}{// TODO(szuend): Check that the client actually supports dynamic}}
\DoxyCodeLine{220   \textcolor{comment}{//               "{}workspace/didChangeWatchedFiles"{} capability.}}
\DoxyCodeLine{221   \textcolor{comment}{// TODO(szuend): Check if client supports "{}LocationLink"{}. This will}}
\DoxyCodeLine{222   \textcolor{comment}{//               influence the result of "{}goto definition"{}.}}
\DoxyCodeLine{223   writer(std::move(response.GetJsonValue()));}
\DoxyCodeLine{224 \}}

\end{DoxyCode}


References v8\+::internal\+::torque\+::ls\+::\+Message\+::\+Get\+Json\+Value().



Referenced by v8\+::internal\+::torque\+::ls\+::\+Handle\+Message().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a7f028845d1969ae24616b243126fbcfd_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a7f028845d1969ae24616b243126fbcfd_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_ab7c2304aa0d209ddca6aa3ea84ce3294}\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_ab7c2304aa0d209ddca6aa3ea84ce3294}} 
\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}!HandleTorqueFileListNotification@{HandleTorqueFileListNotification}}
\index{HandleTorqueFileListNotification@{HandleTorqueFileListNotification}!v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{HandleTorqueFileListNotification()}{HandleTorqueFileListNotification()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::Handle\+Torque\+File\+List\+Notification (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_abc8201eefd67d87a008ed65af8fb7c0e}{Torque\+File\+List\+Notification}}}]{notification,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}}}]{writer }\end{DoxyParamCaption})}



Definition at line 245 of file message-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{246                                                             \{}
\DoxyCodeLine{247   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(notification.params().object()[\textcolor{stringliteral}{"{}files"{}}].tag, \mbox{\hyperlink{value-type_8h_af579248b8d4c16c0aeba3dff9ee8b10a}{JsonValue::ARRAY}});}
\DoxyCodeLine{248 }
\DoxyCodeLine{249   std::vector<std::string>\& files = \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a2b5e79bd829824237e784a6cde29309e}{TorqueFileList::Get}}();}
\DoxyCodeLine{250   Logger::Log(\textcolor{stringliteral}{"{}[info] Initial file list:\(\backslash\)n"{}});}
\DoxyCodeLine{251   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& file\_json :}
\DoxyCodeLine{252        notification.params().object()[\textcolor{stringliteral}{"{}files"{}}].ToArray()) \{}
\DoxyCodeLine{253     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(file\_json.IsString());}
\DoxyCodeLine{254 }
\DoxyCodeLine{255     \textcolor{comment}{// We only consider file URIs (there shouldn't be anything else).}}
\DoxyCodeLine{256     \textcolor{comment}{// Internally we store the URI instead of the path, eliminating the need}}
\DoxyCodeLine{257     \textcolor{comment}{// to encode it again.}}
\DoxyCodeLine{258     files.push\_back(file\_json.ToString());}
\DoxyCodeLine{259     Logger::Log(\textcolor{stringliteral}{"{}    "{}}, file\_json.ToString(), \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{260   \}}
\DoxyCodeLine{261   \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a92924094f5484951963b01a6ba988422}{RecompileTorqueWithDiagnostics}}(writer);}
\DoxyCodeLine{262 \}}

\end{DoxyCode}


References v8\+::internal\+::torque\+::ls\+::\+Json\+Value\+::\+ARRAY, CHECK, CHECK\+\_\+\+EQ, v8\+::internal\+::compiler\+::turboshaft\+::\+Get(), v8\+::internal\+::torque\+::\+Logger\+::\+Log(), v8\+::internal\+::torque\+::ls\+::\+Message\+::object(), and Recompile\+Torque\+With\+Diagnostics().



Referenced by v8\+::internal\+::torque\+::ls\+::\+Handle\+Message().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_ab7c2304aa0d209ddca6aa3ea84ce3294_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_ab7c2304aa0d209ddca6aa3ea84ce3294_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a312cd2ef2b1718825f6026dfb9e50609}\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a312cd2ef2b1718825f6026dfb9e50609}} 
\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}!RecompileTorque@{RecompileTorque}}
\index{RecompileTorque@{RecompileTorque}!v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{RecompileTorque()}{RecompileTorque()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::Recompile\+Torque (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}}}]{writer }\end{DoxyParamCaption})}



Definition at line 189 of file message-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{189                                            \{}
\DoxyCodeLine{190   Logger::Log(\textcolor{stringliteral}{"{}[info] Start compilation run ...\(\backslash\)n"{}});}
\DoxyCodeLine{191 }
\DoxyCodeLine{192   TorqueCompilerOptions options;}
\DoxyCodeLine{193   options.output\_directory = \textcolor{stringliteral}{"{}"{}};}
\DoxyCodeLine{194   options.collect\_language\_server\_data = \textcolor{keyword}{true};}
\DoxyCodeLine{195   options.force\_assert\_statements = \textcolor{keyword}{true};}
\DoxyCodeLine{196 }
\DoxyCodeLine{197   TorqueCompilerResult \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_aca5a903612caba13aa2c27b1ba228cc6}{CompileTorque}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a2b5e79bd829824237e784a6cde29309e}{TorqueFileList::Get}}(), options);}
\DoxyCodeLine{198 }
\DoxyCodeLine{199   Logger::Log(\textcolor{stringliteral}{"{}[info] Finished compilation run ...\(\backslash\)n"{}});}
\DoxyCodeLine{200 }
\DoxyCodeLine{201   \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_af72e06e7d2dae95900549bc5478713c4}{CompilationFinished}}(std::move(\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}), writer);}
\DoxyCodeLine{202 \}}

\end{DoxyCode}


References v8\+::internal\+::torque\+::\+Torque\+Compiler\+Options\+::collect\+\_\+language\+\_\+server\+\_\+data, v8\+::internal\+::torque\+::ls\+::\+Compilation\+Finished(), v8\+::internal\+::torque\+::\+Compile\+Torque(), v8\+::internal\+::torque\+::\+Torque\+Compiler\+Options\+::force\+\_\+assert\+\_\+statements, v8\+::internal\+::compiler\+::turboshaft\+::\+Get(), v8\+::internal\+::torque\+::\+Logger\+::\+Log(), v8\+::internal\+::torque\+::\+Torque\+Compiler\+Options\+::output\+\_\+directory, and v8\+::base\+::internal\+::result.



Referenced by Recompile\+Torque\+With\+Diagnostics().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a312cd2ef2b1718825f6026dfb9e50609_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a312cd2ef2b1718825f6026dfb9e50609_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a92924094f5484951963b01a6ba988422}\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a92924094f5484951963b01a6ba988422}} 
\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}!RecompileTorqueWithDiagnostics@{RecompileTorqueWithDiagnostics}}
\index{RecompileTorqueWithDiagnostics@{RecompileTorqueWithDiagnostics}!v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{RecompileTorqueWithDiagnostics()}{RecompileTorqueWithDiagnostics()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::Recompile\+Torque\+With\+Diagnostics (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}}}]{writer }\end{DoxyParamCaption})}



Definition at line 204 of file message-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{204                                                           \{}
\DoxyCodeLine{205   \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aa000e92fc8cdadd707fcc785aac28c8b}{ResetCompilationErrorDiagnostics}}(writer);}
\DoxyCodeLine{206   \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a312cd2ef2b1718825f6026dfb9e50609}{RecompileTorque}}(writer);}
\DoxyCodeLine{207 \}}

\end{DoxyCode}


References Recompile\+Torque(), and Reset\+Compilation\+Error\+Diagnostics().



Referenced by Handle\+Change\+Watched\+Files\+Notification(), and Handle\+Torque\+File\+List\+Notification().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a92924094f5484951963b01a6ba988422_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a92924094f5484951963b01a6ba988422_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aa000e92fc8cdadd707fcc785aac28c8b}\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aa000e92fc8cdadd707fcc785aac28c8b}} 
\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}!ResetCompilationErrorDiagnostics@{ResetCompilationErrorDiagnostics}}
\index{ResetCompilationErrorDiagnostics@{ResetCompilationErrorDiagnostics}!v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{ResetCompilationErrorDiagnostics()}{ResetCompilationErrorDiagnostics()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::Reset\+Compilation\+Error\+Diagnostics (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}}}]{writer }\end{DoxyParamCaption})}



Definition at line 65 of file message-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{65                                                             \{}
\DoxyCodeLine{66   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} SourceId\& source : \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a2b5e79bd829824237e784a6cde29309e}{DiagnosticsFiles::Get}}()) \{}
\DoxyCodeLine{67     \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a7f69cd9d0b6c3254063da2c22350c5b1}{PublishDiagnosticsNotification}} notification;}
\DoxyCodeLine{68     notification.set\_method(\textcolor{stringliteral}{"{}textDocument/publishDiagnostics"{}});}
\DoxyCodeLine{69 }
\DoxyCodeLine{70     \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} error\_file = SourceFileMap::AbsolutePath(source);}
\DoxyCodeLine{71     notification.params().set\_uri(error\_file);}
\DoxyCodeLine{72     \textcolor{comment}{// Trigger empty array creation.}}
\DoxyCodeLine{73     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(notification.params().diagnostics\_size());}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     writer(std::move(notification.GetJsonValue()));}
\DoxyCodeLine{76   \}}
\DoxyCodeLine{77   \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a2b5e79bd829824237e784a6cde29309e}{DiagnosticsFiles::Get}}() = \{\};}
\DoxyCodeLine{78 \}}

\end{DoxyCode}


References v8\+::internal\+::torque\+::\+Source\+File\+Map\+::\+Absolute\+Path(), v8\+::internal\+::compiler\+::turboshaft\+::\+Get(), v8\+::internal\+::torque\+::ls\+::\+Message\+::\+Get\+Json\+Value(), v8\+::internal\+::string, and USE.



Referenced by Recompile\+Torque\+With\+Diagnostics().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aa000e92fc8cdadd707fcc785aac28c8b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_aa000e92fc8cdadd707fcc785aac28c8b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a774b6087d4ba159daa2bb7daf870d1cb}\label{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a774b6087d4ba159daa2bb7daf870d1cb}} 
\index{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}!SendCompilationDiagnostics@{SendCompilationDiagnostics}}
\index{SendCompilationDiagnostics@{SendCompilationDiagnostics}!v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}@{v8::internal::torque::ls::anonymous\_namespace\lcurly{}message-\/handler.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{SendCompilationDiagnostics()}{SendCompilationDiagnostics()}}
{\footnotesize\ttfamily void v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::Send\+Compilation\+Diagnostics (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1torque_1_1TorqueCompilerResult}{Torque\+Compiler\+Result}} \&}]{result,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a9710bda7b1c50aaed84b44fb42552fea}{Message\+Writer}}}]{writer }\end{DoxyParamCaption})}



Definition at line 158 of file message-\/handler.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{159                                                       \{}
\DoxyCodeLine{160   DiagnosticCollector collector;}
\DoxyCodeLine{161 }
\DoxyCodeLine{162   \textcolor{comment}{// TODO(szuend): Split up messages by SourceId and sort them by line number.}}
\DoxyCodeLine{163   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} TorqueMessage\& message : \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.messages) \{}
\DoxyCodeLine{164     collector.AddTorqueMessage(message);}
\DoxyCodeLine{165   \}}
\DoxyCodeLine{166 }
\DoxyCodeLine{167   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& pair : collector.notifications()) \{}
\DoxyCodeLine{168     \mbox{\hyperlink{namespacev8_1_1internal_1_1torque_1_1ls_a7f69cd9d0b6c3254063da2c22350c5b1}{PublishDiagnosticsNotification}}\& notification = pair.second;}
\DoxyCodeLine{169     writer(std::move(notification.GetJsonValue()));}
\DoxyCodeLine{170 }
\DoxyCodeLine{171     \textcolor{comment}{// Record all source files for which notifications are sent, so they}}
\DoxyCodeLine{172     \textcolor{comment}{// can be reset before the next compiler run.}}
\DoxyCodeLine{173     \textcolor{keyword}{const} SourceId\& source = pair.first;}
\DoxyCodeLine{174     \textcolor{keywordflow}{if} (source.IsValid()) \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a2b5e79bd829824237e784a6cde29309e}{DiagnosticsFiles::Get}}().push\_back(source);}
\DoxyCodeLine{175   \}}
\DoxyCodeLine{176 \}}

\end{DoxyCode}


References v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::\+Diagnostic\+Collector\+::\+Add\+Torque\+Message(), v8\+::internal\+::compiler\+::turboshaft\+::\+Get(), v8\+::internal\+::torque\+::ls\+::\+Message\+::\+Get\+Json\+Value(), v8\+::internal\+::torque\+::\+Source\+Id\+::\+Is\+Valid(), v8\+::internal\+::torque\+::ls\+::anonymous\+\_\+namespace\{message-\/handler.\+cc\}\+::\+Diagnostic\+Collector\+::notifications(), and v8\+::base\+::internal\+::result.



Referenced by v8\+::internal\+::torque\+::ls\+::\+Compilation\+Finished().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a774b6087d4ba159daa2bb7daf870d1cb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1torque_1_1ls_1_1anonymous__namespace_02message-handler_8cc_03_a774b6087d4ba159daa2bb7daf870d1cb_icgraph}
\end{center}
\end{figure}
