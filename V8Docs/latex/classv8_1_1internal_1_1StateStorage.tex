\hypertarget{classv8_1_1internal_1_1StateStorage}{}\doxysection{v8\+::internal\+::State\+Storage Class Reference}
\label{classv8_1_1internal_1_1StateStorage}\index{v8::internal::StateStorage@{v8::internal::StateStorage}}


Collaboration diagram for v8\+::internal\+::State\+Storage\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1StateStorage__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a793f4a8b93c687f93f94ef14cd035289}{State\+Exists}} (const void $\ast$\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}) const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1StateBase}{State\+Base}} \& \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a4d928b0f777e8bf364d754cfb8c65ece}{Get\+Existing\+State}} (const void $\ast$\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}) const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1State}{State}} \& \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_abc93eb0c958afb82ce934bde9bbf0185}{Get\+Existing\+State}} (const \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapObjectHeader}{Heap\+Object\+Header}} \&header) const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1State}{State}} \& \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_acd49c23192cb46cc3d89877a9df55920}{Get\+Or\+Create\+State}} (const \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapObjectHeader}{Heap\+Object\+Header}} \&header)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1RootState}{Root\+State}} \& \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a6affef65e98b5e0f852d13b4d7f9ee6b}{Create\+Root\+State}} (\mbox{\hyperlink{classv8_1_1internal_1_1EmbedderRootNode}{Embedder\+Root\+Node}} $\ast$root\+\_\+node)
\item 
{\footnotesize template$<$typename Callback $>$ }\\void \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a93bf2643a361f88238330658fa2738f2}{For\+All\+States}} (Callback callback)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
std\+::unordered\+\_\+map$<$ const void $\ast$, std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1StateBase}{State\+Base}} $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a3bdf17a93e78f558362e48a43d6ee219}{states\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a387facb8770bb32c9aba90f57d9943d5}{state\+\_\+count\+\_\+}} = 0
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 336 of file cpp-\/snapshot.\+cc.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1StateStorage_a6affef65e98b5e0f852d13b4d7f9ee6b}\label{classv8_1_1internal_1_1StateStorage_a6affef65e98b5e0f852d13b4d7f9ee6b}} 
\index{v8::internal::StateStorage@{v8::internal::StateStorage}!CreateRootState@{CreateRootState}}
\index{CreateRootState@{CreateRootState}!v8::internal::StateStorage@{v8::internal::StateStorage}}
\doxysubsubsection{\texorpdfstring{CreateRootState()}{CreateRootState()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1RootState}{Root\+State}}\& v8\+::internal\+::\+State\+Storage\+::\+Create\+Root\+State (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1EmbedderRootNode}{Embedder\+Root\+Node}} $\ast$}]{root\+\_\+node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 361 of file cpp-\/snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{361                                                           \{}
\DoxyCodeLine{362     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!\mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a793f4a8b93c687f93f94ef14cd035289}{StateExists}}(root\_node));}
\DoxyCodeLine{363     \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a3bdf17a93e78f558362e48a43d6ee219}{states\_}}.insert(std::make\_pair(}
\DoxyCodeLine{364         root\_node, std::make\_unique<RootState>(root\_node, ++\mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a387facb8770bb32c9aba90f57d9943d5}{state\_count\_}})));}
\DoxyCodeLine{365     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(it.second);}
\DoxyCodeLine{366     \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(it);}
\DoxyCodeLine{367     \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}RootState\&\textcolor{keyword}{>}(*it.first-\/>second);}
\DoxyCodeLine{368   \}}

\end{DoxyCode}


References CHECK, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+State\+Base\+::state\+\_\+count\+\_\+, and USE.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1StateStorage_a6affef65e98b5e0f852d13b4d7f9ee6b_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1StateStorage_a93bf2643a361f88238330658fa2738f2}\label{classv8_1_1internal_1_1StateStorage_a93bf2643a361f88238330658fa2738f2}} 
\index{v8::internal::StateStorage@{v8::internal::StateStorage}!ForAllStates@{ForAllStates}}
\index{ForAllStates@{ForAllStates}!v8::internal::StateStorage@{v8::internal::StateStorage}}
\doxysubsubsection{\texorpdfstring{ForAllStates()}{ForAllStates()}}
{\footnotesize\ttfamily template$<$typename Callback $>$ \\
void v8\+::internal\+::\+State\+Storage\+::\+For\+All\+States (\begin{DoxyParamCaption}\item[{Callback}]{callback }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 371 of file cpp-\/snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{371                                        \{}
\DoxyCodeLine{372     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& state : \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a3bdf17a93e78f558362e48a43d6ee219}{states\_}}) \{}
\DoxyCodeLine{373       callback(state.second.get());}
\DoxyCodeLine{374     \}}
\DoxyCodeLine{375   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1StateStorage_abc93eb0c958afb82ce934bde9bbf0185}\label{classv8_1_1internal_1_1StateStorage_abc93eb0c958afb82ce934bde9bbf0185}} 
\index{v8::internal::StateStorage@{v8::internal::StateStorage}!GetExistingState@{GetExistingState}}
\index{GetExistingState@{GetExistingState}!v8::internal::StateStorage@{v8::internal::StateStorage}}
\doxysubsubsection{\texorpdfstring{GetExistingState()}{GetExistingState()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1State}{State}}\& v8\+::internal\+::\+State\+Storage\+::\+Get\+Existing\+State (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapObjectHeader}{Heap\+Object\+Header}} \&}]{header }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 347 of file cpp-\/snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{347                                                                 \{}
\DoxyCodeLine{348     \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02conversions_8cc_03_a38fbaa06b6874aa41823cd9433129e5e}{State}}\&\textcolor{keyword}{>}(\mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a4d928b0f777e8bf364d754cfb8c65ece}{GetExistingState}}(\&header));}
\DoxyCodeLine{349   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1StateStorage_a4d928b0f777e8bf364d754cfb8c65ece}\label{classv8_1_1internal_1_1StateStorage_a4d928b0f777e8bf364d754cfb8c65ece}} 
\index{v8::internal::StateStorage@{v8::internal::StateStorage}!GetExistingState@{GetExistingState}}
\index{GetExistingState@{GetExistingState}!v8::internal::StateStorage@{v8::internal::StateStorage}}
\doxysubsubsection{\texorpdfstring{GetExistingState()}{GetExistingState()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1StateBase}{State\+Base}}\& v8\+::internal\+::\+State\+Storage\+::\+Get\+Existing\+State (\begin{DoxyParamCaption}\item[{const void $\ast$}]{key }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 342 of file cpp-\/snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{342                                                      \{}
\DoxyCodeLine{343     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a793f4a8b93c687f93f94ef14cd035289}{StateExists}}(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}));}
\DoxyCodeLine{344     \textcolor{keywordflow}{return} *\mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a3bdf17a93e78f558362e48a43d6ee219}{states\_}}.at(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}).get();}
\DoxyCodeLine{345   \}}

\end{DoxyCode}


References CHECK, and v8\+::internal\+::key.

\mbox{\Hypertarget{classv8_1_1internal_1_1StateStorage_acd49c23192cb46cc3d89877a9df55920}\label{classv8_1_1internal_1_1StateStorage_acd49c23192cb46cc3d89877a9df55920}} 
\index{v8::internal::StateStorage@{v8::internal::StateStorage}!GetOrCreateState@{GetOrCreateState}}
\index{GetOrCreateState@{GetOrCreateState}!v8::internal::StateStorage@{v8::internal::StateStorage}}
\doxysubsubsection{\texorpdfstring{GetOrCreateState()}{GetOrCreateState()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1State}{State}}\& v8\+::internal\+::\+State\+Storage\+::\+Get\+Or\+Create\+State (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcppgc_1_1internal_1_1HeapObjectHeader}{Heap\+Object\+Header}} \&}]{header }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 351 of file cpp-\/snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{351                                                           \{}
\DoxyCodeLine{352     \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a793f4a8b93c687f93f94ef14cd035289}{StateExists}}(\&header)) \{}
\DoxyCodeLine{353       \textcolor{keyword}{auto} it = \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a3bdf17a93e78f558362e48a43d6ee219}{states\_}}.insert(std::make\_pair(}
\DoxyCodeLine{354           \&header, std::make\_unique<State>(header, ++\mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a387facb8770bb32c9aba90f57d9943d5}{state\_count\_}})));}
\DoxyCodeLine{355       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(it.second);}
\DoxyCodeLine{356       \mbox{\hyperlink{src_2base_2macros_8h_a280b0798f270f4b3f361c9ab64832956}{USE}}(it);}
\DoxyCodeLine{357     \}}
\DoxyCodeLine{358     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a4d928b0f777e8bf364d754cfb8c65ece}{GetExistingState}}(header);}
\DoxyCodeLine{359   \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::\+State\+Base\+::state\+\_\+count\+\_\+, and USE.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1StateStorage_acd49c23192cb46cc3d89877a9df55920_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1StateStorage_a793f4a8b93c687f93f94ef14cd035289}\label{classv8_1_1internal_1_1StateStorage_a793f4a8b93c687f93f94ef14cd035289}} 
\index{v8::internal::StateStorage@{v8::internal::StateStorage}!StateExists@{StateExists}}
\index{StateExists@{StateExists}!v8::internal::StateStorage@{v8::internal::StateStorage}}
\doxysubsubsection{\texorpdfstring{StateExists()}{StateExists()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::\+State\+Storage\+::\+State\+Exists (\begin{DoxyParamCaption}\item[{const void $\ast$}]{key }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 338 of file cpp-\/snapshot.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{338                                           \{}
\DoxyCodeLine{339     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a3bdf17a93e78f558362e48a43d6ee219}{states\_}}.find(\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}) != \mbox{\hyperlink{classv8_1_1internal_1_1StateStorage_a3bdf17a93e78f558362e48a43d6ee219}{states\_}}.end();}
\DoxyCodeLine{340   \}}

\end{DoxyCode}


References v8\+::internal\+::key.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1StateStorage_a387facb8770bb32c9aba90f57d9943d5}\label{classv8_1_1internal_1_1StateStorage_a387facb8770bb32c9aba90f57d9943d5}} 
\index{v8::internal::StateStorage@{v8::internal::StateStorage}!state\_count\_@{state\_count\_}}
\index{state\_count\_@{state\_count\_}!v8::internal::StateStorage@{v8::internal::StateStorage}}
\doxysubsubsection{\texorpdfstring{state\_count\_}{state\_count\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::\+State\+Storage\+::state\+\_\+count\+\_\+ = 0\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 379 of file cpp-\/snapshot.\+cc.

\mbox{\Hypertarget{classv8_1_1internal_1_1StateStorage_a3bdf17a93e78f558362e48a43d6ee219}\label{classv8_1_1internal_1_1StateStorage_a3bdf17a93e78f558362e48a43d6ee219}} 
\index{v8::internal::StateStorage@{v8::internal::StateStorage}!states\_@{states\_}}
\index{states\_@{states\_}!v8::internal::StateStorage@{v8::internal::StateStorage}}
\doxysubsubsection{\texorpdfstring{states\_}{states\_}}
{\footnotesize\ttfamily std\+::unordered\+\_\+map$<$const void$\ast$, std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1internal_1_1StateBase}{State\+Base}}$>$ $>$ v8\+::internal\+::\+State\+Storage\+::states\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 378 of file cpp-\/snapshot.\+cc.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/cppgc-\/js/\mbox{\hyperlink{cpp-snapshot_8cc}{cpp-\/snapshot.\+cc}}\end{DoxyCompactItemize}
