\hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{}\doxysection{v8\+::internal\+::compiler\+::turboshaft\+::Branch\+Elimination\+Reducer$<$ Next $>$ Class Template Reference}
\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}


{\ttfamily \#include $<$branch-\/elimination-\/reducer.\+h$>$}



Inheritance diagram for v8\+::internal\+::compiler\+::turboshaft\+::Branch\+Elimination\+Reducer$<$ Next $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::compiler\+::turboshaft\+::Branch\+Elimination\+Reducer$<$ Next $>$\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_adf47d1104ae8a436529c2c501a8e44ef}{Bind}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$new\+\_\+block)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1None}{None}} $>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a91ef57630dd2536062ed130e3aa71085}{Branch}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}} $>$ cond, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$if\+\_\+true, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$if\+\_\+false, \mbox{\hyperlink{namespacev8_1_1internal_ab5a4f63d4df50ea3fd9299c981ae3187}{Branch\+Hint}} hint)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Any}{Any}} $>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ae2523e565bf3b8c3b7ac156b32fe03f7}{Select}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}} $>$ cond, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Any}{Any}} $>$ vtrue, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Any}{Any}} $>$ vfalse, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RegisterRepresentation}{Register\+Representation}} rep, \mbox{\hyperlink{namespacev8_1_1internal_ab5a4f63d4df50ea3fd9299c981ae3187}{Branch\+Hint}} hint, \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1SelectOp_a692e6ff9cbbc5b45be6fcc4cae071bbd}{Select\+Op\+::\+Implementation}} implem)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1None}{None}} $>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2398a49a6b0225c4e2f257960254c24c}{Goto}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$destination, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} is\+\_\+backedge)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1None}{None}} $>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a73ffc386c3e9cffbd4de03390a987eaa}{Deoptimize\+If}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}} $>$ condition, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1FrameState}{Frame\+State}} $>$ frame\+\_\+state, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} negated, const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1DeoptimizeParameters}{Deoptimize\+Parameters}} $\ast$parameters)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aaa9e8ae06025e1538a728ca7aea6aec7}{Reset\+To\+Block}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a52bb0c82758cfe717e5de356fbe6a77c}{Clear\+Current\+Entries}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2ac70c9d9873d1601b858d357a85c7c1}{Start\+Layer}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$block)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aa4350a826da6fd7895407d8e939b72da}{Replay\+Missing\+Predecessors}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$new\+\_\+block)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a65ba49d97440129afe0f4fd4395788d5}{Can\+Be\+Constant\+Folded}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex}{Op\+Index}} idx, const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$cond\+\_\+input\+\_\+block, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} has\+\_\+phi=\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}, \mbox{\hyperlink{classint}{int}} depth=0)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a01b86532f5e6c6b496e49b08de3dc5e5}{dominator\+\_\+path\+\_\+}} \{\mbox{\hyperlink{interpreter-builtins-x64_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\+\_\+\+\_\+}} phase\+\_\+zone()\}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1LayeredHashMap}{Layered\+Hash\+Map}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}} $>$, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\+\_\+conditions\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\subsubsection*{template$<$class Next$>$\newline
class v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$}



Definition at line 26 of file branch-\/elimination-\/reducer.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_adf47d1104ae8a436529c2c501a8e44ef}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_adf47d1104ae8a436529c2c501a8e44ef}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!Bind@{Bind}}
\index{Bind@{Bind}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{Bind()}{Bind()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::Bind (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$}]{new\+\_\+block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 202 of file branch-\/elimination-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{202                               \{}
\DoxyCodeLine{203     Next::Bind(new\_block);}
\DoxyCodeLine{204 }
\DoxyCodeLine{205     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ac4d098a2688a019f309cb6f242bb421a}{ShouldSkipOptimizationStep}}()) \{}
\DoxyCodeLine{206       \textcolor{comment}{// It's important to have a ShouldSkipOptimizationStep here, because}}
\DoxyCodeLine{207       \textcolor{comment}{// \{known\_conditions\_\} assumes that we perform all branch elimination}}
\DoxyCodeLine{208       \textcolor{comment}{// possible (which implies that we don't ever insert twice the same thing}}
\DoxyCodeLine{209       \textcolor{comment}{// in \{known\_conditions\_\}). If we stop doing ReduceBranch because of}}
\DoxyCodeLine{210       \textcolor{comment}{// ShouldSkipOptimizationStep, then this assumption doesn't hold anymore,}}
\DoxyCodeLine{211       \textcolor{comment}{// and we should thus stop updating \{known\_conditions\_\} to not trigger}}
\DoxyCodeLine{212       \textcolor{comment}{// some DCHECKs.}}
\DoxyCodeLine{213       \textcolor{keywordflow}{return};}
\DoxyCodeLine{214     \}}
\DoxyCodeLine{215 }
\DoxyCodeLine{216     \textcolor{comment}{// Update \{known\_conditions\_\} based on where \{new\_block\} is in the dominator}}
\DoxyCodeLine{217     \textcolor{comment}{// tree.}}
\DoxyCodeLine{218     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aaa9e8ae06025e1538a728ca7aea6aec7}{ResetToBlock}}(new\_block);}
\DoxyCodeLine{219     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aa4350a826da6fd7895407d8e939b72da}{ReplayMissingPredecessors}}(new\_block);}
\DoxyCodeLine{220     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2ac70c9d9873d1601b858d357a85c7c1}{StartLayer}}(new\_block);}
\DoxyCodeLine{221 }
\DoxyCodeLine{222     \textcolor{keywordflow}{if} (new\_block-\/>IsBranchTarget()) \{}
\DoxyCodeLine{223       \textcolor{comment}{// The current block is a branch target, so we add the branch condition}}
\DoxyCodeLine{224       \textcolor{comment}{// along with its value in \{known\_conditions\_\}.}}
\DoxyCodeLine{225       \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(new\_block-\/>PredecessorCount(), 1);}
\DoxyCodeLine{226       \textcolor{keyword}{const} \mbox{\hyperlink{operation_8h_a06c4955b824eb9d03ace9eca764f59b4}{Operation}}\& op =}
\DoxyCodeLine{227           new\_block-\/>LastPredecessor()-\/>LastOperation(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} output\_graph());}
\DoxyCodeLine{228       \textcolor{keywordflow}{if} (\textcolor{keyword}{const} BranchOp* branch = op.TryCast<BranchOp>()) \{}
\DoxyCodeLine{229         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(new\_block, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a2cbce91371c0abc5265685f2bf0f7c27}{any\_of}}(branch-\/>if\_true, branch-\/>if\_false));}
\DoxyCodeLine{230         \textcolor{keywordtype}{bool} condition\_value = branch-\/>if\_true == new\_block;}
\DoxyCodeLine{231         \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\_conditions\_}}.Contains(branch-\/>condition())) \{}
\DoxyCodeLine{232           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\_conditions\_}}.InsertNewKey(branch-\/>condition(), condition\_value);}
\DoxyCodeLine{233         \}}
\DoxyCodeLine{234       \}}
\DoxyCodeLine{235     \}}
\DoxyCodeLine{236   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::any\+\_\+of(), DCHECK\+\_\+\+EQ, v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::known\+\_\+conditions\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Replay\+Missing\+Predecessors(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Reset\+To\+Block(), v8\+::internal\+::compiler\+::turboshaft\+::\+Should\+Skip\+Optimization\+Step(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Start\+Layer(), and v8\+::internal\+::compiler\+::turboshaft\+::\+Operation\+::\+Try\+Cast().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_adf47d1104ae8a436529c2c501a8e44ef_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a91ef57630dd2536062ed130e3aa71085}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a91ef57630dd2536062ed130e3aa71085}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!Branch@{Branch}}
\index{Branch@{Branch}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{Branch()}{Branch()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1None}{None}}$>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::Branch (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}} $>$}]{cond,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$}]{if\+\_\+true,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$}]{if\+\_\+false,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab5a4f63d4df50ea3fd9299c981ae3187}{Branch\+Hint}}}]{hint }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 238 of file branch-\/elimination-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{239                                           \{}
\DoxyCodeLine{240     \mbox{\hyperlink{compiler_2turboshaft_2assembler_8h_a7a449d0096649ec2e7ec91ea05833a5d}{LABEL\_BLOCK}}(no\_change) \{}
\DoxyCodeLine{241       \textcolor{keywordflow}{return} Next::ReduceBranch(cond, if\_true, if\_false, hint);}
\DoxyCodeLine{242     \}}
\DoxyCodeLine{243     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ac4d098a2688a019f309cb6f242bb421a}{ShouldSkipOptimizationStep}}()) \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{244 }
\DoxyCodeLine{245     \textcolor{keywordflow}{if} (\textcolor{keyword}{const} Block* if\_true\_origin = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} OriginForBlockStart(if\_true)) \{}
\DoxyCodeLine{246       \textcolor{keywordflow}{if} (\textcolor{keyword}{const} Block* if\_false\_origin = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} OriginForBlockStart(if\_false)) \{}
\DoxyCodeLine{247         \textcolor{keyword}{const} \mbox{\hyperlink{operation_8h_a06c4955b824eb9d03ace9eca764f59b4}{Operation}}\& first\_op\_true =}
\DoxyCodeLine{248             if\_true\_origin-\/>FirstOperation(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} input\_graph());}
\DoxyCodeLine{249         \textcolor{keyword}{const} \mbox{\hyperlink{operation_8h_a06c4955b824eb9d03ace9eca764f59b4}{Operation}}\& first\_op\_false =}
\DoxyCodeLine{250             if\_false\_origin-\/>FirstOperation(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} input\_graph());}
\DoxyCodeLine{251         \textcolor{keyword}{const} GotoOp* true\_goto = first\_op\_true.template TryCast<GotoOp>();}
\DoxyCodeLine{252         \textcolor{keyword}{const} GotoOp* false\_goto = first\_op\_false.template TryCast<GotoOp>();}
\DoxyCodeLine{253         \textcolor{comment}{// We apply the fourth optimization, replacing empty braches with a}}
\DoxyCodeLine{254         \textcolor{comment}{// Goto to their destination (if it's the same block).}}
\DoxyCodeLine{255         \textcolor{keywordflow}{if} (true\_goto \&\& false\_goto \&\&}
\DoxyCodeLine{256             true\_goto-\/>destination == false\_goto-\/>destination) \{}
\DoxyCodeLine{257           Block* merge\_block = true\_goto-\/>destination;}
\DoxyCodeLine{258           \textcolor{keywordflow}{if} (!merge\_block-\/>HasPhis(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} input\_graph())) \{}
\DoxyCodeLine{259             \textcolor{comment}{// Using `ReduceInputGraphGoto()` here enables more optimizations.}}
\DoxyCodeLine{260             \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2398a49a6b0225c4e2f257960254c24c}{Goto}}(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} MapToNewGraph(merge\_block));}
\DoxyCodeLine{261             \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V_ad561401feffb45d9b62238c0c0739e5b}{V<None>::Invalid}}();}
\DoxyCodeLine{262           \}}
\DoxyCodeLine{263         \}}
\DoxyCodeLine{264       \}}
\DoxyCodeLine{265     \}}
\DoxyCodeLine{266 }
\DoxyCodeLine{267     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} cond\_value = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\_conditions\_}}.Get(cond)) \{}
\DoxyCodeLine{268       \textcolor{comment}{// We already know the value of \{cond\}. We thus remove the branch (this is}}
\DoxyCodeLine{269       \textcolor{comment}{// the "{}first"{} optimization in the documentation at the top of this}}
\DoxyCodeLine{270       \textcolor{comment}{// module).}}
\DoxyCodeLine{271       \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2398a49a6b0225c4e2f257960254c24c}{Goto}}(*cond\_value ? if\_true : if\_false);}
\DoxyCodeLine{272       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V_ad561401feffb45d9b62238c0c0739e5b}{V<None>::Invalid}}();}
\DoxyCodeLine{273     \}}
\DoxyCodeLine{274     \textcolor{comment}{// We can't optimize this branch.}}
\DoxyCodeLine{275     \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{276   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Goto\+Op\+::destination, v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Goto(), v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Has\+Phis(), v8\+::internal\+::compiler\+::turboshaft\+::\+V$<$ T $>$\+::\+Invalid(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::known\+\_\+conditions\+\_\+, LABEL\+\_\+\+BLOCK, and v8\+::internal\+::compiler\+::turboshaft\+::\+Should\+Skip\+Optimization\+Step().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a91ef57630dd2536062ed130e3aa71085_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a65ba49d97440129afe0f4fd4395788d5}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a65ba49d97440129afe0f4fd4395788d5}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!CanBeConstantFolded@{CanBeConstantFolded}}
\index{CanBeConstantFolded@{CanBeConstantFolded}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{CanBeConstantFolded()}{CanBeConstantFolded()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::Can\+Be\+Constant\+Folded (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1OpIndex}{Op\+Index}}}]{idx,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$}]{cond\+\_\+input\+\_\+block,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}}}]{has\+\_\+phi = {\ttfamily \mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}},  }\item[{\mbox{\hyperlink{classint}{int}}}]{depth = {\ttfamily 0} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 560 of file branch-\/elimination-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{561                                                                 \{}
\DoxyCodeLine{562     \textcolor{comment}{// We limit the depth of the search to \{kMaxDepth\} in order to avoid}}
\DoxyCodeLine{563     \textcolor{comment}{// potentially visiting a lot of nodes.}}
\DoxyCodeLine{564     \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} kMaxDepth = 4;}
\DoxyCodeLine{565     \textcolor{keywordflow}{if} (depth > kMaxDepth) \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{566     \textcolor{keyword}{const} \mbox{\hyperlink{operation_8h_a06c4955b824eb9d03ace9eca764f59b4}{Operation}}\& op = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} input\_graph().Get(idx);}
\DoxyCodeLine{567     \textcolor{keywordflow}{if} (!cond\_input\_block-\/>Contains(idx)) \{}
\DoxyCodeLine{568       \textcolor{comment}{// If we reach a ConstantOp without having gone through a Phi, then the}}
\DoxyCodeLine{569       \textcolor{comment}{// condition can be constant-\/folded without performing block cloning.}}
\DoxyCodeLine{570       \textcolor{keywordflow}{return} has\_phi \&\& op.Is<ConstantOp>();}
\DoxyCodeLine{571     \}}
\DoxyCodeLine{572     \textcolor{keywordflow}{if} (op.Is<PhiOp>()) \{}
\DoxyCodeLine{573       \textcolor{keywordtype}{int} curr\_block\_pred\_idx = cond\_input\_block-\/>GetPredecessorIndex(}
\DoxyCodeLine{574           \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} current\_block()-\/>OriginForBlockEnd());}
\DoxyCodeLine{575       \textcolor{comment}{// There is no need to increment \{depth\} on this recursive call, because}}
\DoxyCodeLine{576       \textcolor{comment}{// it will anyways exit early because \{idx\} won't be in}}
\DoxyCodeLine{577       \textcolor{comment}{// \{cond\_input\_block\}.}}
\DoxyCodeLine{578       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a65ba49d97440129afe0f4fd4395788d5}{CanBeConstantFolded}}(op.input(curr\_block\_pred\_idx),}
\DoxyCodeLine{579                                  cond\_input\_block, \textcolor{comment}{/*has\_phi*/} \textcolor{keyword}{true}, depth);}
\DoxyCodeLine{580     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (op.Is<ConstantOp>()) \{}
\DoxyCodeLine{581       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{582     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (op.input\_count == 0) \{}
\DoxyCodeLine{583       \textcolor{comment}{// Any operation that has no input but is not a ConstantOp probably won't}}
\DoxyCodeLine{584       \textcolor{comment}{// be able to be constant-\/folded away (eg, LoadRootRegister).}}
\DoxyCodeLine{585       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{586     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (!op.Effects().can\_be\_constant\_folded()) \{}
\DoxyCodeLine{587       \textcolor{comment}{// Operations with side-\/effects won't be able to be constant-\/folded.}}
\DoxyCodeLine{588       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{589     \}}
\DoxyCodeLine{590 }
\DoxyCodeLine{591     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < op.input\_count; \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{592       \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a65ba49d97440129afe0f4fd4395788d5}{CanBeConstantFolded}}(op.input(\mbox{\hyperlink{namespacev8_1_1internal}{i}}), cond\_input\_block, has\_phi,}
\DoxyCodeLine{593                                depth + 1)) \{}
\DoxyCodeLine{594         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{595       \}}
\DoxyCodeLine{596     \}}
\DoxyCodeLine{597 }
\DoxyCodeLine{598     \textcolor{keywordflow}{return} has\_phi;}
\DoxyCodeLine{599   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Op\+Effects\+::can\+\_\+be\+\_\+constant\+\_\+folded(), v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Contains(), v8\+::internal\+::compiler\+::turboshaft\+::\+Operation\+::\+Effects(), v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Get\+Predecessor\+Index(), v8\+::internal\+::compiler\+::turboshaft\+::\+Operation\+::input(), v8\+::internal\+::compiler\+::turboshaft\+::\+Operation\+::input\+\_\+count, and v8\+::internal\+::compiler\+::turboshaft\+::\+Operation\+::\+Is().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Goto().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a65ba49d97440129afe0f4fd4395788d5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a65ba49d97440129afe0f4fd4395788d5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a52bb0c82758cfe717e5de356fbe6a77c}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a52bb0c82758cfe717e5de356fbe6a77c}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!ClearCurrentEntries@{ClearCurrentEntries}}
\index{ClearCurrentEntries@{ClearCurrentEntries}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{ClearCurrentEntries()}{ClearCurrentEntries()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::Clear\+Current\+Entries (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 472 of file branch-\/elimination-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{472                              \{}
\DoxyCodeLine{473     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\_conditions\_}}.DropLastLayer();}
\DoxyCodeLine{474     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a01b86532f5e6c6b496e49b08de3dc5e5}{dominator\_path\_}}.pop\_back();}
\DoxyCodeLine{475   \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::dominator\+\_\+path\+\_\+, and v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::known\+\_\+conditions\+\_\+.



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Reset\+To\+Block().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a52bb0c82758cfe717e5de356fbe6a77c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a73ffc386c3e9cffbd4de03390a987eaa}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a73ffc386c3e9cffbd4de03390a987eaa}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!DeoptimizeIf@{DeoptimizeIf}}
\index{DeoptimizeIf@{DeoptimizeIf}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{DeoptimizeIf()}{DeoptimizeIf()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1None}{None}}$>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::Deoptimize\+If (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}} $>$}]{condition,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1FrameState}{Frame\+State}} $>$}]{frame\+\_\+state,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}}}]{negated,  }\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1DeoptimizeParameters}{Deoptimize\+Parameters}} $\ast$}]{parameters }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 399 of file branch-\/elimination-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{401                                                                        \{}
\DoxyCodeLine{402     \mbox{\hyperlink{compiler_2turboshaft_2assembler_8h_a7a449d0096649ec2e7ec91ea05833a5d}{LABEL\_BLOCK}}(no\_change) \{}
\DoxyCodeLine{403       \textcolor{keywordflow}{return} Next::ReduceDeoptimizeIf(condition, frame\_state, negated,}
\DoxyCodeLine{404                                       parameters);}
\DoxyCodeLine{405     \}}
\DoxyCodeLine{406     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ac4d098a2688a019f309cb6f242bb421a}{ShouldSkipOptimizationStep}}()) \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{407 }
\DoxyCodeLine{408     std::optional<bool> condition\_value = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\_conditions\_}}.Get(condition);}
\DoxyCodeLine{409     \textcolor{keywordflow}{if} (!condition\_value.has\_value()) \{}
\DoxyCodeLine{410       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\_conditions\_}}.InsertNewKey(condition, negated);}
\DoxyCodeLine{411       \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{412     \}}
\DoxyCodeLine{413 }
\DoxyCodeLine{414     \textcolor{keywordflow}{if} ((*condition\_value \&\& !negated) || (!*condition\_value \&\& negated)) \{}
\DoxyCodeLine{415       \textcolor{comment}{// The condition is true, so we always deoptimize.}}
\DoxyCodeLine{416       \textcolor{keywordflow}{return} Next::ReduceDeoptimize(frame\_state, parameters);}
\DoxyCodeLine{417     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{418       \textcolor{comment}{// The condition is false, so we never deoptimize.}}
\DoxyCodeLine{419       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V_ad561401feffb45d9b62238c0c0739e5b}{V<None>::Invalid}}();}
\DoxyCodeLine{420     \}}
\DoxyCodeLine{421   \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::turboshaft\+::\+V$<$ T $>$\+::\+Invalid(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::known\+\_\+conditions\+\_\+, LABEL\+\_\+\+BLOCK, and v8\+::internal\+::compiler\+::turboshaft\+::\+Should\+Skip\+Optimization\+Step().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a73ffc386c3e9cffbd4de03390a987eaa_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2398a49a6b0225c4e2f257960254c24c}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2398a49a6b0225c4e2f257960254c24c}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!Goto@{Goto}}
\index{Goto@{Goto}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{Goto()}{Goto()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1None}{None}}$>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::Goto (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$}]{destination,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}}}]{is\+\_\+backedge }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 296 of file branch-\/elimination-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{296                                                              \{}
\DoxyCodeLine{297     \mbox{\hyperlink{compiler_2turboshaft_2assembler_8h_a7a449d0096649ec2e7ec91ea05833a5d}{LABEL\_BLOCK}}(no\_change) \{}
\DoxyCodeLine{298       \textcolor{keywordflow}{return} Next::ReduceGoto(destination, is\_backedge);}
\DoxyCodeLine{299     \}}
\DoxyCodeLine{300     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ac4d098a2688a019f309cb6f242bb421a}{ShouldSkipOptimizationStep}}()) \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{301 }
\DoxyCodeLine{302     \textcolor{keyword}{const} Block* destination\_origin = \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} OriginForBlockStart(destination);}
\DoxyCodeLine{303     \textcolor{keywordflow}{if} (!destination\_origin || !destination\_origin-\/>IsMerge()) \{}
\DoxyCodeLine{304       \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{305     \}}
\DoxyCodeLine{306 }
\DoxyCodeLine{307     \textcolor{comment}{// Maximum size up to which we allow cloning a block. Cloning too large}}
\DoxyCodeLine{308     \textcolor{comment}{// blocks will lead to increasing the size of the graph too much, which will}}
\DoxyCodeLine{309     \textcolor{comment}{// lead to slower compile time, and larger generated code.}}
\DoxyCodeLine{310     \textcolor{comment}{// TODO(dmercadier): we might want to exclude Phis from this, since they are}}
\DoxyCodeLine{311     \textcolor{comment}{// typically removed when we clone a block. However, computing the number of}}
\DoxyCodeLine{312     \textcolor{comment}{// operations in a block excluding Phis is more costly (because we'd have to}}
\DoxyCodeLine{313     \textcolor{comment}{// iterate all of the operations one by one).}}
\DoxyCodeLine{314     \textcolor{comment}{// TODO(dmercadier): this "{}13"{} was selected fairly arbitrarily (= it sounded}}
\DoxyCodeLine{315     \textcolor{comment}{// reasonable). It could be useful to run a few benchmarks to see if we can}}
\DoxyCodeLine{316     \textcolor{comment}{// find a more optimal number.}}
\DoxyCodeLine{317     \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} kMaxOpCountForCloning = 13;}
\DoxyCodeLine{318 }
\DoxyCodeLine{319     \textcolor{keyword}{const} \mbox{\hyperlink{operation_8h_a06c4955b824eb9d03ace9eca764f59b4}{Operation}}\& last\_op =}
\DoxyCodeLine{320         destination\_origin-\/>LastOperation(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} input\_graph());}
\DoxyCodeLine{321 }
\DoxyCodeLine{322     \textcolor{keywordflow}{if} (destination\_origin-\/>OpCountUpperBound() > kMaxOpCountForCloning) \{}
\DoxyCodeLine{323       \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{324     \}}
\DoxyCodeLine{325 }
\DoxyCodeLine{326     \textcolor{keywordflow}{if} (\textcolor{keyword}{const} BranchOp* branch = last\_op.template TryCast<BranchOp>()) \{}
\DoxyCodeLine{327       V<Word32> condition =}
\DoxyCodeLine{328           \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} \textcolor{keyword}{template} MapToNewGraph<true>(branch-\/>condition());}
\DoxyCodeLine{329       \textcolor{keywordflow}{if} (condition.valid()) \{}
\DoxyCodeLine{330         std::optional<bool> condition\_value = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\_conditions\_}}.Get(condition);}
\DoxyCodeLine{331         \textcolor{keywordflow}{if} (!condition\_value.has\_value()) \{}
\DoxyCodeLine{332           \textcolor{comment}{// We've already visited the subsequent block's Branch condition, but}}
\DoxyCodeLine{333           \textcolor{comment}{// we don't know its value right now.}}
\DoxyCodeLine{334           \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{335         \}}
\DoxyCodeLine{336 }
\DoxyCodeLine{337         \textcolor{comment}{// The next block \{new\_dst\} is a Merge, and ends with a Branch whose}}
\DoxyCodeLine{338         \textcolor{comment}{// condition is already known. As per the 2nd optimization, we'll}}
\DoxyCodeLine{339         \textcolor{comment}{// process \{new\_dst\} right away, and we'll end it with a Goto instead of}}
\DoxyCodeLine{340         \textcolor{comment}{// its current Branch.}}
\DoxyCodeLine{341         \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CloneBlockAndGoto(destination\_origin);}
\DoxyCodeLine{342         \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{343       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{344         \textcolor{comment}{// Optimization 2bis:}}
\DoxyCodeLine{345         \textcolor{comment}{// \{condition\} hasn't been visited yet, and thus it doesn't have a}}
\DoxyCodeLine{346         \textcolor{comment}{// mapping to the new graph. However, if it's the result of a Phi whose}}
\DoxyCodeLine{347         \textcolor{comment}{// input is coming from the current block, then it still makes sense to}}
\DoxyCodeLine{348         \textcolor{comment}{// inline \{destination\_origin\}: the condition will then be known.}}
\DoxyCodeLine{349         \textcolor{keywordflow}{if} (destination\_origin-\/>Contains(branch-\/>condition())) \{}
\DoxyCodeLine{350           \textcolor{keywordflow}{if} (\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} input\_graph().\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_a2b5e79bd829824237e784a6cde29309e}{Get}}(branch-\/>condition()).template Is<PhiOp>()) \{}
\DoxyCodeLine{351             \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CloneBlockAndGoto(destination\_origin);}
\DoxyCodeLine{352             \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{353           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a65ba49d97440129afe0f4fd4395788d5}{CanBeConstantFolded}}(branch-\/>condition(),}
\DoxyCodeLine{354                                          destination\_origin)) \{}
\DoxyCodeLine{355             \textcolor{comment}{// If the \{cond\} only uses constant Phis that come from the current}}
\DoxyCodeLine{356             \textcolor{comment}{// block, it's probably worth it to clone the block in order to}}
\DoxyCodeLine{357             \textcolor{comment}{// constant-\/fold away the Branch.}}
\DoxyCodeLine{358             \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} CloneBlockAndGoto(destination\_origin);}
\DoxyCodeLine{359             \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{360           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{361             \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{362           \}}
\DoxyCodeLine{363         \}}
\DoxyCodeLine{364       \}}
\DoxyCodeLine{365     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (last\_op.template Is<ReturnOp>()) \{}
\DoxyCodeLine{366       \textcolor{comment}{// In case of the following pattern, the `Goto` is most likely going to be}}
\DoxyCodeLine{367       \textcolor{comment}{// folded into a jump table, so duplicating Block 5 will only increase the}}
\DoxyCodeLine{368       \textcolor{comment}{// amount of different targets within the jump table.}}
\DoxyCodeLine{369       \textcolor{comment}{//}}
\DoxyCodeLine{370       \textcolor{comment}{// Block 1:}}
\DoxyCodeLine{371       \textcolor{comment}{// [...]}}
\DoxyCodeLine{372       \textcolor{comment}{// SwitchOp()[2, 3, 4]}}
\DoxyCodeLine{373       \textcolor{comment}{//}}
\DoxyCodeLine{374       \textcolor{comment}{// Block 2:    Block 3:    Block 4:}}
\DoxyCodeLine{375       \textcolor{comment}{// Goto  5     Goto  5     Goto  6}}
\DoxyCodeLine{376       \textcolor{comment}{//}}
\DoxyCodeLine{377       \textcolor{comment}{// Block 5:                Block 6:}}
\DoxyCodeLine{378       \textcolor{comment}{// [...]                   [...]}}
\DoxyCodeLine{379       \textcolor{comment}{// ReturnOp}}
\DoxyCodeLine{380       \textcolor{keywordflow}{if} (Asm().current\_block()-\/>PredecessorCount() == 1 \&\&}
\DoxyCodeLine{381           Asm().current\_block()-\/>\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ae72af9053b45630a01be9a6140820b5a}{begin}}() ==}
\DoxyCodeLine{382               \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} output\_graph().next\_operation\_index()) \{}
\DoxyCodeLine{383         \textcolor{keyword}{const} Block* prev\_block = Asm().current\_block()-\/>LastPredecessor();}
\DoxyCodeLine{384         \textcolor{keywordflow}{if} (prev\_block-\/>LastOperation(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} output\_graph())}
\DoxyCodeLine{385                 .\textcolor{keyword}{template} Is<SwitchOp>()) \{}
\DoxyCodeLine{386           \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{387         \}}
\DoxyCodeLine{388       \}}
\DoxyCodeLine{389       \textcolor{comment}{// The destination block in the old graph ends with a Return}}
\DoxyCodeLine{390       \textcolor{comment}{// and the old destination is a merge block, so we can directly}}
\DoxyCodeLine{391       \textcolor{comment}{// inline the destination block in place of the Goto.}}
\DoxyCodeLine{392       Asm().CloneAndInlineBlock(destination\_origin);}
\DoxyCodeLine{393       \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{394     \}}
\DoxyCodeLine{395 }
\DoxyCodeLine{396     \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{397   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::compiler\+::begin(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Can\+Be\+Constant\+Folded(), v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Contains(), v8\+::internal\+::compiler\+::turboshaft\+::\+Get(), v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Is\+Merge(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::known\+\_\+conditions\+\_\+, LABEL\+\_\+\+BLOCK, v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Last\+Operation(), v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Last\+Predecessor(), v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Op\+Count\+Upper\+Bound(), v8\+::internal\+::compiler\+::turboshaft\+::\+Should\+Skip\+Optimization\+Step(), and v8\+::internal\+::compiler\+::turboshaft\+::\+Op\+Index\+::valid().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Branch().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2398a49a6b0225c4e2f257960254c24c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2398a49a6b0225c4e2f257960254c24c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aa4350a826da6fd7895407d8e939b72da}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aa4350a826da6fd7895407d8e939b72da}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!ReplayMissingPredecessors@{ReplayMissingPredecessors}}
\index{ReplayMissingPredecessors@{ReplayMissingPredecessors}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{ReplayMissingPredecessors()}{ReplayMissingPredecessors()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::Replay\+Missing\+Predecessors (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$}]{new\+\_\+block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 523 of file branch-\/elimination-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{523                                                    \{}
\DoxyCodeLine{524     \textcolor{comment}{// Collect blocks that need to be replayed.}}
\DoxyCodeLine{525     base::SmallVector<Block*, 32> missing\_blocks;}
\DoxyCodeLine{526     \textcolor{keywordflow}{for} (Block* dom = new\_block-\/>GetDominator();}
\DoxyCodeLine{527          dom != \textcolor{keyword}{nullptr} \&\& dom != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a01b86532f5e6c6b496e49b08de3dc5e5}{dominator\_path\_}}.back();}
\DoxyCodeLine{528          dom = dom-\/>GetDominator()) \{}
\DoxyCodeLine{529       missing\_blocks.push\_back(dom);}
\DoxyCodeLine{530     \}}
\DoxyCodeLine{531     \textcolor{comment}{// Actually does the replaying, starting from the oldest block and finishing}}
\DoxyCodeLine{532     \textcolor{comment}{// with the newest one (so that they will later be removed in the correct}}
\DoxyCodeLine{533     \textcolor{comment}{// order).}}
\DoxyCodeLine{534     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} it = missing\_blocks.rbegin(); it != missing\_blocks.rend(); ++it) \{}
\DoxyCodeLine{535       Block* block = *it;}
\DoxyCodeLine{536       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2ac70c9d9873d1601b858d357a85c7c1}{StartLayer}}(block);}
\DoxyCodeLine{537 }
\DoxyCodeLine{538       \textcolor{keywordflow}{if} (block-\/>IsBranchTarget()) \{}
\DoxyCodeLine{539         \textcolor{keyword}{const} \mbox{\hyperlink{operation_8h_a06c4955b824eb9d03ace9eca764f59b4}{Operation}}\& op =}
\DoxyCodeLine{540             block-\/>LastPredecessor()-\/>LastOperation(\mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} output\_graph());}
\DoxyCodeLine{541         \textcolor{keywordflow}{if} (\textcolor{keyword}{const} BranchOp* branch = op.TryCast<BranchOp>()) \{}
\DoxyCodeLine{542           \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(branch-\/>if\_true-\/>index() == block-\/>index() ||}
\DoxyCodeLine{543                  branch-\/>if\_false-\/>index() == block-\/>index());}
\DoxyCodeLine{544           \textcolor{keywordtype}{bool} condition\_value =}
\DoxyCodeLine{545               branch-\/>if\_true-\/>index().valid()}
\DoxyCodeLine{546                   ? branch-\/>if\_true-\/>index() == block-\/>index()}
\DoxyCodeLine{547                   : branch-\/>if\_false-\/>index() != block-\/>index();}
\DoxyCodeLine{548           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\_conditions\_}}.InsertNewKey(branch-\/>condition(), condition\_value);}
\DoxyCodeLine{549         \}}
\DoxyCodeLine{550       \}}
\DoxyCodeLine{551     \}}
\DoxyCodeLine{552   \}}

\end{DoxyCode}


References \+\_\+\+\_\+, v8\+::internal\+::\+DCHECK(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::dominator\+\_\+path\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Random\+Access\+Stack\+Dominator\+Node$<$ Derived $>$\+::\+Get\+Dominator(), v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::index(), v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Is\+Branch\+Target(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::known\+\_\+conditions\+\_\+, v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Last\+Operation(), v8\+::internal\+::compiler\+::turboshaft\+::\+Block\+::\+Last\+Predecessor(), v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::push\+\_\+back(), v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::rbegin(), v8\+::base\+::\+Small\+Vector$<$ T, k\+Size, Allocator $>$\+::rend(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Start\+Layer(), and v8\+::internal\+::compiler\+::turboshaft\+::\+Operation\+::\+Try\+Cast().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Bind().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aa4350a826da6fd7895407d8e939b72da_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aa4350a826da6fd7895407d8e939b72da_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aaa9e8ae06025e1538a728ca7aea6aec7}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aaa9e8ae06025e1538a728ca7aea6aec7}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!ResetToBlock@{ResetToBlock}}
\index{ResetToBlock@{ResetToBlock}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{ResetToBlock()}{ResetToBlock()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::Reset\+To\+Block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 454 of file branch-\/elimination-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{454                                   \{}
\DoxyCodeLine{455     Block* target = block-\/>GetDominator();}
\DoxyCodeLine{456     \textcolor{keywordflow}{while} (!\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a01b86532f5e6c6b496e49b08de3dc5e5}{dominator\_path\_}}.empty() \&\& target != \textcolor{keyword}{nullptr} \&\&}
\DoxyCodeLine{457            \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a01b86532f5e6c6b496e49b08de3dc5e5}{dominator\_path\_}}.back() != target) \{}
\DoxyCodeLine{458       \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a01b86532f5e6c6b496e49b08de3dc5e5}{dominator\_path\_}}.back()-\/>Depth() > target-\/>Depth()) \{}
\DoxyCodeLine{459         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a52bb0c82758cfe717e5de356fbe6a77c}{ClearCurrentEntries}}();}
\DoxyCodeLine{460       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a01b86532f5e6c6b496e49b08de3dc5e5}{dominator\_path\_}}.back()-\/>Depth() < target-\/>Depth()) \{}
\DoxyCodeLine{461         target = target-\/>GetDominator();}
\DoxyCodeLine{462       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{463         \textcolor{comment}{// \{target\} and \{dominator\_path.back\} have the same depth but are not}}
\DoxyCodeLine{464         \textcolor{comment}{// equal, so we go one level up for both.}}
\DoxyCodeLine{465         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a52bb0c82758cfe717e5de356fbe6a77c}{ClearCurrentEntries}}();}
\DoxyCodeLine{466         target = target-\/>GetDominator();}
\DoxyCodeLine{467       \}}
\DoxyCodeLine{468     \}}
\DoxyCodeLine{469   \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Clear\+Current\+Entries(), v8\+::internal\+::compiler\+::turboshaft\+::\+Random\+Access\+Stack\+Dominator\+Node$<$ Derived $>$\+::\+Depth(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::dominator\+\_\+path\+\_\+, and v8\+::internal\+::compiler\+::turboshaft\+::\+Random\+Access\+Stack\+Dominator\+Node$<$ Derived $>$\+::\+Get\+Dominator().



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Bind().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aaa9e8ae06025e1538a728ca7aea6aec7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_aaa9e8ae06025e1538a728ca7aea6aec7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ae2523e565bf3b8c3b7ac156b32fe03f7}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ae2523e565bf3b8c3b7ac156b32fe03f7}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!Select@{Select}}
\index{Select@{Select}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{Select()}{Select()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Any}{Any}}$>$ \mbox{\hyperlink{uniform-reducer-adapter_8h_ac243a1f9603cd0a9e0c3ad8cf9843c16}{REDUCE}}() \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::Select (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}} $>$}]{cond,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Any}{Any}} $>$}]{vtrue,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$ \mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1Any}{Any}} $>$}]{vfalse,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1RegisterRepresentation}{Register\+Representation}}}]{rep,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab5a4f63d4df50ea3fd9299c981ae3187}{Branch\+Hint}}}]{hint,  }\item[{\mbox{\hyperlink{structv8_1_1internal_1_1compiler_1_1turboshaft_1_1SelectOp_a692e6ff9cbbc5b45be6fcc4cae071bbd}{Select\+Op\+::\+Implementation}}}]{implem }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 278 of file branch-\/elimination-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{280                                                        \{}
\DoxyCodeLine{281     \mbox{\hyperlink{compiler_2turboshaft_2assembler_8h_a7a449d0096649ec2e7ec91ea05833a5d}{LABEL\_BLOCK}}(no\_change) \{}
\DoxyCodeLine{282       \textcolor{keywordflow}{return} Next::ReduceSelect(cond, vtrue, vfalse, rep, hint, implem);}
\DoxyCodeLine{283     \}}
\DoxyCodeLine{284     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_ac4d098a2688a019f309cb6f242bb421a}{ShouldSkipOptimizationStep}}()) \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{285 }
\DoxyCodeLine{286     \textcolor{keywordflow}{if} (\textcolor{keyword}{auto} cond\_value = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\_conditions\_}}.Get(cond)) \{}
\DoxyCodeLine{287       \textcolor{keywordflow}{if} (*cond\_value) \{}
\DoxyCodeLine{288         \textcolor{keywordflow}{return} vtrue;}
\DoxyCodeLine{289       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{290         \textcolor{keywordflow}{return} vfalse;}
\DoxyCodeLine{291       \}}
\DoxyCodeLine{292     \}}
\DoxyCodeLine{293     \textcolor{keywordflow}{goto} no\_change;}
\DoxyCodeLine{294   \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::known\+\_\+conditions\+\_\+, LABEL\+\_\+\+BLOCK, and v8\+::internal\+::compiler\+::turboshaft\+::\+Should\+Skip\+Optimization\+Step().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ae2523e565bf3b8c3b7ac156b32fe03f7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2ac70c9d9873d1601b858d357a85c7c1}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2ac70c9d9873d1601b858d357a85c7c1}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!StartLayer@{StartLayer}}
\index{StartLayer@{StartLayer}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{StartLayer()}{StartLayer()}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
void \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::Start\+Layer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}} $\ast$}]{block }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 477 of file branch-\/elimination-\/reducer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{477                                 \{}
\DoxyCodeLine{478     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}{known\_conditions\_}}.StartLayer();}
\DoxyCodeLine{479     \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a01b86532f5e6c6b496e49b08de3dc5e5}{dominator\_path\_}}.push\_back(block);}
\DoxyCodeLine{480   \}}

\end{DoxyCode}


References v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::dominator\+\_\+path\+\_\+, and v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::known\+\_\+conditions\+\_\+.



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Bind(), and v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Replay\+Missing\+Predecessors().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a2ac70c9d9873d1601b858d357a85c7c1_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a01b86532f5e6c6b496e49b08de3dc5e5}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_a01b86532f5e6c6b496e49b08de3dc5e5}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!dominator\_path\_@{dominator\_path\_}}
\index{dominator\_path\_@{dominator\_path\_}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{dominator\_path\_}{dominator\_path\_}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1Block}{Block}}$\ast$$>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::dominator\+\_\+path\+\_\+ \{\mbox{\hyperlink{interpreter-builtins-x64_8cc_a0a87998f4e8cee4888f2a89df3d5639b}{\+\_\+\+\_\+}} phase\+\_\+zone()\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 604 of file branch-\/elimination-\/reducer.\+h.



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Clear\+Current\+Entries(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Replay\+Missing\+Predecessors(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Reset\+To\+Block(), and v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Start\+Layer().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}\label{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer_ac3f8943d9add89d4015e6d330b3e1362}} 
\index{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}!known\_conditions\_@{known\_conditions\_}}
\index{known\_conditions\_@{known\_conditions\_}!v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$@{v8::internal::compiler::turboshaft::BranchEliminationReducer$<$ Next $>$}}
\doxysubsubsection{\texorpdfstring{known\_conditions\_}{known\_conditions\_}}
{\footnotesize\ttfamily template$<$class Next $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1LayeredHashMap}{Layered\+Hash\+Map}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1V}{V}}$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_aeccd16378a95dc9d3039f8669648c698}{Word32}}$>$, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a28d08f40d5dc488600051ba2ef537284}{bool}}$>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1turboshaft_1_1BranchEliminationReducer}{v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer}}$<$ Next $>$\+::known\+\_\+conditions\+\_\+\hspace{0.3cm}{\ttfamily [private]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{      \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} phase\_zone(), \mbox{\hyperlink{baseline-assembler-arm-inl_8h_a0a87998f4e8cee4888f2a89df3d5639b}{\_\_}} input\_graph().DominatorTreeDepth() * 2\}}

\end{DoxyCode}


Definition at line 605 of file branch-\/elimination-\/reducer.\+h.



Referenced by v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Bind(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Branch(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Clear\+Current\+Entries(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Deoptimize\+If(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Goto(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Replay\+Missing\+Predecessors(), v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Select(), and v8\+::internal\+::compiler\+::turboshaft\+::\+Branch\+Elimination\+Reducer$<$ Next $>$\+::\+Start\+Layer().



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/turboshaft/\mbox{\hyperlink{branch-elimination-reducer_8h}{branch-\/elimination-\/reducer.\+h}}\end{DoxyCompactItemize}
