\hypertarget{classv8_1_1JSON}{}\doxysection{v8\+::JSON Class Reference}
\label{classv8_1_1JSON}\index{v8::JSON@{v8::JSON}}


A \mbox{\hyperlink{classv8_1_1JSON}{JSON}} Parser and Stringifier.  




{\ttfamily \#include $<$v8-\/json.\+h$>$}



Collaboration diagram for v8\+::JSON\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=156pt]{classv8_1_1JSON__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1MaybeLocal}{Maybe\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ \mbox{\hyperlink{classv8_1_1JSON_a32156057e84d1e4406e43df386922a2b}{Parse}} (\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Context}{Context}} $>$ context, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1String}{String}} $>$ json\+\_\+string)
\begin{DoxyCompactList}\small\item\em Tries to parse the string $\vert$json\+\_\+string$\vert$ and returns it as value if successful. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1MaybeLocal}{Maybe\+Local}}$<$ \mbox{\hyperlink{classv8_1_1String}{String}} $>$ \mbox{\hyperlink{classv8_1_1JSON_a2d760d688469ecf890cc9bf2d1b5b966}{Stringify}} (\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Context}{Context}} $>$ context, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ json\+\_\+object, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1String}{String}} $>$ gap=\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1String}{String}} $>$())
\begin{DoxyCompactList}\small\item\em Tries to stringify the JSON-\/serializable object $\vert$json\+\_\+object$\vert$ and returns it as string if successful. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A \mbox{\hyperlink{classv8_1_1JSON}{JSON}} Parser and Stringifier. 

Definition at line 20 of file v8-\/json.\+h.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1JSON_a32156057e84d1e4406e43df386922a2b}\label{classv8_1_1JSON_a32156057e84d1e4406e43df386922a2b}} 
\index{v8::JSON@{v8::JSON}!Parse@{Parse}}
\index{Parse@{Parse}!v8::JSON@{v8::JSON}}
\doxysubsubsection{\texorpdfstring{Parse()}{Parse()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1MaybeLocal}{Maybe\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ v8\+::\+JSON\+::\+Parse (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Context}{Context}} $>$}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1String}{String}} $>$}]{json\+\_\+string }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Tries to parse the string $\vert$json\+\_\+string$\vert$ and returns it as value if successful. 


\begin{DoxyParams}{Parameters}
{\em the} & context in which to parse and create the value. \\
\hline
{\em json\+\_\+string} & The string to parse. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The corresponding value if successfully parsed. 
\end{DoxyReturn}


Definition at line 3212 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3213                                                          \{}
\DoxyCodeLine{3214   PrepareForExecutionScope api\_scope\{context, RCCId::kAPI\_JSON\_Parse\};}
\DoxyCodeLine{3215   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = api\_scope.i\_isolate();}
\DoxyCodeLine{3216   \textcolor{keyword}{auto} \textcolor{keywordtype}{string} = \mbox{\hyperlink{classv8_1_1Utils_aea3e5682d909c5f546b8d0342e3cc1a4}{Utils::OpenHandle}}(*json\_string);}
\DoxyCodeLine{3217   \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{i::Handle<i::String>}} source = i::String::Flatten(i\_isolate, \textcolor{keywordtype}{string});}
\DoxyCodeLine{3218   \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{i::Handle<i::Object>}} \mbox{\hyperlink{namespacev8_1_1internal_ab165da27eb70b7cac315ad3c2c991c06}{undefined}} = i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>undefined\_value();}
\DoxyCodeLine{3219   \textcolor{keyword}{auto} maybe\_result =}
\DoxyCodeLine{3220       source-\/>IsOneByteRepresentation()}
\DoxyCodeLine{3221           ? \mbox{\hyperlink{classv8_1_1internal_1_1JsonParser_af367f23a57b11a0222676be56c4c935f}{i::JsonParser<uint8\_t>::Parse}}(i\_isolate, source, \mbox{\hyperlink{namespacev8_1_1internal_ab165da27eb70b7cac315ad3c2c991c06}{undefined}})}
\DoxyCodeLine{3222           : \mbox{\hyperlink{namespacev8_1_1internal}{i}}::JsonParser<\mbox{\hyperlink{namespaceunibrow_a0869a94c1a582a2b47889b990444deb9}{uint16\_t}}>::\mbox{\hyperlink{classv8_1_1JSON_a32156057e84d1e4406e43df386922a2b}{Parse}}(i\_isolate, source, \mbox{\hyperlink{namespacev8_1_1internal_ab165da27eb70b7cac315ad3c2c991c06}{undefined}});}
\DoxyCodeLine{3223   \textcolor{keywordflow}{return} api\_scope.EscapeMaybe(maybe\_result);}
\DoxyCodeLine{3224 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::factory(), v8\+::\+Utils\+::\+Open\+Handle(), v8\+::internal\+::\+Json\+Parser$<$ Char $>$\+::\+Parse(), and v8\+::internal\+::undefined.



Referenced by v8\+::\+Shell\+::\+Fetch\+Module\+Tree(), v8\+::tracing\+::anonymous\+\_\+namespace\{d8.\+cc\}\+::\+Trace\+Config\+Parser\+::\+Fill\+Trace\+Config(), v8\+::\+Shell\+::\+Load\+JSON(), v8\+\_\+inspector\+::anonymous\+\_\+namespace\{custom-\/preview.\+cc\}\+::substitute\+Object\+Tags(), and v8\+::internal\+::wasm\+::\+Wasm\+Module\+Source\+Map\+::\+Wasm\+Module\+Source\+Map().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1JSON_a32156057e84d1e4406e43df386922a2b_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1JSON_a32156057e84d1e4406e43df386922a2b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1JSON_a2d760d688469ecf890cc9bf2d1b5b966}\label{classv8_1_1JSON_a2d760d688469ecf890cc9bf2d1b5b966}} 
\index{v8::JSON@{v8::JSON}!Stringify@{Stringify}}
\index{Stringify@{Stringify}!v8::JSON@{v8::JSON}}
\doxysubsubsection{\texorpdfstring{Stringify()}{Stringify()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1MaybeLocal}{Maybe\+Local}}$<$ \mbox{\hyperlink{classv8_1_1String}{String}} $>$ v8\+::\+JSON\+::\+Stringify (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Context}{Context}} $>$}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$}]{json\+\_\+object,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1String}{String}} $>$}]{gap = {\ttfamily \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$\mbox{\hyperlink{classv8_1_1String}{String}}$>$()} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Tries to stringify the JSON-\/serializable object $\vert$json\+\_\+object$\vert$ and returns it as string if successful. 


\begin{DoxyParams}{Parameters}
{\em json\+\_\+object} & The JSON-\/serializable object to stringify. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The corresponding string if successfully stringified. 
\end{DoxyReturn}


Definition at line 3226 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3228                                                       \{}
\DoxyCodeLine{3229   PrepareForExecutionScope api\_scope\{context, RCCId::kAPI\_JSON\_Stringify\};}
\DoxyCodeLine{3230   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = api\_scope.i\_isolate();}
\DoxyCodeLine{3231   \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{i::Handle<i::JSAny>}} object;}
\DoxyCodeLine{3232   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1Utils_a1a1e634bae095bf6ff0ed2d9d737be00}{Utils::ApiCheck}}(}
\DoxyCodeLine{3233           i::TryCast<i::JSAny>(\mbox{\hyperlink{classv8_1_1Utils_aea3e5682d909c5f546b8d0342e3cc1a4}{Utils::OpenHandle}}(*json\_object), \&\textcolor{keywordtype}{object}),}
\DoxyCodeLine{3234           \textcolor{stringliteral}{"{}JSON::Stringify"{}},}
\DoxyCodeLine{3235           \textcolor{stringliteral}{"{}Invalid object, must be a JSON-\/serializable object."{}})) \{}
\DoxyCodeLine{3236     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{3237   \}}
\DoxyCodeLine{3238   \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{i::Handle<i::Undefined>}} replacer = i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>undefined\_value();}
\DoxyCodeLine{3239   \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{i::Handle<i::String>}} gap\_string = gap.IsEmpty()}
\DoxyCodeLine{3240                                         ? i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>empty\_string()}
\DoxyCodeLine{3241                                         : \mbox{\hyperlink{classv8_1_1Utils_aea3e5682d909c5f546b8d0342e3cc1a4}{Utils::OpenHandle}}(*gap);}
\DoxyCodeLine{3242   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::Object>}} maybe;}
\DoxyCodeLine{3243   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1internal_ac2ffdf145d46f49985d5c2c3b98f41a7}{i::JsonStringify}}(i\_isolate, \textcolor{keywordtype}{object}, replacer, gap\_string)}
\DoxyCodeLine{3244            .\mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_a06e05d97538daead62846f62ab57b946}{ToHandle}}(\&maybe)) \{}
\DoxyCodeLine{3245     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{3246   \}}
\DoxyCodeLine{3247   \textcolor{keywordflow}{return} api\_scope.EscapeMaybe(\mbox{\hyperlink{data-view-ops_8h_af22849720fbd54f8307292fe33c35a07}{i::Object::ToString}}(i\_isolate, maybe));}
\DoxyCodeLine{3248 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Api\+Check(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::api\+\_\+internal\+::\+Indirect\+Handle\+Base\+::\+Is\+Empty(), v8\+::internal\+::\+Json\+Stringify(), v8\+::\+Utils\+::\+Open\+Handle(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+To\+Handle(), and To\+String().



Referenced by v8\+::\+Shell\+::\+Function\+And\+Arguments\+To\+String(), v8\+\_\+inspector\+::generate\+Custom\+Preview(), and v8\+::\+Shell\+::\+Write\+Ignition\+Dispatch\+Counters\+File().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1JSON_a2d760d688469ecf890cc9bf2d1b5b966_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1JSON_a2d760d688469ecf890cc9bf2d1b5b966_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/\mbox{\hyperlink{v8-json_8h}{v8-\/json.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/api/\mbox{\hyperlink{api_8cc}{api.\+cc}}\end{DoxyCompactItemize}
