\hypertarget{classv8_1_1internal_1_1JSPluralRules}{}\doxysection{v8\+::internal\+::JSPlural\+Rules Class Reference}
\label{classv8_1_1internal_1_1JSPluralRules}\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}


{\ttfamily \#include $<$js-\/plural-\/rules.\+h$>$}



Inheritance diagram for v8\+::internal\+::JSPlural\+Rules\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{classv8_1_1internal_1_1JSPluralRules__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::internal\+::JSPlural\+Rules\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=244pt]{classv8_1_1internal_1_1JSPluralRules__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0fa}{Type}} \{ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa017f22fbdf2b8e52b875c15f1910ad94}{CARDINAL}}
, \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa16d57c61f883915c043a67c16f366a4a}{ORDINAL}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_aecb342f21596997768c57e1890aeae87}{set\+\_\+type}} (\mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0fa}{Type}} \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}{type}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0fa}{Type}} \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}{type}} () const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a46a483f86f14d17423bb6a01859dba8a}{Type\+As\+String}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate) const
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules}{JSPlural\+Rules}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a455f25b6b869db9130ac58fba79b4071}{New}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$ map, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ locales, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$ options)
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_aa1031364cc8fae8584b5a30f54b80884}{Resolved\+Options}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules}{JSPlural\+Rules}} $>$ plural\+\_\+rules)
\item 
static \mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a1ec92143c5ad1762d0af135172feb855}{Resolve\+Plural}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules}{JSPlural\+Rules}} $>$ plural\+\_\+rules, double number)
\item 
static \mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a29ad8030d2bf01c375948597b609fda8}{Resolve\+Plural\+Range}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules}{JSPlural\+Rules}} $>$ plural\+\_\+rules, double x, double \mbox{\hyperlink{namespacev8_1_1internal_aeb5be8c54a68c0a55508c931639d71da}{y}})
\item 
static \mbox{\hyperlink{src_2base_2macros_8h_ab08e353943a53678ac6baafc678f2d81}{V8\+\_\+\+EXPORT\+\_\+\+PRIVATE}} const std\+::set$<$ std\+::string $>$ \& \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ac229cbc12d427d2ac4dc37cdbf594a54}{Get\+Available\+Locales}} ()
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 38 of file js-\/plural-\/rules.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0fa}\label{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0fa}} 
\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!Type@{Type}}
\index{Type@{Type}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}
\doxysubsubsection{\texorpdfstring{Type}{Type}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0fa}{v8\+::internal\+::\+JSPlural\+Rules\+::\+Type}}\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{CARDINAL@{CARDINAL}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!CARDINAL@{CARDINAL}}}\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa017f22fbdf2b8e52b875c15f1910ad94}\label{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa017f22fbdf2b8e52b875c15f1910ad94}} 
CARDINAL&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{ORDINAL@{ORDINAL}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!ORDINAL@{ORDINAL}}}\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa16d57c61f883915c043a67c16f366a4a}\label{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa16d57c61f883915c043a67c16f366a4a}} 
ORDINAL&\\
\hline

\end{DoxyEnumFields}


Definition at line 60 of file js-\/plural-\/rules.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{60 \{ CARDINAL, ORDINAL \};}

\end{DoxyCode}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_ac229cbc12d427d2ac4dc37cdbf594a54}\label{classv8_1_1internal_1_1JSPluralRules_ac229cbc12d427d2ac4dc37cdbf594a54}} 
\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!GetAvailableLocales@{GetAvailableLocales}}
\index{GetAvailableLocales@{GetAvailableLocales}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}
\doxysubsubsection{\texorpdfstring{GetAvailableLocales()}{GetAvailableLocales()}}
{\footnotesize\ttfamily const std\+::set$<$ std\+::string $>$ \& v8\+::internal\+::\+JSPlural\+Rules\+::\+Get\+Available\+Locales (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 382 of file js-\/plural-\/rules.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{382                                                             \{}
\DoxyCodeLine{383   \textcolor{keyword}{static} \mbox{\hyperlink{structv8_1_1base_1_1LazyInstance_ad358db1e68d8b54c1cae1402c1fbce0f}{base::LazyInstance<PluralRulesAvailableLocales>::type}}}
\DoxyCodeLine{384       available\_locales = \mbox{\hyperlink{lazy-instance_8h_a1e27ae5d78f6269b5cbe602f43c91377}{LAZY\_INSTANCE\_INITIALIZER}};}
\DoxyCodeLine{385   \textcolor{keywordflow}{return} available\_locales.Pointer()-\/>Get();}
\DoxyCodeLine{386 \}}

\end{DoxyCode}


References LAZY\+\_\+\+INSTANCE\+\_\+\+INITIALIZER.



Referenced by v8\+::internal\+::\+BUILTIN(), and New().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSPluralRules_ac229cbc12d427d2ac4dc37cdbf594a54_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_a455f25b6b869db9130ac58fba79b4071}\label{classv8_1_1internal_1_1JSPluralRules_a455f25b6b869db9130ac58fba79b4071}} 
\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!New@{New}}
\index{New@{New}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}
\doxysubsubsection{\texorpdfstring{New()}{New()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules}{JSPlural\+Rules}} $>$ v8\+::internal\+::\+JSPlural\+Rules\+::\+New (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Map}{Map}} $>$}]{map,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{locales,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Object}{Object}} $>$}]{options }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 69 of file js-\/plural-\/rules.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{71                                       \{}
\DoxyCodeLine{72   \textcolor{comment}{// 1. Let requestedLocales be ? CanonicalizeLocaleList(locales).}}
\DoxyCodeLine{73   Maybe<std::vector<std::string>> maybe\_requested\_locales =}
\DoxyCodeLine{74       \mbox{\hyperlink{classv8_1_1internal_1_1Intl_a48ffe5df7fd26755481624ec3fbc2bd8}{Intl::CanonicalizeLocaleList}}(isolate, locales);}
\DoxyCodeLine{75   \mbox{\hyperlink{execution_2isolate_8h_ab9c5f988388c2c537b8b161438e4ed31}{MAYBE\_RETURN}}(maybe\_requested\_locales, DirectHandle<JSPluralRules>());}
\DoxyCodeLine{76   std::vector<std::string> requested\_locales =}
\DoxyCodeLine{77       maybe\_requested\_locales.FromJust();}
\DoxyCodeLine{78 }
\DoxyCodeLine{79   \textcolor{comment}{// 2. Set options to ? CoerceOptionsToObject(options).}}
\DoxyCodeLine{80   DirectHandle<JSReceiver> options;}
\DoxyCodeLine{81   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* service = \textcolor{stringliteral}{"{}Intl.PluralRules"{}};}
\DoxyCodeLine{82   \mbox{\hyperlink{execution_2isolate_8h_a45bb81ab232e9f2663545ec92dc0b950}{ASSIGN\_RETURN\_ON\_EXCEPTION}}(}
\DoxyCodeLine{83       isolate, options, \mbox{\hyperlink{namespacev8_1_1internal_ac4b6b53060a2878af798e2a2ce4e0295}{CoerceOptionsToObject}}(isolate, options\_obj, service));}
\DoxyCodeLine{84 }
\DoxyCodeLine{85   \textcolor{comment}{// 5. Let matcher be ? GetOption(options, "{}localeMatcher"{}, "{}string"{},}}
\DoxyCodeLine{86   \textcolor{comment}{// « "{}lookup"{}, "{}best fit"{} », "{}best fit"{}).}}
\DoxyCodeLine{87   \textcolor{comment}{// 6. Set opt.[[localeMatcher]] to matcher.}}
\DoxyCodeLine{88   Maybe<Intl::MatcherOption> maybe\_locale\_matcher =}
\DoxyCodeLine{89       \mbox{\hyperlink{classv8_1_1internal_1_1Intl_aa65b5c1f434fe74d5fd3e3ac87ca193f}{Intl::GetLocaleMatcher}}(isolate, options, service);}
\DoxyCodeLine{90   \mbox{\hyperlink{execution_2isolate_8h_ab9c5f988388c2c537b8b161438e4ed31}{MAYBE\_RETURN}}(maybe\_locale\_matcher, MaybeDirectHandle<JSPluralRules>());}
\DoxyCodeLine{91   \mbox{\hyperlink{classv8_1_1internal_1_1Intl_afb4cf72c66834096fbb2f5c4761d9695}{Intl::MatcherOption}} matcher = maybe\_locale\_matcher.FromJust();}
\DoxyCodeLine{92 }
\DoxyCodeLine{93   \textcolor{comment}{// 7. Let t be ? GetOption(options, "{}type"{}, "{}string"{}, « "{}cardinal"{},}}
\DoxyCodeLine{94   \textcolor{comment}{// "{}ordinal"{} », "{}cardinal"{}).}}
\DoxyCodeLine{95   Maybe<Type> maybe\_type = GetStringOption<Type>(}
\DoxyCodeLine{96       isolate, options, \textcolor{stringliteral}{"{}type"{}}, service,}
\DoxyCodeLine{97       std::to\_array<const std::string\_view>(\{\textcolor{stringliteral}{"{}cardinal"{}}, \textcolor{stringliteral}{"{}ordinal"{}}\}),}
\DoxyCodeLine{98       std::array\{\mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa017f22fbdf2b8e52b875c15f1910ad94}{Type::CARDINAL}}, \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa16d57c61f883915c043a67c16f366a4a}{Type::ORDINAL}}\}, \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa017f22fbdf2b8e52b875c15f1910ad94}{Type::CARDINAL}});}
\DoxyCodeLine{99   \mbox{\hyperlink{execution_2isolate_8h_ab9c5f988388c2c537b8b161438e4ed31}{MAYBE\_RETURN}}(maybe\_type, MaybeDirectHandle<JSPluralRules>());}
\DoxyCodeLine{100   \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0fa}{Type}} \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}{type}} = maybe\_type.FromJust();}
\DoxyCodeLine{101 }
\DoxyCodeLine{102   \textcolor{comment}{// Note: The spec says we should do ResolveLocale after performing}}
\DoxyCodeLine{103   \textcolor{comment}{// SetNumberFormatDigitOptions but we need the locale to create all}}
\DoxyCodeLine{104   \textcolor{comment}{// the ICU data structures.}}
\DoxyCodeLine{105   \textcolor{comment}{//}}
\DoxyCodeLine{106   \textcolor{comment}{// This isn't observable so we aren't violating the spec.}}
\DoxyCodeLine{107 }
\DoxyCodeLine{108   \textcolor{comment}{// 11. Let r be ResolveLocale(\%PluralRules\%.[[AvailableLocales]],}}
\DoxyCodeLine{109   \textcolor{comment}{// requestedLocales, opt, \%PluralRules\%.[[RelevantExtensionKeys]],}}
\DoxyCodeLine{110   \textcolor{comment}{// localeData).}}
\DoxyCodeLine{111   Intl::ResolvedLocale r;}
\DoxyCodeLine{112   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{classv8_1_1internal_1_1Intl_a57e751885fa0a74dd3f6c0a150857d65}{Intl::ResolveLocale}}(isolate, \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ac229cbc12d427d2ac4dc37cdbf594a54}{JSPluralRules::GetAvailableLocales}}(),}
\DoxyCodeLine{113                            requested\_locales, matcher, \{\})}
\DoxyCodeLine{114            .To(\&r)) \{}
\DoxyCodeLine{115     \mbox{\hyperlink{execution_2isolate_8h_a6557667dd5be0768bd92d4bfd9a4d70f}{THROW\_NEW\_ERROR}}(isolate, NewRangeError(MessageTemplate::kIcuError));}
\DoxyCodeLine{116   \}}
\DoxyCodeLine{117   DirectHandle<String> locale\_str =}
\DoxyCodeLine{118       isolate-\/>factory()-\/>NewStringFromAsciiChecked(r.locale.c\_str());}
\DoxyCodeLine{119 }
\DoxyCodeLine{120   icu::Locale icu\_locale = r.icu\_locale;}
\DoxyCodeLine{121   icu::number::UnlocalizedNumberFormatter settings =}
\DoxyCodeLine{122       icu::number::UnlocalizedNumberFormatter().roundingMode(UNUM\_ROUND\_HALFUP);}
\DoxyCodeLine{123 }
\DoxyCodeLine{124   std::unique\_ptr<icu::PluralRules> icu\_plural\_rules;}
\DoxyCodeLine{125   \textcolor{keywordtype}{bool} success =}
\DoxyCodeLine{126       \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-plural-rules_8cc_03_a46b7c7a605e056878a930558ceae8507}{CreateICUPluralRules}}(isolate, r.icu\_locale, \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}{type}}, \&icu\_plural\_rules);}
\DoxyCodeLine{127   \textcolor{keywordflow}{if} (!success || icu\_plural\_rules == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{128     \textcolor{comment}{// Remove extensions and try again.}}
\DoxyCodeLine{129     icu::Locale no\_extension\_locale(icu\_locale.getBaseName());}
\DoxyCodeLine{130     success = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-plural-rules_8cc_03_a46b7c7a605e056878a930558ceae8507}{CreateICUPluralRules}}(isolate, no\_extension\_locale, \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}{type}},}
\DoxyCodeLine{131                                    \&icu\_plural\_rules);}
\DoxyCodeLine{132     icu\_locale = no\_extension\_locale;}
\DoxyCodeLine{133 }
\DoxyCodeLine{134     \textcolor{keywordflow}{if} (!success || icu\_plural\_rules == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{135       \mbox{\hyperlink{execution_2isolate_8h_a6557667dd5be0768bd92d4bfd9a4d70f}{THROW\_NEW\_ERROR}}(isolate, NewRangeError(MessageTemplate::kIcuError));}
\DoxyCodeLine{136     \}}
\DoxyCodeLine{137   \}}
\DoxyCodeLine{138 }
\DoxyCodeLine{139   \textcolor{comment}{// 9. Perform ? SetNumberFormatDigitOptions(pluralRules, options, 0, 3).}}
\DoxyCodeLine{140   Maybe<Intl::NumberFormatDigitOptions> maybe\_digit\_options =}
\DoxyCodeLine{141       \mbox{\hyperlink{classv8_1_1internal_1_1Intl_abeb0cafbbff2bce4bdf42cdfb84c0bb4}{Intl::SetNumberFormatDigitOptions}}(isolate, options, 0, 3, \textcolor{keyword}{false}, service);}
\DoxyCodeLine{142   \mbox{\hyperlink{execution_2isolate_8h_ab9c5f988388c2c537b8b161438e4ed31}{MAYBE\_RETURN}}(maybe\_digit\_options, MaybeDirectHandle<JSPluralRules>());}
\DoxyCodeLine{143   Intl::NumberFormatDigitOptions digit\_options = maybe\_digit\_options.FromJust();}
\DoxyCodeLine{144   settings =}
\DoxyCodeLine{145       \mbox{\hyperlink{classv8_1_1internal_1_1JSNumberFormat_a6b10d1840a675f40aca6cca67f2abc61}{JSNumberFormat::SetDigitOptionsToFormatter}}(settings, digit\_options);}
\DoxyCodeLine{146 }
\DoxyCodeLine{147   icu::number::LocalizedNumberFormatter \mbox{\hyperlink{namespacev8_1_1internal_a86d802055791d1502ae763f9a730879c}{icu\_number\_formatter}} =}
\DoxyCodeLine{148       settings.locale(icu\_locale);}
\DoxyCodeLine{149 }
\DoxyCodeLine{150   DirectHandle<Managed<icu::PluralRules>> managed\_plural\_rules =}
\DoxyCodeLine{151       \mbox{\hyperlink{classv8_1_1internal_1_1Managed_a1c10cb948281b864db32d8af25a7b7d9}{Managed<icu::PluralRules>::From}}(isolate, 0, std::move(icu\_plural\_rules));}
\DoxyCodeLine{152 }
\DoxyCodeLine{153   DirectHandle<Managed<icu::number::LocalizedNumberFormatter>>}
\DoxyCodeLine{154       managed\_number\_formatter =}
\DoxyCodeLine{155           \mbox{\hyperlink{classv8_1_1internal_1_1Managed_a1c10cb948281b864db32d8af25a7b7d9}{Managed<icu::number::LocalizedNumberFormatter>::From}}(}
\DoxyCodeLine{156               isolate, 0,}
\DoxyCodeLine{157               std::make\_shared<icu::number::LocalizedNumberFormatter>(}
\DoxyCodeLine{158                   \mbox{\hyperlink{namespacev8_1_1internal_a86d802055791d1502ae763f9a730879c}{icu\_number\_formatter}}));}
\DoxyCodeLine{159 }
\DoxyCodeLine{160   \textcolor{comment}{// Now all properties are ready, so we can allocate the result object.}}
\DoxyCodeLine{161   DirectHandle<JSPluralRules> plural\_rules = Cast<JSPluralRules>(}
\DoxyCodeLine{162       isolate-\/>factory()-\/>NewFastOrSlowJSObjectFromMap(map));}
\DoxyCodeLine{163   \mbox{\hyperlink{namespacev8_1_1internal_af2248a427f8ff8f81e68a2a87758e145}{DisallowGarbageCollection}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_a63d8eefb47468aa3f816fbe26a59466a}{no\_gc}};}
\DoxyCodeLine{164   plural\_rules-\/>set\_flags(0);}
\DoxyCodeLine{165 }
\DoxyCodeLine{166   \textcolor{comment}{// 8. Set pluralRules.[[Type]] to t.}}
\DoxyCodeLine{167   plural\_rules-\/>set\_type(\mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}{type}});}
\DoxyCodeLine{168 }
\DoxyCodeLine{169   \textcolor{comment}{// 12. Set pluralRules.[[Locale]] to the value of r.[[locale]].}}
\DoxyCodeLine{170   plural\_rules-\/>set\_locale(*locale\_str);}
\DoxyCodeLine{171 }
\DoxyCodeLine{172   plural\_rules-\/>set\_icu\_plural\_rules(*managed\_plural\_rules);}
\DoxyCodeLine{173   plural\_rules-\/>set\_icu\_number\_formatter(*managed\_number\_formatter);}
\DoxyCodeLine{174 }
\DoxyCodeLine{175   \textcolor{comment}{// 13. Return pluralRules.}}
\DoxyCodeLine{176   \textcolor{keywordflow}{return} plural\_rules;}
\DoxyCodeLine{177 \}}

\end{DoxyCode}


References ASSIGN\+\_\+\+RETURN\+\_\+\+ON\+\_\+\+EXCEPTION, v8\+::internal\+::\+Intl\+::\+Canonicalize\+Locale\+List(), CARDINAL, v8\+::internal\+::\+Coerce\+Options\+To\+Object(), v8\+::internal\+::anonymous\+\_\+namespace\{js-\/plural-\/rules.\+cc\}\+::\+Create\+ICUPlural\+Rules(), v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+Managed$<$ Cpp\+Type $>$\+::\+From(), v8\+::\+Maybe$<$ T $>$\+::\+From\+Just(), Get\+Available\+Locales(), v8\+::internal\+::\+Intl\+::\+Get\+Locale\+Matcher(), v8\+::internal\+::\+Intl\+::\+Resolved\+Locale\+::icu\+\_\+locale, v8\+::internal\+::icu\+\_\+number\+\_\+formatter, v8\+::internal\+::\+Intl\+::\+Resolved\+Locale\+::locale, MAYBE\+\_\+\+RETURN, v8\+::internal\+::\+Factory\+::\+New\+Fast\+Or\+Slow\+JSObject\+From\+Map(), v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+String\+From\+Ascii\+Checked(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::no\+\_\+gc, ORDINAL, v8\+::internal\+::\+Intl\+::\+Resolve\+Locale(), v8\+::internal\+::\+JSNumber\+Format\+::\+Set\+Digit\+Options\+To\+Formatter(), v8\+::internal\+::\+Intl\+::\+Set\+Number\+Format\+Digit\+Options(), THROW\+\_\+\+NEW\+\_\+\+ERROR, and type().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1internal_1_1JSPluralRules_a455f25b6b869db9130ac58fba79b4071_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_aa1031364cc8fae8584b5a30f54b80884}\label{classv8_1_1internal_1_1JSPluralRules_aa1031364cc8fae8584b5a30f54b80884}} 
\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!ResolvedOptions@{ResolvedOptions}}
\index{ResolvedOptions@{ResolvedOptions}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}
\doxysubsubsection{\texorpdfstring{ResolvedOptions()}{ResolvedOptions()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSObject}{JSObject}} $>$ v8\+::internal\+::\+JSPlural\+Rules\+::\+Resolved\+Options (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules}{JSPlural\+Rules}} $>$}]{plural\+\_\+rules }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 251 of file js-\/plural-\/rules.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{252                                                                 \{}
\DoxyCodeLine{253   DirectHandle<JSObject> options =}
\DoxyCodeLine{254       isolate-\/>factory()-\/>NewJSObject(isolate-\/>object\_function());}
\DoxyCodeLine{255 }
\DoxyCodeLine{256   DirectHandle<String> locale\_value(plural\_rules-\/>locale(), isolate);}
\DoxyCodeLine{257   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-plural-rules_8cc_03_a215f4a204594d7b374ed5dc4e64cc735}{CreateDataPropertyForOptions}}(isolate, options, locale\_value, \textcolor{stringliteral}{"{}locale"{}});}
\DoxyCodeLine{258 }
\DoxyCodeLine{259   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-plural-rules_8cc_03_a215f4a204594d7b374ed5dc4e64cc735}{CreateDataPropertyForOptions}}(isolate, options,}
\DoxyCodeLine{260                                plural\_rules-\/>TypeAsString(isolate), \textcolor{stringliteral}{"{}type"{}});}
\DoxyCodeLine{261 }
\DoxyCodeLine{262   UErrorCode \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = U\_ZERO\_ERROR;}
\DoxyCodeLine{263   icu::number::LocalizedNumberFormatter* \mbox{\hyperlink{namespacev8_1_1internal_a86d802055791d1502ae763f9a730879c}{icu\_number\_formatter}} =}
\DoxyCodeLine{264       plural\_rules-\/>icu\_number\_formatter()-\/>raw();}
\DoxyCodeLine{265   icu::UnicodeString skeleton = \mbox{\hyperlink{namespacev8_1_1internal_a86d802055791d1502ae763f9a730879c}{icu\_number\_formatter}}-\/>toSkeleton(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}});}
\DoxyCodeLine{266   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(U\_SUCCESS(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{267 }
\DoxyCodeLine{268   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-plural-rules_8cc_03_a215f4a204594d7b374ed5dc4e64cc735}{CreateDataPropertyForOptions}}(}
\DoxyCodeLine{269       isolate, options,}
\DoxyCodeLine{270       \mbox{\hyperlink{classv8_1_1internal_1_1JSNumberFormat_a1c8a2741225528613732d2dd7fdef003}{JSNumberFormat::MinimumIntegerDigitsFromSkeleton}}(skeleton),}
\DoxyCodeLine{271       \textcolor{stringliteral}{"{}minimumIntegerDigits"{}});}
\DoxyCodeLine{272   \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} min = 0, max = 0;}
\DoxyCodeLine{273 }
\DoxyCodeLine{274   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1JSNumberFormat_abc19b179050f3da556a8e738cdf8094c}{JSNumberFormat::SignificantDigitsFromSkeleton}}(skeleton, \&min, \&max)) \{}
\DoxyCodeLine{275     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-plural-rules_8cc_03_a215f4a204594d7b374ed5dc4e64cc735}{CreateDataPropertyForOptions}}(isolate, options, min,}
\DoxyCodeLine{276                                  \textcolor{stringliteral}{"{}minimumSignificantDigits"{}});}
\DoxyCodeLine{277     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-plural-rules_8cc_03_a215f4a204594d7b374ed5dc4e64cc735}{CreateDataPropertyForOptions}}(isolate, options, max,}
\DoxyCodeLine{278                                  \textcolor{stringliteral}{"{}maximumSignificantDigits"{}});}
\DoxyCodeLine{279   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{280     \mbox{\hyperlink{classv8_1_1internal_1_1JSNumberFormat_ac48500e323f5deeb92beff04784c8955}{JSNumberFormat::FractionDigitsFromSkeleton}}(skeleton, \&min, \&max);}
\DoxyCodeLine{281     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-plural-rules_8cc_03_a215f4a204594d7b374ed5dc4e64cc735}{CreateDataPropertyForOptions}}(isolate, options, min,}
\DoxyCodeLine{282                                  \textcolor{stringliteral}{"{}minimumFractionDigits"{}});}
\DoxyCodeLine{283     \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-plural-rules_8cc_03_a215f4a204594d7b374ed5dc4e64cc735}{CreateDataPropertyForOptions}}(isolate, options, max,}
\DoxyCodeLine{284                                  \textcolor{stringliteral}{"{}maximumFractionDigits"{}});}
\DoxyCodeLine{285   \}}
\DoxyCodeLine{286 }
\DoxyCodeLine{287   \textcolor{comment}{// 6. Let pluralCategories be a List of Strings containing all possible}}
\DoxyCodeLine{288   \textcolor{comment}{// results of PluralRuleSelect for the selected locale pr.[[Locale]], sorted}}
\DoxyCodeLine{289   \textcolor{comment}{// according to the following order: "{}zero"{}, "{}one"{}, "{}two"{}, "{}few"{}, "{}many"{},}}
\DoxyCodeLine{290   \textcolor{comment}{// "{}other"{}.}}
\DoxyCodeLine{291   icu::PluralRules* icu\_plural\_rules = plural\_rules-\/>icu\_plural\_rules()-\/>raw();}
\DoxyCodeLine{292   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(icu\_plural\_rules);}
\DoxyCodeLine{293 }
\DoxyCodeLine{294   std::unique\_ptr<icu::StringEnumeration> categories(}
\DoxyCodeLine{295       icu\_plural\_rules-\/>getKeywords(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{296   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(U\_SUCCESS(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{297   \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} count = categories-\/>count(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}});}
\DoxyCodeLine{298   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(U\_SUCCESS(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{299 }
\DoxyCodeLine{300   Factory* factory = isolate-\/>factory();}
\DoxyCodeLine{301   DirectHandle<FixedArray> plural\_categories = factory-\/>NewFixedArray(count);}
\DoxyCodeLine{302   \textcolor{keyword}{const} std::vector<const char*> kCategories = \{\textcolor{stringliteral}{"{}zero"{}}, \textcolor{stringliteral}{"{}one"{}},  \textcolor{stringliteral}{"{}two"{}},}
\DoxyCodeLine{303                                                 \textcolor{stringliteral}{"{}few"{}},  \textcolor{stringliteral}{"{}many"{}}, \textcolor{stringliteral}{"{}other"{}}\};}
\DoxyCodeLine{304   \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} = 0;}
\DoxyCodeLine{305   std::for\_each(kCategories.cbegin(), kCategories.cend(), [\&](\textcolor{keyword}{const} \textcolor{keywordtype}{char}* val) \{}
\DoxyCodeLine{306     categories-\/>reset(status);}
\DoxyCodeLine{307     DCHECK(U\_SUCCESS(status));}
\DoxyCodeLine{308     for (int32\_t i = 0; i < count; i++) \{}
\DoxyCodeLine{309       int32\_t len;}
\DoxyCodeLine{310       const char* cat = categories-\/>next(\&len, status);}
\DoxyCodeLine{311       DCHECK(U\_SUCCESS(status));}
\DoxyCodeLine{312       if (cat == nullptr) break;}
\DoxyCodeLine{313       if (std::strcmp(val, cat) == 0) \{}
\DoxyCodeLine{314         DirectHandle<String> value\_string =}
\DoxyCodeLine{315             factory-\/>NewStringFromAsciiChecked(val);}
\DoxyCodeLine{316         plural\_categories-\/>set(index++, *value\_string);}
\DoxyCodeLine{317         break;}
\DoxyCodeLine{318       \}}
\DoxyCodeLine{319     \}}
\DoxyCodeLine{320   \});}
\DoxyCodeLine{321   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(count == \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}});}
\DoxyCodeLine{322 }
\DoxyCodeLine{323   \textcolor{comment}{// 7. Perform ! CreateDataProperty(options, "{}pluralCategories"{},}}
\DoxyCodeLine{324   \textcolor{comment}{// CreateArrayFromList(pluralCategories)).}}
\DoxyCodeLine{325   DirectHandle<JSArray> plural\_categories\_value =}
\DoxyCodeLine{326       factory-\/>NewJSArrayWithElements(plural\_categories);}
\DoxyCodeLine{327   \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02js-plural-rules_8cc_03_a215f4a204594d7b374ed5dc4e64cc735}{CreateDataPropertyForOptions}}(isolate, options, plural\_categories\_value,}
\DoxyCodeLine{328                                \textcolor{stringliteral}{"{}pluralCategories"{}});}
\DoxyCodeLine{329 }
\DoxyCodeLine{330   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver_ab0d496ab5c687ec63fed2abbc354df25}{JSReceiver::CreateDataProperty}}(}
\DoxyCodeLine{331             isolate, options, factory-\/>roundingIncrement\_string(),}
\DoxyCodeLine{332             \mbox{\hyperlink{classv8_1_1internal_1_1JSNumberFormat_a325817b0beaec80cd847ca913aec83c0}{JSNumberFormat::RoundingIncrement}}(isolate, skeleton),}
\DoxyCodeLine{333             \mbox{\hyperlink{namespacev8_a41f0e280eadfba6ac9afd833fdd540cf}{Just}}(\mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{kDontThrow}}))}
\DoxyCodeLine{334             .FromJust());}
\DoxyCodeLine{335   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver_ab0d496ab5c687ec63fed2abbc354df25}{JSReceiver::CreateDataProperty}}(}
\DoxyCodeLine{336             isolate, options, factory-\/>roundingMode\_string(),}
\DoxyCodeLine{337             \mbox{\hyperlink{classv8_1_1internal_1_1JSNumberFormat_af331e5860660f198129b00c17b0ab23a}{JSNumberFormat::RoundingModeString}}(isolate, skeleton),}
\DoxyCodeLine{338             \mbox{\hyperlink{namespacev8_a41f0e280eadfba6ac9afd833fdd540cf}{Just}}(\mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{kDontThrow}}))}
\DoxyCodeLine{339             .FromJust());}
\DoxyCodeLine{340   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver_ab0d496ab5c687ec63fed2abbc354df25}{JSReceiver::CreateDataProperty}}(}
\DoxyCodeLine{341             isolate, options, factory-\/>roundingPriority\_string(),}
\DoxyCodeLine{342             \mbox{\hyperlink{classv8_1_1internal_1_1JSNumberFormat_a7a64e0c38c86f27e95280fce8a4af57d}{JSNumberFormat::RoundingPriorityString}}(isolate, skeleton),}
\DoxyCodeLine{343             \mbox{\hyperlink{namespacev8_a41f0e280eadfba6ac9afd833fdd540cf}{Just}}(\mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{kDontThrow}}))}
\DoxyCodeLine{344             .FromJust());}
\DoxyCodeLine{345   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1JSReceiver_ab0d496ab5c687ec63fed2abbc354df25}{JSReceiver::CreateDataProperty}}(}
\DoxyCodeLine{346             isolate, options, factory-\/>trailingZeroDisplay\_string(),}
\DoxyCodeLine{347             \mbox{\hyperlink{classv8_1_1internal_1_1JSNumberFormat_a2b1f5425eeab48bdbc241ef888da2e10}{JSNumberFormat::TrailingZeroDisplayString}}(isolate, skeleton),}
\DoxyCodeLine{348             \mbox{\hyperlink{namespacev8_a41f0e280eadfba6ac9afd833fdd540cf}{Just}}(\mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{kDontThrow}}))}
\DoxyCodeLine{349             .FromJust());}
\DoxyCodeLine{350 }
\DoxyCodeLine{351   \textcolor{keywordflow}{return} options;}
\DoxyCodeLine{352 \}}

\end{DoxyCode}


References v8\+::internal\+::anonymous\+\_\+namespace\{js-\/plural-\/rules.\+cc\}\+::\+Create\+Data\+Property\+For\+Options(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+JSNumber\+Format\+::\+Fraction\+Digits\+From\+Skeleton(), v8\+::internal\+::icu\+\_\+number\+\_\+formatter, v8\+::internal\+::index, v8\+::internal\+::\+JSNumber\+Format\+::\+Minimum\+Integer\+Digits\+From\+Skeleton(), v8\+::internal\+::\+Factory\+Base$<$ Impl $>$\+::\+New\+Fixed\+Array(), v8\+::internal\+::\+Factory\+::\+New\+JSObject(), v8\+::internal\+::\+JSNumber\+Format\+::\+Significant\+Digits\+From\+Skeleton(), and v8\+::internal\+::status.



Referenced by v8\+::internal\+::\+BUILTIN().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSPluralRules_aa1031364cc8fae8584b5a30f54b80884_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSPluralRules_aa1031364cc8fae8584b5a30f54b80884_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_a1ec92143c5ad1762d0af135172feb855}\label{classv8_1_1internal_1_1JSPluralRules_a1ec92143c5ad1762d0af135172feb855}} 
\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!ResolvePlural@{ResolvePlural}}
\index{ResolvePlural@{ResolvePlural}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}
\doxysubsubsection{\texorpdfstring{ResolvePlural()}{ResolvePlural()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ v8\+::internal\+::\+JSPlural\+Rules\+::\+Resolve\+Plural (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules}{JSPlural\+Rules}} $>$}]{plural\+\_\+rules,  }\item[{double}]{number }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 179 of file js-\/plural-\/rules.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{180                                                                                \{}
\DoxyCodeLine{181   icu::PluralRules* icu\_plural\_rules = plural\_rules-\/>icu\_plural\_rules()-\/>raw();}
\DoxyCodeLine{182   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(icu\_plural\_rules);}
\DoxyCodeLine{183 }
\DoxyCodeLine{184   icu::number::LocalizedNumberFormatter* fmt =}
\DoxyCodeLine{185       plural\_rules-\/>icu\_number\_formatter()-\/>raw();}
\DoxyCodeLine{186   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(fmt);}
\DoxyCodeLine{187 }
\DoxyCodeLine{188   UErrorCode \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = U\_ZERO\_ERROR;}
\DoxyCodeLine{189   icu::number::FormattedNumber formatted\_number =}
\DoxyCodeLine{190       fmt-\/>formatDouble(number, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}});}
\DoxyCodeLine{191   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(U\_SUCCESS(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{192 }
\DoxyCodeLine{193   icu::UnicodeString \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{194       icu\_plural\_rules-\/>select(formatted\_number, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}});}
\DoxyCodeLine{195   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(U\_SUCCESS(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{196 }
\DoxyCodeLine{197   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1Intl_a31799f9a30b4169d1ea6919debdc6591}{Intl::ToString}}(isolate, \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{198 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::base\+::internal\+::result, v8\+::internal\+::status, and v8\+::internal\+::\+Intl\+::\+To\+String().



Referenced by v8\+::internal\+::\+BUILTIN().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSPluralRules_a1ec92143c5ad1762d0af135172feb855_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSPluralRules_a1ec92143c5ad1762d0af135172feb855_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_a29ad8030d2bf01c375948597b609fda8}\label{classv8_1_1internal_1_1JSPluralRules_a29ad8030d2bf01c375948597b609fda8}} 
\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!ResolvePluralRange@{ResolvePluralRange}}
\index{ResolvePluralRange@{ResolvePluralRange}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}
\doxysubsubsection{\texorpdfstring{ResolvePluralRange()}{ResolvePluralRange()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ v8\+::internal\+::\+JSPlural\+Rules\+::\+Resolve\+Plural\+Range (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules}{JSPlural\+Rules}} $>$}]{plural\+\_\+rules,  }\item[{double}]{x,  }\item[{double}]{y }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 200 of file js-\/plural-\/rules.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{202               \{}
\DoxyCodeLine{203   icu::PluralRules* icu\_plural\_rules = plural\_rules-\/>icu\_plural\_rules()-\/>raw();}
\DoxyCodeLine{204   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(icu\_plural\_rules);}
\DoxyCodeLine{205 }
\DoxyCodeLine{206   Maybe<icu::number::LocalizedNumberRangeFormatter> maybe\_range\_formatter =}
\DoxyCodeLine{207       \mbox{\hyperlink{classv8_1_1internal_1_1JSNumberFormat_a6a1bd271596db67cf26aed36fc37d562}{JSNumberFormat::GetRangeFormatter}}(}
\DoxyCodeLine{208           isolate, plural\_rules-\/>locale(),}
\DoxyCodeLine{209           *plural\_rules-\/>icu\_number\_formatter()-\/>raw());}
\DoxyCodeLine{210   \mbox{\hyperlink{execution_2isolate_8h_ab9c5f988388c2c537b8b161438e4ed31}{MAYBE\_RETURN}}(maybe\_range\_formatter, MaybeDirectHandle<String>());}
\DoxyCodeLine{211 }
\DoxyCodeLine{212   icu::number::LocalizedNumberRangeFormatter nrfmt =}
\DoxyCodeLine{213       maybe\_range\_formatter.FromJust();}
\DoxyCodeLine{214 }
\DoxyCodeLine{215   UErrorCode \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}} = U\_ZERO\_ERROR;}
\DoxyCodeLine{216   icu::number::FormattedNumberRange formatted = nrfmt.formatFormattableRange(}
\DoxyCodeLine{217       icu::Formattable(x), icu::Formattable(\mbox{\hyperlink{namespacev8_1_1internal_aeb5be8c54a68c0a55508c931639d71da}{y}}), \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}});}
\DoxyCodeLine{218 }
\DoxyCodeLine{219   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(U\_SUCCESS(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{220   icu::UnicodeString \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} = icu\_plural\_rules-\/>select(formatted, \mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}});}
\DoxyCodeLine{221   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(U\_SUCCESS(\mbox{\hyperlink{namespacev8_1_1internal_af04f4104c077ccbaef7596e23816a254}{status}}));}
\DoxyCodeLine{222 }
\DoxyCodeLine{223   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1Intl_a31799f9a30b4169d1ea6919debdc6591}{Intl::ToString}}(isolate, \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}});}
\DoxyCodeLine{224 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::\+Maybe$<$ T $>$\+::\+From\+Just(), v8\+::internal\+::\+JSNumber\+Format\+::\+Get\+Range\+Formatter(), MAYBE\+\_\+\+RETURN, v8\+::base\+::internal\+::result, v8\+::internal\+::status, v8\+::internal\+::\+Intl\+::\+To\+String(), and v8\+::internal\+::y.



Referenced by v8\+::internal\+::\+BUILTIN().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSPluralRules_a29ad8030d2bf01c375948597b609fda8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSPluralRules_a29ad8030d2bf01c375948597b609fda8_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_aecb342f21596997768c57e1890aeae87}\label{classv8_1_1internal_1_1JSPluralRules_aecb342f21596997768c57e1890aeae87}} 
\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!set\_type@{set\_type}}
\index{set\_type@{set\_type}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}
\doxysubsubsection{\texorpdfstring{set\_type()}{set\_type()}}
{\footnotesize\ttfamily k\+Icu\+Number\+Formatter\+Offset void v8\+::internal\+::\+JSPlural\+Rules\+::set\+\_\+type (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0fa}{Type}}}]{type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 34 of file js-\/plural-\/rules-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{34                                              \{}
\DoxyCodeLine{35   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(TypeBit::is\_valid(\mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}{type}}));}
\DoxyCodeLine{36   \textcolor{keywordtype}{int} hints = \mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}();}
\DoxyCodeLine{37   hints = TypeBit::update(hints, \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}{type}});}
\DoxyCodeLine{38   set\_flags(hints);}
\DoxyCodeLine{39 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), v8\+::internal\+::flags, and v8\+::internal\+::tracing\+::type.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSPluralRules_aecb342f21596997768c57e1890aeae87_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}\label{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}} 
\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!type@{type}}
\index{type@{type}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}
\doxysubsubsection{\texorpdfstring{type()}{type()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0fa}{JSPlural\+Rules\+::\+Type}} v8\+::internal\+::\+JSPlural\+Rules\+::type (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 41 of file js-\/plural-\/rules-\/inl.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{41                                                    \{}
\DoxyCodeLine{42   \textcolor{keywordflow}{return} TypeBit::decode(\mbox{\hyperlink{namespacev8_1_1internal_a83b0c194e63513f61999805edd71b125}{flags}}());}
\DoxyCodeLine{43 \}}

\end{DoxyCode}


References v8\+::internal\+::flags.



Referenced by New(), and Type\+As\+String().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1JSPluralRules_a46a483f86f14d17423bb6a01859dba8a}\label{classv8_1_1internal_1_1JSPluralRules_a46a483f86f14d17423bb6a01859dba8a}} 
\index{v8::internal::JSPluralRules@{v8::internal::JSPluralRules}!TypeAsString@{TypeAsString}}
\index{TypeAsString@{TypeAsString}!v8::internal::JSPluralRules@{v8::internal::JSPluralRules}}
\doxysubsubsection{\texorpdfstring{TypeAsString()}{TypeAsString()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1Handle}{Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ v8\+::internal\+::\+JSPlural\+Rules\+::\+Type\+As\+String (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption}) const}



Definition at line 58 of file js-\/plural-\/rules.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{58                                                                  \{}
\DoxyCodeLine{59   \textcolor{keywordflow}{switch} (\mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_ab867b8cb53b0773a74b2ad105fb1fe85}{type}}()) \{}
\DoxyCodeLine{60     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa017f22fbdf2b8e52b875c15f1910ad94}{Type::CARDINAL}}:}
\DoxyCodeLine{61       \textcolor{keywordflow}{return} isolate-\/>factory()-\/>cardinal\_string();}
\DoxyCodeLine{62     \textcolor{keywordflow}{case} \mbox{\hyperlink{classv8_1_1internal_1_1JSPluralRules_a98be126a1733a163bb5786882910a0faa16d57c61f883915c043a67c16f366a4a}{Type::ORDINAL}}:}
\DoxyCodeLine{63       \textcolor{keywordflow}{return} isolate-\/>factory()-\/>ordinal\_string();}
\DoxyCodeLine{64   \}}
\DoxyCodeLine{65   \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{66 \}}

\end{DoxyCode}


References CARDINAL, v8\+::internal\+::\+Isolate\+::factory(), ORDINAL, type(), and v8\+::internal\+::\+UNREACHABLE().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1JSPluralRules_a46a483f86f14d17423bb6a01859dba8a_cgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{js-plural-rules_8h}{js-\/plural-\/rules.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{js-plural-rules-inl_8h}{js-\/plural-\/rules-\/inl.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/objects/\mbox{\hyperlink{js-plural-rules_8cc}{js-\/plural-\/rules.\+cc}}\end{DoxyCompactItemize}
