\hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03}{}\doxysection{v8\+::internal\+::anonymous\+\_\+namespace\{code-\/memory-\/access.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03}\index{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_1_1MutexUnlocker}{Mutex\+Unlocker}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a5bc63783262a505db43ba9b03a2288fa}{Get\+Size}} (\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPage}{Thread\+Isolation\+::\+Jit\+Page}} $\ast$jit\+\_\+page)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a56123219f5d3e48a83a472d353d4883a}{Get\+Size}} (\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitAllocation}{Thread\+Isolation\+::\+Jit\+Allocation}} allocation)
\item 
{\footnotesize template$<$class T $>$ }\\void \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a2556a3643293fd17fb9cdb3b503531bf}{Check\+For\+Region\+Overlap}} (const \mbox{\hyperlink{classT}{T}} \&map, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} addr, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
{\footnotesize template$<$typename Iterator $>$ }\\\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_ad251fe4e68d68c111e6e571ed3035c29}{Allocation\+Is\+Behind\+Range}} (\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} range\+\_\+start, \mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}} range\+\_\+size, const Iterator \&it)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_ad251fe4e68d68c111e6e571ed3035c29}\label{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_ad251fe4e68d68c111e6e571ed3035c29}} 
\index{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}}!AllocationIsBehindRange@{AllocationIsBehindRange}}
\index{AllocationIsBehindRange@{AllocationIsBehindRange}!v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{AllocationIsBehindRange()}{AllocationIsBehindRange()}}
{\footnotesize\ttfamily template$<$typename Iterator $>$ \\
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::anonymous\+\_\+namespace\{\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/memory-\/access.\+cc\}\+::Allocation\+Is\+Behind\+Range (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{range\+\_\+start,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{range\+\_\+size,  }\item[{const Iterator \&}]{it }\end{DoxyParamCaption})}



Definition at line 268 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{269                                                  \{}
\DoxyCodeLine{270   \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} range\_end = range\_start + range\_size;}
\DoxyCodeLine{271   \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} allocation\_start = it-\/>first;}
\DoxyCodeLine{272   \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} allocation\_size = it-\/>second.Size();}
\DoxyCodeLine{273   \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} allocation\_end = allocation\_start + allocation\_size;}
\DoxyCodeLine{274 }
\DoxyCodeLine{275   \textcolor{keywordflow}{if} (allocation\_start >= range\_end) \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{276 }
\DoxyCodeLine{277   \mbox{\hyperlink{src_2base_2logging_8h_a56e883b55c80205b4d1727679c68b2bd}{CHECK\_LE}}(allocation\_end, range\_end);}
\DoxyCodeLine{278   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{279 \}}

\end{DoxyCode}


References CHECK\+\_\+\+LE.



Referenced by v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Unregister\+Range().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_ad251fe4e68d68c111e6e571ed3035c29_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a2556a3643293fd17fb9cdb3b503531bf}\label{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a2556a3643293fd17fb9cdb3b503531bf}} 
\index{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}}!CheckForRegionOverlap@{CheckForRegionOverlap}}
\index{CheckForRegionOverlap@{CheckForRegionOverlap}!v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{CheckForRegionOverlap()}{CheckForRegionOverlap()}}
{\footnotesize\ttfamily template$<$class T $>$ \\
void v8\+::internal\+::anonymous\+\_\+namespace\{\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/memory-\/access.\+cc\}\+::Check\+For\+Region\+Overlap (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classT}{T}} \&}]{map,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_ab4955debfb9384e59e3d4e9fcab5b0a0}{Address}}}]{addr,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})}



Definition at line 240 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{240                                                                     \{}
\DoxyCodeLine{241   \textcolor{comment}{// The data is untrusted from the pov of CFI, so we check that there's no}}
\DoxyCodeLine{242   \textcolor{comment}{// overlaps with existing regions etc.}}
\DoxyCodeLine{243   \mbox{\hyperlink{src_2base_2logging_8h_a1c7c9b7f14b9a33ea69cbe4578016a19}{CHECK\_GE}}(addr + \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, addr);}
\DoxyCodeLine{244 }
\DoxyCodeLine{245   \textcolor{comment}{// Find an entry in the map with key > addr}}
\DoxyCodeLine{246   \textcolor{keyword}{auto} it = map.upper\_bound(addr);}
\DoxyCodeLine{247   \textcolor{keywordtype}{bool} is\_begin = it == map.begin();}
\DoxyCodeLine{248   \textcolor{keywordtype}{bool} is\_end = it == map.end();}
\DoxyCodeLine{249 }
\DoxyCodeLine{250   \textcolor{comment}{// Check for overlap with the next entry}}
\DoxyCodeLine{251   \textcolor{keywordflow}{if} (!is\_end) \{}
\DoxyCodeLine{252     \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} next\_addr = it-\/>first;}
\DoxyCodeLine{253     \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} offset = next\_addr -\/ addr;}
\DoxyCodeLine{254     \mbox{\hyperlink{src_2base_2logging_8h_a56e883b55c80205b4d1727679c68b2bd}{CHECK\_LE}}(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, offset);}
\DoxyCodeLine{255   \}}
\DoxyCodeLine{256 }
\DoxyCodeLine{257   \textcolor{comment}{// Check the previous entry for overlap}}
\DoxyCodeLine{258   \textcolor{keywordflow}{if} (!is\_begin) \{}
\DoxyCodeLine{259     it-\/-\/;}
\DoxyCodeLine{260     \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} prev\_addr = it-\/>first;}
\DoxyCodeLine{261     \textcolor{keyword}{const} \textcolor{keyword}{typename} T::value\_type::second\_type\& prev\_entry = it-\/>second;}
\DoxyCodeLine{262     \mbox{\hyperlink{namespacev8_1_1base_aed4219b45684a3840c8b930b5df90ea9}{Address}} offset = addr -\/ prev\_addr;}
\DoxyCodeLine{263     \mbox{\hyperlink{src_2base_2logging_8h_a56e883b55c80205b4d1727679c68b2bd}{CHECK\_LE}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a56123219f5d3e48a83a472d353d4883a}{GetSize}}(prev\_entry), offset);}
\DoxyCodeLine{264   \}}
\DoxyCodeLine{265 \}}

\end{DoxyCode}


References CHECK\+\_\+\+GE, CHECK\+\_\+\+LE, Get\+Size(), and size().



Referenced by v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Register\+Allocation(), and v8\+::internal\+::\+Thread\+Isolation\+::\+Register\+Jit\+Page().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a2556a3643293fd17fb9cdb3b503531bf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a2556a3643293fd17fb9cdb3b503531bf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a56123219f5d3e48a83a472d353d4883a}\label{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a56123219f5d3e48a83a472d353d4883a}} 
\index{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}}!GetSize@{GetSize}}
\index{GetSize@{GetSize}!v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GetSize()}{GetSize()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::anonymous\+\_\+namespace\{\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/memory-\/access.\+cc\}\+::Get\+Size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitAllocation}{Thread\+Isolation\+::\+Jit\+Allocation}}}]{allocation }\end{DoxyParamCaption})}



Definition at line 235 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{235                                                         \{}
\DoxyCodeLine{236   \textcolor{keywordflow}{return} allocation.Size();}
\DoxyCodeLine{237 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Allocation\+::\+Size().



Referenced by Check\+For\+Region\+Overlap().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a56123219f5d3e48a83a472d353d4883a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a56123219f5d3e48a83a472d353d4883a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a5bc63783262a505db43ba9b03a2288fa}\label{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a5bc63783262a505db43ba9b03a2288fa}} 
\index{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}}!GetSize@{GetSize}}
\index{GetSize@{GetSize}!v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}code-\/memory-\/access.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GetSize()}{GetSize()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::anonymous\+\_\+namespace\{\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/memory-\/access.\+cc\}\+::Get\+Size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_1_1JitPage}{Thread\+Isolation\+::\+Jit\+Page}} $\ast$}]{jit\+\_\+page }\end{DoxyParamCaption})}



Definition at line 231 of file code-\/memory-\/access.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{231                                                  \{}
\DoxyCodeLine{232   \textcolor{keywordflow}{return} ThreadIsolation::JitPageReference(jit\_page, 0).Size();}
\DoxyCodeLine{233 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Thread\+Isolation\+::\+Jit\+Page\+Reference\+::\+Size().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02code-memory-access_8cc_03_a5bc63783262a505db43ba9b03a2288fa_cgraph}
\end{center}
\end{figure}
