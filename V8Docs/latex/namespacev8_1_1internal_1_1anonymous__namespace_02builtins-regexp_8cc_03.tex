\hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03}{}\doxysection{v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/regexp.cc\} Namespace Reference}
\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03}\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_a2178f38f0b382c6bace1f4e2761b79bd}{Get\+Ascii\+Escape}} (char c)
\item 
{\footnotesize template$<$typename CharT $>$ }\\\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1String}{String}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ad02e1fc4fe5ffb6aa5f70823083f20c6}{Reg\+Exp\+Escape\+Impl}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1base_1_1OwnedVector}{base\+::\+Owned\+Vector}}$<$ CharT $>$ source)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ac52e24dbadc7fc0a1ec158e517e88e8d}{k\+No\+Escape}} = 0
\item 
constexpr uint8\+\_\+t \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_aa2398c684fb2f3faf64db134d1bf9a51}{k\+Escape\+To\+Hex}} = std\+::numeric\+\_\+limits$<$uint8\+\_\+t$>$\+::max()
\item 
constexpr const uint8\+\_\+t \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ae5e7a052bbbf628f1c492c7c84ca9f55}{k\+Ascii\+Escapes}} \mbox{[}128\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_a2178f38f0b382c6bace1f4e2761b79bd}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_a2178f38f0b382c6bace1f4e2761b79bd}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}!GetAsciiEscape@{GetAsciiEscape}}
\index{GetAsciiEscape@{GetAsciiEscape}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{GetAsciiEscape()}{GetAsciiEscape()}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/regexp.\+cc\}\+::Get\+Ascii\+Escape (\begin{DoxyParamCaption}\item[{char}]{c }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 148 of file builtins-\/regexp.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{148                                          \{}
\DoxyCodeLine{149   \textcolor{keywordflow}{switch} (c) \{}
\DoxyCodeLine{150     \textcolor{comment}{// SyntaxCharacter :: one of}}
\DoxyCodeLine{151     \textcolor{comment}{//   \string^ \$ \(\backslash\) . * + ? ( ) [ ] \{ \} |}}
\DoxyCodeLine{152     \textcolor{comment}{//}}
\DoxyCodeLine{153     \textcolor{comment}{// SyntaxCharacter and U+002F (SOLIDUS) are escaped as-\/is.}}
\DoxyCodeLine{154     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\string^'}:}
\DoxyCodeLine{155     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\$'}:}
\DoxyCodeLine{156     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}:}
\DoxyCodeLine{157     \textcolor{keywordflow}{case} \textcolor{charliteral}{'.'}:}
\DoxyCodeLine{158     \textcolor{keywordflow}{case} \textcolor{charliteral}{'*'}:}
\DoxyCodeLine{159     \textcolor{keywordflow}{case} \textcolor{charliteral}{'+'}:}
\DoxyCodeLine{160     \textcolor{keywordflow}{case} \textcolor{charliteral}{'?'}:}
\DoxyCodeLine{161     \textcolor{keywordflow}{case} \textcolor{charliteral}{'('}:}
\DoxyCodeLine{162     \textcolor{keywordflow}{case} \textcolor{charliteral}{')'}:}
\DoxyCodeLine{163     \textcolor{keywordflow}{case} \textcolor{charliteral}{'['}:}
\DoxyCodeLine{164     \textcolor{keywordflow}{case} \textcolor{charliteral}{']'}:}
\DoxyCodeLine{165     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\{'}:}
\DoxyCodeLine{166     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\}'}:}
\DoxyCodeLine{167     \textcolor{keywordflow}{case} \textcolor{charliteral}{'|'}:}
\DoxyCodeLine{168     \textcolor{keywordflow}{case} \textcolor{charliteral}{'/'}:}
\DoxyCodeLine{169       \textcolor{keywordflow}{return} c;}
\DoxyCodeLine{170 }
\DoxyCodeLine{171     \textcolor{comment}{// ControlEscape :: one of}}
\DoxyCodeLine{172     \textcolor{comment}{//   f n r t v}}
\DoxyCodeLine{173     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)f'}:}
\DoxyCodeLine{174       \textcolor{keywordflow}{return} \textcolor{charliteral}{'f'};}
\DoxyCodeLine{175     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)n'}:}
\DoxyCodeLine{176       \textcolor{keywordflow}{return} \textcolor{charliteral}{'n'};}
\DoxyCodeLine{177     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)r'}:}
\DoxyCodeLine{178       \textcolor{keywordflow}{return} \textcolor{charliteral}{'r'};}
\DoxyCodeLine{179     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)t'}:}
\DoxyCodeLine{180       \textcolor{keywordflow}{return} \textcolor{charliteral}{'t'};}
\DoxyCodeLine{181     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)v'}:}
\DoxyCodeLine{182       \textcolor{keywordflow}{return} \textcolor{charliteral}{'v'};}
\DoxyCodeLine{183 }
\DoxyCodeLine{184     \textcolor{comment}{// One of "{},-\/=<>\#\&!\%:;@\string~'`"{}, the code unit 0x0022 (QUOTATION MARK), and}}
\DoxyCodeLine{185     \textcolor{comment}{// ASCII whitespace are escaped to hex.}}
\DoxyCodeLine{186     \textcolor{keywordflow}{case} \textcolor{charliteral}{','}:}
\DoxyCodeLine{187     \textcolor{keywordflow}{case} \textcolor{charliteral}{'-\/'}:}
\DoxyCodeLine{188     \textcolor{keywordflow}{case} \textcolor{charliteral}{'='}:}
\DoxyCodeLine{189     \textcolor{keywordflow}{case} \textcolor{charliteral}{'<'}:}
\DoxyCodeLine{190     \textcolor{keywordflow}{case} \textcolor{charliteral}{'>'}:}
\DoxyCodeLine{191     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\#'}:}
\DoxyCodeLine{192     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\&'}:}
\DoxyCodeLine{193     \textcolor{keywordflow}{case} \textcolor{charliteral}{'!'}:}
\DoxyCodeLine{194     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\%'}:}
\DoxyCodeLine{195     \textcolor{keywordflow}{case} \textcolor{charliteral}{':'}:}
\DoxyCodeLine{196     \textcolor{keywordflow}{case} \textcolor{charliteral}{';'}:}
\DoxyCodeLine{197     \textcolor{keywordflow}{case} \textcolor{charliteral}{'@'}:}
\DoxyCodeLine{198     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\string~'}:}
\DoxyCodeLine{199     \textcolor{keywordflow}{case} \textcolor{charliteral}{'\(\backslash\)''}:}
\DoxyCodeLine{200     \textcolor{keywordflow}{case} \textcolor{charliteral}{'`'}:}
\DoxyCodeLine{201     \textcolor{keywordflow}{case} \textcolor{charliteral}{'"{}'}:}
\DoxyCodeLine{202     \textcolor{keywordflow}{case} \textcolor{charliteral}{' '}:}
\DoxyCodeLine{203       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_aa2398c684fb2f3faf64db134d1bf9a51}{kEscapeToHex}};}
\DoxyCodeLine{204 }
\DoxyCodeLine{205     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{206       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ac52e24dbadc7fc0a1ec158e517e88e8d}{kNoEscape}};}
\DoxyCodeLine{207   \}}
\DoxyCodeLine{208 \}}

\end{DoxyCode}


References k\+Escape\+To\+Hex, and k\+No\+Escape.

\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ad02e1fc4fe5ffb6aa5f70823083f20c6}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ad02e1fc4fe5ffb6aa5f70823083f20c6}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}!RegExpEscapeImpl@{RegExpEscapeImpl}}
\index{RegExpEscapeImpl@{RegExpEscapeImpl}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{RegExpEscapeImpl()}{RegExpEscapeImpl()}}
{\footnotesize\ttfamily template$<$typename CharT $>$ \\
\mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{Maybe\+Direct\+Handle}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1String}{String}}$>$ v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/regexp.\+cc\}\+::Reg\+Exp\+Escape\+Impl (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1base_1_1OwnedVector}{base\+::\+Owned\+Vector}}$<$ CharT $>$}]{source }\end{DoxyParamCaption})}



Definition at line 217 of file builtins-\/regexp.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{218                                                                           \{}
\DoxyCodeLine{219   \textcolor{keywordtype}{char} double\_to\_radix\_chars[\mbox{\hyperlink{namespacev8_1_1internal_a84d58e486f27b42c9e5acfe7c1b05114}{kDoubleToRadixMaxChars}}];}
\DoxyCodeLine{220   base::Vector<char> double\_to\_radix\_buffer =}
\DoxyCodeLine{221       \mbox{\hyperlink{namespacev8_1_1base_a5a9af7c4695be790a041025148705409}{base::ArrayVector}}(double\_to\_radix\_chars);}
\DoxyCodeLine{222 }
\DoxyCodeLine{223   \textcolor{comment}{// 2. Let escaped be the empty String.}}
\DoxyCodeLine{224   IncrementalStringBuilder escaped\_builder(isolate);}
\DoxyCodeLine{225   \textcolor{keywordflow}{if} constexpr (\textcolor{keyword}{sizeof}(CharT) == 2) \{}
\DoxyCodeLine{226     escaped\_builder.ChangeEncoding();}
\DoxyCodeLine{227   \}}
\DoxyCodeLine{228 }
\DoxyCodeLine{229   \textcolor{comment}{// 3. Let cpList be StringToCodePoints(S).}}
\DoxyCodeLine{230   \textcolor{comment}{// 4. For each code point c of cpList, do}}
\DoxyCodeLine{231   \textcolor{comment}{// (Done below.)}}
\DoxyCodeLine{232 }
\DoxyCodeLine{233   \textcolor{keywordtype}{size\_t} start;}
\DoxyCodeLine{234   std::remove\_const\_t<CharT> first\_c = source[0];}
\DoxyCodeLine{235   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aca9a78430c84a5e9d36c54d7fa211cf6}{IsAlphaNumeric}}(first\_c)) \{}
\DoxyCodeLine{236     \textcolor{comment}{// a. If escaped is the empty String and c is matched by either}}
\DoxyCodeLine{237     \textcolor{comment}{//    DecimalDigit or AsciiLetter, then}}
\DoxyCodeLine{238     \textcolor{comment}{//   i. NOTE: Escaping a leading digit ensures that output corresponds}}
\DoxyCodeLine{239     \textcolor{comment}{//     with pattern text which may be used after a \(\backslash\)0 character escape or}}
\DoxyCodeLine{240     \textcolor{comment}{//     a DecimalEscape such as \(\backslash\)1 and still match S rather than be}}
\DoxyCodeLine{241     \textcolor{comment}{//     interpreted as an extension of the preceding escape sequence.}}
\DoxyCodeLine{242     \textcolor{comment}{//     Escaping a leading ASCII letter does the same for the context after}}
\DoxyCodeLine{243     \textcolor{comment}{//     \(\backslash\)c.}}
\DoxyCodeLine{244     \textcolor{comment}{//   ii. Let numericValue be the numeric value of c.}}
\DoxyCodeLine{245     \textcolor{comment}{//   iii. Let hex be Number::toString(𝔽(numericValue), 16).}}
\DoxyCodeLine{246     \textcolor{comment}{//   iv. Assert: The length of hex is 2.}}
\DoxyCodeLine{247     \textcolor{comment}{//   v. Set escaped to the string-\/concatenation of the code unit 0x005C}}
\DoxyCodeLine{248     \textcolor{comment}{//      (REVERSE SOLIDUS), "{}x"{}, and hex.}}
\DoxyCodeLine{249     start = 1;}
\DoxyCodeLine{250     escaped\_builder.AppendCStringLiteral(\textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)x"{}});}
\DoxyCodeLine{251     std::string\_view hex =}
\DoxyCodeLine{252         \mbox{\hyperlink{namespacev8_1_1internal_ad825d44610887bb606d7331ff379a4b4}{DoubleToRadixStringView}}(first\_c, 16, double\_to\_radix\_buffer);}
\DoxyCodeLine{253     escaped\_builder.AppendString(hex);}
\DoxyCodeLine{254   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{255     start = 0;}
\DoxyCodeLine{256   \}}
\DoxyCodeLine{257 }
\DoxyCodeLine{258   \textcolor{comment}{// EncodeForRegExpEscape}}
\DoxyCodeLine{259   \textcolor{comment}{//}}
\DoxyCodeLine{260   \textcolor{comment}{// 1. If c is matched by SyntaxCharacter or c is U+002F (SOLIDUS), then a.}}
\DoxyCodeLine{261   \textcolor{comment}{//    Return the string-\/concatenation of 0x005C (REVERSE SOLIDUS) and}}
\DoxyCodeLine{262   \textcolor{comment}{//    UTF16EncodeCodePoint(c).}}
\DoxyCodeLine{263   \textcolor{comment}{// 2. Else if c is the code point listed in some cell of the “Code Point”}}
\DoxyCodeLine{264   \textcolor{comment}{//    column of Table 63, then a. Return the string-\/concatenation of 0x005C}}
\DoxyCodeLine{265   \textcolor{comment}{//    (REVERSE SOLIDUS) and the string in the “ControlEscape” column of the}}
\DoxyCodeLine{266   \textcolor{comment}{//    row whose “Code Point” column contains c.}}
\DoxyCodeLine{267   \textcolor{comment}{// 3. Let otherPunctuators be the string-\/concatenation of "{},-\/=<>\#\&!\%:;@\string~'`"{}}}
\DoxyCodeLine{268   \textcolor{comment}{//    and the code unit 0x0022 (QUOTATION MARK).}}
\DoxyCodeLine{269   \textcolor{comment}{// 4. Let toEscape be StringToCodePoints(otherPunctuators).}}
\DoxyCodeLine{270   \textcolor{comment}{// 5. If toEscape contains c, c is matched by either WhiteSpace or}}
\DoxyCodeLine{271   \textcolor{comment}{//    LineTerminator, or c has the same numeric value as a leading surrogate}}
\DoxyCodeLine{272   \textcolor{comment}{//    or trailing surrogate, then a. Let cNum be the numeric value of c. b. If}}
\DoxyCodeLine{273   \textcolor{comment}{//    cNum ≤ 0xFF, then i. Let hex be Number::toString(𝔽(cNum), 16). ii.}}
\DoxyCodeLine{274   \textcolor{comment}{//    Return the string-\/concatenation of the code unit 0x005C (REVERSE}}
\DoxyCodeLine{275   \textcolor{comment}{//    SOLIDUS), "{}x"{}, and StringPad(hex, 2, "{}0"{}, start). c. Let escaped be the}}
\DoxyCodeLine{276   \textcolor{comment}{//    empty String. d. Let codeUnits be UTF16EncodeCodePoint(c). e. For each}}
\DoxyCodeLine{277   \textcolor{comment}{//    code unit cu of codeUnits, do i. Set escaped to the string-\/concatenation}}
\DoxyCodeLine{278   \textcolor{comment}{//    of escaped and UnicodeEscape(cu). f. Return escaped.}}
\DoxyCodeLine{279   \textcolor{comment}{// 6. Return UTF16EncodeCodePoint(c).}}
\DoxyCodeLine{280   \textcolor{comment}{//}}
\DoxyCodeLine{281   \textcolor{comment}{// Steps 1-\/2 above are done by table lookup in kAsciiEscapes. For step 3,}}
\DoxyCodeLine{282   \textcolor{comment}{// matching otherPuncatuators, quotation mark, and ASCII whitespace is done by}}
\DoxyCodeLine{283   \textcolor{comment}{// table lookup in kAsciiEscapes. Non-\/ASCII whitespace and line terminators in}}
\DoxyCodeLine{284   \textcolor{comment}{// step 5 are matched manually below.}}
\DoxyCodeLine{285 }
\DoxyCodeLine{286   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = start; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < source.size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{287     CharT cu = source[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}];}
\DoxyCodeLine{288     \mbox{\hyperlink{namespacev8_1_1base_afcc423803ea2c1016077f37df18793ed}{base::uc32}} \mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}} = cu;}
\DoxyCodeLine{289     uint8\_t cmd = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ac52e24dbadc7fc0a1ec158e517e88e8d}{kNoEscape}};}
\DoxyCodeLine{290 }
\DoxyCodeLine{291     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a4e496f2f967c07584ec8722a518f2e37}{IsAscii}}(cu)) \{}
\DoxyCodeLine{292       cmd = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ae5e7a052bbbf628f1c492c7c84ca9f55}{kAsciiEscapes}}[cu];}
\DoxyCodeLine{293     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{294       \textcolor{keywordflow}{if} constexpr (\textcolor{keyword}{sizeof}(CharT) == 2) \{}
\DoxyCodeLine{295         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classunibrow_1_1Utf16_ada29066756f075feb4786ec1b6d50f71}{unibrow::Utf16::IsLeadSurrogate}}(cu)) \{}
\DoxyCodeLine{296           \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal}{i}} + 1 < source.size() \&\&}
\DoxyCodeLine{297               \mbox{\hyperlink{classunibrow_1_1Utf16_abb3a01f7302f952deaad31b667fd83a8}{unibrow::Utf16::IsTrailSurrogate}}(source[\mbox{\hyperlink{namespacev8_1_1internal}{i}} + 1])) \{}
\DoxyCodeLine{298             \textcolor{comment}{// Surrogate pair. Combine them.}}
\DoxyCodeLine{299             \mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}} = \mbox{\hyperlink{classunibrow_1_1Utf16_aac66a94947867b52f783c206f7f798ac}{unibrow::Utf16::CombineSurrogatePair}}(cu, source[\mbox{\hyperlink{namespacev8_1_1internal}{i}} + 1]);}
\DoxyCodeLine{300             \mbox{\hyperlink{namespacev8_1_1internal}{i}}++;}
\DoxyCodeLine{301           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{302             \textcolor{comment}{// Lone lead surrogate.}}
\DoxyCodeLine{303             cmd = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_aa2398c684fb2f3faf64db134d1bf9a51}{kEscapeToHex}};}
\DoxyCodeLine{304           \}}
\DoxyCodeLine{305         \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{classunibrow_1_1Utf16_abb3a01f7302f952deaad31b667fd83a8}{unibrow::Utf16::IsTrailSurrogate}}(cu)) \{}
\DoxyCodeLine{306           \textcolor{comment}{// Lone trailing surrogate.}}
\DoxyCodeLine{307           cmd = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_aa2398c684fb2f3faf64db134d1bf9a51}{kEscapeToHex}};}
\DoxyCodeLine{308         \}}
\DoxyCodeLine{309       \}}
\DoxyCodeLine{310 }
\DoxyCodeLine{311       \textcolor{comment}{// ASCII whitespace and line terminators are hardcoded in the}}
\DoxyCodeLine{312       \textcolor{comment}{// kAsciiEscapes table.}}
\DoxyCodeLine{313       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a5258b3e99e9bc53458326bb8a5fea417}{IsWhiteSpaceOrLineTerminator}}(\mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}})) \{}
\DoxyCodeLine{314         cmd = \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_aa2398c684fb2f3faf64db134d1bf9a51}{kEscapeToHex}};}
\DoxyCodeLine{315       \}}
\DoxyCodeLine{316     \}}
\DoxyCodeLine{317 }
\DoxyCodeLine{318     \textcolor{keywordflow}{if} (cmd == \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ac52e24dbadc7fc0a1ec158e517e88e8d}{kNoEscape}}) \{}
\DoxyCodeLine{319       \textcolor{comment}{// Code point does not need to be escaped.}}
\DoxyCodeLine{320       \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}} == cu) \{}
\DoxyCodeLine{321         escaped\_builder.Append<CharT, CharT>(\mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}});}
\DoxyCodeLine{322       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{323         \mbox{\hyperlink{src_2base_2logging_8h_af1a711c8d5520dff78858ddefd2ad668}{DCHECK\_LT}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, source.size());}
\DoxyCodeLine{324         \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(\mbox{\hyperlink{classunibrow_1_1Utf16_a8ab0761452dd5c57d5a90c6af999b5d7}{unibrow::Utf16::IsSurrogatePair}}(cu, source[\mbox{\hyperlink{namespacev8_1_1internal}{i}}]));}
\DoxyCodeLine{325         \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}}, \mbox{\hyperlink{classunibrow_1_1Utf16_aac66a94947867b52f783c206f7f798ac}{unibrow::Utf16::CombineSurrogatePair}}(cu, source[\mbox{\hyperlink{namespacev8_1_1internal}{i}}]));}
\DoxyCodeLine{326         escaped\_builder.Append<CharT, CharT>(cu);}
\DoxyCodeLine{327         escaped\_builder.Append<CharT, CharT>(source[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}]);}
\DoxyCodeLine{328       \}}
\DoxyCodeLine{329     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (cmd == \mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_aa2398c684fb2f3faf64db134d1bf9a51}{kEscapeToHex}}) \{}
\DoxyCodeLine{330       \textcolor{comment}{// An escape to hex. Output \(\backslash\)x or \(\backslash\)u depending on how many code units.}}
\DoxyCodeLine{331       escaped\_builder.AppendCStringLiteral(\mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}} <= 0xFF ? \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)x"{}} : \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)u"{}});}
\DoxyCodeLine{332       std::string\_view hex =}
\DoxyCodeLine{333           \mbox{\hyperlink{namespacev8_1_1internal_ad825d44610887bb606d7331ff379a4b4}{DoubleToRadixStringView}}(\mbox{\hyperlink{namespacev8_1_1internal_acf7181c6ad0cb44fba9ad483652c01c9}{cp}}, 16, double\_to\_radix\_buffer);}
\DoxyCodeLine{334       escaped\_builder.AppendString(hex);}
\DoxyCodeLine{335     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{336       \textcolor{comment}{// A manual, non-\/hex escape. See table in kAsciiEscapes.}}
\DoxyCodeLine{337       escaped\_builder.AppendCharacter(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{338       escaped\_builder.AppendCharacter(cmd);}
\DoxyCodeLine{339     \}}
\DoxyCodeLine{340   \}}
\DoxyCodeLine{341 }
\DoxyCodeLine{342   \textcolor{keywordflow}{return} escaped\_builder.Finish();}
\DoxyCodeLine{343 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Incremental\+String\+Builder\+::\+Append(), v8\+::internal\+::\+Incremental\+String\+Builder\+::\+Append\+Character(), v8\+::internal\+::\+Incremental\+String\+Builder\+::\+Append\+CString\+Literal(), v8\+::internal\+::\+Incremental\+String\+Builder\+::\+Append\+String(), v8\+::base\+::\+Array\+Vector(), v8\+::internal\+::\+Incremental\+String\+Builder\+::\+Change\+Encoding(), unibrow\+::\+Utf16\+::\+Combine\+Surrogate\+Pair(), v8\+::internal\+::cp, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+LT, v8\+::internal\+::\+Double\+To\+Radix\+String\+View(), v8\+::internal\+::\+Incremental\+String\+Builder\+::\+Finish(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::\+Is\+Alpha\+Numeric(), v8\+::internal\+::\+Is\+Ascii(), unibrow\+::\+Utf16\+::\+Is\+Lead\+Surrogate(), unibrow\+::\+Utf16\+::\+Is\+Surrogate\+Pair(), unibrow\+::\+Utf16\+::\+Is\+Trail\+Surrogate(), v8\+::internal\+::\+Is\+White\+Space\+Or\+Line\+Terminator(), k\+Ascii\+Escapes, v8\+::internal\+::k\+Double\+To\+Radix\+Max\+Chars, k\+Escape\+To\+Hex, k\+No\+Escape, and v8\+::base\+::\+Owned\+Vector$<$ T $>$\+::size().



Referenced by v8\+::internal\+::\+BUILTIN().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ad02e1fc4fe5ffb6aa5f70823083f20c6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ad02e1fc4fe5ffb6aa5f70823083f20c6_icgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ae5e7a052bbbf628f1c492c7c84ca9f55}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ae5e7a052bbbf628f1c492c7c84ca9f55}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}!kAsciiEscapes@{kAsciiEscapes}}
\index{kAsciiEscapes@{kAsciiEscapes}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kAsciiEscapes}{kAsciiEscapes}}
{\footnotesize\ttfamily constexpr const uint8\+\_\+t v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/regexp.\+cc\}\+::k\+Ascii\+Escapes\mbox{[}128\mbox{]}\hspace{0.3cm}{\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\textcolor{preprocessor}{\#define GET\_ASCII\_ESCAPE(c) }}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\}}

\end{DoxyCode}


Definition at line 210 of file builtins-\/regexp.\+cc.



Referenced by Reg\+Exp\+Escape\+Impl().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_aa2398c684fb2f3faf64db134d1bf9a51}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_aa2398c684fb2f3faf64db134d1bf9a51}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}!kEscapeToHex@{kEscapeToHex}}
\index{kEscapeToHex@{kEscapeToHex}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kEscapeToHex}{kEscapeToHex}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/regexp.\+cc\}\+::k\+Escape\+To\+Hex = std\+::numeric\+\_\+limits$<$uint8\+\_\+t$>$\+::max()\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 147 of file builtins-\/regexp.\+cc.



Referenced by Get\+Ascii\+Escape(), and Reg\+Exp\+Escape\+Impl().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ac52e24dbadc7fc0a1ec158e517e88e8d}\label{namespacev8_1_1internal_1_1anonymous__namespace_02builtins-regexp_8cc_03_ac52e24dbadc7fc0a1ec158e517e88e8d}} 
\index{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}!kNoEscape@{kNoEscape}}
\index{kNoEscape@{kNoEscape}!v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}@{v8::internal::anonymous\_namespace\lcurly{}builtins-\/regexp.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{kNoEscape}{kNoEscape}}
{\footnotesize\ttfamily constexpr uint8\+\_\+t v8\+::internal\+::anonymous\+\_\+namespace\{builtins-\/regexp.\+cc\}\+::k\+No\+Escape = 0\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 146 of file builtins-\/regexp.\+cc.



Referenced by Get\+Ascii\+Escape(), and Reg\+Exp\+Escape\+Impl().

