\hypertarget{classv8_1_1ArrayBuffer}{}\doxysection{v8\+::Array\+Buffer Class Reference}
\label{classv8_1_1ArrayBuffer}\index{v8::ArrayBuffer@{v8::ArrayBuffer}}


An instance of the built-\/in \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} constructor (ES6 draft 15.\+13.\+5).  




{\ttfamily \#include $<$v8-\/array-\/buffer.\+h$>$}



Inheritance diagram for v8\+::Array\+Buffer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1ArrayBuffer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::Array\+Buffer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{classv8_1_1ArrayBuffer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator}{Allocator}}
\begin{DoxyCompactList}\small\item\em A thread-\/safe allocator that \mbox{\hyperlink{classv8_1_1V8}{V8}} uses to allocate $\vert$\+Array\+Buffer$\vert$\textquotesingle{}s memory. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1ArrayBuffer_af4c4ad8075f74892ed3fa217219a2626}{Byte\+Length}} () const
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classv8_1_1Data}{Data}} length in bytes. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{classv8_1_1ArrayBuffer_a0397f71296aa82f1d3e0cd62ff2db359}{Max\+Byte\+Length}} () const
\begin{DoxyCompactList}\small\item\em Maximum length in bytes. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classv8_1_1ArrayBuffer_a599e83055b4c04499076f7068c2776d0}{Is\+Detachable}} () const
\begin{DoxyCompactList}\small\item\em Returns true if this \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} may be detached. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classv8_1_1ArrayBuffer_a6ea4852e91f3c5c13e7752f1cf29ed19}{Was\+Detached}} () const
\begin{DoxyCompactList}\small\item\em Returns true if this \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} has been detached. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classv8_1_1ArrayBuffer_a68161311f61612d32845d545c923a797}{V8\+\_\+\+DEPRECATED}} (\char`\"{}Use the version which takes a key parameter (passing a \mbox{\hyperlink{instruction-selector-s390_8cc_ac97b8ee753e4405397a42ad5799b0f9e}{null}} handle is \char`\"{} \char`\"{}ok).\char`\"{}) void \mbox{\hyperlink{classv8_1_1ArrayBuffer_a4a8255fea7f81f5b3c468186c3c310a7}{Detach}}()
\begin{DoxyCompactList}\small\item\em Detaches this \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} and all its views (typed arrays). \end{DoxyCompactList}\item 
\mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$ bool $>$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_a4a8255fea7f81f5b3c468186c3c310a7}{Detach}} (\mbox{\hyperlink{classv8_1_1Local}{v8\+::\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ key)
\begin{DoxyCompactList}\small\item\em Detaches this \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} and all its views (typed arrays). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{classv8_1_1ArrayBuffer_a550f6559326394e0e0f1419758707670}{Set\+Detach\+Key}} (\mbox{\hyperlink{classv8_1_1Local}{v8\+::\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$ key)
\begin{DoxyCompactList}\small\item\em Sets the Array\+Buffer\+Detach\+Key. \end{DoxyCompactList}\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_a9fa656e79c9974b20b6456aa7a0d5fe6}{Get\+Backing\+Store}} ()
\begin{DoxyCompactList}\small\item\em Get a shared pointer to the backing store of this array buffer. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{classv8_1_1ArrayBuffer_a7f2c40882d84ea0556bafc78d16e7481}{Is\+Resizable\+By\+User\+Java\+Script}} () const
\begin{DoxyCompactList}\small\item\em More efficient shortcut for \mbox{\hyperlink{classv8_1_1ArrayBuffer_a9fa656e79c9974b20b6456aa7a0d5fe6}{Get\+Backing\+Store()}}-\/$>$\mbox{\hyperlink{classv8_1_1ArrayBuffer_a7f2c40882d84ea0556bafc78d16e7481}{Is\+Resizable\+By\+User\+Java\+Script()}}. \end{DoxyCompactList}\item 
void $\ast$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_a9b1991d6727f58bd9b755e67396f24d5}{Data}} () const
\begin{DoxyCompactList}\small\item\em More efficient shortcut for \mbox{\hyperlink{classv8_1_1ArrayBuffer_a9fa656e79c9974b20b6456aa7a0d5fe6}{Get\+Backing\+Store()}}-\/$>$\mbox{\hyperlink{classv8_1_1Data_abdc21d1bcc526313f62ae684fe1de070}{Data()}}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classv8_1_1MaybeLocal}{Maybe\+Local}}$<$ \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} $>$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_a12a27ffd40e72e49400ac8eb8a8d6a70}{Maybe\+New}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, size\+\_\+t byte\+\_\+length, \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}} initialization\+\_\+mode=\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}})
\begin{DoxyCompactList}\small\item\em Attempt to create a new \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}}. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} $>$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_a205ebfae531dd7819fbd486a49b46816}{New}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, size\+\_\+t byte\+\_\+length, \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}} initialization\+\_\+mode=\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}})
\begin{DoxyCompactList}\small\item\em Create a new \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}}. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} $>$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_a34488bbb112b01fe81b8ff06490c62b4}{New}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$ backing\+\_\+store)
\begin{DoxyCompactList}\small\item\em Create a new \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} with an existing backing store. \end{DoxyCompactList}\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_a30fc9698c5c68099c906825909fdd6f8}{New\+Backing\+Store}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$isolate, size\+\_\+t byte\+\_\+length, \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}} initialization\+\_\+mode=\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}}, \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1}{Backing\+Store\+On\+Failure\+Mode}} on\+\_\+failure=\mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1ab681eacb215899549d45805f02eeb40c}{Backing\+Store\+On\+Failure\+Mode\+::k\+Out\+Of\+Memory}})
\begin{DoxyCompactList}\small\item\em Returns a new standalone \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} that is allocated using the array buffer allocator of the isolate. \end{DoxyCompactList}\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_acff64db5762ece7f761e6108aeb72bf4}{New\+Backing\+Store}} (void $\ast$data, size\+\_\+t byte\+\_\+length, \mbox{\hyperlink{classv8_1_1BackingStore_ab2d10e4c046ba17490364168d1e190b0}{v8\+::\+Backing\+Store\+::\+Deleter\+Callback}} deleter, void $\ast$deleter\+\_\+data)
\begin{DoxyCompactList}\small\item\em Returns a new standalone \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} that takes over the ownership of the given buffer. \end{DoxyCompactList}\item 
static std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_a1eeb14775b876731cfc45cf442ffbe59}{New\+Resizable\+Backing\+Store}} (size\+\_\+t byte\+\_\+length, size\+\_\+t max\+\_\+byte\+\_\+length)
\begin{DoxyCompactList}\small\item\em Returns a new resizable standalone \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} that is allocated using the array buffer allocator of the isolate. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} $\ast$ \mbox{\hyperlink{classv8_1_1ArrayBuffer_ab971ad6d5bdbb1aba93e541f7b11203e}{Cast}} (\mbox{\hyperlink{classv8_1_1Value}{Value}} $\ast$value)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
static constexpr \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1ArrayBuffer_a000bfd3dbc9c62af0d2c0e14aa69526d}{k\+Internal\+Field\+Count}}
\item 
static constexpr \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{classv8_1_1ArrayBuffer_a283a36cbfa2ae71b2fc2a876cac7b792}{k\+Embedder\+Field\+Count}} = \mbox{\hyperlink{classv8_1_1ArrayBuffer_a000bfd3dbc9c62af0d2c0e14aa69526d}{k\+Internal\+Field\+Count}}
\item 
static constexpr size\+\_\+t \mbox{\hyperlink{classv8_1_1ArrayBuffer_abe559b324fb6733f16e5e5b97f397a63}{k\+Max\+Byte\+Length}}
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1ArrayBuffer_af1ddf6aa075a03ae4dfa40f758d00fb6}{Array\+Buffer}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Member Functions}
\begin{DoxyCompactItemize}
\item 
static void \mbox{\hyperlink{classv8_1_1ArrayBuffer_ae06abab0464cc17b45f12ccd8e2e13ef}{Check\+Cast}} (\mbox{\hyperlink{classv8_1_1Value}{Value}} $\ast$obj)
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1ArrayBuffer_a679c5b67d6648ebb729b30d819e46632}{Typed\+Array}}
\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
An instance of the built-\/in \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} constructor (ES6 draft 15.\+13.\+5). 

Definition at line 131 of file v8-\/array-\/buffer.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_af1ddf6aa075a03ae4dfa40f758d00fb6}\label{classv8_1_1ArrayBuffer_af1ddf6aa075a03ae4dfa40f758d00fb6}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!ArrayBuffer@{ArrayBuffer}}
\index{ArrayBuffer@{ArrayBuffer}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{ArrayBuffer()}{ArrayBuffer()}}
{\footnotesize\ttfamily v8\+::\+Array\+Buffer\+::\+Array\+Buffer (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_af4c4ad8075f74892ed3fa217219a2626}\label{classv8_1_1ArrayBuffer_af4c4ad8075f74892ed3fa217219a2626}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!ByteLength@{ByteLength}}
\index{ByteLength@{ByteLength}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{ByteLength()}{ByteLength()}}
{\footnotesize\ttfamily size\+\_\+t v8\+::\+Array\+Buffer\+::\+Byte\+Length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



\mbox{\hyperlink{classv8_1_1Data}{Data}} length in bytes. 



Definition at line 8961 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{8961                                        \{}
\DoxyCodeLine{8962   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this})-\/>GetByteLength();}
\DoxyCodeLine{8963 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_af4c4ad8075f74892ed3fa217219a2626_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_ab971ad6d5bdbb1aba93e541f7b11203e}\label{classv8_1_1ArrayBuffer_ab971ad6d5bdbb1aba93e541f7b11203e}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!Cast@{Cast}}
\index{Cast@{Cast}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{Cast()}{Cast()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}}$\ast$ v8\+::\+Array\+Buffer\+::\+Cast (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Value}{Value}} $\ast$}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 380 of file v8-\/array-\/buffer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{380                                                    \{}
\DoxyCodeLine{381 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_CHECKS}}
\DoxyCodeLine{382     \mbox{\hyperlink{classv8_1_1ArrayBuffer_ae06abab0464cc17b45f12ccd8e2e13ef}{CheckCast}}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{383 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{384     \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classv8_1_1ArrayBuffer_af1ddf6aa075a03ae4dfa40f758d00fb6}{ArrayBuffer}}*\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_ac1a33b5fd9af1653d346746cdb5c1ac0}{value}});}
\DoxyCodeLine{385   \}}

\end{DoxyCode}


References v8\+::internal\+::value.

\mbox{\Hypertarget{classv8_1_1ArrayBuffer_ae06abab0464cc17b45f12ccd8e2e13ef}\label{classv8_1_1ArrayBuffer_ae06abab0464cc17b45f12ccd8e2e13ef}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!CheckCast@{CheckCast}}
\index{CheckCast@{CheckCast}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{CheckCast()}{CheckCast()}}
{\footnotesize\ttfamily void v8\+::\+Array\+Buffer\+::\+Check\+Cast (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Value}{Value}} $\ast$}]{obj }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 4076 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4076                                          \{}
\DoxyCodeLine{4077   \textcolor{keyword}{auto} obj = *\mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(that);}
\DoxyCodeLine{4078   \mbox{\hyperlink{classv8_1_1Utils_a1a1e634bae095bf6ff0ed2d9d737be00}{Utils::ApiCheck}}(}
\DoxyCodeLine{4079       IsJSArrayBuffer(obj) \&\& !i::Cast<i::JSArrayBuffer>(obj)-\/>\mbox{\hyperlink{namespacev8_1_1internal_adee95482032a93e07f59341fed5c909f}{is\_shared}}(),}
\DoxyCodeLine{4080       \textcolor{stringliteral}{"{}v8::ArrayBuffer::Cast()"{}}, \textcolor{stringliteral}{"{}Value is not an ArrayBuffer"{}});}
\DoxyCodeLine{4081 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Api\+Check(), v8\+::internal\+::is\+\_\+shared, and v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_ae06abab0464cc17b45f12ccd8e2e13ef_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a9b1991d6727f58bd9b755e67396f24d5}\label{classv8_1_1ArrayBuffer_a9b1991d6727f58bd9b755e67396f24d5}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!Data@{Data}}
\index{Data@{Data}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{Data()}{Data()}}
{\footnotesize\ttfamily void $\ast$ v8\+::\+Array\+Buffer\+::\+Data (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



More efficient shortcut for \mbox{\hyperlink{classv8_1_1ArrayBuffer_a9fa656e79c9974b20b6456aa7a0d5fe6}{Get\+Backing\+Store()}}-\/$>$\mbox{\hyperlink{classv8_1_1Data_abdc21d1bcc526313f62ae684fe1de070}{Data()}}. 

The returned pointer is valid as long as the \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} is alive. 

Definition at line 4054 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4054                                 \{}
\DoxyCodeLine{4055   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this})-\/>backing\_store();}
\DoxyCodeLine{4056 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Open\+Direct\+Handle().



Referenced by v8\+\_\+inspector\+::\+V8\+Console\+::\+Command\+Line\+APIScope\+::accessor\+Getter\+Callback(), v8\+\_\+inspector\+::\+V8\+Console\+::\+Command\+Line\+APIScope\+::accessor\+Setter\+Callback(), and v8\+\_\+inspector\+::\+V8\+Console\+::call().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a9b1991d6727f58bd9b755e67396f24d5_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a9b1991d6727f58bd9b755e67396f24d5_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a4a8255fea7f81f5b3c468186c3c310a7}\label{classv8_1_1ArrayBuffer_a4a8255fea7f81f5b3c468186c3c310a7}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!Detach@{Detach}}
\index{Detach@{Detach}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{Detach()}{Detach()}}
{\footnotesize\ttfamily void v8\+::\+Array\+Buffer\+::\+Detach (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Local}{v8\+::\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$}]{key }\end{DoxyParamCaption})}



Detaches this \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} and all its views (typed arrays). 

Detaching sets the byte length of the buffer and all typed arrays to zero, preventing Java\+Script from ever accessing underlying backing store. \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} should have been externalized and must be detachable. Returns Nothing if the key didn\textquotesingle{}t pass the \mbox{[}\mbox{[}Array\+Buffer\+Detach\+Key\mbox{]}\mbox{]} check, Just(true) otherwise. 

Definition at line 8925 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{8925                                                       \{}
\DoxyCodeLine{8926   \textcolor{keyword}{auto} obj = \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this});}
\DoxyCodeLine{8927   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a05a2b08b2b0f2d5aef8dc053e2ea3d9b}{i::Isolate::Current}}();}
\DoxyCodeLine{8928   \mbox{\hyperlink{classv8_1_1Utils_a1a1e634bae095bf6ff0ed2d9d737be00}{Utils::ApiCheck}}(obj-\/>is\_detachable(), \textcolor{stringliteral}{"{}v8::ArrayBuffer::Detach"{}},}
\DoxyCodeLine{8929                   \textcolor{stringliteral}{"{}Only detachable ArrayBuffers can be detached"{}});}
\DoxyCodeLine{8930   Local<Context> context =}
\DoxyCodeLine{8931       \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1Isolate}{v8::Isolate}}*\textcolor{keyword}{>}(i\_isolate)-\/>GetCurrentContext();}
\DoxyCodeLine{8932   \textcolor{comment}{// TODO(verwaest): Remove this case after forcing the embedder to enter the}}
\DoxyCodeLine{8933   \textcolor{comment}{// context.}}
\DoxyCodeLine{8934   \textcolor{keywordflow}{if} (context.IsEmpty()) \{}
\DoxyCodeLine{8935     EnterV8NoScriptNoExceptionScope api\_scope(i\_isolate);}
\DoxyCodeLine{8936     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}.IsEmpty()) \{}
\DoxyCodeLine{8937       \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_a98d48c4b2a6e4e7d80037a26ed2de8ff}{i::JSArrayBuffer::Detach}}(obj).Check();}
\DoxyCodeLine{8938     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{8939       \textcolor{keyword}{auto} i\_key = \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(*\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{8940       constexpr \textcolor{keywordtype}{bool} kForceForWasmMemory = \textcolor{keyword}{false};}
\DoxyCodeLine{8941       \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_a98d48c4b2a6e4e7d80037a26ed2de8ff}{i::JSArrayBuffer::Detach}}(obj, kForceForWasmMemory, i\_key).Check();}
\DoxyCodeLine{8942     \}}
\DoxyCodeLine{8943     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_a41f0e280eadfba6ac9afd833fdd540cf}{Just}}(\textcolor{keyword}{true});}
\DoxyCodeLine{8944   \}}
\DoxyCodeLine{8945   EnterV8NoScriptScope<> api\_scope\{i\_isolate, context,}
\DoxyCodeLine{8946                                    RCCId::kAPI\_ArrayBuffer\_Detach\};}
\DoxyCodeLine{8947   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}}.IsEmpty()) \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_a98d48c4b2a6e4e7d80037a26ed2de8ff}{i::JSArrayBuffer::Detach}}(obj);}
\DoxyCodeLine{8948   \textcolor{keyword}{auto} i\_key = \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(*\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{8949   constexpr \textcolor{keywordtype}{bool} kForceForWasmMemory = \textcolor{keyword}{false};}
\DoxyCodeLine{8950   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_a98d48c4b2a6e4e7d80037a26ed2de8ff}{i::JSArrayBuffer::Detach}}(obj, kForceForWasmMemory, i\_key);}
\DoxyCodeLine{8951 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Api\+Check(), v8\+::internal\+::\+Isolate\+::\+Current(), v8\+::internal\+::\+JSArray\+Buffer\+::\+Detach(), v8\+::api\+\_\+internal\+::\+Indirect\+Handle\+Base\+::\+Is\+Empty(), v8\+::\+Just(), v8\+::internal\+::key, and v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a4a8255fea7f81f5b3c468186c3c310a7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a9fa656e79c9974b20b6456aa7a0d5fe6}\label{classv8_1_1ArrayBuffer_a9fa656e79c9974b20b6456aa7a0d5fe6}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!GetBackingStore@{GetBackingStore}}
\index{GetBackingStore@{GetBackingStore}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{GetBackingStore()}{GetBackingStore()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{v8\+::\+Backing\+Store}} $>$ v8\+::\+Array\+Buffer\+::\+Get\+Backing\+Store (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get a shared pointer to the backing store of this array buffer. 

This pointer coordinates the lifetime management of the internal storage with any live Array\+Buffers on the heap, even across isolates. The embedder should not attempt to manage lifetime of the storage through other means.

The returned shared pointer will not be empty, even if the \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} has been detached. Use $\vert$\+Was\+Detached$\vert$ to tell if it has been detached instead. 

Definition at line 4043 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4043                                                              \{}
\DoxyCodeLine{4044   \textcolor{keyword}{auto} \textcolor{keyword}{self} = \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this});}
\DoxyCodeLine{4045   std::shared\_ptr<i::BackingStore> backing\_store = \textcolor{keyword}{self}-\/>GetBackingStore();}
\DoxyCodeLine{4046   \textcolor{keywordflow}{if} (!backing\_store) \{}
\DoxyCodeLine{4047     backing\_store =}
\DoxyCodeLine{4048         \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a6e20cd7042a45d5a989c784030fed72c}{i::BackingStore::EmptyBackingStore}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03_a66d75e44e8119e492fa238e6ac04903f}{i::SharedFlag::kNotShared}});}
\DoxyCodeLine{4049   \}}
\DoxyCodeLine{4050   std::shared\_ptr<i::BackingStoreBase> bs\_base = backing\_store;}
\DoxyCodeLine{4051   \textcolor{keywordflow}{return} std::static\_pointer\_cast<v8::BackingStore>(bs\_base);}
\DoxyCodeLine{4052 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Backing\+Store\+::\+Empty\+Backing\+Store(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{wasm-\/inlining-\/into-\/js.\+cc\}\+::k\+Not\+Shared, and v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a9fa656e79c9974b20b6456aa7a0d5fe6_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a599e83055b4c04499076f7068c2776d0}\label{classv8_1_1ArrayBuffer_a599e83055b4c04499076f7068c2776d0}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!IsDetachable@{IsDetachable}}
\index{IsDetachable@{IsDetachable}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{IsDetachable()}{IsDetachable()}}
{\footnotesize\ttfamily bool v8\+::\+Array\+Buffer\+::\+Is\+Detachable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns true if this \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} may be detached. 



Definition at line 8910 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{8910                                        \{}
\DoxyCodeLine{8911   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this})-\/>is\_detachable();}
\DoxyCodeLine{8912 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a599e83055b4c04499076f7068c2776d0_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a7f2c40882d84ea0556bafc78d16e7481}\label{classv8_1_1ArrayBuffer_a7f2c40882d84ea0556bafc78d16e7481}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!IsResizableByUserJavaScript@{IsResizableByUserJavaScript}}
\index{IsResizableByUserJavaScript@{IsResizableByUserJavaScript}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{IsResizableByUserJavaScript()}{IsResizableByUserJavaScript()}}
{\footnotesize\ttfamily bool v8\+::\+Array\+Buffer\+::\+Is\+Resizable\+By\+User\+Java\+Script (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



More efficient shortcut for \mbox{\hyperlink{classv8_1_1ArrayBuffer_a9fa656e79c9974b20b6456aa7a0d5fe6}{Get\+Backing\+Store()}}-\/$>$\mbox{\hyperlink{classv8_1_1ArrayBuffer_a7f2c40882d84ea0556bafc78d16e7481}{Is\+Resizable\+By\+User\+Java\+Script()}}. 



Definition at line 4058 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{4058                                                       \{}
\DoxyCodeLine{4059   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this})-\/>is\_resizable\_by\_js();}
\DoxyCodeLine{4060 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a7f2c40882d84ea0556bafc78d16e7481_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a0397f71296aa82f1d3e0cd62ff2db359}\label{classv8_1_1ArrayBuffer_a0397f71296aa82f1d3e0cd62ff2db359}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!MaxByteLength@{MaxByteLength}}
\index{MaxByteLength@{MaxByteLength}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{MaxByteLength()}{MaxByteLength()}}
{\footnotesize\ttfamily size\+\_\+t v8\+::\+Array\+Buffer\+::\+Max\+Byte\+Length (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Maximum length in bytes. 



Definition at line 8965 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{8965                                           \{}
\DoxyCodeLine{8966   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this})-\/>max\_byte\_length();}
\DoxyCodeLine{8967 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a0397f71296aa82f1d3e0cd62ff2db359_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a12a27ffd40e72e49400ac8eb8a8d6a70}\label{classv8_1_1ArrayBuffer_a12a27ffd40e72e49400ac8eb8a8d6a70}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!MaybeNew@{MaybeNew}}
\index{MaybeNew@{MaybeNew}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{MaybeNew()}{MaybeNew()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1MaybeLocal}{Maybe\+Local}}$<$ \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} $>$ v8\+::\+Array\+Buffer\+::\+Maybe\+New (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{size\+\_\+t}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}}}]{initialization\+\_\+mode = {\ttfamily \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Attempt to create a new \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}}. 

Allocate $\vert$byte\+\_\+length$\vert$ bytes. Allocated memory will be owned by a created \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} and will be deallocated when it is garbage-\/collected, unless the object is externalized. If allocation fails, the \mbox{\hyperlink{classv8_1_1Maybe}{Maybe}} returned will be empty. 

Definition at line 8982 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{8984                                                         \{}
\DoxyCodeLine{8985   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(isolate);}
\DoxyCodeLine{8986   ApiRuntimeCallStatsScope rcs\_scope(i\_isolate,}
\DoxyCodeLine{8987                                      RCCId::kAPI\_ArrayBuffer\_MaybeNew);}
\DoxyCodeLine{8988   \textcolor{keywordtype}{size\_t} max = i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a24a37de78fb127d98e305ddb5e6878c1}{array\_buffer\_allocator}}()-\/>\mbox{\hyperlink{classv8_1_1ArrayBuffer_1_1Allocator_a70f912717b359be1fb5abfe0b72afffe}{MaxAllocationSize}}();}
\DoxyCodeLine{8989   \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(max <= \mbox{\hyperlink{classv8_1_1ArrayBuffer_abe559b324fb6733f16e5e5b97f397a63}{ArrayBuffer::kMaxByteLength}});}
\DoxyCodeLine{8990   \textcolor{keywordflow}{if} (byte\_length > max) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{8991   EnterV8NoScriptNoExceptionScope api\_scope(i\_isolate);}
\DoxyCodeLine{8992   \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{i::MaybeDirectHandle<i::JSArrayBuffer>}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{8993       i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_a51594e340f34ee0a31a326a1f659b6de}{NewJSArrayBufferAndBackingStore}}(}
\DoxyCodeLine{8994           byte\_length, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_aaf438012374211789fa02d811937bf45}{GetInitializedFlag}}(initialization\_mode));}
\DoxyCodeLine{8995 }
\DoxyCodeLine{8996   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} array\_buffer;}
\DoxyCodeLine{8997   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.ToHandle(\&array\_buffer)) \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{8998 }
\DoxyCodeLine{8999   \textcolor{keywordflow}{return} Utils::ToLocal(array\_buffer);}
\DoxyCodeLine{9000 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::array\+\_\+buffer\+\_\+allocator(), DCHECK, v8\+::internal\+::\+Isolate\+::factory(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+Get\+Initialized\+Flag(), k\+Max\+Byte\+Length, v8\+::\+Array\+Buffer\+::\+Allocator\+::\+Max\+Allocation\+Size(), v8\+::internal\+::\+Factory\+::\+New\+JSArray\+Buffer\+And\+Backing\+Store(), and v8\+::base\+::internal\+::result.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a12a27ffd40e72e49400ac8eb8a8d6a70_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a205ebfae531dd7819fbd486a49b46816}\label{classv8_1_1ArrayBuffer_a205ebfae531dd7819fbd486a49b46816}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!New@{New}}
\index{New@{New}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{New()}{New()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} $>$ v8\+::\+Array\+Buffer\+::\+New (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{size\+\_\+t}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}}}]{initialization\+\_\+mode = {\ttfamily \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create a new \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}}. 

Allocate $\vert$byte\+\_\+length$\vert$ bytes, which are either zero-\/initialized or uninitialized. Allocated memory will be owned by a created \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} and will be deallocated when it is garbage-\/collected, unless the object is externalized. 

Definition at line 9002 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9004                                                         \{}
\DoxyCodeLine{9005   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(v8\_isolate);}
\DoxyCodeLine{9006   ApiRuntimeCallStatsScope rcs\_scope(i\_isolate, RCCId::kAPI\_ArrayBuffer\_New);}
\DoxyCodeLine{9007   EnterV8NoScriptNoExceptionScope api\_scope(i\_isolate);}
\DoxyCodeLine{9008   \mbox{\hyperlink{classv8_1_1internal_1_1MaybeDirectHandle}{i::MaybeDirectHandle<i::JSArrayBuffer>}} \mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}} =}
\DoxyCodeLine{9009       i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_a51594e340f34ee0a31a326a1f659b6de}{NewJSArrayBufferAndBackingStore}}(}
\DoxyCodeLine{9010           byte\_length, \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_aaf438012374211789fa02d811937bf45}{GetInitializedFlag}}(initialization\_mode));}
\DoxyCodeLine{9011 }
\DoxyCodeLine{9012   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} array\_buffer;}
\DoxyCodeLine{9013   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{namespacev8_1_1base_1_1internal_a9840f2bf0b4780133662292486d0bc01}{result}}.ToHandle(\&array\_buffer)) \{}
\DoxyCodeLine{9014     \mbox{\hyperlink{classv8_1_1internal_1_1V8_a977b087d4ee58955efe72b33136a4e94}{i::V8::FatalProcessOutOfMemory}}(i\_isolate, \textcolor{stringliteral}{"{}v8::ArrayBuffer::New"{}});}
\DoxyCodeLine{9015   \}}
\DoxyCodeLine{9016 }
\DoxyCodeLine{9017   \textcolor{keywordflow}{return} Utils::ToLocal(array\_buffer);}
\DoxyCodeLine{9018 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+V8\+::\+Fatal\+Process\+Out\+Of\+Memory(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+Get\+Initialized\+Flag(), v8\+::internal\+::\+Factory\+::\+New\+JSArray\+Buffer\+And\+Backing\+Store(), and v8\+::base\+::internal\+::result.



Referenced by v8\+\_\+inspector\+::\+V8\+Console\+::\+Command\+Line\+APIScope\+::\+Command\+Line\+APIScope(), v8\+\_\+inspector\+::\+V8\+Console\+::create\+Command\+Line\+API(), v8\+::\+Shell\+::\+Read\+Buffer(), v8\+::\+Deserializer\+::\+Read\+Value(), and v8\+::\+Shell\+::\+Serializer\+Serialize().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a205ebfae531dd7819fbd486a49b46816_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a205ebfae531dd7819fbd486a49b46816_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a34488bbb112b01fe81b8ff06490c62b4}\label{classv8_1_1ArrayBuffer_a34488bbb112b01fe81b8ff06490c62b4}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!New@{New}}
\index{New@{New}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{New()}{New()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} $>$ v8\+::\+Array\+Buffer\+::\+New (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$}]{backing\+\_\+store }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Create a new \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} with an existing backing store. 

The created array keeps a reference to the backing store until the array is garbage collected. Note that the Is\+External bit does not affect this reference from the array to the backing store.

In future Is\+External bit will be removed. Until then the bit is set as follows. If the backing store does not own the underlying buffer, then the array is created in externalized state. Otherwise, the array is created in internalized state. In the latter case the array can be transitioned to the externalized state using Externalize(backing\+\_\+store). 

Definition at line 9020 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9021                                                                     \{}
\DoxyCodeLine{9022   \mbox{\hyperlink{src_2base_2logging_8h_a2c0c4cea27d0690467662bb05131b2af}{CHECK\_IMPLIES}}(backing\_store-\/>ByteLength() != 0,}
\DoxyCodeLine{9023                 backing\_store-\/>Data() != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{9024   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(v8\_isolate);}
\DoxyCodeLine{9025   ApiRuntimeCallStatsScope rcs\_scope(i\_isolate, RCCId::kAPI\_ArrayBuffer\_New);}
\DoxyCodeLine{9026   EnterV8NoScriptNoExceptionScope api\_scope(i\_isolate);}
\DoxyCodeLine{9027   std::shared\_ptr<i::BackingStore> i\_backing\_store(}
\DoxyCodeLine{9028       \mbox{\hyperlink{namespacev8_a26696ebebab75657c436cc202be9c15c}{ToInternal}}(std::move(backing\_store)));}
\DoxyCodeLine{9029   \mbox{\hyperlink{classv8_1_1Utils_a1a1e634bae095bf6ff0ed2d9d737be00}{Utils::ApiCheck}}(}
\DoxyCodeLine{9030       !i\_backing\_store-\/>is\_shared(), \textcolor{stringliteral}{"{}v8\_ArrayBuffer\_New"{}},}
\DoxyCodeLine{9031       \textcolor{stringliteral}{"{}Cannot construct ArrayBuffer with a BackingStore of SharedArrayBuffer"{}});}
\DoxyCodeLine{9032   \mbox{\hyperlink{classv8_1_1internal_1_1DirectHandle}{i::DirectHandle<i::JSArrayBuffer>}} obj =}
\DoxyCodeLine{9033       i\_isolate-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Isolate_a7e2962359009581ba84e6a361f574f61}{factory}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1Factory_ad8628a3ae8c2623d4f4679134b930381}{NewJSArrayBuffer}}(std::move(i\_backing\_store));}
\DoxyCodeLine{9034   \textcolor{keywordflow}{return} Utils::ToLocal(obj);}
\DoxyCodeLine{9035 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Api\+Check(), CHECK\+\_\+\+IMPLIES, v8\+::internal\+::\+Isolate\+::factory(), v8\+::internal\+::\+Factory\+::\+New\+JSArray\+Buffer(), and v8\+::\+To\+Internal().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a34488bbb112b01fe81b8ff06490c62b4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a30fc9698c5c68099c906825909fdd6f8}\label{classv8_1_1ArrayBuffer_a30fc9698c5c68099c906825909fdd6f8}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!NewBackingStore@{NewBackingStore}}
\index{NewBackingStore@{NewBackingStore}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{NewBackingStore()}{NewBackingStore()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{v8\+::\+Backing\+Store}} $>$ v8\+::\+Array\+Buffer\+::\+New\+Backing\+Store (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{size\+\_\+t}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1e}{Backing\+Store\+Initialization\+Mode}}}]{initialization\+\_\+mode = {\ttfamily \mbox{\hyperlink{namespacev8_a808838f69c2b357d52f5bd3d21c00c1eae914d084ea4fe52636ea783ce1c1cbc0}{Backing\+Store\+Initialization\+Mode\+::k\+Zero\+Initialized}}},  }\item[{\mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1}{Backing\+Store\+On\+Failure\+Mode}}}]{on\+\_\+failure = {\ttfamily \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1ab681eacb215899549d45805f02eeb40c}{Backing\+Store\+On\+Failure\+Mode\+::k\+Out\+Of\+Memory}}} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns a new standalone \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} that is allocated using the array buffer allocator of the isolate. 

The allocation can either be zero initialized, or uninitialized. The result can be later passed to \mbox{\hyperlink{classv8_1_1ArrayBuffer_a205ebfae531dd7819fbd486a49b46816}{Array\+Buffer\+::\+New}}.

If the allocator returns nullptr, then the function may cause GCs in the given isolate and re-\/try the allocation.

If GCs do not help and on\+\_\+failure is k\+Out\+Of\+Memory, then the function will crash with an out-\/of-\/memory error.

Otherwise if GCs do not help (or the allocation is too large for GCs to help) and on\+\_\+failure is k\+Return\+Null, then a null result is returned. 

Definition at line 9037 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9040                                           \{}
\DoxyCodeLine{9041   \mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}* i\_isolate = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{i::Isolate}}*\textcolor{keyword}{>}(v8\_isolate);}
\DoxyCodeLine{9042   ApiRuntimeCallStatsScope rcs\_scope(i\_isolate,}
\DoxyCodeLine{9043                                      RCCId::kAPI\_ArrayBuffer\_NewBackingStore);}
\DoxyCodeLine{9044   \textcolor{keywordflow}{if} (on\_failure == \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1ab681eacb215899549d45805f02eeb40c}{BackingStoreOnFailureMode::kOutOfMemory}}) \{}
\DoxyCodeLine{9045     \mbox{\hyperlink{src_2base_2logging_8h_a56e883b55c80205b4d1727679c68b2bd}{CHECK\_LE}}(byte\_length, \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_aaa9641b33f3b26b38930cbb552f8770c}{i::JSArrayBuffer::kMaxByteLength}});}
\DoxyCodeLine{9046   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (byte\_length > \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_aaa9641b33f3b26b38930cbb552f8770c}{i::JSArrayBuffer::kMaxByteLength}}) \{}
\DoxyCodeLine{9047     \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(on\_failure == \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1a26698e24e6fc46b29ea0d3afc620063b}{BackingStoreOnFailureMode::kReturnNull}});}
\DoxyCodeLine{9048     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{9049   \}}
\DoxyCodeLine{9050   EnterV8NoScriptNoExceptionScope api\_scope(i\_isolate);}
\DoxyCodeLine{9051   std::unique\_ptr<i::BackingStoreBase> backing\_store =}
\DoxyCodeLine{9052       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a452e0fa56230d27400718e003b3d5638}{i::BackingStore::Allocate}}(i\_isolate, byte\_length,}
\DoxyCodeLine{9053                                 \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03_a66d75e44e8119e492fa238e6ac04903f}{i::SharedFlag::kNotShared}},}
\DoxyCodeLine{9054                                 \mbox{\hyperlink{namespacev8_1_1anonymous__namespace_02api_8cc_03_aaf438012374211789fa02d811937bf45}{GetInitializedFlag}}(initialization\_mode));}
\DoxyCodeLine{9055   \textcolor{keywordflow}{if} (!backing\_store) \{}
\DoxyCodeLine{9056     \textcolor{keywordflow}{if} (on\_failure == \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1ab681eacb215899549d45805f02eeb40c}{BackingStoreOnFailureMode::kOutOfMemory}}) \{}
\DoxyCodeLine{9057       \mbox{\hyperlink{classv8_1_1internal_1_1V8_a977b087d4ee58955efe72b33136a4e94}{i::V8::FatalProcessOutOfMemory}}(i\_isolate,}
\DoxyCodeLine{9058                                      \textcolor{stringliteral}{"{}v8::ArrayBuffer::NewBackingStore"{}});}
\DoxyCodeLine{9059     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{9060       \mbox{\hyperlink{src_2base_2logging_8h_ae17f8119c108cf3070bad3449c7e0006}{DCHECK}}(on\_failure == \mbox{\hyperlink{namespacev8_aeb286e04ba97b26a9f3ac6661a5389f1a26698e24e6fc46b29ea0d3afc620063b}{BackingStoreOnFailureMode::kReturnNull}});}
\DoxyCodeLine{9061       \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{9062     \}}
\DoxyCodeLine{9063   \}}
\DoxyCodeLine{9064   \textcolor{keywordflow}{return} std::unique\_ptr<v8::BackingStore>(}
\DoxyCodeLine{9065       \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classv8_1_1BackingStore}{v8::BackingStore}}*\textcolor{keyword}{>}(backing\_store.release()));}
\DoxyCodeLine{9066 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Backing\+Store\+::\+Allocate(), CHECK\+\_\+\+LE, DCHECK, v8\+::internal\+::\+V8\+::\+Fatal\+Process\+Out\+Of\+Memory(), v8\+::anonymous\+\_\+namespace\{api.\+cc\}\+::\+Get\+Initialized\+Flag(), v8\+::internal\+::\+JSArray\+Buffer\+::k\+Max\+Byte\+Length, v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{wasm-\/inlining-\/into-\/js.\+cc\}\+::k\+Not\+Shared, v8\+::k\+Out\+Of\+Memory, and v8\+::k\+Return\+Null.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a30fc9698c5c68099c906825909fdd6f8_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_acff64db5762ece7f761e6108aeb72bf4}\label{classv8_1_1ArrayBuffer_acff64db5762ece7f761e6108aeb72bf4}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!NewBackingStore@{NewBackingStore}}
\index{NewBackingStore@{NewBackingStore}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{NewBackingStore()}{NewBackingStore()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{v8\+::\+Backing\+Store}} $>$ v8\+::\+Array\+Buffer\+::\+New\+Backing\+Store (\begin{DoxyParamCaption}\item[{void $\ast$}]{data,  }\item[{size\+\_\+t}]{byte\+\_\+length,  }\item[{\mbox{\hyperlink{classv8_1_1BackingStore_ab2d10e4c046ba17490364168d1e190b0}{v8\+::\+Backing\+Store\+::\+Deleter\+Callback}}}]{deleter,  }\item[{void $\ast$}]{deleter\+\_\+data }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns a new standalone \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} that takes over the ownership of the given buffer. 

The destructor of the \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} invokes the given deleter callback.

The result can be later passed to \mbox{\hyperlink{classv8_1_1ArrayBuffer_a205ebfae531dd7819fbd486a49b46816}{Array\+Buffer\+::\+New}}. The raw pointer to the buffer must not be passed again to any \mbox{\hyperlink{classv8_1_1V8}{V8}} API function. 

Definition at line 9081 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9083                         \{}
\DoxyCodeLine{9084   \mbox{\hyperlink{src_2base_2logging_8h_a56e883b55c80205b4d1727679c68b2bd}{CHECK\_LE}}(byte\_length, \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_aaa9641b33f3b26b38930cbb552f8770c}{i::JSArrayBuffer::kMaxByteLength}});}
\DoxyCodeLine{9085 \textcolor{preprocessor}{\#ifdef V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{9086   \mbox{\hyperlink{classv8_1_1Utils_a1a1e634bae095bf6ff0ed2d9d737be00}{Utils::ApiCheck}}(!data || i::Sandbox::current()-\/>\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02read-only-promotion_8cc_03_a996ff47de27ce5f127bdcc0bff48b7f9}{Contains}}(data),}
\DoxyCodeLine{9087                   \textcolor{stringliteral}{"{}v8\_ArrayBuffer\_NewBackingStore"{}},}
\DoxyCodeLine{9088                   \textcolor{stringliteral}{"{}When the V8 Sandbox is enabled, ArrayBuffer backing stores "{}}}
\DoxyCodeLine{9089                   \textcolor{stringliteral}{"{}must be allocated inside the sandbox address space. Please "{}}}
\DoxyCodeLine{9090                   \textcolor{stringliteral}{"{}use an appropriate ArrayBuffer::Allocator to allocate these "{}}}
\DoxyCodeLine{9091                   \textcolor{stringliteral}{"{}buffers, or disable the sandbox."{}});}
\DoxyCodeLine{9092 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_SANDBOX}}
\DoxyCodeLine{9093 }
\DoxyCodeLine{9094   std::unique\_ptr<i::BackingStoreBase> backing\_store =}
\DoxyCodeLine{9095       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a2067951c5d4377b698d7799bc63af02a}{i::BackingStore::WrapAllocation}}(data, byte\_length, deleter, deleter\_data,}
\DoxyCodeLine{9096                                       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03_a66d75e44e8119e492fa238e6ac04903f}{i::SharedFlag::kNotShared}});}
\DoxyCodeLine{9097   \textcolor{keywordflow}{return} std::unique\_ptr<v8::BackingStore>(}
\DoxyCodeLine{9098       \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classv8_1_1BackingStore}{v8::BackingStore}}*\textcolor{keyword}{>}(backing\_store.release()));}
\DoxyCodeLine{9099 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Api\+Check(), CHECK\+\_\+\+LE, v8\+::internal\+::anonymous\+\_\+namespace\{read-\/only-\/promotion.\+cc\}\+::\+Contains(), v8\+::internal\+::\+JSArray\+Buffer\+::k\+Max\+Byte\+Length, v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{wasm-\/inlining-\/into-\/js.\+cc\}\+::k\+Not\+Shared, and v8\+::internal\+::\+Backing\+Store\+::\+Wrap\+Allocation().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_acff64db5762ece7f761e6108aeb72bf4_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a1eeb14775b876731cfc45cf442ffbe59}\label{classv8_1_1ArrayBuffer_a1eeb14775b876731cfc45cf442ffbe59}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!NewResizableBackingStore@{NewResizableBackingStore}}
\index{NewResizableBackingStore@{NewResizableBackingStore}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{NewResizableBackingStore()}{NewResizableBackingStore()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$ v8\+::\+Array\+Buffer\+::\+New\+Resizable\+Backing\+Store (\begin{DoxyParamCaption}\item[{size\+\_\+t}]{byte\+\_\+length,  }\item[{size\+\_\+t}]{max\+\_\+byte\+\_\+length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Returns a new resizable standalone \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} that is allocated using the array buffer allocator of the isolate. 

The result can be later passed to \mbox{\hyperlink{classv8_1_1ArrayBuffer_a205ebfae531dd7819fbd486a49b46816}{Array\+Buffer\+::\+New}}.

$\vert$byte\+\_\+length$\vert$ must be $<$= $\vert$max\+\_\+byte\+\_\+length$\vert$.

This function is usable without an isolate. Unlike $\vert$\+New\+Backing\+Store$\vert$ calls with an isolate, GCs cannot be triggered, and there are no retries. Allocation failure will cause the function to crash with an out-\/of-\/memory error. 

Definition at line 9102 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{9103                                                 \{}
\DoxyCodeLine{9104   \mbox{\hyperlink{classv8_1_1Utils_a1a1e634bae095bf6ff0ed2d9d737be00}{Utils::ApiCheck}}(byte\_length <= max\_byte\_length,}
\DoxyCodeLine{9105                   \textcolor{stringliteral}{"{}v8::ArrayBuffer::NewResizableBackingStore"{}},}
\DoxyCodeLine{9106                   \textcolor{stringliteral}{"{}Cannot construct resizable ArrayBuffer, byte\_length must be "{}}}
\DoxyCodeLine{9107                   \textcolor{stringliteral}{"{}<= max\_byte\_length"{}});}
\DoxyCodeLine{9108   \mbox{\hyperlink{classv8_1_1Utils_a1a1e634bae095bf6ff0ed2d9d737be00}{Utils::ApiCheck}}(}
\DoxyCodeLine{9109       byte\_length <= \mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_aaa9641b33f3b26b38930cbb552f8770c}{i::JSArrayBuffer::kMaxByteLength}},}
\DoxyCodeLine{9110       \textcolor{stringliteral}{"{}v8::ArrayBuffer::NewResizableBackingStore"{}},}
\DoxyCodeLine{9111       \textcolor{stringliteral}{"{}Cannot construct resizable ArrayBuffer, requested length is too big"{}});}
\DoxyCodeLine{9112 }
\DoxyCodeLine{9113   \textcolor{keywordtype}{size\_t} page\_size, initial\_pages, max\_pages;}
\DoxyCodeLine{9114   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1JSArrayBuffer_ab0647a5c412793b4ff6651cc366bf03b}{i::JSArrayBuffer::GetResizableBackingStorePageConfiguration}}(}
\DoxyCodeLine{9115           \textcolor{keyword}{nullptr}, byte\_length, max\_byte\_length, \mbox{\hyperlink{namespacev8_1_1internal_adbf2c933630f2f4bb419ce1ba04ce760a4b0c7b00af69f6f81914acaa3a9849ee}{i::kDontThrow}}, \&page\_size,}
\DoxyCodeLine{9116           \&initial\_pages, \&max\_pages)}
\DoxyCodeLine{9117           .IsNothing()) \{}
\DoxyCodeLine{9118     \mbox{\hyperlink{classv8_1_1internal_1_1V8_a977b087d4ee58955efe72b33136a4e94}{i::V8::FatalProcessOutOfMemory}}(\textcolor{keyword}{nullptr},}
\DoxyCodeLine{9119                                    \textcolor{stringliteral}{"{}v8::ArrayBuffer::NewResizableBackingStore"{}});}
\DoxyCodeLine{9120   \}}
\DoxyCodeLine{9121   std::unique\_ptr<i::BackingStoreBase> backing\_store =}
\DoxyCodeLine{9122       \mbox{\hyperlink{classv8_1_1internal_1_1BackingStore_a16e425ce07e504ff3bb7d238b825704c}{i::BackingStore::TryAllocateAndPartiallyCommitMemory}}(}
\DoxyCodeLine{9123           \textcolor{keyword}{nullptr}, byte\_length, max\_byte\_length, page\_size, initial\_pages,}
\DoxyCodeLine{9124           max\_pages, i::WasmMemoryFlag::kNotWasm, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02wasm-inlining-into-js_8cc_03_a66d75e44e8119e492fa238e6ac04903f}{i::SharedFlag::kNotShared}});}
\DoxyCodeLine{9125   \textcolor{keywordflow}{if} (!backing\_store) \{}
\DoxyCodeLine{9126     \mbox{\hyperlink{classv8_1_1internal_1_1V8_a977b087d4ee58955efe72b33136a4e94}{i::V8::FatalProcessOutOfMemory}}(\textcolor{keyword}{nullptr},}
\DoxyCodeLine{9127                                    \textcolor{stringliteral}{"{}v8::ArrayBuffer::NewResizableBackingStore"{}});}
\DoxyCodeLine{9128   \}}
\DoxyCodeLine{9129   \textcolor{keywordflow}{return} std::unique\_ptr<v8::BackingStore>(}
\DoxyCodeLine{9130       \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{classv8_1_1BackingStore}{v8::BackingStore}}*\textcolor{keyword}{>}(backing\_store.release()));}
\DoxyCodeLine{9131 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Api\+Check(), v8\+::internal\+::\+V8\+::\+Fatal\+Process\+Out\+Of\+Memory(), v8\+::internal\+::\+JSArray\+Buffer\+::\+Get\+Resizable\+Backing\+Store\+Page\+Configuration(), v8\+::internal\+::k\+Dont\+Throw, v8\+::internal\+::\+JSArray\+Buffer\+::k\+Max\+Byte\+Length, v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{wasm-\/inlining-\/into-\/js.\+cc\}\+::k\+Not\+Shared, and v8\+::internal\+::\+Backing\+Store\+::\+Try\+Allocate\+And\+Partially\+Commit\+Memory().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a1eeb14775b876731cfc45cf442ffbe59_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a550f6559326394e0e0f1419758707670}\label{classv8_1_1ArrayBuffer_a550f6559326394e0e0f1419758707670}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!SetDetachKey@{SetDetachKey}}
\index{SetDetachKey@{SetDetachKey}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{SetDetachKey()}{SetDetachKey()}}
{\footnotesize\ttfamily void v8\+::\+Array\+Buffer\+::\+Set\+Detach\+Key (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Local}{v8\+::\+Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{v8\+::\+Value}} $>$}]{key }\end{DoxyParamCaption})}



Sets the Array\+Buffer\+Detach\+Key. 



Definition at line 8955 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{8955                                                      \{}
\DoxyCodeLine{8956   \textcolor{keyword}{auto} obj = \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this});}
\DoxyCodeLine{8957   \textcolor{keyword}{auto} i\_key = \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(*\mbox{\hyperlink{namespacev8_1_1internal_a67a51b6314a9bc8a8c44c5fe14149e6c}{key}});}
\DoxyCodeLine{8958   obj-\/>set\_detach\_key(*i\_key);}
\DoxyCodeLine{8959 \}}

\end{DoxyCode}


References v8\+::internal\+::key, and v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a550f6559326394e0e0f1419758707670_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a68161311f61612d32845d545c923a797}\label{classv8_1_1ArrayBuffer_a68161311f61612d32845d545c923a797}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!V8\_DEPRECATED@{V8\_DEPRECATED}}
\index{V8\_DEPRECATED@{V8\_DEPRECATED}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{V8\_DEPRECATED()}{V8\_DEPRECATED()}}
{\footnotesize\ttfamily v8\+::\+Array\+Buffer\+::\+V8\+\_\+\+DEPRECATED (\begin{DoxyParamCaption}\item[{\char`\"{}Use the version which takes a key parameter (passing a \mbox{\hyperlink{instruction-selector-s390_8cc_ac97b8ee753e4405397a42ad5799b0f9e}{null}} handle is \char`\"{} \char`\"{}ok).\char`\"{}}]{ }\end{DoxyParamCaption})}



Detaches this \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} and all its views (typed arrays). 

Detaching sets the byte length of the buffer and all typed arrays to zero, preventing Java\+Script from ever accessing underlying backing store. \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} should have been externalized and must be detachable. \mbox{\Hypertarget{classv8_1_1ArrayBuffer_a6ea4852e91f3c5c13e7752f1cf29ed19}\label{classv8_1_1ArrayBuffer_a6ea4852e91f3c5c13e7752f1cf29ed19}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!WasDetached@{WasDetached}}
\index{WasDetached@{WasDetached}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{WasDetached()}{WasDetached()}}
{\footnotesize\ttfamily bool v8\+::\+Array\+Buffer\+::\+Was\+Detached (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Returns true if this \mbox{\hyperlink{classv8_1_1ArrayBuffer}{Array\+Buffer}} has been detached. 



Definition at line 8914 of file api.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{8914                                       \{}
\DoxyCodeLine{8915   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1Utils_a9d3ed89b4ca4e995ba472f8091ea424f}{Utils::OpenDirectHandle}}(\textcolor{keyword}{this})-\/>was\_detached();}
\DoxyCodeLine{8916 \}}

\end{DoxyCode}


References v8\+::\+Utils\+::\+Open\+Direct\+Handle().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1ArrayBuffer_a6ea4852e91f3c5c13e7752f1cf29ed19_cgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a679c5b67d6648ebb729b30d819e46632}\label{classv8_1_1ArrayBuffer_a679c5b67d6648ebb729b30d819e46632}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!TypedArray@{TypedArray}}
\index{TypedArray@{TypedArray}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{TypedArray}{TypedArray}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1TypedArray}{Typed\+Array}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 405 of file v8-\/array-\/buffer.\+h.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a283a36cbfa2ae71b2fc2a876cac7b792}\label{classv8_1_1ArrayBuffer_a283a36cbfa2ae71b2fc2a876cac7b792}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!kEmbedderFieldCount@{kEmbedderFieldCount}}
\index{kEmbedderFieldCount@{kEmbedderFieldCount}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{kEmbedderFieldCount}{kEmbedderFieldCount}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classint}{int}} v8\+::\+Array\+Buffer\+::k\+Embedder\+Field\+Count = \mbox{\hyperlink{classv8_1_1ArrayBuffer_a000bfd3dbc9c62af0d2c0e14aa69526d}{k\+Internal\+Field\+Count}}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}



Definition at line 389 of file v8-\/array-\/buffer.\+h.



Referenced by v8\+::internal\+::\+JSArray\+Buffer\+::\+Setup().

\mbox{\Hypertarget{classv8_1_1ArrayBuffer_a000bfd3dbc9c62af0d2c0e14aa69526d}\label{classv8_1_1ArrayBuffer_a000bfd3dbc9c62af0d2c0e14aa69526d}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!kInternalFieldCount@{kInternalFieldCount}}
\index{kInternalFieldCount@{kInternalFieldCount}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{kInternalFieldCount}{kInternalFieldCount}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{classint}{int}} v8\+::\+Array\+Buffer\+::k\+Internal\+Field\+Count\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=}
\DoxyCodeLine{      \mbox{\hyperlink{v8-array-buffer_8h_a089449088bc110a262e4cd4fff8fb60b}{V8\_ARRAY\_BUFFER\_INTERNAL\_FIELD\_COUNT}}}

\end{DoxyCode}


Definition at line 387 of file v8-\/array-\/buffer.\+h.

\mbox{\Hypertarget{classv8_1_1ArrayBuffer_abe559b324fb6733f16e5e5b97f397a63}\label{classv8_1_1ArrayBuffer_abe559b324fb6733f16e5e5b97f397a63}} 
\index{v8::ArrayBuffer@{v8::ArrayBuffer}!kMaxByteLength@{kMaxByteLength}}
\index{kMaxByteLength@{kMaxByteLength}!v8::ArrayBuffer@{v8::ArrayBuffer}}
\doxysubsubsection{\texorpdfstring{kMaxByteLength}{kMaxByteLength}}
{\footnotesize\ttfamily constexpr size\+\_\+t v8\+::\+Array\+Buffer\+::k\+Max\+Byte\+Length\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [constexpr]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=}
\DoxyCodeLine{      \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}((uint64\_t\{1\} << 53) -\/ 1)}

\end{DoxyCode}


Definition at line 398 of file v8-\/array-\/buffer.\+h.



Referenced by v8\+::internal\+::maglev\+::\+Maglev\+Graph\+Builder\+::\+Build\+Load\+Typed\+Array\+Length(), and Maybe\+New().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/include/\mbox{\hyperlink{v8-array-buffer_8h}{v8-\/array-\/buffer.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/api/\mbox{\hyperlink{api_8cc}{api.\+cc}}\end{DoxyCompactItemize}
