\hypertarget{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03}{}\doxysection{heap\+::base\+::anonymous\+\_\+namespace\{stack.\+cc\} Namespace Reference}
\label{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03}\index{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}@{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_acd7d60a77042f77fc3f8e3aed50d3c15}{Iterate\+Asan\+Fake\+Frame\+If\+Necessary}} (\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$visitor, const \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Stack\+::\+Segment}} \&segment, const void $\ast$address)
\item 
void \mbox{\hyperlink{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a72f98bab4b5fc968d49953eb266e911e}{Iterate\+Pointers\+In\+Unsafe\+Stack\+If\+Necessary}} (\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$visitor, const \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Stack\+::\+Segment}} \&segment)
\item 
\mbox{\hyperlink{v8config_8h_aae8e4cfdd8ebf80e774cb42d8b4980e6}{V8\+\_\+\+NOINLINE}} \mbox{\hyperlink{asan_8h_aa50cd3d3fb9ae19a5973bdb4e6a6ce38}{DISABLE\+\_\+\+ASAN}} \mbox{\hyperlink{asan_8h_a27644e5d54c2be2cb566f052bb1a1210}{DISABLE\+\_\+\+HWASAN}} \mbox{\hyperlink{tsan_8h_a99bab37c223b6487be7b5e1a66573d3b}{DISABLE\+\_\+\+TSAN}} void \mbox{\hyperlink{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a20edc2eb37d6e996c491755c84d023b9}{Iterate\+Pointers\+In\+Stack}} (\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$visitor, const \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Stack\+::\+Segment}} \&segment)
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_acd7d60a77042f77fc3f8e3aed50d3c15}\label{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_acd7d60a77042f77fc3f8e3aed50d3c15}} 
\index{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}@{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}}!IterateAsanFakeFrameIfNecessary@{IterateAsanFakeFrameIfNecessary}}
\index{IterateAsanFakeFrameIfNecessary@{IterateAsanFakeFrameIfNecessary}!heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}@{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{IterateAsanFakeFrameIfNecessary()}{IterateAsanFakeFrameIfNecessary()}}
{\footnotesize\ttfamily void heap\+::base\+::anonymous\+\_\+namespace\{stack.\+cc\}\+::Iterate\+Asan\+Fake\+Frame\+If\+Necessary (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$}]{visitor,  }\item[{const \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Stack\+::\+Segment}} \&}]{segment,  }\item[{const void $\ast$}]{address }\end{DoxyParamCaption})}



Definition at line 86 of file stack.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{88                                                           \{\}}

\end{DoxyCode}


Referenced by Iterate\+Pointers\+In\+Stack().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_acd7d60a77042f77fc3f8e3aed50d3c15_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a20edc2eb37d6e996c491755c84d023b9}\label{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a20edc2eb37d6e996c491755c84d023b9}} 
\index{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}@{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}}!IteratePointersInStack@{IteratePointersInStack}}
\index{IteratePointersInStack@{IteratePointersInStack}!heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}@{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{IteratePointersInStack()}{IteratePointersInStack()}}
{\footnotesize\ttfamily \mbox{\hyperlink{v8config_8h_aae8e4cfdd8ebf80e774cb42d8b4980e6}{V8\+\_\+\+NOINLINE}} \mbox{\hyperlink{asan_8h_aa50cd3d3fb9ae19a5973bdb4e6a6ce38}{DISABLE\+\_\+\+ASAN}} \mbox{\hyperlink{asan_8h_a27644e5d54c2be2cb566f052bb1a1210}{DISABLE\+\_\+\+HWASAN}} \mbox{\hyperlink{tsan_8h_a99bab37c223b6487be7b5e1a66573d3b}{DISABLE\+\_\+\+TSAN}} void heap\+::base\+::anonymous\+\_\+namespace\{stack.\+cc\}\+::Iterate\+Pointers\+In\+Stack (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$}]{visitor,  }\item[{const \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Stack\+::\+Segment}} \&}]{segment }\end{DoxyParamCaption})}



Definition at line 127 of file stack.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{128                                                          \{}
\DoxyCodeLine{129   \mbox{\hyperlink{src_2base_2logging_8h_a9154b181227e4b02e465befe50219158}{CHECK\_NOT\_NULL}}(segment.top);}
\DoxyCodeLine{130   \mbox{\hyperlink{src_2base_2logging_8h_a9154b181227e4b02e465befe50219158}{CHECK\_NOT\_NULL}}(segment.start);}
\DoxyCodeLine{131   \mbox{\hyperlink{src_2base_2logging_8h_a1c7c9b7f14b9a33ea69cbe4578016a19}{CHECK\_GE}}(segment.start, segment.top);}
\DoxyCodeLine{132   \textcolor{comment}{// All supported platforms should have their stack aligned to at least}}
\DoxyCodeLine{133   \textcolor{comment}{// sizeof(void*).}}
\DoxyCodeLine{134   constexpr \textcolor{keywordtype}{size\_t} kMinStackAlignment = \textcolor{keyword}{sizeof}(\textcolor{keywordtype}{void}*);}
\DoxyCodeLine{135   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(0u,}
\DoxyCodeLine{136            \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classuintptr__t}{uintptr\_t}}\textcolor{keyword}{>}(segment.top) \& (kMinStackAlignment -\/ 1));}
\DoxyCodeLine{137   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(0u, \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classuintptr__t}{uintptr\_t}}\textcolor{keyword}{>}(segment.start) \&}
\DoxyCodeLine{138                    (kMinStackAlignment -\/ 1));}
\DoxyCodeLine{139 }
\DoxyCodeLine{140   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{void}* \textcolor{keyword}{const}* current =}
\DoxyCodeLine{141            \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{void}* const*\textcolor{keyword}{>}(segment.top);}
\DoxyCodeLine{142        current < segment.start; ++current) \{}
\DoxyCodeLine{143     \textcolor{comment}{// MSAN: Instead of unpoisoning the whole stack, the slot's value is copied}}
\DoxyCodeLine{144     \textcolor{comment}{// into a local which is unpoisoned.}}
\DoxyCodeLine{145     \textcolor{keyword}{const} \textcolor{keywordtype}{void}* address = *current;}
\DoxyCodeLine{146     \mbox{\hyperlink{msan_8h_a3247bf8fa2f4372cc59ac92e7432cc9c}{MSAN\_MEMORY\_IS\_INITIALIZED}}(\&address, \textcolor{keyword}{sizeof}(address));}
\DoxyCodeLine{147     \textcolor{keywordflow}{if} (address == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{148       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{149     \}}
\DoxyCodeLine{150     visitor-\/>VisitPointer(address);}
\DoxyCodeLine{151     \mbox{\hyperlink{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_acd7d60a77042f77fc3f8e3aed50d3c15}{IterateAsanFakeFrameIfNecessary}}(visitor, segment, address);}
\DoxyCodeLine{152   \}}
\DoxyCodeLine{153 \}}

\end{DoxyCode}


References CHECK\+\_\+\+EQ, CHECK\+\_\+\+GE, CHECK\+\_\+\+NOT\+\_\+\+NULL, Iterate\+Asan\+Fake\+Frame\+If\+Necessary(), MSAN\+\_\+\+MEMORY\+\_\+\+IS\+\_\+\+INITIALIZED, heap\+::base\+::\+Stack\+::\+Segment\+::start, heap\+::base\+::\+Stack\+::\+Segment\+::top, and heap\+::base\+::\+Stack\+Visitor\+::\+Visit\+Pointer().



Referenced by heap\+::base\+::\+Stack\+::\+Iterate\+Background\+Stacks(), and heap\+::base\+::\+Stack\+::\+Iterate\+Pointers\+In\+Segment().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a20edc2eb37d6e996c491755c84d023b9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a20edc2eb37d6e996c491755c84d023b9_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a72f98bab4b5fc968d49953eb266e911e}\label{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a72f98bab4b5fc968d49953eb266e911e}} 
\index{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}@{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}}!IteratePointersInUnsafeStackIfNecessary@{IteratePointersInUnsafeStackIfNecessary}}
\index{IteratePointersInUnsafeStackIfNecessary@{IteratePointersInUnsafeStackIfNecessary}!heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}@{heap::base::anonymous\_namespace\lcurly{}stack.cc\rcurly{}}}
\doxysubsubsection{\texorpdfstring{IteratePointersInUnsafeStackIfNecessary()}{IteratePointersInUnsafeStackIfNecessary()}}
{\footnotesize\ttfamily void heap\+::base\+::anonymous\+\_\+namespace\{stack.\+cc\}\+::Iterate\+Pointers\+In\+Unsafe\+Stack\+If\+Necessary (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classheap_1_1base_1_1StackVisitor}{Stack\+Visitor}} $\ast$}]{visitor,  }\item[{const \mbox{\hyperlink{structheap_1_1base_1_1Stack_1_1Segment}{Stack\+::\+Segment}} \&}]{segment }\end{DoxyParamCaption})}



Definition at line 91 of file stack.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{92                                                                           \{}
\DoxyCodeLine{93 \textcolor{preprocessor}{\#ifdef V8\_USE\_SAFE\_STACK}}
\DoxyCodeLine{94   \mbox{\hyperlink{src_2base_2logging_8h_a9154b181227e4b02e465befe50219158}{CHECK\_NOT\_NULL}}(segment.unsafe\_stack\_start);}
\DoxyCodeLine{95   \mbox{\hyperlink{src_2base_2logging_8h_a9154b181227e4b02e465befe50219158}{CHECK\_NOT\_NULL}}(segment.unsafe\_stack\_top);}
\DoxyCodeLine{96   \textcolor{comment}{// Source:}}
\DoxyCodeLine{97   \textcolor{comment}{// https://github.com/llvm/llvm-\/project/blob/main/compiler-\/rt/lib/safestack/safestack.cpp}}
\DoxyCodeLine{98   constexpr \textcolor{keywordtype}{size\_t} kSafeStackAlignmentBytes = 16;}
\DoxyCodeLine{99   \mbox{\hyperlink{src_2base_2logging_8h_a1c7c9b7f14b9a33ea69cbe4578016a19}{CHECK\_GE}}(segment.unsafe\_stack\_start, segment.unsafe\_stack\_top);}
\DoxyCodeLine{100   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(0u, \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classuintptr__t}{uintptr\_t}}\textcolor{keyword}{>}(segment.unsafe\_stack\_top) \&}
\DoxyCodeLine{101                    (kSafeStackAlignmentBytes -\/ 1));}
\DoxyCodeLine{102   \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(0u, \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classuintptr__t}{uintptr\_t}}\textcolor{keyword}{>}(segment.unsafe\_stack\_start) \&}
\DoxyCodeLine{103                    (kSafeStackAlignmentBytes -\/ 1));}
\DoxyCodeLine{104 }
\DoxyCodeLine{105   \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keywordtype}{void}* \textcolor{keyword}{const}* current =}
\DoxyCodeLine{106            \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const }\textcolor{keywordtype}{void}* const*\textcolor{keyword}{>}(segment.unsafe\_stack\_top);}
\DoxyCodeLine{107        current < segment.unsafe\_stack\_start; ++current) \{}
\DoxyCodeLine{108     \textcolor{keyword}{const} \textcolor{keywordtype}{void}* address\_curr = *current;}
\DoxyCodeLine{109     \textcolor{keywordflow}{if} (address\_curr == \textcolor{keyword}{nullptr}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{110     visitor-\/>VisitPointer(address\_curr);}
\DoxyCodeLine{111   \}}
\DoxyCodeLine{112 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_USE\_SAFE\_STACK}}
\DoxyCodeLine{113 \}}

\end{DoxyCode}


References CHECK\+\_\+\+EQ, CHECK\+\_\+\+GE, CHECK\+\_\+\+NOT\+\_\+\+NULL, and heap\+::base\+::\+Stack\+Visitor\+::\+Visit\+Pointer().



Referenced by heap\+::base\+::\+Stack\+::\+Iterate\+Background\+Stacks(), and heap\+::base\+::\+Stack\+::\+Iterate\+Pointers\+In\+Segment().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a72f98bab4b5fc968d49953eb266e911e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespaceheap_1_1base_1_1anonymous__namespace_02stack_8cc_03_a72f98bab4b5fc968d49953eb266e911e_icgraph}
\end{center}
\end{figure}
