\hypertarget{classv8_1_1Serializer}{}\doxysection{v8\+::Serializer Class Reference}
\label{classv8_1_1Serializer}\index{v8::Serializer@{v8::Serializer}}


Inheritance diagram for v8\+::Serializer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=187pt]{classv8_1_1Serializer__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for v8\+::Serializer\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=187pt]{classv8_1_1Serializer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1Serializer_a4cf48df134b20c6f157f5aeaa8ee91ad}{Serializer}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$\mbox{\hyperlink{graph-builder_8cc_a9990dda08de44f6aee0aaf44c50da7d9}{isolate}})
\item 
\mbox{\hyperlink{classv8_1_1Serializer_ac7c1d6f1243fed40cddadf4223fb4768}{Serializer}} (const \mbox{\hyperlink{classv8_1_1Serializer}{Serializer}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1Serializer}{Serializer}} \& \mbox{\hyperlink{classv8_1_1Serializer_accfdcb90312419da55d8dda5caf63188}{operator=}} (const \mbox{\hyperlink{classv8_1_1Serializer}{Serializer}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$ bool $>$ \mbox{\hyperlink{classv8_1_1Serializer_a8d2e55c1cbd58dfc09dc66d6d36e1e25}{Write\+Value}} (\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Context}{Context}} $>$ \mbox{\hyperlink{js-call-reducer_8cc_a0835767fe473cead88c1afdf3175bce8}{context}}, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ \mbox{\hyperlink{instance-type-generator_8cc_ac4f474c82e82cbb89ca7c36dd52be0ed}{value}}, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$ transfer)
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1SerializationData}{Serialization\+Data}} $>$ \mbox{\hyperlink{classv8_1_1Serializer_a9d18106c1908b9d3f0242cf84a3e302c}{Release}} ()
\item 
void \mbox{\hyperlink{classv8_1_1Serializer_a6b2edc74a100b5cf6e3b5fb5f354459a}{Append\+Backing\+Stores\+To}} (std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$$>$ $\ast$\mbox{\hyperlink{liveedit-diff_8cc_ae6324a19c41601d6f20f5e95f0bcec12}{to}})
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1Serializer_a97707713e9bfe28e117bd15d40e3afc6}{Throw\+Data\+Clone\+Error}} (\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1String}{String}} $>$ message) override
\item 
\mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$ uint32\+\_\+t $>$ \mbox{\hyperlink{classv8_1_1Serializer_a573f904a1db660126a98ecec16f142be}{Get\+Shared\+Array\+Buffer\+Id}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$\mbox{\hyperlink{graph-builder_8cc_a9990dda08de44f6aee0aaf44c50da7d9}{isolate}}, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} $>$ shared\+\_\+array\+\_\+buffer) override
\item 
\mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$ uint32\+\_\+t $>$ \mbox{\hyperlink{classv8_1_1Serializer_ad80848a9dfe7dbed01db35aec95e933a}{Get\+Wasm\+Module\+Transfer\+Id}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$\mbox{\hyperlink{graph-builder_8cc_a9990dda08de44f6aee0aaf44c50da7d9}{isolate}}, \mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1WasmModuleObject}{Wasm\+Module\+Object}} $>$ module) override
\item 
void $\ast$ \mbox{\hyperlink{classv8_1_1Serializer_a0642983ee43067669e17c87411167a02}{Reallocate\+Buffer\+Memory}} (void $\ast$old\+\_\+buffer, size\+\_\+t \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, size\+\_\+t $\ast$actual\+\_\+size) override
\item 
void \mbox{\hyperlink{classv8_1_1Serializer_af406a9e21fccfce3a5faed52182a69a6}{Free\+Buffer\+Memory}} (void $\ast$buffer) override
\item 
bool \mbox{\hyperlink{classv8_1_1Serializer_a54d5467f7d1e9b35ec95f36f7f88b2b9}{Adopt\+Shared\+Value\+Conveyor}} (\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$\mbox{\hyperlink{graph-builder_8cc_a9990dda08de44f6aee0aaf44c50da7d9}{isolate}}, \mbox{\hyperlink{classv8_1_1SharedValueConveyor}{Shared\+Value\+Conveyor}} \&\&conveyor) override
\end{DoxyCompactItemize}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1Serializer_a4cf48df134b20c6f157f5aeaa8ee91ad}\label{classv8_1_1Serializer_a4cf48df134b20c6f157f5aeaa8ee91ad}} 
\index{v8::Serializer@{v8::Serializer}!Serializer@{Serializer}}
\index{Serializer@{Serializer}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{Serializer()}{Serializer()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::\+Serializer\+::\+Serializer (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [explicit]}}

\mbox{\Hypertarget{classv8_1_1Serializer_ac7c1d6f1243fed40cddadf4223fb4768}\label{classv8_1_1Serializer_ac7c1d6f1243fed40cddadf4223fb4768}} 
\index{v8::Serializer@{v8::Serializer}!Serializer@{Serializer}}
\index{Serializer@{Serializer}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{Serializer()}{Serializer()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::\+Serializer\+::\+Serializer (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1Serializer}{Serializer}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1Serializer_a54d5467f7d1e9b35ec95f36f7f88b2b9}\label{classv8_1_1Serializer_a54d5467f7d1e9b35ec95f36f7f88b2b9}} 
\index{v8::Serializer@{v8::Serializer}!AdoptSharedValueConveyor@{AdoptSharedValueConveyor}}
\index{AdoptSharedValueConveyor@{AdoptSharedValueConveyor}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{AdoptSharedValueConveyor()}{AdoptSharedValueConveyor()}}
{\footnotesize\ttfamily bool v8\+::\+Serializer\+::\+Adopt\+Shared\+Value\+Conveyor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1SharedValueConveyor}{Shared\+Value\+Conveyor}} \&\&}]{conveyor }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Called when the first shared value is serialized. All subsequent shared values will use the same conveyor.

The embedder must ensure the lifetime of the conveyor matches the lifetime of the serialized data.

If the embedder supports serializing shared values, this method should return true. Otherwise the embedder should throw an exception and return false.

This method is called at most once per serializer. 

Reimplemented from \mbox{\hyperlink{classv8_1_1ValueSerializer_1_1Delegate_a53dc397f9c3662360a6d11c6fea8cf21}{v8\+::\+Value\+Serializer\+::\+Delegate}}.

\mbox{\Hypertarget{classv8_1_1Serializer_a6b2edc74a100b5cf6e3b5fb5f354459a}\label{classv8_1_1Serializer_a6b2edc74a100b5cf6e3b5fb5f354459a}} 
\index{v8::Serializer@{v8::Serializer}!AppendBackingStoresTo@{AppendBackingStoresTo}}
\index{AppendBackingStoresTo@{AppendBackingStoresTo}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{AppendBackingStoresTo()}{AppendBackingStoresTo()}}
{\footnotesize\ttfamily void v8\+::\+Serializer\+::\+Append\+Backing\+Stores\+To (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1BackingStore}{Backing\+Store}} $>$$>$ $\ast$}]{to }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{classv8_1_1Serializer_af406a9e21fccfce3a5faed52182a69a6}\label{classv8_1_1Serializer_af406a9e21fccfce3a5faed52182a69a6}} 
\index{v8::Serializer@{v8::Serializer}!FreeBufferMemory@{FreeBufferMemory}}
\index{FreeBufferMemory@{FreeBufferMemory}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{FreeBufferMemory()}{FreeBufferMemory()}}
{\footnotesize\ttfamily void v8\+::\+Serializer\+::\+Free\+Buffer\+Memory (\begin{DoxyParamCaption}\item[{void $\ast$}]{buffer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Frees a buffer allocated with $\vert$\+Reallocate\+Buffer\+Memory$\vert$.

The default implementation uses the stdlib\textquotesingle{}s {\ttfamily free()} function. 

Reimplemented from \mbox{\hyperlink{classv8_1_1ValueSerializer_1_1Delegate_a9cd4ab0061b4a26b4b0d695d31992f82}{v8\+::\+Value\+Serializer\+::\+Delegate}}.

\mbox{\Hypertarget{classv8_1_1Serializer_a573f904a1db660126a98ecec16f142be}\label{classv8_1_1Serializer_a573f904a1db660126a98ecec16f142be}} 
\index{v8::Serializer@{v8::Serializer}!GetSharedArrayBufferId@{GetSharedArrayBufferId}}
\index{GetSharedArrayBufferId@{GetSharedArrayBufferId}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{GetSharedArrayBufferId()}{GetSharedArrayBufferId()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$uint32\+\_\+t$>$ v8\+::\+Serializer\+::\+Get\+Shared\+Array\+Buffer\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} $>$}]{shared\+\_\+array\+\_\+buffer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Called when the \mbox{\hyperlink{classv8_1_1ValueSerializer}{Value\+Serializer}} is going to serialize a \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} object. The embedder must return an ID for the object, using the same ID if this \mbox{\hyperlink{classv8_1_1SharedArrayBuffer}{Shared\+Array\+Buffer}} has already been serialized in this buffer. When deserializing, this ID will be passed to Value\+Deserializer\+::\+Get\+Shared\+Array\+Buffer\+From\+Id as $\vert$clone\+\_\+id$\vert$.

If the object cannot be serialized, an exception should be thrown and \mbox{\hyperlink{namespacev8_ada000f8d5f1f65a26be3b35f8f398d28}{Nothing$<$uint32\+\_\+t$>$()}} returned. 

Reimplemented from \mbox{\hyperlink{classv8_1_1ValueSerializer_1_1Delegate_ac12b5cfd7480c19f0b9af0b47d05a77e}{v8\+::\+Value\+Serializer\+::\+Delegate}}.

\mbox{\Hypertarget{classv8_1_1Serializer_ad80848a9dfe7dbed01db35aec95e933a}\label{classv8_1_1Serializer_ad80848a9dfe7dbed01db35aec95e933a}} 
\index{v8::Serializer@{v8::Serializer}!GetWasmModuleTransferId@{GetWasmModuleTransferId}}
\index{GetWasmModuleTransferId@{GetWasmModuleTransferId}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{GetWasmModuleTransferId()}{GetWasmModuleTransferId()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$uint32\+\_\+t$>$ v8\+::\+Serializer\+::\+Get\+Wasm\+Module\+Transfer\+Id (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1WasmModuleObject}{Wasm\+Module\+Object}} $>$}]{module }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}



Reimplemented from \mbox{\hyperlink{classv8_1_1ValueSerializer_1_1Delegate_a225eea0a4f9f47a9209721aa7a7d724f}{v8\+::\+Value\+Serializer\+::\+Delegate}}.

\mbox{\Hypertarget{classv8_1_1Serializer_accfdcb90312419da55d8dda5caf63188}\label{classv8_1_1Serializer_accfdcb90312419da55d8dda5caf63188}} 
\index{v8::Serializer@{v8::Serializer}!operator=@{operator=}}
\index{operator=@{operator=}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Serializer}{Serializer}}\& v8\+::\+Serializer\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1Serializer}{Serializer}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1Serializer_a0642983ee43067669e17c87411167a02}\label{classv8_1_1Serializer_a0642983ee43067669e17c87411167a02}} 
\index{v8::Serializer@{v8::Serializer}!ReallocateBufferMemory@{ReallocateBufferMemory}}
\index{ReallocateBufferMemory@{ReallocateBufferMemory}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{ReallocateBufferMemory()}{ReallocateBufferMemory()}}
{\footnotesize\ttfamily void$\ast$ v8\+::\+Serializer\+::\+Reallocate\+Buffer\+Memory (\begin{DoxyParamCaption}\item[{void $\ast$}]{old\+\_\+buffer,  }\item[{size\+\_\+t}]{size,  }\item[{size\+\_\+t $\ast$}]{actual\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Allocates memory for the buffer of at least the size provided. The actual size (which may be greater or equal) is written to $\vert$actual\+\_\+size$\vert$. If no buffer has been allocated yet, nullptr will be provided.

If the memory cannot be allocated, nullptr should be returned. $\vert$actual\+\_\+size$\vert$ will be ignored. It is assumed that $\vert$old\+\_\+buffer$\vert$ is still valid in this case and has not been modified.

The default implementation uses the stdlib\textquotesingle{}s {\ttfamily realloc()} function. 

Reimplemented from \mbox{\hyperlink{classv8_1_1ValueSerializer_1_1Delegate_ade3ce68ebf5a3f3eba2f8f091177f155}{v8\+::\+Value\+Serializer\+::\+Delegate}}.

\mbox{\Hypertarget{classv8_1_1Serializer_a9d18106c1908b9d3f0242cf84a3e302c}\label{classv8_1_1Serializer_a9d18106c1908b9d3f0242cf84a3e302c}} 
\index{v8::Serializer@{v8::Serializer}!Release@{Release}}
\index{Release@{Release}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{Release()}{Release()}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classv8_1_1SerializationData}{Serialization\+Data}}$>$ v8\+::\+Serializer\+::\+Release (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}

\mbox{\Hypertarget{classv8_1_1Serializer_a97707713e9bfe28e117bd15d40e3afc6}\label{classv8_1_1Serializer_a97707713e9bfe28e117bd15d40e3afc6}} 
\index{v8::Serializer@{v8::Serializer}!ThrowDataCloneError@{ThrowDataCloneError}}
\index{ThrowDataCloneError@{ThrowDataCloneError}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{ThrowDataCloneError()}{ThrowDataCloneError()}}
{\footnotesize\ttfamily void v8\+::\+Serializer\+::\+Throw\+Data\+Clone\+Error (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1String}{String}} $>$}]{message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [override]}, {\ttfamily [protected]}, {\ttfamily [virtual]}}

Handles the case where a Data\+Clone\+Error would be thrown in the structured clone spec. Other \mbox{\hyperlink{classv8_1_1V8}{V8}} embedders may throw some other appropriate exception type. 

Implements \mbox{\hyperlink{classv8_1_1ValueSerializer_1_1Delegate_a3681bfcd9a6c45f0b12bd7a8bdf34d85}{v8\+::\+Value\+Serializer\+::\+Delegate}}.

\mbox{\Hypertarget{classv8_1_1Serializer_a8d2e55c1cbd58dfc09dc66d6d36e1e25}\label{classv8_1_1Serializer_a8d2e55c1cbd58dfc09dc66d6d36e1e25}} 
\index{v8::Serializer@{v8::Serializer}!WriteValue@{WriteValue}}
\index{WriteValue@{WriteValue}!v8::Serializer@{v8::Serializer}}
\doxysubsubsection{\texorpdfstring{WriteValue()}{WriteValue()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1Maybe}{Maybe}}$<$bool$>$ v8\+::\+Serializer\+::\+Write\+Value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Context}{Context}} $>$}]{context,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$}]{value,  }\item[{\mbox{\hyperlink{classv8_1_1Local}{Local}}$<$ \mbox{\hyperlink{classv8_1_1Value}{Value}} $>$}]{transfer }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{d8_8cc}{d8.\+cc}}\end{DoxyCompactItemize}
