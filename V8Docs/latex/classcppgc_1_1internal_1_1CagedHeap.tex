\hypertarget{classcppgc_1_1internal_1_1CagedHeap}{}\doxysection{cppgc\+::internal\+::Caged\+Heap Class Reference}
\label{classcppgc_1_1internal_1_1CagedHeap}\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}


{\ttfamily \#include $<$caged-\/heap.\+h$>$}



Collaboration diagram for cppgc\+::internal\+::Caged\+Heap\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1CagedHeap__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a9fde8f0e2002425073b25fc8c3a07b20}{Allocator\+Type}} = \mbox{\hyperlink{classv8_1_1base_1_1BoundedPageAllocator}{v8\+::base\+::\+Bounded\+Page\+Allocator}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a6e3631210cecdc8d79a947ea5d8617fa}{Caged\+Heap}} (const \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}} \&)=delete
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}} \& \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a841e30c50199d10900f8f9b43149ec79}{operator=}} (const \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}} \&)=delete
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a9fde8f0e2002425073b25fc8c3a07b20}{Allocator\+Type}} \& \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aa9ce4f91bc05d3ce87617f96df6b175b}{page\+\_\+allocator}} ()
\item 
const \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a9fde8f0e2002425073b25fc8c3a07b20}{Allocator\+Type}} \& \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a295c3083fbb2f189f4869dce1020d5b6}{page\+\_\+allocator}} () const
\item 
bool \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a5427c6092d6cb3d967f4778b970a451f}{Is\+On\+Heap}} (const void $\ast$address) const
\item 
void $\ast$ \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_ada3ad744ae5f8b87e6a9d81d9201734d}{base}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
{\footnotesize template$<$typename Ret\+Type  = uintptr\+\_\+t$>$ }\\static Ret\+Type \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aea94013ce21175a2426eabffb4be7aed}{Offset\+From\+Address}} (const void $\ast$address)
\item 
static \mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a8e938bc103972334f3f8c5133812a335}{Base\+From\+Address}} (const void $\ast$address)
\item 
static void \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a7a122e5b6dd5b05ea179323429ab2aa4}{Initialize\+If\+Needed}} (\mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{Page\+Allocator}} \&platform\+\_\+allocator, size\+\_\+t desired\+\_\+heap\+\_\+size)
\item 
static void \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a7baf45aa8b44b34fcedca724a15359c9}{Commit\+Age\+Table}} (\mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{Page\+Allocator}} \&platform\+\_\+allocator)
\item 
static \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}} \& \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_af6307cef0cf2e4881a841abdab6f31bf}{Instance}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_acb78ac029a94526b0203c7ad774b6515}{Caged\+Heap}} (\mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{Page\+Allocator}} \&platform\+\_\+allocator, size\+\_\+t desired\+\_\+heap\+\_\+size)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{classcppgc_1_1internal_1_1VirtualMemory}{Virtual\+Memory}} \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aea77216f0c18b677459a6ff52c447fc2}{reserved\+\_\+area\+\_\+}}
\item 
std\+::unique\+\_\+ptr$<$ \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a9fde8f0e2002425073b25fc8c3a07b20}{Allocator\+Type}} $>$ \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a3d108aaf2dabd29d293236b47724f6b2}{page\+\_\+bounded\+\_\+allocator\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Static Private Attributes}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}} $\ast$ \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aa30a6d9e9e36dfe702b9f06fdcf5322e}{instance\+\_\+}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a8e4265fc3e9e1027390029698e3e7ac0}{v8\+::base\+::\+Leaky\+Object$<$ Caged\+Heap $>$}}
\item 
class \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a72a431d1736806e1d241900c3f80ccae}{testing\+::\+Test\+With\+Heap}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 25 of file caged-\/heap.\+h.



\doxysubsection{Member Typedef Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a9fde8f0e2002425073b25fc8c3a07b20}\label{classcppgc_1_1internal_1_1CagedHeap_a9fde8f0e2002425073b25fc8c3a07b20}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!AllocatorType@{AllocatorType}}
\index{AllocatorType@{AllocatorType}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{AllocatorType}{AllocatorType}}
{\footnotesize\ttfamily using \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a9fde8f0e2002425073b25fc8c3a07b20}{cppgc\+::internal\+::\+Caged\+Heap\+::\+Allocator\+Type}} =  \mbox{\hyperlink{classv8_1_1base_1_1BoundedPageAllocator}{v8\+::base\+::\+Bounded\+Page\+Allocator}}}



Definition at line 27 of file caged-\/heap.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a6e3631210cecdc8d79a947ea5d8617fa}\label{classcppgc_1_1internal_1_1CagedHeap_a6e3631210cecdc8d79a947ea5d8617fa}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!CagedHeap@{CagedHeap}}
\index{CagedHeap@{CagedHeap}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{CagedHeap()}{CagedHeap()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily cppgc\+::internal\+::\+Caged\+Heap\+::\+Caged\+Heap (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_acb78ac029a94526b0203c7ad774b6515}\label{classcppgc_1_1internal_1_1CagedHeap_acb78ac029a94526b0203c7ad774b6515}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!CagedHeap@{CagedHeap}}
\index{CagedHeap@{CagedHeap}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{CagedHeap()}{CagedHeap()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily cppgc\+::internal\+::\+Caged\+Heap\+::\+Caged\+Heap (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{Page\+Allocator}} \&}]{platform\+\_\+allocator,  }\item[{size\+\_\+t}]{desired\+\_\+heap\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}, {\ttfamily [private]}}

defined(\+CPPGC\+\_\+\+POINTER\+\_\+\+COMPRESSION)

Definition at line 98 of file caged-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{100     : \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aea77216f0c18b677459a6ff52c447fc2}{reserved\_area\_}}(\mbox{\hyperlink{namespacecppgc_1_1internal_1_1anonymous__namespace_02caged-heap_8cc_03_aa6230aec01a0b540b8dee865b5d65240}{ReserveCagedHeap}}(platform\_allocator)) \{}
\DoxyCodeLine{101   \textcolor{keyword}{using} CagedAddress = \mbox{\hyperlink{classv8_1_1base_1_1BoundedPageAllocator_a2878ffce6a3901b1af8696368e33d58d}{CagedHeap::AllocatorType::Address}};}
\DoxyCodeLine{102 }
\DoxyCodeLine{103 \textcolor{preprocessor}{\#if defined(CPPGC\_POINTER\_COMPRESSION)}}
\DoxyCodeLine{104   \textcolor{comment}{// Pick a base offset according to pointer compression shift. See comment in}}
\DoxyCodeLine{105   \textcolor{comment}{// ReserveCagedHeap().}}
\DoxyCodeLine{106   \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{size\_t} kBaseOffset =}
\DoxyCodeLine{107       api\_constants::kCagedHeapMaxReservationSize;}
\DoxyCodeLine{108 \textcolor{preprocessor}{\#else   }\textcolor{comment}{// !defined(CPPGC\_POINTER\_COMPRESSION)}}
\DoxyCodeLine{109   \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{size\_t} kBaseOffset = 0;}
\DoxyCodeLine{110 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{//! defined(CPPGC\_POINTER\_COMPRESSION)}}
\DoxyCodeLine{111 }
\DoxyCodeLine{112   \textcolor{keywordtype}{void}* \textcolor{keyword}{const} cage\_start =}
\DoxyCodeLine{113       \textcolor{keyword}{static\_cast<}uint8\_t*\textcolor{keyword}{>}(\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aea77216f0c18b677459a6ff52c447fc2}{reserved\_area\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1VirtualMemory_a42ee258cd5c5f19c79221debf74e49b7}{address}}()) + kBaseOffset;}
\DoxyCodeLine{114 }
\DoxyCodeLine{115   CagedHeapBase::g\_heap\_base\_ = \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classuintptr__t}{uintptr\_t}}\textcolor{keyword}{>}(cage\_start);}
\DoxyCodeLine{116 }
\DoxyCodeLine{117 \textcolor{preprocessor}{\#if defined(CPPGC\_POINTER\_COMPRESSION)}}
\DoxyCodeLine{118   \textcolor{comment}{// With pointer compression only single heap per thread is allowed.}}
\DoxyCodeLine{119   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(!CageBaseGlobal::IsSet());}
\DoxyCodeLine{120   CageBaseGlobalUpdater::UpdateCageBase(CagedHeapBase::g\_heap\_base\_);}
\DoxyCodeLine{121 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// defined(CPPGC\_POINTER\_COMPRESSION)}}
\DoxyCodeLine{122 }
\DoxyCodeLine{123   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} total\_heap\_size = std::clamp<size\_t>(}
\DoxyCodeLine{124       \mbox{\hyperlink{namespacev8_1_1base_1_1bits_ab86cb203f22b90d14741c8c83690da47}{v8::base::bits::RoundUpToPowerOfTwo64}}(desired\_heap\_size),}
\DoxyCodeLine{125       api\_constants::kCagedHeapDefaultReservationSize,}
\DoxyCodeLine{126       api\_constants::kCagedHeapMaxReservationSize);}
\DoxyCodeLine{127 }
\DoxyCodeLine{128   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} local\_data\_size =}
\DoxyCodeLine{129       CagedHeapLocalData::CalculateLocalDataSizeForHeapSize(total\_heap\_size);}
\DoxyCodeLine{130   \textcolor{keyword}{const} CagedAddress caged\_heap\_start = \mbox{\hyperlink{src_2base_2macros_8h_a5113f5db9eec9c30ecea57b8d4175f2d}{RoundUp}}(}
\DoxyCodeLine{131       \textcolor{keyword}{reinterpret\_cast<}CagedAddress\textcolor{keyword}{>}(cage\_start) + local\_data\_size, \mbox{\hyperlink{namespacecppgc_1_1internal_a31164e981f2a7080855c4ba02f1a910b}{kPageSize}});}
\DoxyCodeLine{132   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} local\_data\_size\_with\_padding =}
\DoxyCodeLine{133       caged\_heap\_start -\/ \textcolor{keyword}{reinterpret\_cast<}CagedAddress\textcolor{keyword}{>}(cage\_start);}
\DoxyCodeLine{134 }
\DoxyCodeLine{135   \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a3d108aaf2dabd29d293236b47724f6b2}{page\_bounded\_allocator\_}} = std::make\_unique<v8::base::BoundedPageAllocator>(}
\DoxyCodeLine{136       \&platform\_allocator, caged\_heap\_start,}
\DoxyCodeLine{137       total\_heap\_size -\/ local\_data\_size\_with\_padding, \mbox{\hyperlink{namespacecppgc_1_1internal_a31164e981f2a7080855c4ba02f1a910b}{kPageSize}},}
\DoxyCodeLine{138       \mbox{\hyperlink{namespacev8_1_1base_a214ae6bbc219c3bf43cb03f9cf6c165ca60cb412ba4cb9de9b67d9a9981f1f81a}{v8::base::PageInitializationMode::kAllocatedPagesMustBeZeroInitialized}},}
\DoxyCodeLine{139       \mbox{\hyperlink{namespacev8_1_1base_a40af50cfd5f644e039f2664d17ff298aa8045b5e8d8f2790b6de4ecf6650f5f35}{v8::base::PageFreeingMode::kMakeInaccessible}});}
\DoxyCodeLine{140 }
\DoxyCodeLine{141   \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aa30a6d9e9e36dfe702b9f06fdcf5322e}{instance\_}} = \textcolor{keyword}{this};}
\DoxyCodeLine{142   CagedHeapBase::g\_age\_table\_size\_ = AgeTable::CalculateAgeTableSizeForHeapSize(}
\DoxyCodeLine{143       api\_constants::kCagedHeapDefaultReservationSize);}
\DoxyCodeLine{144 \}}

\end{DoxyCode}


References cppgc\+::internal\+::\+Virtual\+Memory\+::address(), CHECK, instance\+\_\+, v8\+::base\+::k\+Allocated\+Pages\+Must\+Be\+Zero\+Initialized, v8\+::base\+::k\+Make\+Inaccessible, cppgc\+::internal\+::k\+Page\+Size, page\+\_\+bounded\+\_\+allocator\+\_\+, reserved\+\_\+area\+\_\+, Round\+Up(), and v8\+::base\+::bits\+::\+Round\+Up\+To\+Power\+Of\+Two64().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1CagedHeap_acb78ac029a94526b0203c7ad774b6515_cgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_ada3ad744ae5f8b87e6a9d81d9201734d}\label{classcppgc_1_1internal_1_1CagedHeap_ada3ad744ae5f8b87e6a9d81d9201734d}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!base@{base}}
\index{base@{base}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{base()}{base()}}
{\footnotesize\ttfamily void$\ast$ cppgc\+::internal\+::\+Caged\+Heap\+::base (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 65 of file caged-\/heap.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{65 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aea77216f0c18b677459a6ff52c447fc2}{reserved\_area\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1VirtualMemory_a42ee258cd5c5f19c79221debf74e49b7}{address}}(); \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a8e938bc103972334f3f8c5133812a335}\label{classcppgc_1_1internal_1_1CagedHeap_a8e938bc103972334f3f8c5133812a335}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!BaseFromAddress@{BaseFromAddress}}
\index{BaseFromAddress@{BaseFromAddress}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{BaseFromAddress()}{BaseFromAddress()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} cppgc\+::internal\+::\+Caged\+Heap\+::\+Base\+From\+Address (\begin{DoxyParamCaption}\item[{const void $\ast$}]{address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 38 of file caged-\/heap.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{38                                                         \{}
\DoxyCodeLine{39     \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classuintptr__t}{uintptr\_t}}\textcolor{keyword}{>}(address) \&}
\DoxyCodeLine{40            \string~(api\_constants::kCagedHeapReservationAlignment -\/ 1);}
\DoxyCodeLine{41   \}}

\end{DoxyCode}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a7baf45aa8b44b34fcedca724a15359c9}\label{classcppgc_1_1internal_1_1CagedHeap_a7baf45aa8b44b34fcedca724a15359c9}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!CommitAgeTable@{CommitAgeTable}}
\index{CommitAgeTable@{CommitAgeTable}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{CommitAgeTable()}{CommitAgeTable()}}
{\footnotesize\ttfamily void cppgc\+::internal\+::\+Caged\+Heap\+::\+Commit\+Age\+Table (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{Page\+Allocator}} \&}]{platform\+\_\+allocator }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 146 of file caged-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{146                                                                 \{}
\DoxyCodeLine{147   \textcolor{keywordflow}{if} (!platform\_allocator.SetPermissions(}
\DoxyCodeLine{148           \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(CagedHeapBase::g\_heap\_base\_),}
\DoxyCodeLine{149           \mbox{\hyperlink{src_2base_2macros_8h_a5113f5db9eec9c30ecea57b8d4175f2d}{RoundUp}}(CagedHeapBase::g\_age\_table\_size\_,}
\DoxyCodeLine{150                   platform\_allocator.CommitPageSize()),}
\DoxyCodeLine{151           \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415abf9beddb1231fa2c23ab417197ea9f8a}{PageAllocator::kReadWrite}})) \{}
\DoxyCodeLine{152     \mbox{\hyperlink{namespacecppgc_1_1internal_af2de8a2a288069d21c5077af318676da}{GetGlobalOOMHandler}}()(\textcolor{stringliteral}{"{}Oilpan: CagedHeap commit CageHeapLocalData."{}});}
\DoxyCodeLine{153   \}}
\DoxyCodeLine{154 \}}

\end{DoxyCode}


References v8\+::\+Page\+Allocator\+::\+Commit\+Page\+Size(), cppgc\+::internal\+::\+Get\+Global\+OOMHandler(), v8\+::\+Page\+Allocator\+::k\+Read\+Write, Round\+Up(), and v8\+::\+Page\+Allocator\+::\+Set\+Permissions().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1CagedHeap_a7baf45aa8b44b34fcedca724a15359c9_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a7a122e5b6dd5b05ea179323429ab2aa4}\label{classcppgc_1_1internal_1_1CagedHeap_a7a122e5b6dd5b05ea179323429ab2aa4}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!InitializeIfNeeded@{InitializeIfNeeded}}
\index{InitializeIfNeeded@{InitializeIfNeeded}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{InitializeIfNeeded()}{InitializeIfNeeded()}}
{\footnotesize\ttfamily void cppgc\+::internal\+::\+Caged\+Heap\+::\+Initialize\+If\+Needed (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{Page\+Allocator}} \&}]{platform\+\_\+allocator,  }\item[{size\+\_\+t}]{desired\+\_\+heap\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 86 of file caged-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{87                                                              \{}
\DoxyCodeLine{88   \textcolor{keyword}{static} \mbox{\hyperlink{classv8_1_1base_1_1LeakyObject}{v8::base::LeakyObject<CagedHeap>}} caged\_heap(platform\_allocator,}
\DoxyCodeLine{89                                                      desired\_heap\_size);}
\DoxyCodeLine{90 \}}

\end{DoxyCode}


Referenced by cppgc\+::\+Initialize\+Process().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1CagedHeap_a7a122e5b6dd5b05ea179323429ab2aa4_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_af6307cef0cf2e4881a841abdab6f31bf}\label{classcppgc_1_1internal_1_1CagedHeap_af6307cef0cf2e4881a841abdab6f31bf}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!Instance@{Instance}}
\index{Instance@{Instance}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{Instance()}{Instance()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}} \& cppgc\+::internal\+::\+Caged\+Heap\+::\+Instance (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 93 of file caged-\/heap.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{93                                \{}
\DoxyCodeLine{94   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aa30a6d9e9e36dfe702b9f06fdcf5322e}{instance\_}});}
\DoxyCodeLine{95   \textcolor{keywordflow}{return} *\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aa30a6d9e9e36dfe702b9f06fdcf5322e}{instance\_}};}
\DoxyCodeLine{96 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+NOT\+\_\+\+NULL, and instance\+\_\+.



Referenced by cppgc\+::internal\+::\+Heap\+Base\+::\+Initialize\+Page\+Backend(), cppgc\+::internal\+::\+Object\+Allocator\+::\+Out\+Of\+Line\+Allocate\+Impl(), and cppgc\+::internal\+::\+Marking\+Verifier\+Base\+::\+Visit\+Heap\+Object\+Header().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1CagedHeap_af6307cef0cf2e4881a841abdab6f31bf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a5427c6092d6cb3d967f4778b970a451f}\label{classcppgc_1_1internal_1_1CagedHeap_a5427c6092d6cb3d967f4778b970a451f}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!IsOnHeap@{IsOnHeap}}
\index{IsOnHeap@{IsOnHeap}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{IsOnHeap()}{IsOnHeap()}}
{\footnotesize\ttfamily bool cppgc\+::internal\+::\+Caged\+Heap\+::\+Is\+On\+Heap (\begin{DoxyParamCaption}\item[{const void $\ast$}]{address }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 58 of file caged-\/heap.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{58                                            \{}
\DoxyCodeLine{59     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aea77216f0c18b677459a6ff52c447fc2}{reserved\_area\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1VirtualMemory_a42ee258cd5c5f19c79221debf74e49b7}{address}}(),}
\DoxyCodeLine{60               \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(CagedHeapBase::GetBase()));}
\DoxyCodeLine{61     \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a8e938bc103972334f3f8c5133812a335}{BaseFromAddress}}(address)) ==}
\DoxyCodeLine{62            \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_aea77216f0c18b677459a6ff52c447fc2}{reserved\_area\_}}.\mbox{\hyperlink{classcppgc_1_1internal_1_1VirtualMemory_a42ee258cd5c5f19c79221debf74e49b7}{address}}();}
\DoxyCodeLine{63   \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ.

\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_aea94013ce21175a2426eabffb4be7aed}\label{classcppgc_1_1internal_1_1CagedHeap_aea94013ce21175a2426eabffb4be7aed}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!OffsetFromAddress@{OffsetFromAddress}}
\index{OffsetFromAddress@{OffsetFromAddress}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{OffsetFromAddress()}{OffsetFromAddress()}}
{\footnotesize\ttfamily template$<$typename Ret\+Type  = uintptr\+\_\+t$>$ \\
static Ret\+Type cppgc\+::internal\+::\+Caged\+Heap\+::\+Offset\+From\+Address (\begin{DoxyParamCaption}\item[{const void $\ast$}]{address }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}



Definition at line 30 of file caged-\/heap.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{30                                                         \{}
\DoxyCodeLine{31     static\_assert(std::numeric\_limits<RetType>::max() >=}
\DoxyCodeLine{32                       (api\_constants::kCagedHeapMaxReservationSize -\/ 1),}
\DoxyCodeLine{33                   \textcolor{stringliteral}{"{}The return type should be large enough"{}});}
\DoxyCodeLine{34     \textcolor{keywordflow}{return} \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classuintptr__t}{uintptr\_t}}\textcolor{keyword}{>}(address) \&}
\DoxyCodeLine{35            (api\_constants::kCagedHeapReservationAlignment -\/ 1);}
\DoxyCodeLine{36   \}}

\end{DoxyCode}


Referenced by cppgc\+::internal\+::anonymous\+\_\+namespace\{object-\/allocator.\+cc\}\+::\+Mark\+Range\+As\+Young().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1CagedHeap_aea94013ce21175a2426eabffb4be7aed_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a841e30c50199d10900f8f9b43149ec79}\label{classcppgc_1_1internal_1_1CagedHeap_a841e30c50199d10900f8f9b43149ec79}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!operator=@{operator=}}
\index{operator=@{operator=}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}}\& cppgc\+::internal\+::\+Caged\+Heap\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_aa9ce4f91bc05d3ce87617f96df6b175b}\label{classcppgc_1_1internal_1_1CagedHeap_aa9ce4f91bc05d3ce87617f96df6b175b}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!page\_allocator@{page\_allocator}}
\index{page\_allocator@{page\_allocator}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{page\_allocator()}{page\_allocator()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a9fde8f0e2002425073b25fc8c3a07b20}{Allocator\+Type}}\& cppgc\+::internal\+::\+Caged\+Heap\+::page\+\_\+allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 53 of file caged-\/heap.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{53 \{ \textcolor{keywordflow}{return} *\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a3d108aaf2dabd29d293236b47724f6b2}{page\_bounded\_allocator\_}}; \}}

\end{DoxyCode}


Referenced by cppgc\+::internal\+::\+Object\+Allocator\+::\+Out\+Of\+Line\+Allocate\+Impl().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classcppgc_1_1internal_1_1CagedHeap_aa9ce4f91bc05d3ce87617f96df6b175b_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a295c3083fbb2f189f4869dce1020d5b6}\label{classcppgc_1_1internal_1_1CagedHeap_a295c3083fbb2f189f4869dce1020d5b6}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!page\_allocator@{page\_allocator}}
\index{page\_allocator@{page\_allocator}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{page\_allocator()}{page\_allocator()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a9fde8f0e2002425073b25fc8c3a07b20}{Allocator\+Type}}\& cppgc\+::internal\+::\+Caged\+Heap\+::page\+\_\+allocator (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 54 of file caged-\/heap.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{54                                               \{}
\DoxyCodeLine{55     \textcolor{keywordflow}{return} *\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a3d108aaf2dabd29d293236b47724f6b2}{page\_bounded\_allocator\_}};}
\DoxyCodeLine{56   \}}

\end{DoxyCode}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a72a431d1736806e1d241900c3f80ccae}\label{classcppgc_1_1internal_1_1CagedHeap_a72a431d1736806e1d241900c3f80ccae}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!testing::TestWithHeap@{testing::TestWithHeap}}
\index{testing::TestWithHeap@{testing::TestWithHeap}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{testing::TestWithHeap}{testing::TestWithHeap}}
{\footnotesize\ttfamily friend class testing\+::\+Test\+With\+Heap\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 69 of file caged-\/heap.\+h.

\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a8e4265fc3e9e1027390029698e3e7ac0}\label{classcppgc_1_1internal_1_1CagedHeap_a8e4265fc3e9e1027390029698e3e7ac0}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!v8::base::LeakyObject$<$ CagedHeap $>$@{v8::base::LeakyObject$<$ CagedHeap $>$}}
\index{v8::base::LeakyObject$<$ CagedHeap $>$@{v8::base::LeakyObject$<$ CagedHeap $>$}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{v8::base::LeakyObject$<$ CagedHeap $>$}{v8::base::LeakyObject< CagedHeap >}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1base_1_1LeakyObject}{v8\+::base\+::\+Leaky\+Object}}$<$ \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}} $>$\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 65 of file caged-\/heap.\+h.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_aa30a6d9e9e36dfe702b9f06fdcf5322e}\label{classcppgc_1_1internal_1_1CagedHeap_aa30a6d9e9e36dfe702b9f06fdcf5322e}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!instance\_@{instance\_}}
\index{instance\_@{instance\_}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{instance\_}{instance\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap}{Caged\+Heap}} $\ast$ cppgc\+::internal\+::\+Caged\+Heap\+::instance\+\_\+ = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}



Definition at line 74 of file caged-\/heap.\+h.



Referenced by Caged\+Heap(), and Instance().

\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_a3d108aaf2dabd29d293236b47724f6b2}\label{classcppgc_1_1internal_1_1CagedHeap_a3d108aaf2dabd29d293236b47724f6b2}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!page\_bounded\_allocator\_@{page\_bounded\_allocator\_}}
\index{page\_bounded\_allocator\_@{page\_bounded\_allocator\_}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{page\_bounded\_allocator\_}{page\_bounded\_allocator\_}}
{\footnotesize\ttfamily std\+::unique\+\_\+ptr$<$\mbox{\hyperlink{classcppgc_1_1internal_1_1CagedHeap_a9fde8f0e2002425073b25fc8c3a07b20}{Allocator\+Type}}$>$ cppgc\+::internal\+::\+Caged\+Heap\+::page\+\_\+bounded\+\_\+allocator\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 79 of file caged-\/heap.\+h.



Referenced by Caged\+Heap().

\mbox{\Hypertarget{classcppgc_1_1internal_1_1CagedHeap_aea77216f0c18b677459a6ff52c447fc2}\label{classcppgc_1_1internal_1_1CagedHeap_aea77216f0c18b677459a6ff52c447fc2}} 
\index{cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}!reserved\_area\_@{reserved\_area\_}}
\index{reserved\_area\_@{reserved\_area\_}!cppgc::internal::CagedHeap@{cppgc::internal::CagedHeap}}
\doxysubsubsection{\texorpdfstring{reserved\_area\_}{reserved\_area\_}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classcppgc_1_1internal_1_1VirtualMemory}{Virtual\+Memory}} cppgc\+::internal\+::\+Caged\+Heap\+::reserved\+\_\+area\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 76 of file caged-\/heap.\+h.



Referenced by Caged\+Heap().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/heap/cppgc/\mbox{\hyperlink{src_2heap_2cppgc_2caged-heap_8h}{caged-\/heap.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/heap/cppgc/\mbox{\hyperlink{caged-heap_8cc}{caged-\/heap.\+cc}}\end{DoxyCompactItemize}
