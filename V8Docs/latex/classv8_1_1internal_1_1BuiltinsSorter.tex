\hypertarget{classv8_1_1internal_1_1BuiltinsSorter}{}\doxysection{v8\+::internal\+::Builtins\+Sorter Class Reference}
\label{classv8_1_1internal_1_1BuiltinsSorter}\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}


{\ttfamily \#include $<$sort-\/builtins.\+h$>$}



Collaboration diagram for v8\+::internal\+::Builtins\+Sorter\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1BuiltinsSorter_1_1BuiltinDensitySlot}{Builtin\+Density\+Slot}}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a8611623629618ed23f523e7a7b6c4074}{Builtins\+Sorter}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a0da7033dbb36d57d1d7835ae1584eb54}{$\sim$\+Builtins\+Sorter}} ()
\item 
std\+::vector$<$ \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a4f77887458972ef24cad404b6c31e856}{Sort\+Builtins}} (const char $\ast$profiling\+\_\+file, const std\+::vector$<$ uint32\+\_\+t $>$ \&builtin\+\_\+size)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a65274ce039186fa52dfc8530a8c1f4bf}{Initialize\+Call\+Graph}} (const char $\ast$profiling\+\_\+file, const std\+::vector$<$ uint32\+\_\+t $>$ \&\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_ada1856f1be6158999fef435a6da77d04}{Initialize\+Clusters}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_af963038a1f0360e8ee8c44ae98793fe3}{Merge\+Best\+Predecessors}} ()
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a6cde6473769f213514edc772e3b015a0}{Sort\+Clusters}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a9b58ae8a8a9b157f6f5b5772501ca9aa}{Find\+Best\+Predecessor\+Of}} (\mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} callee)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a381c673d4b613af2736bffbb67a2dfdb}{Process\+Block\+Count\+Line\+Info}} (std\+::istringstream \&line\+\_\+stream, std\+::unordered\+\_\+map$<$ std\+::string, \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} $>$ \&name2id)
\item 
void \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a61175b381eb259277010ff9750c412e7}{Process\+Builtin\+Density\+Line\+Info}} (std\+::istringstream \&line\+\_\+stream, std\+::unordered\+\_\+map$<$ std\+::string, \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} $>$ \&name2id)
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const int32\+\_\+t \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a8fc21805ef16abead0d191f9ca6ca3ca}{k\+Min\+Edge\+Probability\+Threshold}} = 10
\item 
const uint32\+\_\+t \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a2f2fd4047c85cb6e84f8403374f543af}{k\+Max\+Cluster\+Size}} = 1 $\ast$ \mbox{\hyperlink{namespacev8_1_1internal_af46551c5713d2a3a1be4dca973e521e0}{MB}}
\item 
const uint32\+\_\+t \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_af2042ed2114f9608d4cc2eb061cd1056}{k\+Max\+Density\+Decrease\+Threshold}} = 8
\item 
const std\+::string \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a64b45405649694b4ad9728ba3191b2ab}{k\+Builtin\+Call\+Block\+Density\+Marker}} = \char`\"{}block\+\_\+count\char`\"{}
\item 
const std\+::string \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_aa455a4d96bdb4a7fb7f499551b16b56d}{k\+Builtin\+Density\+Marker}} = \char`\"{}builtin\+\_\+count\char`\"{}
\item 
std\+::vector$<$ \mbox{\hyperlink{classv8_1_1internal_1_1Cluster}{Cluster}} $\ast$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\+\_\+}}
\item 
std\+::vector$<$ \mbox{\hyperlink{structv8_1_1internal_1_1BuiltinsSorter_1_1BuiltinDensitySlot}{Builtin\+Density\+Slot}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07010ac85db4e3589f7aee1f76f00ebe}{builtin\+\_\+density\+\_\+order\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a39b589d9fdb30a6c7c3676cbc75af0cd}{Call\+Graph}} \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acdd746865500d832eeda933c97ed9bd0}{call\+\_\+graph\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_af44ccbddcf8c5cafc6f25f3836576ed8}{Builtin\+Density\+Map}} \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}{builtin\+\_\+density\+\_\+map\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a728174cf566c8bb67c1ee7720b71a825}{Builtin\+Size}} \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a8e423d350c318501172dbcf8eb59d834}{builtin\+\_\+size\+\_\+}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a8739b3c806ae53f6533d9e39414201c8}{Builtin\+Cluster\+Map}} \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07e8ba5b534fe513c5379b35c0b23da1}{builtin\+\_\+cluster\+\_\+map\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 73 of file sort-\/builtins.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a8611623629618ed23f523e7a7b6c4074}\label{classv8_1_1internal_1_1BuiltinsSorter_a8611623629618ed23f523e7a7b6c4074}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!BuiltinsSorter@{BuiltinsSorter}}
\index{BuiltinsSorter@{BuiltinsSorter}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{BuiltinsSorter()}{BuiltinsSorter()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Builtins\+Sorter\+::\+Builtins\+Sorter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 24 of file sort-\/builtins.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{24 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a0da7033dbb36d57d1d7835ae1584eb54}\label{classv8_1_1internal_1_1BuiltinsSorter_a0da7033dbb36d57d1d7835ae1584eb54}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!````~BuiltinsSorter@{$\sim$BuiltinsSorter}}
\index{````~BuiltinsSorter@{$\sim$BuiltinsSorter}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{$\sim$BuiltinsSorter()}{~BuiltinsSorter()}}
{\footnotesize\ttfamily v8\+::internal\+::\+Builtins\+Sorter\+::$\sim$\+Builtins\+Sorter (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 26 of file sort-\/builtins.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{26                                 \{}
\DoxyCodeLine{27   \textcolor{keywordflow}{for} (\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}* cls : \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\_}}) \{}
\DoxyCodeLine{28     \textcolor{keyword}{delete} cls;}
\DoxyCodeLine{29   \}}
\DoxyCodeLine{30 \}}

\end{DoxyCode}


References clusters\+\_\+.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a9b58ae8a8a9b157f6f5b5772501ca9aa}\label{classv8_1_1internal_1_1BuiltinsSorter_a9b58ae8a8a9b157f6f5b5772501ca9aa}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!FindBestPredecessorOf@{FindBestPredecessorOf}}
\index{FindBestPredecessorOf@{FindBestPredecessorOf}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{FindBestPredecessorOf()}{FindBestPredecessorOf()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} v8\+::internal\+::\+Builtins\+Sorter\+::\+Find\+Best\+Predecessor\+Of (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}}}]{callee }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 73 of file sort-\/builtins.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{73                                                             \{}
\DoxyCodeLine{74   \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} bestPred = \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88}{Builtin::kNoBuiltinId}};}
\DoxyCodeLine{75   \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} bestProb = 0;}
\DoxyCodeLine{76 }
\DoxyCodeLine{77   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} caller\_it = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acdd746865500d832eeda933c97ed9bd0}{call\_graph\_}}.begin(); caller\_it != \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acdd746865500d832eeda933c97ed9bd0}{call\_graph\_}}.end();}
\DoxyCodeLine{78        caller\_it++) \{}
\DoxyCodeLine{79     \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} caller = caller\_it-\/>first;}
\DoxyCodeLine{80     \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_ad97a996a0a6758308e1d824ed533d25c}{CallProbabilities}}\& callees\_prob = caller\_it-\/>second;}
\DoxyCodeLine{81     \textcolor{keywordflow}{if} (callees\_prob.count(callee) > 0) \{}
\DoxyCodeLine{82       \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} incoming\_prob = callees\_prob.at(callee).incoming\_;}
\DoxyCodeLine{83       \textcolor{keywordflow}{if} (incoming\_prob == -\/1) \{}
\DoxyCodeLine{84         \textcolor{comment}{// We dont want to merge any cluster with -\/1 prob, because it means it's}}
\DoxyCodeLine{85         \textcolor{comment}{// either a non TurboFan compiled builtin or its execution count too}}
\DoxyCodeLine{86         \textcolor{comment}{// small.}}
\DoxyCodeLine{87         \textcolor{keywordflow}{continue};}
\DoxyCodeLine{88       \}}
\DoxyCodeLine{89       \textcolor{keywordflow}{if} (bestPred == \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88}{Builtin::kNoBuiltinId}} || incoming\_prob > bestProb) \{}
\DoxyCodeLine{90         bestPred = caller;}
\DoxyCodeLine{91         bestProb = incoming\_prob;}
\DoxyCodeLine{92       \}}
\DoxyCodeLine{93     \}}
\DoxyCodeLine{94 }
\DoxyCodeLine{95     \textcolor{keywordflow}{if} (bestProb < \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a8fc21805ef16abead0d191f9ca6ca3ca}{kMinEdgeProbabilityThreshold}} ||}
\DoxyCodeLine{96         bestPred == \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88}{Builtin::kNoBuiltinId}})}
\DoxyCodeLine{97       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{98 }
\DoxyCodeLine{99     \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}* predCls = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07e8ba5b534fe513c5379b35c0b23da1}{builtin\_cluster\_map\_}}[bestPred];}
\DoxyCodeLine{100     \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}* succCls = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07e8ba5b534fe513c5379b35c0b23da1}{builtin\_cluster\_map\_}}[callee];}
\DoxyCodeLine{101 }
\DoxyCodeLine{102     \textcolor{comment}{// Don't merge if the caller and callee are already in same cluster.}}
\DoxyCodeLine{103     \textcolor{keywordflow}{if} (predCls == succCls) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{104     \textcolor{comment}{// Don't merge clusters if the combined size is too big.}}
\DoxyCodeLine{105     \textcolor{keywordflow}{if} (predCls-\/>size\_ + succCls-\/>size\_ > \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a2f2fd4047c85cb6e84f8403374f543af}{kMaxClusterSize}}) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{106     \textcolor{keywordflow}{if} (predCls-\/>density\_ == 0) \{}
\DoxyCodeLine{107       \textcolor{comment}{// Some density of cluster after normalized may be 0, in that case we dont}}
\DoxyCodeLine{108       \textcolor{comment}{// merge them.}}
\DoxyCodeLine{109       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{110     \}}
\DoxyCodeLine{111     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(predCls-\/>size\_);}
\DoxyCodeLine{112 }
\DoxyCodeLine{113     uint32\_t new\_density = \textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(}
\DoxyCodeLine{114         (predCls-\/>time\_approximation() + succCls-\/>time\_approximation()) /}
\DoxyCodeLine{115         (predCls-\/>size\_ + succCls-\/>size\_));}
\DoxyCodeLine{116 }
\DoxyCodeLine{117     \textcolor{comment}{// Don't merge clusters if the new merged density is lower too many times}}
\DoxyCodeLine{118     \textcolor{comment}{// than current cluster, to avoid a huge dropping in cluster density, it}}
\DoxyCodeLine{119     \textcolor{comment}{// will harm locality of builtins.}}
\DoxyCodeLine{120     \textcolor{keywordflow}{if} (predCls-\/>density\_ / \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_af2042ed2114f9608d4cc2eb061cd1056}{kMaxDensityDecreaseThreshold}} > new\_density)}
\DoxyCodeLine{121       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{122   \}}
\DoxyCodeLine{123 }
\DoxyCodeLine{124   \textcolor{keywordflow}{return} bestPred;}
\DoxyCodeLine{125 \}}

\end{DoxyCode}


References builtin\+\_\+cluster\+\_\+map\+\_\+, call\+\_\+graph\+\_\+, CHECK, v8\+::internal\+::\+Cluster\+::density\+\_\+, k\+Max\+Cluster\+Size, k\+Max\+Density\+Decrease\+Threshold, k\+Min\+Edge\+Probability\+Threshold, v8\+::internal\+::k\+No\+Builtin\+Id, v8\+::internal\+::\+Cluster\+::size\+\_\+, and v8\+::internal\+::\+Cluster\+::time\+\_\+approximation().



Referenced by Merge\+Best\+Predecessors().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a9b58ae8a8a9b157f6f5b5772501ca9aa_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a9b58ae8a8a9b157f6f5b5772501ca9aa_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a65274ce039186fa52dfc8530a8c1f4bf}\label{classv8_1_1internal_1_1BuiltinsSorter_a65274ce039186fa52dfc8530a8c1f4bf}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!InitializeCallGraph@{InitializeCallGraph}}
\index{InitializeCallGraph@{InitializeCallGraph}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{InitializeCallGraph()}{InitializeCallGraph()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Builtins\+Sorter\+::\+Initialize\+Call\+Graph (\begin{DoxyParamCaption}\item[{const char $\ast$}]{profiling\+\_\+file,  }\item[{const std\+::vector$<$ uint32\+\_\+t $>$ \&}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 271 of file sort-\/builtins.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{272                                                                           \{}
\DoxyCodeLine{273   std::ifstream \mbox{\hyperlink{flag-definitions_8h_a583245cb1ce76ddbc0cf3db5354b33c1}{file}}(profiling\_file);}
\DoxyCodeLine{274   \mbox{\hyperlink{src_2base_2logging_8h_a7b0fb5d6be902959a80a9a33cc4e73fe}{CHECK\_WITH\_MSG}}(\mbox{\hyperlink{flag-definitions_8h_a583245cb1ce76ddbc0cf3db5354b33c1}{file}}.good(), \textcolor{stringliteral}{"{}Can't read log file"{}});}
\DoxyCodeLine{275 }
\DoxyCodeLine{276   std::unordered\_map<std::string, Builtin> name2id;}
\DoxyCodeLine{277   \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1internal_1_1Builtins_a4286c57109cb355bfc95df30cff0d14b}{Builtins::kFirst}}; \mbox{\hyperlink{namespacev8_1_1internal}{i}} <= \mbox{\hyperlink{classv8_1_1internal_1_1Builtins_abd50adb836b525a19e9fedda7aa18618}{Builtins::kLast}}; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{278     \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} \mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}} = \mbox{\hyperlink{classv8_1_1internal_1_1Builtins_ae5727f569cee1f94d7121b0a549d67b6}{Builtins::name}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{279     name2id.emplace(\mbox{\hyperlink{namespacev8_1_1internal_a611f0528d5415d4591ad6e8fe9513ac4}{name}}, \mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{280     \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a8e423d350c318501172dbcf8eb59d834}{builtin\_size\_}}.push\_back(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}.at(\textcolor{keyword}{static\_cast<}uint32\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal}{i}})));}
\DoxyCodeLine{281   \}}
\DoxyCodeLine{282 }
\DoxyCodeLine{283   \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} line; std::getline(\mbox{\hyperlink{flag-definitions_8h_a583245cb1ce76ddbc0cf3db5354b33c1}{file}}, line);) \{}
\DoxyCodeLine{284     \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} token;}
\DoxyCodeLine{285     std::istringstream line\_stream(line);}
\DoxyCodeLine{286     \textcolor{comment}{// We must put lines start with kBuiltinDensityMarker before lines start}}
\DoxyCodeLine{287     \textcolor{comment}{// with kBuiltinCallBlockDensityMarker, because we have to density to}}
\DoxyCodeLine{288     \textcolor{comment}{// calculate call prob.}}
\DoxyCodeLine{289     \textcolor{keywordflow}{if} (!std::getline(line\_stream, token, \textcolor{charliteral}{','})) \textcolor{keywordflow}{continue};}
\DoxyCodeLine{290     \textcolor{keywordflow}{if} (token == \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a64b45405649694b4ad9728ba3191b2ab}{kBuiltinCallBlockDensityMarker}}) \{}
\DoxyCodeLine{291       \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a381c673d4b613af2736bffbb67a2dfdb}{ProcessBlockCountLineInfo}}(line\_stream, name2id);}
\DoxyCodeLine{292     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (token == \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_aa455a4d96bdb4a7fb7f499551b16b56d}{kBuiltinDensityMarker}}) \{}
\DoxyCodeLine{293       \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a61175b381eb259277010ff9750c412e7}{ProcessBuiltinDensityLineInfo}}(line\_stream, name2id);}
\DoxyCodeLine{294     \}}
\DoxyCodeLine{295   \}}
\DoxyCodeLine{296 \}}

\end{DoxyCode}


References builtin\+\_\+size\+\_\+, CHECK\+\_\+\+WITH\+\_\+\+MSG, file(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, k\+Builtin\+Call\+Block\+Density\+Marker, k\+Builtin\+Density\+Marker, v8\+::internal\+::\+Builtins\+::k\+First, v8\+::internal\+::\+Builtins\+::k\+Last, v8\+::internal\+::\+Builtins\+::name(), v8\+::internal\+::name, Process\+Block\+Count\+Line\+Info(), Process\+Builtin\+Density\+Line\+Info(), size(), and v8\+::internal\+::string.



Referenced by Sort\+Builtins().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a65274ce039186fa52dfc8530a8c1f4bf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a65274ce039186fa52dfc8530a8c1f4bf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_ada1856f1be6158999fef435a6da77d04}\label{classv8_1_1internal_1_1BuiltinsSorter_ada1856f1be6158999fef435a6da77d04}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!InitializeClusters@{InitializeClusters}}
\index{InitializeClusters@{InitializeClusters}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{InitializeClusters()}{InitializeClusters()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Builtins\+Sorter\+::\+Initialize\+Clusters (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 50 of file sort-\/builtins.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{50                                         \{}
\DoxyCodeLine{51   \textcolor{keywordflow}{for} (uint32\_t \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; i < static\_cast<uint32\_t>(\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a8e423d350c318501172dbcf8eb59d834}{builtin\_size\_}}.size()); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{52     \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} \textcolor{keywordtype}{id} = \mbox{\hyperlink{classv8_1_1internal_1_1Builtins_aa22fc862d2893e63866dd4f4a3595dd8}{Builtins::FromInt}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{53     \mbox{\hyperlink{classv8_1_1internal_1_1Builtins_a4b4b44a12366239fe85e8b802150a05e}{Builtins::Kind}} kind = \mbox{\hyperlink{classv8_1_1internal_1_1Builtins_a15914b4795b1c5acb776fa776d48b6a3}{Builtins::KindOf}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{54     \textcolor{keywordflow}{if} (kind == Builtins::Kind::ASM || kind == Builtins::Kind::CPP) \{}
\DoxyCodeLine{55       \textcolor{comment}{// CHECK there is no data for execution count for non TurboFan compiled}}
\DoxyCodeLine{56       \textcolor{comment}{// builtin.}}
\DoxyCodeLine{57       \mbox{\hyperlink{src_2base_2logging_8h_aca32614b4d2aea7dd9abdeb222bf02f3}{CHECK\_EQ}}(\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}{builtin\_density\_map\_}}[\textcolor{keywordtype}{id}], 0);}
\DoxyCodeLine{58       \textcolor{keywordflow}{continue};}
\DoxyCodeLine{59     \}}
\DoxyCodeLine{60     \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}* cls =}
\DoxyCodeLine{61         \textcolor{keyword}{new} \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}(\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}{builtin\_density\_map\_}}[\textcolor{keywordtype}{id}], \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a8e423d350c318501172dbcf8eb59d834}{builtin\_size\_}}[\mbox{\hyperlink{namespacev8_1_1internal}{i}}], \textcolor{keywordtype}{id}, \textcolor{keyword}{this});}
\DoxyCodeLine{62     \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\_}}.push\_back(cls);}
\DoxyCodeLine{63     \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07010ac85db4e3589f7aee1f76f00ebe}{builtin\_density\_order\_}}.push\_back(}
\DoxyCodeLine{64         BuiltinDensitySlot\{\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}{builtin\_density\_map\_}}[id], \textcolor{keywordtype}{id}\});}
\DoxyCodeLine{65   \}}
\DoxyCodeLine{66 }
\DoxyCodeLine{67   \mbox{\hyperlink{namespacev8_1_1base_ae8575343c68d7ad91cf7aaf24cd6643f}{std::sort}}(\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07010ac85db4e3589f7aee1f76f00ebe}{builtin\_density\_order\_}}.begin(), \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07010ac85db4e3589f7aee1f76f00ebe}{builtin\_density\_order\_}}.end(),}
\DoxyCodeLine{68             [](\textcolor{keyword}{const} BuiltinDensitySlot\& x, \textcolor{keyword}{const} BuiltinDensitySlot\& \mbox{\hyperlink{namespacev8_1_1internal_aeb5be8c54a68c0a55508c931639d71da}{y}}) \{}
\DoxyCodeLine{69               return x.density\_ > y.density\_;}
\DoxyCodeLine{70             \});}
\DoxyCodeLine{71 \}}

\end{DoxyCode}


References builtin\+\_\+density\+\_\+map\+\_\+, builtin\+\_\+density\+\_\+order\+\_\+, builtin\+\_\+size\+\_\+, CHECK\+\_\+\+EQ, Cluster, clusters\+\_\+, v8\+::internal\+::\+Builtins\+::\+From\+Int(), v8\+::internal\+::\+Builtins\+::\+Kind\+Of(), v8\+::base\+::sort(), and v8\+::internal\+::y.



Referenced by Sort\+Builtins().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_ada1856f1be6158999fef435a6da77d04_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_ada1856f1be6158999fef435a6da77d04_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_af963038a1f0360e8ee8c44ae98793fe3}\label{classv8_1_1internal_1_1BuiltinsSorter_af963038a1f0360e8ee8c44ae98793fe3}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!MergeBestPredecessors@{MergeBestPredecessors}}
\index{MergeBestPredecessors@{MergeBestPredecessors}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{MergeBestPredecessors()}{MergeBestPredecessors()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Builtins\+Sorter\+::\+Merge\+Best\+Predecessors (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 127 of file sort-\/builtins.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{127                                            \{}
\DoxyCodeLine{128   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07010ac85db4e3589f7aee1f76f00ebe}{builtin\_density\_order\_}}.size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{129     \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} \textcolor{keywordtype}{id} = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07010ac85db4e3589f7aee1f76f00ebe}{builtin\_density\_order\_}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}].builtin\_;}
\DoxyCodeLine{130     \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}* succ\_cluster = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07e8ba5b534fe513c5379b35c0b23da1}{builtin\_cluster\_map\_}}[id];}
\DoxyCodeLine{131 }
\DoxyCodeLine{132     \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} bestPred = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a9b58ae8a8a9b157f6f5b5772501ca9aa}{FindBestPredecessorOf}}(\textcolor{keywordtype}{id});}
\DoxyCodeLine{133     \textcolor{keywordflow}{if} (bestPred != \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52a04022b3cd6b405230761e1a685db3b88}{Builtin::kNoBuiltinId}}) \{}
\DoxyCodeLine{134       \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}* pred\_cluster = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a07e8ba5b534fe513c5379b35c0b23da1}{builtin\_cluster\_map\_}}[bestPred];}
\DoxyCodeLine{135       pred\_cluster-\/>Merge(succ\_cluster);}
\DoxyCodeLine{136     \}}
\DoxyCodeLine{137   \}}
\DoxyCodeLine{138 \}}

\end{DoxyCode}


References builtin\+\_\+cluster\+\_\+map\+\_\+, builtin\+\_\+density\+\_\+order\+\_\+, Find\+Best\+Predecessor\+Of(), v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, v8\+::internal\+::k\+No\+Builtin\+Id, and v8\+::internal\+::\+Cluster\+::\+Merge().



Referenced by Sort\+Builtins().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_af963038a1f0360e8ee8c44ae98793fe3_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_af963038a1f0360e8ee8c44ae98793fe3_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a381c673d4b613af2736bffbb67a2dfdb}\label{classv8_1_1internal_1_1BuiltinsSorter_a381c673d4b613af2736bffbb67a2dfdb}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!ProcessBlockCountLineInfo@{ProcessBlockCountLineInfo}}
\index{ProcessBlockCountLineInfo@{ProcessBlockCountLineInfo}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{ProcessBlockCountLineInfo()}{ProcessBlockCountLineInfo()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Builtins\+Sorter\+::\+Process\+Block\+Count\+Line\+Info (\begin{DoxyParamCaption}\item[{std\+::istringstream \&}]{line\+\_\+stream,  }\item[{std\+::unordered\+\_\+map$<$ std\+::string, \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} $>$ \&}]{name2id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 162 of file sort-\/builtins.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{164                                                    \{}
\DoxyCodeLine{165   \textcolor{comment}{// Any line starting with kBuiltinCallBlockDensityMarker is a normalized}}
\DoxyCodeLine{166   \textcolor{comment}{// execution count of block with call. The format is:}}
\DoxyCodeLine{167   \textcolor{comment}{//   literal kBuiltinCallBlockDensityMarker , caller , block ,}}
\DoxyCodeLine{168   \textcolor{comment}{//   normalized\_count}}
\DoxyCodeLine{169   \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} token;}
\DoxyCodeLine{170   \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} caller\_name;}
\DoxyCodeLine{171   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(std::getline(line\_stream, caller\_name, \textcolor{charliteral}{','}));}
\DoxyCodeLine{172   \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} caller\_id = name2id[caller\_name];}
\DoxyCodeLine{173 }
\DoxyCodeLine{174   BuiltinsCallGraph* profiler = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsCallGraph_ad1864af83dd2414950f28a86a6b22d07}{BuiltinsCallGraph::Get}}();}
\DoxyCodeLine{175 }
\DoxyCodeLine{176   \textcolor{keywordtype}{char}* \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{177   errno = 0;}
\DoxyCodeLine{178   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(std::getline(line\_stream, token, \textcolor{charliteral}{','}));}
\DoxyCodeLine{179   \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} block\_id = \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}}\textcolor{keyword}{>}(strtoul(token.c\_str(), \&\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}, 0));}
\DoxyCodeLine{180   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(errno == 0 \&\& \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} != token.c\_str());}
\DoxyCodeLine{181 }
\DoxyCodeLine{182   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(std::getline(line\_stream, token, \textcolor{charliteral}{','}));}
\DoxyCodeLine{183   \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} normalized\_count =}
\DoxyCodeLine{184       \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}}\textcolor{keyword}{>}(strtoul(token.c\_str(), \&\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}, 0));}
\DoxyCodeLine{185   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(errno == 0 \&\& \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} != token.c\_str());}
\DoxyCodeLine{186   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(line\_stream.eof());}
\DoxyCodeLine{187 }
\DoxyCodeLine{188   \textcolor{keyword}{const} \mbox{\hyperlink{namespacev8_1_1internal_aa3cf3065c40d9a716777799dcb2063ed}{BuiltinCallees}}* block\_callees = profiler-\/>GetBuiltinCallees(caller\_id);}
\DoxyCodeLine{189   \textcolor{keywordflow}{if} (block\_callees) \{}
\DoxyCodeLine{190     \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} outgoing\_prob = 0;}
\DoxyCodeLine{191     \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} incoming\_prob = 0;}
\DoxyCodeLine{192     \textcolor{keywordtype}{int} caller\_density = 0;}
\DoxyCodeLine{193     \textcolor{keywordtype}{int} callee\_density = 0;}
\DoxyCodeLine{194 }
\DoxyCodeLine{195     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}{builtin\_density\_map\_}}.count(caller\_id));}
\DoxyCodeLine{196     caller\_density = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}{builtin\_density\_map\_}}.at(caller\_id);}
\DoxyCodeLine{197 }
\DoxyCodeLine{198     \textcolor{comment}{// TODO(v8:13938): Remove the below if check when we just store}}
\DoxyCodeLine{199     \textcolor{comment}{// interesting blocks (contain call other builtins) execution count into}}
\DoxyCodeLine{200     \textcolor{comment}{// profiling file.}}
\DoxyCodeLine{201     \textcolor{keywordflow}{if} (block\_callees-\/>count(block\_id)) \{}
\DoxyCodeLine{202       \textcolor{comment}{// If the line of block density make sense (means it contain call to}}
\DoxyCodeLine{203       \textcolor{comment}{// other builtins in this block).}}
\DoxyCodeLine{204       \textcolor{keywordflow}{for} (\textcolor{keyword}{const} \textcolor{keyword}{auto}\& callee\_id : block\_callees-\/>at(block\_id)) \{}
\DoxyCodeLine{205         \textcolor{keywordflow}{if} (caller\_density != 0) \{}
\DoxyCodeLine{206           outgoing\_prob = normalized\_count * 100 / caller\_density;}
\DoxyCodeLine{207         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{208           \textcolor{comment}{// If the caller density was normalized as 0 but the block density}}
\DoxyCodeLine{209           \textcolor{comment}{// was not, we set caller prob as 100, otherwise it's 0. Because in}}
\DoxyCodeLine{210           \textcolor{comment}{// the normalization, we may loss fidelity.}}
\DoxyCodeLine{211           \textcolor{comment}{// For example, a caller was executed 8 times, but after}}
\DoxyCodeLine{212           \textcolor{comment}{// normalization, it may be 0 time. At that time, if the}}
\DoxyCodeLine{213           \textcolor{comment}{// normalized\_count of this block (it may be a loop body) is a}}
\DoxyCodeLine{214           \textcolor{comment}{// positive number, we could think normalized\_count is bigger than the}}
\DoxyCodeLine{215           \textcolor{comment}{// execution count of caller, hence we set it as 100, otherwise it's}}
\DoxyCodeLine{216           \textcolor{comment}{// smaller than execution count of caller, we could set it as 0.}}
\DoxyCodeLine{217           outgoing\_prob = normalized\_count ? 100 : 0;}
\DoxyCodeLine{218         \}}
\DoxyCodeLine{219 }
\DoxyCodeLine{220         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}{builtin\_density\_map\_}}.count(callee\_id)) \{}
\DoxyCodeLine{221           callee\_density = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}{builtin\_density\_map\_}}.at(callee\_id);}
\DoxyCodeLine{222           \textcolor{keywordflow}{if} (callee\_density != 0) \{}
\DoxyCodeLine{223             incoming\_prob = normalized\_count * 100 / callee\_density;}
\DoxyCodeLine{224           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{225             \textcolor{comment}{// Same as caller prob when callee density exists but is 0.}}
\DoxyCodeLine{226             incoming\_prob = normalized\_count ? 100 : 0;}
\DoxyCodeLine{227           \}}
\DoxyCodeLine{228 }
\DoxyCodeLine{229         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{230           \textcolor{comment}{// If callee\_density does not exist, it means the callee was not}}
\DoxyCodeLine{231           \textcolor{comment}{// compiled by TurboFan or execution count is too small (0 after}}
\DoxyCodeLine{232           \textcolor{comment}{// normalization), we couldn't get the callee count, so we set it as}}
\DoxyCodeLine{233           \textcolor{comment}{// -\/1. In that case we could avoid merging this callee builtin into}}
\DoxyCodeLine{234           \textcolor{comment}{// any other cluster.}}
\DoxyCodeLine{235           incoming\_prob = -\/1;}
\DoxyCodeLine{236         \}}
\DoxyCodeLine{237 }
\DoxyCodeLine{238         CallProbability probs = CallProbability(incoming\_prob, outgoing\_prob);}
\DoxyCodeLine{239         \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acdd746865500d832eeda933c97ed9bd0}{call\_graph\_}}.count(caller\_id) == 0) \{}
\DoxyCodeLine{240           \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acdd746865500d832eeda933c97ed9bd0}{call\_graph\_}}.emplace(caller\_id, \mbox{\hyperlink{namespacev8_1_1internal_ad97a996a0a6758308e1d824ed533d25c}{CallProbabilities}}());}
\DoxyCodeLine{241         \}}
\DoxyCodeLine{242         \mbox{\hyperlink{namespacev8_1_1internal_ad97a996a0a6758308e1d824ed533d25c}{CallProbabilities}}\& call\_probs = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acdd746865500d832eeda933c97ed9bd0}{call\_graph\_}}.at(caller\_id);}
\DoxyCodeLine{243         call\_probs.emplace(callee\_id, probs);}
\DoxyCodeLine{244       \}}
\DoxyCodeLine{245     \}}
\DoxyCodeLine{246   \}}
\DoxyCodeLine{247   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(line\_stream.eof());}
\DoxyCodeLine{248 \}}

\end{DoxyCode}


References builtin\+\_\+density\+\_\+map\+\_\+, call\+\_\+graph\+\_\+, CHECK, v8\+::internal\+::compiler\+::end(), v8\+::internal\+::\+Builtins\+Call\+Graph\+::\+Get(), v8\+::internal\+::\+Builtins\+Call\+Graph\+::\+Get\+Builtin\+Callees(), and v8\+::internal\+::string.



Referenced by Initialize\+Call\+Graph().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a381c673d4b613af2736bffbb67a2dfdb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a381c673d4b613af2736bffbb67a2dfdb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a61175b381eb259277010ff9750c412e7}\label{classv8_1_1internal_1_1BuiltinsSorter_a61175b381eb259277010ff9750c412e7}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!ProcessBuiltinDensityLineInfo@{ProcessBuiltinDensityLineInfo}}
\index{ProcessBuiltinDensityLineInfo@{ProcessBuiltinDensityLineInfo}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{ProcessBuiltinDensityLineInfo()}{ProcessBuiltinDensityLineInfo()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Builtins\+Sorter\+::\+Process\+Builtin\+Density\+Line\+Info (\begin{DoxyParamCaption}\item[{std\+::istringstream \&}]{line\+\_\+stream,  }\item[{std\+::unordered\+\_\+map$<$ std\+::string, \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} $>$ \&}]{name2id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 250 of file sort-\/builtins.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{252                                                    \{}
\DoxyCodeLine{253   \textcolor{comment}{// Any line starting with kBuiltinDensityMarker is normalized execution count}}
\DoxyCodeLine{254   \textcolor{comment}{// for block 0 of a builtin, we take it as density of this builtin. The format}}
\DoxyCodeLine{255   \textcolor{comment}{// is:}}
\DoxyCodeLine{256   \textcolor{comment}{//   literal kBuiltinDensityMarker , builtin\_name , density}}
\DoxyCodeLine{257   \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} token;}
\DoxyCodeLine{258   \mbox{\hyperlink{namespacev8_1_1internal_af68b330f02476361ab10f531933b3381}{std::string}} builtin\_name;}
\DoxyCodeLine{259   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(std::getline(line\_stream, builtin\_name, \textcolor{charliteral}{','}));}
\DoxyCodeLine{260   std::getline(line\_stream, token, \textcolor{charliteral}{','});}
\DoxyCodeLine{261   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(line\_stream.eof());}
\DoxyCodeLine{262   \textcolor{keywordtype}{char}* \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{263   errno = 0;}
\DoxyCodeLine{264   \textcolor{keywordtype}{int} density = \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(strtol(token.c\_str(), \&\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}}, 0));}
\DoxyCodeLine{265   \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(errno == 0 \&\& \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51dcb90ae077172b12d63271c7e7ba0c}{end}} != token.c\_str());}
\DoxyCodeLine{266 }
\DoxyCodeLine{267   \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} builtin\_id = name2id[builtin\_name];}
\DoxyCodeLine{268   \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}{builtin\_density\_map\_}}.emplace(builtin\_id, density);}
\DoxyCodeLine{269 \}}

\end{DoxyCode}


References builtin\+\_\+density\+\_\+map\+\_\+, CHECK, v8\+::internal\+::compiler\+::end(), and v8\+::internal\+::string.



Referenced by Initialize\+Call\+Graph().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a61175b381eb259277010ff9750c412e7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a61175b381eb259277010ff9750c412e7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a4f77887458972ef24cad404b6c31e856}\label{classv8_1_1internal_1_1BuiltinsSorter_a4f77887458972ef24cad404b6c31e856}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!SortBuiltins@{SortBuiltins}}
\index{SortBuiltins@{SortBuiltins}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{SortBuiltins()}{SortBuiltins()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} $>$ v8\+::internal\+::\+Builtins\+Sorter\+::\+Sort\+Builtins (\begin{DoxyParamCaption}\item[{const char $\ast$}]{profiling\+\_\+file,  }\item[{const std\+::vector$<$ uint32\+\_\+t $>$ \&}]{builtin\+\_\+size }\end{DoxyParamCaption})}



Definition at line 298 of file sort-\/builtins.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{299                                                                          \{}
\DoxyCodeLine{300   \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a65274ce039186fa52dfc8530a8c1f4bf}{InitializeCallGraph}}(profiling\_file, builtin\_size);}
\DoxyCodeLine{301 }
\DoxyCodeLine{302   \textcolor{comment}{// Step 1: initialization.}}
\DoxyCodeLine{303   \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_ada1856f1be6158999fef435a6da77d04}{InitializeClusters}}();}
\DoxyCodeLine{304 }
\DoxyCodeLine{305   \textcolor{comment}{// Step 2: Merge best predecessors.}}
\DoxyCodeLine{306   \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_af963038a1f0360e8ee8c44ae98793fe3}{MergeBestPredecessors}}();}
\DoxyCodeLine{307 }
\DoxyCodeLine{308   \textcolor{comment}{// Step 3: Sort clusters again.}}
\DoxyCodeLine{309   \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a6cde6473769f213514edc772e3b015a0}{SortClusters}}();}
\DoxyCodeLine{310 }
\DoxyCodeLine{311   std::unordered\_set<Builtin> processed\_builtins;}
\DoxyCodeLine{312   std::vector<Builtin> builtin\_order;}
\DoxyCodeLine{313 }
\DoxyCodeLine{314   \textcolor{comment}{// For functions in the sorted cluster from step 3.}}
\DoxyCodeLine{315   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = 0; \mbox{\hyperlink{namespacev8_1_1internal}{i}} < \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\_}}.size(); \mbox{\hyperlink{namespacev8_1_1internal}{i}}++) \{}
\DoxyCodeLine{316     \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}* cls = \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\_}}.at(\mbox{\hyperlink{namespacev8_1_1internal}{i}});}
\DoxyCodeLine{317     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j = 0; j < cls-\/>targets\_.size(); j++) \{}
\DoxyCodeLine{318       \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} builtin = cls-\/>targets\_[j];}
\DoxyCodeLine{319       \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(}
\DoxyCodeLine{320           \mbox{\hyperlink{namespacev8_1_1internal_a02e033a303b8dc50203190c10afbd282}{AddBuiltinIfNotProcessed}}(builtin, builtin\_order, processed\_builtins));}
\DoxyCodeLine{321     \}}
\DoxyCodeLine{322   \}}
\DoxyCodeLine{323 }
\DoxyCodeLine{324   \textcolor{comment}{// For the remaining builtins.}}
\DoxyCodeLine{325   \textcolor{keywordflow}{for} (\mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{classv8_1_1internal_1_1Builtins_a4286c57109cb355bfc95df30cff0d14b}{Builtins::kFirst}}; \mbox{\hyperlink{namespacev8_1_1internal}{i}} <= \mbox{\hyperlink{classv8_1_1internal_1_1Builtins_abd50adb836b525a19e9fedda7aa18618}{Builtins::kLast}}; ++\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}) \{}
\DoxyCodeLine{326     \mbox{\hyperlink{namespacev8_1_1internal_a02e033a303b8dc50203190c10afbd282}{AddBuiltinIfNotProcessed}}(\mbox{\hyperlink{namespacev8_1_1internal}{i}}, builtin\_order, processed\_builtins);}
\DoxyCodeLine{327   \}}
\DoxyCodeLine{328 }
\DoxyCodeLine{329   \textcolor{keywordflow}{return} builtin\_order;}
\DoxyCodeLine{330 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Add\+Builtin\+If\+Not\+Processed(), CHECK, clusters\+\_\+, v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, Initialize\+Call\+Graph(), Initialize\+Clusters(), v8\+::internal\+::\+Builtins\+::k\+First, v8\+::internal\+::\+Builtins\+::k\+Last, Merge\+Best\+Predecessors(), Sort\+Clusters(), and v8\+::internal\+::\+Cluster\+::targets\+\_\+.



Referenced by v8\+::internal\+::\+Embedded\+Data\+::\+New\+From\+Isolate().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a4f77887458972ef24cad404b6c31e856_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a4f77887458972ef24cad404b6c31e856_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a6cde6473769f213514edc772e3b015a0}\label{classv8_1_1internal_1_1BuiltinsSorter_a6cde6473769f213514edc772e3b015a0}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!SortClusters@{SortClusters}}
\index{SortClusters@{SortClusters}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{SortClusters()}{SortClusters()}}
{\footnotesize\ttfamily void v8\+::internal\+::\+Builtins\+Sorter\+::\+Sort\+Clusters (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 140 of file sort-\/builtins.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{140                                   \{}
\DoxyCodeLine{141   \mbox{\hyperlink{namespacev8_1_1base_ae8575343c68d7ad91cf7aaf24cd6643f}{std::sort}}(\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\_}}.begin(), \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\_}}.end(),}
\DoxyCodeLine{142             [](\textcolor{keyword}{const} \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}* x, \textcolor{keyword}{const} \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}* \mbox{\hyperlink{namespacev8_1_1internal_aeb5be8c54a68c0a55508c931639d71da}{y}}) \{}
\DoxyCodeLine{143               return x-\/>density\_ > y-\/>density\_;}
\DoxyCodeLine{144             \});}
\DoxyCodeLine{145 }
\DoxyCodeLine{146   \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\_}}.erase(}
\DoxyCodeLine{147       std::remove\_if(\mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\_}}.begin(), \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\_}}.end(),}
\DoxyCodeLine{148                      [](\textcolor{keyword}{const} \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}{Cluster}}* x) \{ return x-\/>targets\_.empty(); \}),}
\DoxyCodeLine{149       \mbox{\hyperlink{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}{clusters\_}}.end());}
\DoxyCodeLine{150 \}}

\end{DoxyCode}


References clusters\+\_\+, v8\+::base\+::sort(), and v8\+::internal\+::y.



Referenced by Sort\+Builtins().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a6cde6473769f213514edc772e3b015a0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1BuiltinsSorter_a6cde6473769f213514edc772e3b015a0_icgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}\label{classv8_1_1internal_1_1BuiltinsSorter_a037e8c5141681b4bc50ecf53f86a58e6}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!Cluster@{Cluster}}
\index{Cluster@{Cluster}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{Cluster}{Cluster}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1Cluster}{Cluster}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 122 of file sort-\/builtins.\+h.



Referenced by Initialize\+Clusters().



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a07e8ba5b534fe513c5379b35c0b23da1}\label{classv8_1_1internal_1_1BuiltinsSorter_a07e8ba5b534fe513c5379b35c0b23da1}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!builtin\_cluster\_map\_@{builtin\_cluster\_map\_}}
\index{builtin\_cluster\_map\_@{builtin\_cluster\_map\_}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{builtin\_cluster\_map\_}{builtin\_cluster\_map\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a8739b3c806ae53f6533d9e39414201c8}{Builtin\+Cluster\+Map}} v8\+::internal\+::\+Builtins\+Sorter\+::builtin\+\_\+cluster\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 120 of file sort-\/builtins.\+h.



Referenced by v8\+::internal\+::\+Cluster\+::\+Cluster(), Find\+Best\+Predecessor\+Of(), v8\+::internal\+::\+Cluster\+::\+Merge(), and Merge\+Best\+Predecessors().

\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}\label{classv8_1_1internal_1_1BuiltinsSorter_acf5ec2204a63ac556b1a212381b6f24e}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!builtin\_density\_map\_@{builtin\_density\_map\_}}
\index{builtin\_density\_map\_@{builtin\_density\_map\_}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{builtin\_density\_map\_}{builtin\_density\_map\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_af44ccbddcf8c5cafc6f25f3836576ed8}{Builtin\+Density\+Map}} v8\+::internal\+::\+Builtins\+Sorter\+::builtin\+\_\+density\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 116 of file sort-\/builtins.\+h.



Referenced by Initialize\+Clusters(), Process\+Block\+Count\+Line\+Info(), and Process\+Builtin\+Density\+Line\+Info().

\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a07010ac85db4e3589f7aee1f76f00ebe}\label{classv8_1_1internal_1_1BuiltinsSorter_a07010ac85db4e3589f7aee1f76f00ebe}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!builtin\_density\_order\_@{builtin\_density\_order\_}}
\index{builtin\_density\_order\_@{builtin\_density\_order\_}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{builtin\_density\_order\_}{builtin\_density\_order\_}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{structv8_1_1internal_1_1BuiltinsSorter_1_1BuiltinDensitySlot}{Builtin\+Density\+Slot}}$>$ v8\+::internal\+::\+Builtins\+Sorter\+::builtin\+\_\+density\+\_\+order\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 112 of file sort-\/builtins.\+h.



Referenced by Initialize\+Clusters(), and Merge\+Best\+Predecessors().

\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a8e423d350c318501172dbcf8eb59d834}\label{classv8_1_1internal_1_1BuiltinsSorter_a8e423d350c318501172dbcf8eb59d834}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!builtin\_size\_@{builtin\_size\_}}
\index{builtin\_size\_@{builtin\_size\_}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{builtin\_size\_}{builtin\_size\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a728174cf566c8bb67c1ee7720b71a825}{Builtin\+Size}} v8\+::internal\+::\+Builtins\+Sorter\+::builtin\+\_\+size\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 118 of file sort-\/builtins.\+h.



Referenced by Initialize\+Call\+Graph(), and Initialize\+Clusters().

\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_acdd746865500d832eeda933c97ed9bd0}\label{classv8_1_1internal_1_1BuiltinsSorter_acdd746865500d832eeda933c97ed9bd0}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!call\_graph\_@{call\_graph\_}}
\index{call\_graph\_@{call\_graph\_}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{call\_graph\_}{call\_graph\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a39b589d9fdb30a6c7c3676cbc75af0cd}{Call\+Graph}} v8\+::internal\+::\+Builtins\+Sorter\+::call\+\_\+graph\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 114 of file sort-\/builtins.\+h.



Referenced by Find\+Best\+Predecessor\+Of(), and Process\+Block\+Count\+Line\+Info().

\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}\label{classv8_1_1internal_1_1BuiltinsSorter_a604ea7a0d6e53a57cf12a90dd708e139}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!clusters\_@{clusters\_}}
\index{clusters\_@{clusters\_}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{clusters\_}{clusters\_}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{classv8_1_1internal_1_1Cluster}{Cluster}}$\ast$$>$ v8\+::internal\+::\+Builtins\+Sorter\+::clusters\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 110 of file sort-\/builtins.\+h.



Referenced by Initialize\+Clusters(), Sort\+Builtins(), Sort\+Clusters(), and $\sim$\+Builtins\+Sorter().

\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a64b45405649694b4ad9728ba3191b2ab}\label{classv8_1_1internal_1_1BuiltinsSorter_a64b45405649694b4ad9728ba3191b2ab}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!kBuiltinCallBlockDensityMarker@{kBuiltinCallBlockDensityMarker}}
\index{kBuiltinCallBlockDensityMarker@{kBuiltinCallBlockDensityMarker}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{kBuiltinCallBlockDensityMarker}{kBuiltinCallBlockDensityMarker}}
{\footnotesize\ttfamily const std\+::string v8\+::internal\+::\+Builtins\+Sorter\+::k\+Builtin\+Call\+Block\+Density\+Marker = \char`\"{}block\+\_\+count\char`\"{}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 78 of file sort-\/builtins.\+h.



Referenced by Initialize\+Call\+Graph().

\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_aa455a4d96bdb4a7fb7f499551b16b56d}\label{classv8_1_1internal_1_1BuiltinsSorter_aa455a4d96bdb4a7fb7f499551b16b56d}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!kBuiltinDensityMarker@{kBuiltinDensityMarker}}
\index{kBuiltinDensityMarker@{kBuiltinDensityMarker}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{kBuiltinDensityMarker}{kBuiltinDensityMarker}}
{\footnotesize\ttfamily const std\+::string v8\+::internal\+::\+Builtins\+Sorter\+::k\+Builtin\+Density\+Marker = \char`\"{}builtin\+\_\+count\char`\"{}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 79 of file sort-\/builtins.\+h.



Referenced by Initialize\+Call\+Graph().

\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a2f2fd4047c85cb6e84f8403374f543af}\label{classv8_1_1internal_1_1BuiltinsSorter_a2f2fd4047c85cb6e84f8403374f543af}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!kMaxClusterSize@{kMaxClusterSize}}
\index{kMaxClusterSize@{kMaxClusterSize}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{kMaxClusterSize}{kMaxClusterSize}}
{\footnotesize\ttfamily const uint32\+\_\+t v8\+::internal\+::\+Builtins\+Sorter\+::k\+Max\+Cluster\+Size = 1 $\ast$ \mbox{\hyperlink{namespacev8_1_1internal_af46551c5713d2a3a1be4dca973e521e0}{MB}}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 75 of file sort-\/builtins.\+h.



Referenced by Find\+Best\+Predecessor\+Of().

\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_af2042ed2114f9608d4cc2eb061cd1056}\label{classv8_1_1internal_1_1BuiltinsSorter_af2042ed2114f9608d4cc2eb061cd1056}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!kMaxDensityDecreaseThreshold@{kMaxDensityDecreaseThreshold}}
\index{kMaxDensityDecreaseThreshold@{kMaxDensityDecreaseThreshold}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{kMaxDensityDecreaseThreshold}{kMaxDensityDecreaseThreshold}}
{\footnotesize\ttfamily const uint32\+\_\+t v8\+::internal\+::\+Builtins\+Sorter\+::k\+Max\+Density\+Decrease\+Threshold = 8\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 76 of file sort-\/builtins.\+h.



Referenced by Find\+Best\+Predecessor\+Of().

\mbox{\Hypertarget{classv8_1_1internal_1_1BuiltinsSorter_a8fc21805ef16abead0d191f9ca6ca3ca}\label{classv8_1_1internal_1_1BuiltinsSorter_a8fc21805ef16abead0d191f9ca6ca3ca}} 
\index{v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}!kMinEdgeProbabilityThreshold@{kMinEdgeProbabilityThreshold}}
\index{kMinEdgeProbabilityThreshold@{kMinEdgeProbabilityThreshold}!v8::internal::BuiltinsSorter@{v8::internal::BuiltinsSorter}}
\doxysubsubsection{\texorpdfstring{kMinEdgeProbabilityThreshold}{kMinEdgeProbabilityThreshold}}
{\footnotesize\ttfamily const int32\+\_\+t v8\+::internal\+::\+Builtins\+Sorter\+::k\+Min\+Edge\+Probability\+Threshold = 10\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 74 of file sort-\/builtins.\+h.



Referenced by Find\+Best\+Predecessor\+Of().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/snapshot/\mbox{\hyperlink{sort-builtins_8h}{sort-\/builtins.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/snapshot/\mbox{\hyperlink{sort-builtins_8cc}{sort-\/builtins.\+cc}}\end{DoxyCompactItemize}
