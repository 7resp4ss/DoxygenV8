\hypertarget{namespacev8_1_1internal_1_1trap__handler}{}\doxysection{v8\+::internal\+::trap\+\_\+handler Namespace Reference}
\label{namespacev8_1_1internal_1_1trap__handler}\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsection*{Namespaces}
\begin{DoxyCompactItemize}
\item 
 \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_1_1anonymous__namespace_02handler-outside_8cc_03}{anonymous\+\_\+namespace\{handler-\/outside.\+cc\}}}
\end{DoxyCompactItemize}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfo}{Code\+Protection\+Info}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1trap__handler_1_1MetadataLock}{Metadata\+Lock}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfoListEntry}{Code\+Protection\+Info\+List\+Entry}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1SandboxRecord}{Sandbox\+Record}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1trap__handler_1_1SandboxRecordsLock}{Sandbox\+Records\+Lock}}
\item 
struct \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData}{Protected\+Instruction\+Data}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a6f5ed36e561f85858fe35ed2ce7944bf}{Handle\+Signal}} (\mbox{\hyperlink{classint}{int}} signum, siginfo\+\_\+t $\ast$info, void $\ast$context)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a40401489351bca0e5fac488de9f226ff}{Try\+Handle\+Signal}} (\mbox{\hyperlink{classint}{int}} signum, siginfo\+\_\+t $\ast$info, void $\ast$context)
\item 
\mbox{\hyperlink{win32-headers_8h_a2a3e0cda5f1249bef6db47c5eb8e3813}{LONG}} \mbox{\hyperlink{win32-headers_8h_a9aa60e1ead64be77ad551e745cbfd4d3}{WINAPI}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_ab1911df9b555f74581ece5ca89428bee}{Handle\+Wasm\+Trap}} (EXCEPTION\+\_\+\+POINTERS $\ast$exception)
\item 
\mbox{\hyperlink{trap-handler_8h_a962e9b262665d5e6f98c1f3e3ba9a3e3}{TH\+\_\+\+DISABLE\+\_\+\+ASAN}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a635953f0eb6a5c6faf0f7064ed9b1d7a}{Try\+Handle\+Wasm\+Trap}} (EXCEPTION\+\_\+\+POINTERS $\ast$exception)
\item 
constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a0a6337dbeb55a82b51fbe1403dc20cef}{Handler\+Data\+Size}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} num\+\_\+protected\+\_\+instructions)
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfo}{Code\+Protection\+Info}} $\ast$ \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_ad322894d230ba7663db4761bc9119d10}{Create\+Handler\+Data}} (\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} base, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} num\+\_\+protected\+\_\+instructions, const \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData}{Protected\+Instruction\+Data}} $\ast$protected\+\_\+instructions)
\item 
\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_aaf9f89c4e04dbc3dd11d0994f585144e}{Register\+Handler\+Data}} (\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} base, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} num\+\_\+protected\+\_\+instructions, const \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData}{Protected\+Instruction\+Data}} $\ast$protected\+\_\+instructions)
\begin{DoxyCompactList}\small\item\em Adds the handler data to the place where the trap handler will find it. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a6212dc14540b8761e5f9d7d46ac445ec}{Release\+Handler\+Data}} (\mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}})
\begin{DoxyCompactList}\small\item\em Removes the data from the master list and frees any memory, if necessary. \end{DoxyCompactList}\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af65464ae9dc36fabc95daf3d09669ed3}{Register\+V8\+Sandbox}} (\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} base, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\begin{DoxyCompactList}\small\item\em \mbox{\hyperlink{classv8_1_1internal_1_1Registers}{Registers}} the base and size of the \mbox{\hyperlink{classv8_1_1internal_1_1V8}{V8}} sandbox region into list of sandboxes records. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af01d0a8a445be8e9efff75451b6b532e}{Unregister\+V8\+Sandbox}} (\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} base, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\begin{DoxyCompactList}\small\item\em Unregisters the base and size of the \mbox{\hyperlink{classv8_1_1internal_1_1V8}{V8}} sandbox region decribed by base and size. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classint}{int}} $\ast$ \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a25e0a0287f643c933c78c9033d35f2ce}{Get\+Thread\+In\+Wasm\+Thread\+Local\+Address}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a98cd0fc4cdffda09bb3533d80b9962e2}{Get\+Recovered\+Trap\+Count}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a39d0a884f19cf02335b5240289e1243e}{Register\+Default\+Trap\+Handler}} ()
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a8b6dacc7d22dd0cb7374505adb91d6fe}{Remove\+Trap\+Handler}} ()
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_acafc6b20f806e2f92f00a98522392438}{Enable\+Trap\+Handler}} (\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} use\+\_\+v8\+\_\+handler)
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a87d58bbc586c64ce44924a362dbac348}{Set\+Landing\+Pad}} (\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} landing\+\_\+pad)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a38fbac0abce6c50e009f18954fb64641}{Is\+Fault\+Address\+Covered}} (\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} fault\+\_\+addr)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af79cfde66c72a14cd69c114ab0d3d500}{Is\+Accessed\+Memory\+Covered}} (\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} accessed\+\_\+addr)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a47f4fc1ba5bf67b48a471d0527c99291}{Is\+Trap\+Handler\+Enabled}} ()
\item 
\mbox{\hyperlink{trap-handler_8h_a962e9b262665d5e6f98c1f3e3ba9a3e3}{TH\+\_\+\+DISABLE\+\_\+\+ASAN}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_adbb427a304f105d0c47308791458438a}{Is\+Thread\+In\+Wasm}} ()
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a8484fb95ebefa2c70caf3ee69efc1bc6}{Set\+Thread\+In\+Wasm}} ()
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_afb718a1f588f90344d3fcda0c2b37eec}{Clear\+Thread\+In\+Wasm}} ()
\item 
void \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a416bdc70df9a97b7d6c2a91132637c65}{Assert\+Thread\+Not\+In\+Wasm}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a0f28fbca72ee036e4282dee0d7aacc25}{k\+Initial\+Code\+Object\+Size}} = 1024
\item 
constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_ac3d65b3222b0279c8fa31d8b039b7e98}{k\+Code\+Object\+Growth\+Factor}} = 2
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a589b6d42b6e6074e3214e0a671f8a335}{g\+\_\+is\+\_\+trap\+\_\+handler\+\_\+enabled}} \{\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a1f97f8b9c722981994b780f283b520e9}{g\+\_\+can\+\_\+enable\+\_\+trap\+\_\+handler}} \{\mbox{\hyperlink{namespacev8_1_1internal_a7f5302a7c7fd292ffd4a5f9758bd3686}{true}}\}
\item 
thread\+\_\+local \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a7ef0c7e2495e25016945cd68d44966e9}{g\+\_\+thread\+\_\+in\+\_\+wasm\+\_\+code}}
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}{g\+Num\+Code\+Objects}} = 0
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfoListEntry}{Code\+Protection\+Info\+List\+Entry}} $\ast$ \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{g\+Code\+Objects}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\item 
\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1SandboxRecord}{Sandbox\+Record}} $\ast$ \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a2121f8d9d616b86571fef5ceec1c76ed}{g\+Sandbox\+Records\+Head}} = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}
\item 
std\+::atomic\+\_\+size\+\_\+t \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af435a4f8dd67c1c119e3fb2a9e412104}{g\+Recovered\+Trap\+Count}} = \{0\}
\item 
std\+::atomic$<$ \mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} $>$ \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_ac4f241d3ed3e5f547a79dec59c2377d4}{g\+Landing\+Pad}} = \{0\}
\item 
const \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3a4e1080db1d2e35955b53106d9b1f62}{k\+Invalid\+Index}} = -\/1
\end{DoxyCompactItemize}


\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a416bdc70df9a97b7d6c2a91132637c65}\label{namespacev8_1_1internal_1_1trap__handler_a416bdc70df9a97b7d6c2a91132637c65}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!AssertThreadNotInWasm@{AssertThreadNotInWasm}}
\index{AssertThreadNotInWasm@{AssertThreadNotInWasm}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{AssertThreadNotInWasm()}{AssertThreadNotInWasm()}}
{\footnotesize\ttfamily void v8\+::internal\+::trap\+\_\+handler\+::\+Assert\+Thread\+Not\+In\+Wasm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 220 of file trap-\/handler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{220                                     \{}
\DoxyCodeLine{221   \mbox{\hyperlink{trap-handler_8h_a650c158f7adddb0ec80a74d4706eef5c}{TH\_DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a589b6d42b6e6074e3214e0a671f8a335}{g\_is\_trap\_handler\_enabled}} || !\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a7ef0c7e2495e25016945cd68d44966e9}{g\_thread\_in\_wasm\_code}});}
\DoxyCodeLine{222 \}}

\end{DoxyCode}


References g\+\_\+is\+\_\+trap\+\_\+handler\+\_\+enabled, g\+\_\+thread\+\_\+in\+\_\+wasm\+\_\+code, and TH\+\_\+\+DCHECK.



Referenced by v8\+::internal\+::\+Heap\+Allocator\+::\+Allocate\+Raw(), v8\+::internal\+::\+Isolate\+::\+Throw(), and v8\+::internal\+::anonymous\+\_\+namespace\{runtime-\/wasm.\+cc\}\+::\+Clear\+Thread\+In\+Wasm\+Scope\+::$\sim$\+Clear\+Thread\+In\+Wasm\+Scope().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{namespacev8_1_1internal_1_1trap__handler_a416bdc70df9a97b7d6c2a91132637c65_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_afb718a1f588f90344d3fcda0c2b37eec}\label{namespacev8_1_1internal_1_1trap__handler_afb718a1f588f90344d3fcda0c2b37eec}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!ClearThreadInWasm@{ClearThreadInWasm}}
\index{ClearThreadInWasm@{ClearThreadInWasm}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{ClearThreadInWasm()}{ClearThreadInWasm()}}
{\footnotesize\ttfamily void v8\+::internal\+::trap\+\_\+handler\+::\+Clear\+Thread\+In\+Wasm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 199 of file trap-\/handler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{199                                 \{}
\DoxyCodeLine{200   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a47f4fc1ba5bf67b48a471d0527c99291}{IsTrapHandlerEnabled}}()) \{}
\DoxyCodeLine{201     \mbox{\hyperlink{trap-handler_8h_a650c158f7adddb0ec80a74d4706eef5c}{TH\_DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_adbb427a304f105d0c47308791458438a}{IsThreadInWasm}}());}
\DoxyCodeLine{202     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a7ef0c7e2495e25016945cd68d44966e9}{g\_thread\_in\_wasm\_code}} = \textcolor{keyword}{false};}
\DoxyCodeLine{203   \}}
\DoxyCodeLine{204 \}}

\end{DoxyCode}


References g\+\_\+thread\+\_\+in\+\_\+wasm\+\_\+code, Is\+Thread\+In\+Wasm(), Is\+Trap\+Handler\+Enabled(), and TH\+\_\+\+DCHECK.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Call\+Wasm\+To\+JSBuiltin(), v8\+::internal\+::anonymous\+\_\+namespace\{runtime-\/wasm.\+cc\}\+::\+Clear\+Thread\+In\+Wasm\+Scope\+::\+Clear\+Thread\+In\+Wasm\+Scope(), v8\+::internal\+::wasm\+::\+Clear\+Thread\+In\+Wasm\+Scope\+::\+Clear\+Thread\+In\+Wasm\+Scope(), v8\+::internal\+::\+Deoptimizer\+::\+Do\+Compute\+Output\+Frames(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+JSTo\+Wasm\+Object(), v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION(), and v8\+::internal\+::\+Isolate\+::\+Unwind\+And\+Find\+Handler().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_afb718a1f588f90344d3fcda0c2b37eec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_afb718a1f588f90344d3fcda0c2b37eec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_ad322894d230ba7663db4761bc9119d10}\label{namespacev8_1_1internal_1_1trap__handler_ad322894d230ba7663db4761bc9119d10}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!CreateHandlerData@{CreateHandlerData}}
\index{CreateHandlerData@{CreateHandlerData}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{CreateHandlerData()}{CreateHandlerData()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfo}{Code\+Protection\+Info}}$\ast$ v8\+::internal\+::trap\+\_\+handler\+::\+Create\+Handler\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}}}]{base,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{num\+\_\+protected\+\_\+instructions,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData}{Protected\+Instruction\+Data}} $\ast$}]{protected\+\_\+instructions }\end{DoxyParamCaption})}



Definition at line 109 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{111                                                             \{}
\DoxyCodeLine{112   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} alloc\_size = \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a0a6337dbeb55a82b51fbe1403dc20cef}{HandlerDataSize}}(num\_protected\_instructions);}
\DoxyCodeLine{113   CodeProtectionInfo* data =}
\DoxyCodeLine{114       \textcolor{keyword}{reinterpret\_cast<}CodeProtectionInfo*\textcolor{keyword}{>}(malloc(alloc\_size));}
\DoxyCodeLine{115 }
\DoxyCodeLine{116   \textcolor{keywordflow}{if} (data == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{117     \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{118   \}}
\DoxyCodeLine{119 }
\DoxyCodeLine{120   data-\/>base = base;}
\DoxyCodeLine{121   data-\/>size = \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{122   data-\/>num\_protected\_instructions = num\_protected\_instructions;}
\DoxyCodeLine{123 }
\DoxyCodeLine{124   \textcolor{keywordflow}{if} (num\_protected\_instructions > 0) \{}
\DoxyCodeLine{125     memcpy(data-\/>instructions, protected\_instructions,}
\DoxyCodeLine{126            num\_protected\_instructions * \textcolor{keyword}{sizeof}(ProtectedInstructionData));}
\DoxyCodeLine{127   \}}
\DoxyCodeLine{128 }
\DoxyCodeLine{129   \textcolor{keywordflow}{return} data;}
\DoxyCodeLine{130 \}}

\end{DoxyCode}


References v8\+::internal\+::trap\+\_\+handler\+::\+Code\+Protection\+Info\+::base, Handler\+Data\+Size(), v8\+::internal\+::trap\+\_\+handler\+::\+Code\+Protection\+Info\+::instructions, v8\+::internal\+::trap\+\_\+handler\+::\+Code\+Protection\+Info\+::num\+\_\+protected\+\_\+instructions, size(), and v8\+::internal\+::trap\+\_\+handler\+::\+Code\+Protection\+Info\+::size.



Referenced by Register\+Handler\+Data().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_ad322894d230ba7663db4761bc9119d10_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_ad322894d230ba7663db4761bc9119d10_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_acafc6b20f806e2f92f00a98522392438}\label{namespacev8_1_1internal_1_1trap__handler_acafc6b20f806e2f92f00a98522392438}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!EnableTrapHandler@{EnableTrapHandler}}
\index{EnableTrapHandler@{EnableTrapHandler}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{EnableTrapHandler()}{EnableTrapHandler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::trap\+\_\+handler\+::\+Enable\+Trap\+Handler (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}}}]{use\+\_\+v8\+\_\+handler }\end{DoxyParamCaption})}



Definition at line 299 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{299                                             \{}
\DoxyCodeLine{300   \textcolor{comment}{// We should only enable the trap handler once, and before any call to}}
\DoxyCodeLine{301   \textcolor{comment}{// \{IsTrapHandlerEnabled\}. Enabling the trap handler late can lead to problems}}
\DoxyCodeLine{302   \textcolor{comment}{// because code or objects might have been generated under the assumption that}}
\DoxyCodeLine{303   \textcolor{comment}{// trap handlers are disabled.}}
\DoxyCodeLine{304   \textcolor{keywordtype}{bool} can\_enable =}
\DoxyCodeLine{305       \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a1f97f8b9c722981994b780f283b520e9}{g\_can\_enable\_trap\_handler}}.exchange(\textcolor{keyword}{false}, std::memory\_order\_relaxed);}
\DoxyCodeLine{306   \textcolor{comment}{// EnableTrapHandler called twice, or after IsTrapHandlerEnabled.}}
\DoxyCodeLine{307   \mbox{\hyperlink{trap-handler_8h_ab7ae6e6157df29f3d5d5065291ec0a9d}{TH\_CHECK}}(can\_enable);}
\DoxyCodeLine{308   \textcolor{keywordflow}{if} (!\mbox{\hyperlink{trap-handler_8h_a110a8293a9894b82b057ff7a6cec01f6}{V8\_TRAP\_HANDLER\_SUPPORTED}}) \{}
\DoxyCodeLine{309     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{310   \}}
\DoxyCodeLine{311   \textcolor{keywordflow}{if} (use\_v8\_handler) \{}
\DoxyCodeLine{312     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a589b6d42b6e6074e3214e0a671f8a335}{g\_is\_trap\_handler\_enabled}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a39d0a884f19cf02335b5240289e1243e}{RegisterDefaultTrapHandler}}();}
\DoxyCodeLine{313     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a589b6d42b6e6074e3214e0a671f8a335}{g\_is\_trap\_handler\_enabled}};}
\DoxyCodeLine{314   \}}
\DoxyCodeLine{315   \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a589b6d42b6e6074e3214e0a671f8a335}{g\_is\_trap\_handler\_enabled}} = \textcolor{keyword}{true};}
\DoxyCodeLine{316   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{317 \}}

\end{DoxyCode}


References g\+\_\+can\+\_\+enable\+\_\+trap\+\_\+handler, g\+\_\+is\+\_\+trap\+\_\+handler\+\_\+enabled, Register\+Default\+Trap\+Handler(), TH\+\_\+\+CHECK, and V8\+\_\+\+TRAP\+\_\+\+HANDLER\+\_\+\+SUPPORTED.



Referenced by v8\+::\+V8\+::\+Enable\+Web\+Assembly\+Trap\+Handler().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_acafc6b20f806e2f92f00a98522392438_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_acafc6b20f806e2f92f00a98522392438_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a98cd0fc4cdffda09bb3533d80b9962e2}\label{namespacev8_1_1internal_1_1trap__handler_a98cd0fc4cdffda09bb3533d80b9962e2}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!GetRecoveredTrapCount@{GetRecoveredTrapCount}}
\index{GetRecoveredTrapCount@{GetRecoveredTrapCount}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{GetRecoveredTrapCount()}{GetRecoveredTrapCount()}}
{\footnotesize\ttfamily \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::trap\+\_\+handler\+::\+Get\+Recovered\+Trap\+Count (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 283 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{283                                \{}
\DoxyCodeLine{284   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af435a4f8dd67c1c119e3fb2a9e412104}{gRecoveredTrapCount}}.load(std::memory\_order\_relaxed);}
\DoxyCodeLine{285 \}}

\end{DoxyCode}


References g\+Recovered\+Trap\+Count.



Referenced by v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_a98cd0fc4cdffda09bb3533d80b9962e2_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a25e0a0287f643c933c78c9033d35f2ce}\label{namespacev8_1_1internal_1_1trap__handler_a25e0a0287f643c933c78c9033d35f2ce}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!GetThreadInWasmThreadLocalAddress@{GetThreadInWasmThreadLocalAddress}}
\index{GetThreadInWasmThreadLocalAddress@{GetThreadInWasmThreadLocalAddress}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{GetThreadInWasmThreadLocalAddress()}{GetThreadInWasmThreadLocalAddress()}}
{\footnotesize\ttfamily \mbox{\hyperlink{v8config_8h_aae8e4cfdd8ebf80e774cb42d8b4980e6}{V8\+\_\+\+NOINLINE}} \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{classint}{int}} $\ast$ v8\+::internal\+::trap\+\_\+handler\+::\+Get\+Thread\+In\+Wasm\+Thread\+Local\+Address (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 281 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{281 \{ \textcolor{keywordflow}{return} \&\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a7ef0c7e2495e25016945cd68d44966e9}{g\_thread\_in\_wasm\_code}}; \}}

\end{DoxyCode}


References g\+\_\+thread\+\_\+in\+\_\+wasm\+\_\+code.



Referenced by v8\+::internal\+::\+Thread\+Local\+Top\+::\+Initialize().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_a25e0a0287f643c933c78c9033d35f2ce_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a0a6337dbeb55a82b51fbe1403dc20cef}\label{namespacev8_1_1internal_1_1trap__handler_a0a6337dbeb55a82b51fbe1403dc20cef}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!HandlerDataSize@{HandlerDataSize}}
\index{HandlerDataSize@{HandlerDataSize}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{HandlerDataSize()}{HandlerDataSize()}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::trap\+\_\+handler\+::\+Handler\+Data\+Size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{num\+\_\+protected\+\_\+instructions }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 49 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{49                                                                     \{}
\DoxyCodeLine{50   \textcolor{keywordflow}{return} offsetof(CodeProtectionInfo, instructions) +}
\DoxyCodeLine{51          num\_protected\_instructions * \textcolor{keyword}{sizeof}(ProtectedInstructionData);}
\DoxyCodeLine{52 \}}

\end{DoxyCode}


Referenced by Create\+Handler\+Data().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_a0a6337dbeb55a82b51fbe1403dc20cef_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a6f5ed36e561f85858fe35ed2ce7944bf}\label{namespacev8_1_1internal_1_1trap__handler_a6f5ed36e561f85858fe35ed2ce7944bf}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!HandleSignal@{HandleSignal}}
\index{HandleSignal@{HandleSignal}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{HandleSignal()}{HandleSignal()}}
{\footnotesize\ttfamily void v8\+::internal\+::trap\+\_\+handler\+::\+Handle\+Signal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{signum,  }\item[{siginfo\+\_\+t $\ast$}]{info,  }\item[{void $\ast$}]{context }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_ab1911df9b555f74581ece5ca89428bee}\label{namespacev8_1_1internal_1_1trap__handler_ab1911df9b555f74581ece5ca89428bee}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!HandleWasmTrap@{HandleWasmTrap}}
\index{HandleWasmTrap@{HandleWasmTrap}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{HandleWasmTrap()}{HandleWasmTrap()}}
{\footnotesize\ttfamily \mbox{\hyperlink{win32-headers_8h_a2a3e0cda5f1249bef6db47c5eb8e3813}{LONG}} \mbox{\hyperlink{win32-headers_8h_a9aa60e1ead64be77ad551e745cbfd4d3}{WINAPI}} v8\+::internal\+::trap\+\_\+handler\+::\+Handle\+Wasm\+Trap (\begin{DoxyParamCaption}\item[{EXCEPTION\+\_\+\+POINTERS $\ast$}]{exception }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_af79cfde66c72a14cd69c114ab0d3d500}\label{namespacev8_1_1internal_1_1trap__handler_af79cfde66c72a14cd69c114ab0d3d500}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!IsAccessedMemoryCovered@{IsAccessedMemoryCovered}}
\index{IsAccessedMemoryCovered@{IsAccessedMemoryCovered}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{IsAccessedMemoryCovered()}{IsAccessedMemoryCovered()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::trap\+\_\+handler\+::\+Is\+Accessed\+Memory\+Covered (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}}}]{accessed\+\_\+addr }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a38fbac0abce6c50e009f18954fb64641}\label{namespacev8_1_1internal_1_1trap__handler_a38fbac0abce6c50e009f18954fb64641}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!IsFaultAddressCovered@{IsFaultAddressCovered}}
\index{IsFaultAddressCovered@{IsFaultAddressCovered}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{IsFaultAddressCovered()}{IsFaultAddressCovered()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::trap\+\_\+handler\+::\+Is\+Fault\+Address\+Covered (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}}}]{fault\+\_\+addr }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_adbb427a304f105d0c47308791458438a}\label{namespacev8_1_1internal_1_1trap__handler_adbb427a304f105d0c47308791458438a}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!IsThreadInWasm@{IsThreadInWasm}}
\index{IsThreadInWasm@{IsThreadInWasm}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{IsThreadInWasm()}{IsThreadInWasm()}}
{\footnotesize\ttfamily \mbox{\hyperlink{trap-handler_8h_a962e9b262665d5e6f98c1f3e3ba9a3e3}{TH\+\_\+\+DISABLE\+\_\+\+ASAN}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::trap\+\_\+handler\+::\+Is\+Thread\+In\+Wasm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 190 of file trap-\/handler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{190 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a7ef0c7e2495e25016945cd68d44966e9}{g\_thread\_in\_wasm\_code}}; \}}

\end{DoxyCode}


References g\+\_\+thread\+\_\+in\+\_\+wasm\+\_\+code.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Call\+Wasm\+To\+JSBuiltin(), Clear\+Thread\+In\+Wasm(), v8\+::internal\+::wasm\+::\+Clear\+Thread\+In\+Wasm\+Scope\+::\+Clear\+Thread\+In\+Wasm\+Scope(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Execute\+Call\+Ref(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Execute\+Function(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Execute\+Imported\+Function(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Execute\+Indirect\+Call(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+JSTo\+Wasm\+Object(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Thread\+::\+Run(), v8\+::internal\+::wasm\+::\+Interpreter\+Handle\+::\+Run\+Execution\+Loop(), v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION(), Set\+Thread\+In\+Wasm(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Throw\+Exception(), v8\+::internal\+::\+Isolate\+::\+Unwind\+And\+Find\+Handler(), and v8\+::internal\+::wasm\+::\+Clear\+Thread\+In\+Wasm\+Scope\+::$\sim$\+Clear\+Thread\+In\+Wasm\+Scope().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_adbb427a304f105d0c47308791458438a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a47f4fc1ba5bf67b48a471d0527c99291}\label{namespacev8_1_1internal_1_1trap__handler_a47f4fc1ba5bf67b48a471d0527c99291}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!IsTrapHandlerEnabled@{IsTrapHandlerEnabled}}
\index{IsTrapHandlerEnabled@{IsTrapHandlerEnabled}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{IsTrapHandlerEnabled()}{IsTrapHandlerEnabled()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::trap\+\_\+handler\+::\+Is\+Trap\+Handler\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 162 of file trap-\/handler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{162                                    \{}
\DoxyCodeLine{163   \mbox{\hyperlink{trap-handler_8h_a650c158f7adddb0ec80a74d4706eef5c}{TH\_DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a589b6d42b6e6074e3214e0a671f8a335}{g\_is\_trap\_handler\_enabled}} || \mbox{\hyperlink{trap-handler_8h_a110a8293a9894b82b057ff7a6cec01f6}{V8\_TRAP\_HANDLER\_SUPPORTED}});}
\DoxyCodeLine{164   \textcolor{comment}{// Disallow enabling the trap handler after retrieving the current value.}}
\DoxyCodeLine{165   \textcolor{comment}{// Re-\/enabling them late can produce issues because code or objects might have}}
\DoxyCodeLine{166   \textcolor{comment}{// been generated under the assumption that trap handlers are disabled.}}
\DoxyCodeLine{167   \textcolor{comment}{// Note: We test before setting to avoid contention by an unconditional write.}}
\DoxyCodeLine{168   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a1f97f8b9c722981994b780f283b520e9}{g\_can\_enable\_trap\_handler}}.load(std::memory\_order\_relaxed)) \{}
\DoxyCodeLine{169     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a1f97f8b9c722981994b780f283b520e9}{g\_can\_enable\_trap\_handler}}.store(\textcolor{keyword}{false}, std::memory\_order\_relaxed);}
\DoxyCodeLine{170   \}}
\DoxyCodeLine{171   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a589b6d42b6e6074e3214e0a671f8a335}{g\_is\_trap\_handler\_enabled}};}
\DoxyCodeLine{172 \}}

\end{DoxyCode}


References g\+\_\+can\+\_\+enable\+\_\+trap\+\_\+handler, g\+\_\+is\+\_\+trap\+\_\+handler\+\_\+enabled, TH\+\_\+\+DCHECK, and V8\+\_\+\+TRAP\+\_\+\+HANDLER\+\_\+\+SUPPORTED.



Referenced by v8\+::internal\+::compiler\+::\+Wasm\+Graph\+Builder\+::\+Build\+Modify\+Thread\+In\+Wasm\+Flag(), v8\+::internal\+::wasm\+::\+Wasm\+Graph\+Builder\+Base\+::\+Build\+Modify\+Thread\+In\+Wasm\+Flag(), Clear\+Thread\+In\+Wasm(), v8\+::internal\+::wasm\+::\+Clear\+Thread\+In\+Wasm\+Scope\+::\+Clear\+Thread\+In\+Wasm\+Scope(), v8\+::internal\+::wasm\+::\+Turboshaft\+Graph\+Building\+Interface\+::\+Get\+Rtt\+From\+Descriptor(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{wasm-\/compiler.\+cc\}\+::\+Wasm\+Wrapper\+Graph\+Builder\+::\+Modify\+Thread\+In\+Wasm\+Flag\+Scope\+::\+Modify\+Thread\+In\+Wasm\+Flag\+Scope(), v8\+::internal\+::wasm\+::\+Wasm\+Wrapper\+TSGraph\+Builder\+::\+Modify\+Thread\+In\+Wasm\+Flag\+Scope\+::\+Modify\+Thread\+In\+Wasm\+Flag\+Scope(), v8\+::internal\+::\+RUNTIME\+\_\+\+FUNCTION(), Set\+Thread\+In\+Wasm(), v8\+::internal\+::wasm\+::\+Update\+Computed\+Information(), v8\+::internal\+::compiler\+::\+Wasm\+Graph\+Builder\+::\+Wasm\+Graph\+Builder(), v8\+::internal\+::wasm\+::\+Clear\+Thread\+In\+Wasm\+Scope\+::$\sim$\+Clear\+Thread\+In\+Wasm\+Scope(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{wasm-\/compiler.\+cc\}\+::\+Wasm\+Wrapper\+Graph\+Builder\+::\+Modify\+Thread\+In\+Wasm\+Flag\+Scope\+::$\sim$\+Modify\+Thread\+In\+Wasm\+Flag\+Scope(), and v8\+::internal\+::wasm\+::\+Wasm\+Wrapper\+TSGraph\+Builder\+::\+Modify\+Thread\+In\+Wasm\+Flag\+Scope\+::$\sim$\+Modify\+Thread\+In\+Wasm\+Flag\+Scope().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_a47f4fc1ba5bf67b48a471d0527c99291_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a39d0a884f19cf02335b5240289e1243e}\label{namespacev8_1_1internal_1_1trap__handler_a39d0a884f19cf02335b5240289e1243e}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!RegisterDefaultTrapHandler@{RegisterDefaultTrapHandler}}
\index{RegisterDefaultTrapHandler@{RegisterDefaultTrapHandler}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{RegisterDefaultTrapHandler()}{RegisterDefaultTrapHandler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::trap\+\_\+handler\+::\+Register\+Default\+Trap\+Handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 291 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{291 \{ \textcolor{keywordflow}{return} \textcolor{keyword}{false}; \}}

\end{DoxyCode}


Referenced by Enable\+Trap\+Handler().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_a39d0a884f19cf02335b5240289e1243e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_aaf9f89c4e04dbc3dd11d0994f585144e}\label{namespacev8_1_1internal_1_1trap__handler_aaf9f89c4e04dbc3dd11d0994f585144e}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!RegisterHandlerData@{RegisterHandlerData}}
\index{RegisterHandlerData@{RegisterHandlerData}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{RegisterHandlerData()}{RegisterHandlerData()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classint}{int}} \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} v8\+::internal\+::trap\+\_\+handler\+::\+Register\+Handler\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}}}]{base,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{num\+\_\+protected\+\_\+instructions,  }\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1ProtectedInstructionData}{Protected\+Instruction\+Data}} $\ast$}]{protected\+\_\+instructions }\end{DoxyParamCaption})}



Adds the handler data to the place where the trap handler will find it. 

This returns a number that can be used to identify the handler data to Release\+Handler\+Data, or -\/1 on failure. 

Definition at line 132 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{134                                                             \{}
\DoxyCodeLine{135   CodeProtectionInfo* data = \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_ad322894d230ba7663db4761bc9119d10}{CreateHandlerData}}(}
\DoxyCodeLine{136       base, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, num\_protected\_instructions, protected\_instructions);}
\DoxyCodeLine{137 }
\DoxyCodeLine{138   \textcolor{keywordflow}{if} (data == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{139     abort();}
\DoxyCodeLine{140   \}}
\DoxyCodeLine{141 }
\DoxyCodeLine{142   MetadataLock lock;}
\DoxyCodeLine{143 }
\DoxyCodeLine{144   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceanonymous__namespace_02handler-outside_8cc_03_a43e929588b715ff8adfd7d0f563dccc3}{kEnableSlowChecks}}) \{}
\DoxyCodeLine{145     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_1_1anonymous__namespace_02handler-outside_8cc_03_afe876f75939896cb6ccbca2ead1478d4}{VerifyCodeRangeIsDisjoint}}(data);}
\DoxyCodeLine{146   \}}
\DoxyCodeLine{147 }
\DoxyCodeLine{148   \textcolor{keywordtype}{size\_t} \mbox{\hyperlink{namespacev8_1_1internal}{i}} = \mbox{\hyperlink{namespaceanonymous__namespace_02handler-outside_8cc_03_a9031296d7c9d2a3715e1c7afa4cb0495}{gNextCodeObject}};}
\DoxyCodeLine{149 }
\DoxyCodeLine{150   \textcolor{comment}{// Explicitly convert std::numeric\_limits<int>::max() to unsigned to avoid}}
\DoxyCodeLine{151   \textcolor{comment}{// compiler warnings about signed/unsigned comparisons. We aren't worried}}
\DoxyCodeLine{152   \textcolor{comment}{// about sign extension because we know std::numeric\_limits<int>::max() is}}
\DoxyCodeLine{153   \textcolor{comment}{// positive.}}
\DoxyCodeLine{154   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} int\_max = std::numeric\_limits<int>::max();}
\DoxyCodeLine{155 }
\DoxyCodeLine{156   \textcolor{comment}{// We didn't find an opening in the available space, so grow.}}
\DoxyCodeLine{157   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal}{i}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}{gNumCodeObjects}}) \{}
\DoxyCodeLine{158     \textcolor{keywordtype}{size\_t} new\_size = \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}{gNumCodeObjects}} > 0}
\DoxyCodeLine{159                           ? \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}{gNumCodeObjects}} * \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_ac3d65b3222b0279c8fa31d8b039b7e98}{kCodeObjectGrowthFactor}}}
\DoxyCodeLine{160                           : \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a0f28fbca72ee036e4282dee0d7aacc25}{kInitialCodeObjectSize}};}
\DoxyCodeLine{161 }
\DoxyCodeLine{162     \textcolor{comment}{// Because we must return an int, there is no point in allocating space for}}
\DoxyCodeLine{163     \textcolor{comment}{// more objects than can fit in an int.}}
\DoxyCodeLine{164     \textcolor{keywordflow}{if} (new\_size > int\_max) \{}
\DoxyCodeLine{165       new\_size = int\_max;}
\DoxyCodeLine{166     \}}
\DoxyCodeLine{167     \textcolor{keywordflow}{if} (new\_size == \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}{gNumCodeObjects}}) \{}
\DoxyCodeLine{168       free(data);}
\DoxyCodeLine{169       \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3a4e1080db1d2e35955b53106d9b1f62}{kInvalidIndex}};}
\DoxyCodeLine{170     \}}
\DoxyCodeLine{171 }
\DoxyCodeLine{172     \textcolor{comment}{// Now that we know our new size is valid, we can go ahead and realloc the}}
\DoxyCodeLine{173     \textcolor{comment}{// array.}}
\DoxyCodeLine{174     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}} = \textcolor{keyword}{static\_cast<}CodeProtectionInfoListEntry*\textcolor{keyword}{>}(}
\DoxyCodeLine{175         realloc(\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}}, \textcolor{keyword}{sizeof}(*\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}}) * new\_size));}
\DoxyCodeLine{176 }
\DoxyCodeLine{177     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}} == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{178       abort();}
\DoxyCodeLine{179     \}}
\DoxyCodeLine{180 }
\DoxyCodeLine{181     memset(\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}} + \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}{gNumCodeObjects}}, 0,}
\DoxyCodeLine{182            \textcolor{keyword}{sizeof}(*\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}}) * (new\_size -\/ \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}{gNumCodeObjects}}));}
\DoxyCodeLine{183     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{size\_t} j = \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}{gNumCodeObjects}}; j < new\_size; ++j) \{}
\DoxyCodeLine{184       \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}}[j].\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfoListEntry_aedeabce121507064fe1812cfd55a9200}{next\_free}} = j + 1;}
\DoxyCodeLine{185     \}}
\DoxyCodeLine{186     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}{gNumCodeObjects}} = new\_size;}
\DoxyCodeLine{187   \}}
\DoxyCodeLine{188 }
\DoxyCodeLine{189   \mbox{\hyperlink{trap-handler_8h_a650c158f7adddb0ec80a74d4706eef5c}{TH\_DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}}[\mbox{\hyperlink{namespacev8_1_1internal}{i}}].code\_info == \textcolor{keyword}{nullptr});}
\DoxyCodeLine{190 }
\DoxyCodeLine{191   \textcolor{comment}{// Find out where the next entry should go.}}
\DoxyCodeLine{192   \mbox{\hyperlink{namespaceanonymous__namespace_02handler-outside_8cc_03_a9031296d7c9d2a3715e1c7afa4cb0495}{gNextCodeObject}} = \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}].\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfoListEntry_aedeabce121507064fe1812cfd55a9200}{next\_free}};}
\DoxyCodeLine{193 }
\DoxyCodeLine{194   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal}{i}} <= int\_max) \{}
\DoxyCodeLine{195     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}}[\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}}].\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfoListEntry_adba12f3e5653ab085565de39ff7d8d64}{code\_info}} = data;}
\DoxyCodeLine{196 }
\DoxyCodeLine{197     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceanonymous__namespace_02handler-outside_8cc_03_a43e929588b715ff8adfd7d0f563dccc3}{kEnableSlowChecks}}) \{}
\DoxyCodeLine{198       \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_1_1anonymous__namespace_02handler-outside_8cc_03_a4f48689cd54466e3cd8f3db9c64737a5}{ValidateCodeObjects}}();}
\DoxyCodeLine{199     \}}
\DoxyCodeLine{200 }
\DoxyCodeLine{201     \textcolor{keywordflow}{return} \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_1_1anonymous__namespace_02json-stringifier_8cc_03_ad86b3cf21e19e97ce484f32b894d548c}{i}});}
\DoxyCodeLine{202   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{203     free(data);}
\DoxyCodeLine{204     \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3a4e1080db1d2e35955b53106d9b1f62}{kInvalidIndex}};}
\DoxyCodeLine{205   \}}
\DoxyCodeLine{206 \}}

\end{DoxyCode}


References v8\+::internal\+::trap\+\_\+handler\+::\+Code\+Protection\+Info\+List\+Entry\+::code\+\_\+info, Create\+Handler\+Data(), g\+Code\+Objects, anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::g\+Next\+Code\+Object, g\+Num\+Code\+Objects, v8\+::internal\+::anonymous\+\_\+namespace\{json-\/stringifier.\+cc\}\+::i, k\+Code\+Object\+Growth\+Factor, anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::k\+Enable\+Slow\+Checks, k\+Initial\+Code\+Object\+Size, k\+Invalid\+Index, v8\+::internal\+::trap\+\_\+handler\+::\+Code\+Protection\+Info\+List\+Entry\+::next\+\_\+free, size(), TH\+\_\+\+DCHECK, v8\+::internal\+::trap\+\_\+handler\+::anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::\+Validate\+Code\+Objects(), and v8\+::internal\+::trap\+\_\+handler\+::anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::\+Verify\+Code\+Range\+Is\+Disjoint().



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+::\+Register\+Trap\+Handler\+Data().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_aaf9f89c4e04dbc3dd11d0994f585144e_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_aaf9f89c4e04dbc3dd11d0994f585144e_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_af65464ae9dc36fabc95daf3d09669ed3}\label{namespacev8_1_1internal_1_1trap__handler_af65464ae9dc36fabc95daf3d09669ed3}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!RegisterV8Sandbox@{RegisterV8Sandbox}}
\index{RegisterV8Sandbox@{RegisterV8Sandbox}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{RegisterV8Sandbox()}{RegisterV8Sandbox()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} v8\+::internal\+::trap\+\_\+handler\+::\+Register\+V8\+Sandbox (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}}}]{base,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})}



\mbox{\hyperlink{classv8_1_1internal_1_1Registers}{Registers}} the base and size of the \mbox{\hyperlink{classv8_1_1internal_1_1V8}{V8}} sandbox region into list of sandboxes records. 

If successful, these will be used by the trap handler\+: only faulting accesses to memory inside the \mbox{\hyperlink{classv8_1_1internal_1_1V8}{V8}} sandboxes should be handled by the trap handler since all Wasm memory objects are located inside the sandboxes. 

Definition at line 235 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{235                                                     \{}
\DoxyCodeLine{236   SandboxRecordsLock lock;}
\DoxyCodeLine{237 }
\DoxyCodeLine{238 \textcolor{preprocessor}{\#ifdef DEBUG}}
\DoxyCodeLine{239   \textcolor{keywordflow}{for} (SandboxRecord* current = \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a2121f8d9d616b86571fef5ceec1c76ed}{gSandboxRecordsHead}}; current != \textcolor{keyword}{nullptr};}
\DoxyCodeLine{240        current = current-\/>\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1SandboxRecord_a74e18aa44d4be0bdd2e2afb4bf216c98}{next}}) \{}
\DoxyCodeLine{241     \mbox{\hyperlink{trap-handler_8h_a650c158f7adddb0ec80a74d4706eef5c}{TH\_DCHECK}}(current-\/>base != base);}
\DoxyCodeLine{242   \}}
\DoxyCodeLine{243 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{244 }
\DoxyCodeLine{245   SandboxRecord* new\_record =}
\DoxyCodeLine{246       \textcolor{keyword}{reinterpret\_cast<}SandboxRecord*\textcolor{keyword}{>}(malloc(\textcolor{keyword}{sizeof}(SandboxRecord)));}
\DoxyCodeLine{247   \textcolor{keywordflow}{if} (new\_record == \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{248     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{249   \}}
\DoxyCodeLine{250 }
\DoxyCodeLine{251   new\_record-\/>base = base;}
\DoxyCodeLine{252   new\_record-\/>size = \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{253   new\_record-\/>next = \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a2121f8d9d616b86571fef5ceec1c76ed}{gSandboxRecordsHead}};}
\DoxyCodeLine{254   \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a2121f8d9d616b86571fef5ceec1c76ed}{gSandboxRecordsHead}} = new\_record;}
\DoxyCodeLine{255   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{256 \}}

\end{DoxyCode}


References v8\+::internal\+::trap\+\_\+handler\+::\+Sandbox\+Record\+::base, g\+Sandbox\+Records\+Head, v8\+::internal\+::trap\+\_\+handler\+::\+Sandbox\+Record\+::next, size(), v8\+::internal\+::trap\+\_\+handler\+::\+Sandbox\+Record\+::size, and TH\+\_\+\+DCHECK.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=312pt]{namespacev8_1_1internal_1_1trap__handler_af65464ae9dc36fabc95daf3d09669ed3_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a6212dc14540b8761e5f9d7d46ac445ec}\label{namespacev8_1_1internal_1_1trap__handler_a6212dc14540b8761e5f9d7d46ac445ec}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!ReleaseHandlerData@{ReleaseHandlerData}}
\index{ReleaseHandlerData@{ReleaseHandlerData}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{ReleaseHandlerData()}{ReleaseHandlerData()}}
{\footnotesize\ttfamily void \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} v8\+::internal\+::trap\+\_\+handler\+::\+Release\+Handler\+Data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{index }\end{DoxyParamCaption})}



Removes the data from the master list and frees any memory, if necessary. 

TODO(mtrofin)\+: We can switch to using size\+\_\+t for index and not need k\+Invalid\+Index. 

Definition at line 208 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{208                                    \{}
\DoxyCodeLine{209   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} == \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3a4e1080db1d2e35955b53106d9b1f62}{kInvalidIndex}}) \{}
\DoxyCodeLine{210     \textcolor{keywordflow}{return};}
\DoxyCodeLine{211   \}}
\DoxyCodeLine{212   \mbox{\hyperlink{trap-handler_8h_a650c158f7adddb0ec80a74d4706eef5c}{TH\_DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}} >= 0);}
\DoxyCodeLine{213 }
\DoxyCodeLine{214   \textcolor{comment}{// Remove the data from the global list if it's there.}}
\DoxyCodeLine{215   CodeProtectionInfo* data = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{216   \{}
\DoxyCodeLine{217     MetadataLock lock;}
\DoxyCodeLine{218 }
\DoxyCodeLine{219     data = \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}].\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfoListEntry_adba12f3e5653ab085565de39ff7d8d64}{code\_info}};}
\DoxyCodeLine{220     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}].\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfoListEntry_adba12f3e5653ab085565de39ff7d8d64}{code\_info}} = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{221 }
\DoxyCodeLine{222     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}{gCodeObjects}}[\mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}}].\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfoListEntry_aedeabce121507064fe1812cfd55a9200}{next\_free}} = \mbox{\hyperlink{namespaceanonymous__namespace_02handler-outside_8cc_03_a9031296d7c9d2a3715e1c7afa4cb0495}{gNextCodeObject}};}
\DoxyCodeLine{223     \mbox{\hyperlink{namespaceanonymous__namespace_02handler-outside_8cc_03_a9031296d7c9d2a3715e1c7afa4cb0495}{gNextCodeObject}} = \mbox{\hyperlink{namespacev8_1_1internal_a0cfab207d565dcf62ebf50f3987e05de}{index}};}
\DoxyCodeLine{224 }
\DoxyCodeLine{225     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespaceanonymous__namespace_02handler-outside_8cc_03_a43e929588b715ff8adfd7d0f563dccc3}{kEnableSlowChecks}}) \{}
\DoxyCodeLine{226       \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_1_1anonymous__namespace_02handler-outside_8cc_03_a4f48689cd54466e3cd8f3db9c64737a5}{ValidateCodeObjects}}();}
\DoxyCodeLine{227     \}}
\DoxyCodeLine{228   \}}
\DoxyCodeLine{229   \textcolor{comment}{// TODO(eholk): on debug builds, ensure there are no more copies in}}
\DoxyCodeLine{230   \textcolor{comment}{// the list.}}
\DoxyCodeLine{231   \mbox{\hyperlink{trap-handler_8h_a650c158f7adddb0ec80a74d4706eef5c}{TH\_DCHECK}}(data);  \textcolor{comment}{// make sure we're releasing legitimate handler data.}}
\DoxyCodeLine{232   free(data);}
\DoxyCodeLine{233 \}}

\end{DoxyCode}


References v8\+::internal\+::trap\+\_\+handler\+::\+Code\+Protection\+Info\+List\+Entry\+::code\+\_\+info, g\+Code\+Objects, anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::g\+Next\+Code\+Object, v8\+::internal\+::index, anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::k\+Enable\+Slow\+Checks, k\+Invalid\+Index, v8\+::internal\+::trap\+\_\+handler\+::\+Code\+Protection\+Info\+List\+Entry\+::next\+\_\+free, TH\+\_\+\+DCHECK, and v8\+::internal\+::trap\+\_\+handler\+::anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::\+Validate\+Code\+Objects().



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+::$\sim$\+Wasm\+Code().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_a6212dc14540b8761e5f9d7d46ac445ec_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_a6212dc14540b8761e5f9d7d46ac445ec_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a8b6dacc7d22dd0cb7374505adb91d6fe}\label{namespacev8_1_1internal_1_1trap__handler_a8b6dacc7d22dd0cb7374505adb91d6fe}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!RemoveTrapHandler@{RemoveTrapHandler}}
\index{RemoveTrapHandler@{RemoveTrapHandler}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{RemoveTrapHandler()}{RemoveTrapHandler()}}
{\footnotesize\ttfamily \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void v8\+::internal\+::trap\+\_\+handler\+::\+Remove\+Trap\+Handler (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 293 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{293 \{\}}

\end{DoxyCode}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a87d58bbc586c64ce44924a362dbac348}\label{namespacev8_1_1internal_1_1trap__handler_a87d58bbc586c64ce44924a362dbac348}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!SetLandingPad@{SetLandingPad}}
\index{SetLandingPad@{SetLandingPad}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{SetLandingPad()}{SetLandingPad()}}
{\footnotesize\ttfamily \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} void v8\+::internal\+::trap\+\_\+handler\+::\+Set\+Landing\+Pad (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}}}]{landing\+\_\+pad }\end{DoxyParamCaption})}



Definition at line 319 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{319 \{ \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_ac4f241d3ed3e5f547a79dec59c2377d4}{gLandingPad}}.store(landing\_pad); \}}

\end{DoxyCode}


References g\+Landing\+Pad.



Referenced by v8\+::internal\+::\+Isolate\+::\+Isolate(), and v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+::\+Wasm\+Interpreter().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_a87d58bbc586c64ce44924a362dbac348_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a8484fb95ebefa2c70caf3ee69efc1bc6}\label{namespacev8_1_1internal_1_1trap__handler_a8484fb95ebefa2c70caf3ee69efc1bc6}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!SetThreadInWasm@{SetThreadInWasm}}
\index{SetThreadInWasm@{SetThreadInWasm}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{SetThreadInWasm()}{SetThreadInWasm()}}
{\footnotesize\ttfamily void v8\+::internal\+::trap\+\_\+handler\+::\+Set\+Thread\+In\+Wasm (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 192 of file trap-\/handler.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{192                               \{}
\DoxyCodeLine{193   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a47f4fc1ba5bf67b48a471d0527c99291}{IsTrapHandlerEnabled}}()) \{}
\DoxyCodeLine{194     \mbox{\hyperlink{trap-handler_8h_a650c158f7adddb0ec80a74d4706eef5c}{TH\_DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_adbb427a304f105d0c47308791458438a}{IsThreadInWasm}}());}
\DoxyCodeLine{195     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a7ef0c7e2495e25016945cd68d44966e9}{g\_thread\_in\_wasm\_code}} = \textcolor{keyword}{true};}
\DoxyCodeLine{196   \}}
\DoxyCodeLine{197 \}}

\end{DoxyCode}


References g\+\_\+thread\+\_\+in\+\_\+wasm\+\_\+code, Is\+Thread\+In\+Wasm(), Is\+Trap\+Handler\+Enabled(), and TH\+\_\+\+DCHECK.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Runtime\+::\+Call\+Wasm\+To\+JSBuiltin(), v8\+::internal\+::\+Deoptimizer\+::\+Do\+Compute\+Output\+Frames(), v8\+::internal\+::wasm\+::\+Wasm\+Interpreter\+Thread\+::\+Run(), v8\+::internal\+::wasm\+::\+Interpreter\+Handle\+::\+Run\+Execution\+Loop(), v8\+::internal\+::anonymous\+\_\+namespace\{runtime-\/wasm.\+cc\}\+::\+Clear\+Thread\+In\+Wasm\+Scope\+::$\sim$\+Clear\+Thread\+In\+Wasm\+Scope(), and v8\+::internal\+::wasm\+::\+Clear\+Thread\+In\+Wasm\+Scope\+::$\sim$\+Clear\+Thread\+In\+Wasm\+Scope().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_a8484fb95ebefa2c70caf3ee69efc1bc6_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{namespacev8_1_1internal_1_1trap__handler_a8484fb95ebefa2c70caf3ee69efc1bc6_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a40401489351bca0e5fac488de9f226ff}\label{namespacev8_1_1internal_1_1trap__handler_a40401489351bca0e5fac488de9f226ff}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!TryHandleSignal@{TryHandleSignal}}
\index{TryHandleSignal@{TryHandleSignal}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{TryHandleSignal()}{TryHandleSignal()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::trap\+\_\+handler\+::\+Try\+Handle\+Signal (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{signum,  }\item[{siginfo\+\_\+t $\ast$}]{info,  }\item[{void $\ast$}]{context }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a635953f0eb6a5c6faf0f7064ed9b1d7a}\label{namespacev8_1_1internal_1_1trap__handler_a635953f0eb6a5c6faf0f7064ed9b1d7a}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!TryHandleWasmTrap@{TryHandleWasmTrap}}
\index{TryHandleWasmTrap@{TryHandleWasmTrap}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{TryHandleWasmTrap()}{TryHandleWasmTrap()}}
{\footnotesize\ttfamily \mbox{\hyperlink{trap-handler_8h_a962e9b262665d5e6f98c1f3e3ba9a3e3}{TH\+\_\+\+DISABLE\+\_\+\+ASAN}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::trap\+\_\+handler\+::\+Try\+Handle\+Wasm\+Trap (\begin{DoxyParamCaption}\item[{EXCEPTION\+\_\+\+POINTERS $\ast$}]{exception }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_af01d0a8a445be8e9efff75451b6b532e}\label{namespacev8_1_1internal_1_1trap__handler_af01d0a8a445be8e9efff75451b6b532e}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!UnregisterV8Sandbox@{UnregisterV8Sandbox}}
\index{UnregisterV8Sandbox@{UnregisterV8Sandbox}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{UnregisterV8Sandbox()}{UnregisterV8Sandbox()}}
{\footnotesize\ttfamily void \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} v8\+::internal\+::trap\+\_\+handler\+::\+Unregister\+V8\+Sandbox (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}}}]{base,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})}



Unregisters the base and size of the \mbox{\hyperlink{classv8_1_1internal_1_1V8}{V8}} sandbox region decribed by base and size. 



Definition at line 258 of file handler-\/outside.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{258                                                       \{}
\DoxyCodeLine{259   SandboxRecordsLock lock;}
\DoxyCodeLine{260 }
\DoxyCodeLine{261   SandboxRecord* current = \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a2121f8d9d616b86571fef5ceec1c76ed}{gSandboxRecordsHead}};}
\DoxyCodeLine{262   SandboxRecord* previous = \textcolor{keyword}{nullptr};}
\DoxyCodeLine{263   \textcolor{keywordflow}{while} (current != \textcolor{keyword}{nullptr}) \{}
\DoxyCodeLine{264     \textcolor{keywordflow}{if} (current-\/>base == base) \{}
\DoxyCodeLine{265       \textcolor{keywordflow}{break};}
\DoxyCodeLine{266     \}}
\DoxyCodeLine{267     previous = current;}
\DoxyCodeLine{268     current = current-\/>\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1SandboxRecord_a74e18aa44d4be0bdd2e2afb4bf216c98}{next}};}
\DoxyCodeLine{269   \}}
\DoxyCodeLine{270 }
\DoxyCodeLine{271   \mbox{\hyperlink{trap-handler_8h_ab7ae6e6157df29f3d5d5065291ec0a9d}{TH\_CHECK}}(current != \textcolor{keyword}{nullptr});}
\DoxyCodeLine{272   \mbox{\hyperlink{trap-handler_8h_ab7ae6e6157df29f3d5d5065291ec0a9d}{TH\_CHECK}}(current-\/>size == \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}});}
\DoxyCodeLine{273   \textcolor{keywordflow}{if} (previous) \{}
\DoxyCodeLine{274     previous-\/>next = current-\/>next;}
\DoxyCodeLine{275   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{276     \mbox{\hyperlink{namespacev8_1_1internal_1_1trap__handler_a2121f8d9d616b86571fef5ceec1c76ed}{gSandboxRecordsHead}} = current-\/>\mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1SandboxRecord_a74e18aa44d4be0bdd2e2afb4bf216c98}{next}};}
\DoxyCodeLine{277   \}}
\DoxyCodeLine{278   free(current);}
\DoxyCodeLine{279 \}}

\end{DoxyCode}


References v8\+::internal\+::trap\+\_\+handler\+::\+Sandbox\+Record\+::base, g\+Sandbox\+Records\+Head, v8\+::internal\+::trap\+\_\+handler\+::\+Sandbox\+Record\+::next, size(), v8\+::internal\+::trap\+\_\+handler\+::\+Sandbox\+Record\+::size, and TH\+\_\+\+CHECK.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=322pt]{namespacev8_1_1internal_1_1trap__handler_af01d0a8a445be8e9efff75451b6b532e_cgraph}
\end{center}
\end{figure}


\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a1f97f8b9c722981994b780f283b520e9}\label{namespacev8_1_1internal_1_1trap__handler_a1f97f8b9c722981994b780f283b520e9}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!g\_can\_enable\_trap\_handler@{g\_can\_enable\_trap\_handler}}
\index{g\_can\_enable\_trap\_handler@{g\_can\_enable\_trap\_handler}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{g\_can\_enable\_trap\_handler}{g\_can\_enable\_trap\_handler}}
{\footnotesize\ttfamily \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} $>$ v8\+::internal\+::trap\+\_\+handler\+::g\+\_\+can\+\_\+enable\+\_\+trap\+\_\+handler \{\mbox{\hyperlink{namespacev8_1_1internal_a7f5302a7c7fd292ffd4a5f9758bd3686}{true}}\}}



Definition at line 297 of file handler-\/outside.\+cc.



Referenced by Enable\+Trap\+Handler(), and Is\+Trap\+Handler\+Enabled().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a589b6d42b6e6074e3214e0a671f8a335}\label{namespacev8_1_1internal_1_1trap__handler_a589b6d42b6e6074e3214e0a671f8a335}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!g\_is\_trap\_handler\_enabled@{g\_is\_trap\_handler\_enabled}}
\index{g\_is\_trap\_handler\_enabled@{g\_is\_trap\_handler\_enabled}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{g\_is\_trap\_handler\_enabled}{g\_is\_trap\_handler\_enabled}}
{\footnotesize\ttfamily \mbox{\hyperlink{trap-handler_8h_a0bf5de894e3b21de49be1ba1f829736c}{TH\+\_\+\+EXPORT\+\_\+\+PRIVATE}} \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::trap\+\_\+handler\+::g\+\_\+is\+\_\+trap\+\_\+handler\+\_\+enabled \{\mbox{\hyperlink{flag-definitions_8h_a3a9beadc89284d3f78a7d4945b1b4d8c}{false}}\}}



Definition at line 296 of file handler-\/outside.\+cc.



Referenced by Assert\+Thread\+Not\+In\+Wasm(), Enable\+Trap\+Handler(), and Is\+Trap\+Handler\+Enabled().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a7ef0c7e2495e25016945cd68d44966e9}\label{namespacev8_1_1internal_1_1trap__handler_a7ef0c7e2495e25016945cd68d44966e9}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!g\_thread\_in\_wasm\_code@{g\_thread\_in\_wasm\_code}}
\index{g\_thread\_in\_wasm\_code@{g\_thread\_in\_wasm\_code}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{g\_thread\_in\_wasm\_code}{g\_thread\_in\_wasm\_code}}
{\footnotesize\ttfamily thread\+\_\+local \mbox{\hyperlink{classint}{int}} v8\+::internal\+::trap\+\_\+handler\+::g\+\_\+thread\+\_\+in\+\_\+wasm\+\_\+code}



Definition at line 30 of file handler-\/shared.\+cc.



Referenced by Assert\+Thread\+Not\+In\+Wasm(), Clear\+Thread\+In\+Wasm(), Get\+Thread\+In\+Wasm\+Thread\+Local\+Address(), Is\+Thread\+In\+Wasm(), v8\+::internal\+::trap\+\_\+handler\+::\+Metadata\+Lock\+::\+Metadata\+Lock(), Set\+Thread\+In\+Wasm(), and v8\+::internal\+::trap\+\_\+handler\+::\+Metadata\+Lock\+::$\sim$\+Metadata\+Lock().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}\label{namespacev8_1_1internal_1_1trap__handler_a3cd8e548d1288136cd1b6d89669878b4}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!gCodeObjects@{gCodeObjects}}
\index{gCodeObjects@{gCodeObjects}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{gCodeObjects}{gCodeObjects}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1CodeProtectionInfoListEntry}{Code\+Protection\+Info\+List\+Entry}} $\ast$ v8\+::internal\+::trap\+\_\+handler\+::g\+Code\+Objects = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}}



Definition at line 37 of file handler-\/shared.\+cc.



Referenced by Register\+Handler\+Data(), Release\+Handler\+Data(), v8\+::internal\+::trap\+\_\+handler\+::anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::\+Validate\+Code\+Objects(), and v8\+::internal\+::trap\+\_\+handler\+::anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::\+Verify\+Code\+Range\+Is\+Disjoint().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_ac4f241d3ed3e5f547a79dec59c2377d4}\label{namespacev8_1_1internal_1_1trap__handler_ac4f241d3ed3e5f547a79dec59c2377d4}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!gLandingPad@{gLandingPad}}
\index{gLandingPad@{gLandingPad}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{gLandingPad}{gLandingPad}}
{\footnotesize\ttfamily std\+::atomic$<$ \mbox{\hyperlink{classuintptr__t}{uintptr\+\_\+t}} $>$ v8\+::internal\+::trap\+\_\+handler\+::g\+Landing\+Pad = \{0\}}



Definition at line 40 of file handler-\/shared.\+cc.



Referenced by Set\+Landing\+Pad().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}\label{namespacev8_1_1internal_1_1trap__handler_af6fd6201c38b588f1de8139037ce5360}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!gNumCodeObjects@{gNumCodeObjects}}
\index{gNumCodeObjects@{gNumCodeObjects}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{gNumCodeObjects}{gNumCodeObjects}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::trap\+\_\+handler\+::g\+Num\+Code\+Objects = 0}



Definition at line 36 of file handler-\/shared.\+cc.



Referenced by Register\+Handler\+Data(), v8\+::internal\+::trap\+\_\+handler\+::anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::\+Validate\+Code\+Objects(), and v8\+::internal\+::trap\+\_\+handler\+::anonymous\+\_\+namespace\{handler-\/outside.\+cc\}\+::\+Verify\+Code\+Range\+Is\+Disjoint().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_af435a4f8dd67c1c119e3fb2a9e412104}\label{namespacev8_1_1internal_1_1trap__handler_af435a4f8dd67c1c119e3fb2a9e412104}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!gRecoveredTrapCount@{gRecoveredTrapCount}}
\index{gRecoveredTrapCount@{gRecoveredTrapCount}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{gRecoveredTrapCount}{gRecoveredTrapCount}}
{\footnotesize\ttfamily std\+::atomic\+\_\+size\+\_\+t v8\+::internal\+::trap\+\_\+handler\+::g\+Recovered\+Trap\+Count = \{0\}}



Definition at line 39 of file handler-\/shared.\+cc.



Referenced by Get\+Recovered\+Trap\+Count().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a2121f8d9d616b86571fef5ceec1c76ed}\label{namespacev8_1_1internal_1_1trap__handler_a2121f8d9d616b86571fef5ceec1c76ed}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!gSandboxRecordsHead@{gSandboxRecordsHead}}
\index{gSandboxRecordsHead@{gSandboxRecordsHead}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{gSandboxRecordsHead}{gSandboxRecordsHead}}
{\footnotesize\ttfamily \mbox{\hyperlink{structv8_1_1internal_1_1trap__handler_1_1SandboxRecord}{Sandbox\+Record}} $\ast$ v8\+::internal\+::trap\+\_\+handler\+::g\+Sandbox\+Records\+Head = \mbox{\hyperlink{flag-definitions_8h_aca14fbede0905858c819226fce3678cc}{nullptr}}}



Definition at line 38 of file handler-\/shared.\+cc.



Referenced by Register\+V8\+Sandbox(), and Unregister\+V8\+Sandbox().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_ac3d65b3222b0279c8fa31d8b039b7e98}\label{namespacev8_1_1internal_1_1trap__handler_ac3d65b3222b0279c8fa31d8b039b7e98}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!kCodeObjectGrowthFactor@{kCodeObjectGrowthFactor}}
\index{kCodeObjectGrowthFactor@{kCodeObjectGrowthFactor}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{kCodeObjectGrowthFactor}{kCodeObjectGrowthFactor}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::trap\+\_\+handler\+::k\+Code\+Object\+Growth\+Factor = 2\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 47 of file handler-\/outside.\+cc.



Referenced by Register\+Handler\+Data().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a0f28fbca72ee036e4282dee0d7aacc25}\label{namespacev8_1_1internal_1_1trap__handler_a0f28fbca72ee036e4282dee0d7aacc25}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!kInitialCodeObjectSize@{kInitialCodeObjectSize}}
\index{kInitialCodeObjectSize@{kInitialCodeObjectSize}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{kInitialCodeObjectSize}{kInitialCodeObjectSize}}
{\footnotesize\ttfamily constexpr \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::trap\+\_\+handler\+::k\+Initial\+Code\+Object\+Size = 1024\hspace{0.3cm}{\ttfamily [constexpr]}}



Definition at line 46 of file handler-\/outside.\+cc.



Referenced by Register\+Handler\+Data().

\mbox{\Hypertarget{namespacev8_1_1internal_1_1trap__handler_a3a4e1080db1d2e35955b53106d9b1f62}\label{namespacev8_1_1internal_1_1trap__handler_a3a4e1080db1d2e35955b53106d9b1f62}} 
\index{v8::internal::trap\_handler@{v8::internal::trap\_handler}!kInvalidIndex@{kInvalidIndex}}
\index{kInvalidIndex@{kInvalidIndex}!v8::internal::trap\_handler@{v8::internal::trap\_handler}}
\doxysubsubsection{\texorpdfstring{kInvalidIndex}{kInvalidIndex}}
{\footnotesize\ttfamily const \mbox{\hyperlink{classint}{int}} v8\+::internal\+::trap\+\_\+handler\+::k\+Invalid\+Index = -\/1}



Definition at line 115 of file trap-\/handler.\+h.



Referenced by v8\+::internal\+::\+BUILTIN(), v8\+::internal\+::\+Eternal\+Handles\+::\+Create(), v8\+::internal\+::interpreter\+::\+Register\+::is\+\_\+valid(), v8\+::internal\+::\+Lookup\+Iterator\+::\+Is\+Element(), v8\+::internal\+::anonymous\+\_\+namespace\{regexp-\/parser.\+cc\}\+::\+Reg\+Exp\+Parser\+Impl$<$ Char\+T $>$\+::\+Patch\+Named\+Back\+References(), Register\+Handler\+Data(), Release\+Handler\+Data(), and v8\+::internal\+::\+Message\+Formatter\+::\+Try\+Format().

