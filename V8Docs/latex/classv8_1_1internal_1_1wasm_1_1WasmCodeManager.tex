\hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager}{}\doxysection{v8\+::internal\+::wasm\+::Wasm\+Code\+Manager Class Reference}
\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager}\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}


{\ttfamily \#include $<$wasm-\/code-\/manager.\+h$>$}



Collaboration diagram for v8\+::internal\+::wasm\+::Wasm\+Code\+Manager\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a08c0531d703317ba61ae16c19a505f7a}{Wasm\+Code\+Manager}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aadbca7de431a7ea35794d4fdd2dfed19}{Wasm\+Code\+Manager}} (const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager}{Wasm\+Code\+Manager}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager}{Wasm\+Code\+Manager}} \& \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a341cd2685f87e88063caaf2fb51eb63d}{operator=}} (const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager}{Wasm\+Code\+Manager}} \&)=delete
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_af407c29783d5ce7ad5d29928a54adca5}{$\sim$\+Wasm\+Code\+Manager}} ()
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a65237f5b80dae7a92d86f131b6df4461}{Lookup\+Native\+Module}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} pc) const
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8b17776c8a4fe19718f2b1931544253f}{Lookup\+Code}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} pc) const
\item 
std\+::pair$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$, \mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntry}{Safepoint\+Entry}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a589a55d2b33354d07415b1a22cb00d89}{Lookup\+Code\+And\+Safepoint}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} pc)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aa5c5ecc61ab174d77400fa3082e73537}{Flush\+Code\+Lookup\+Cache}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ab17eb91621a85bc775b4d7a740029f00}{committed\+\_\+code\+\_\+space}} () const
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a0fcb42a940eb11201694e507b09fa04c}{Estimate\+Liftoff\+Code\+Size}} (\mbox{\hyperlink{classint}{int}} body\+\_\+size)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5b6cfe5d63b1c5f3b54fdb34ed91c863}{Estimate\+Native\+Module\+Code\+Size}} (const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $\ast$)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a1fbaa24f3a0fc9f3abd82032f97e2b53}{Estimate\+Native\+Module\+Code\+Size}} (\mbox{\hyperlink{classint}{int}} num\+\_\+functions, \mbox{\hyperlink{classint}{int}} code\+\_\+section\+\_\+length)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a329950b560b30699bd218b9622eedda7}{Estimate\+Native\+Module\+Meta\+Data\+Size}} (const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $\ast$)
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a3efdc870dd21f075b3c408101c23feeb}{Has\+Memory\+Protection\+Key\+Support}} ()
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a930893209d531231682fce4cbef728ed}{Memory\+Protection\+Keys\+Enabled}} ()
\item 
static \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a2241851e1074b022606031a831966b17}{Memory\+Protection\+Key\+Writable}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8cbd92108ae1c153f66f40609aed5783}{New\+Native\+Module}} (\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$isolate, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures}{Wasm\+Enabled\+Features}} enabled\+\_\+features, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}} detected\+\_\+features, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1CompileTimeImports}{Compile\+Time\+Imports}} compile\+\_\+imports, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} code\+\_\+size\+\_\+estimate, std\+::shared\+\_\+ptr$<$ const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $>$ module)
\item 
\mbox{\hyperlink{v8config_8h_a63258e4bf5dc9fb8c78f881c8405d83b}{V8\+\_\+\+WARN\+\_\+\+UNUSED\+\_\+\+RESULT}} \mbox{\hyperlink{classv8_1_1internal_1_1VirtualMemory}{Virtual\+Memory}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a7ed36ebeb931a4b5b5cd1097891d60c1}{Try\+Allocate}} (\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ad4da2816276e107b3a3e54d32e08691a}{Commit}} (\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a1b32b6ad2137dab896d869457d0d21e7}{Decommit}} (\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}})
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a27ace0686f32545957a6b0948813db9a}{Free\+Native\+Module}} (\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1VirtualMemory}{Virtual\+Memory}} $>$ owned\+\_\+code, \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} committed\+\_\+size)
\item 
\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aaf8b899ee355da1fbb00c3471867d762}{Assign\+Range}} (\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $\ast$)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a2be288a7720a1f7bdf64f5060b7c782a}{Lookup\+Code}} (\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} pc) const
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
const \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a102c2c6b55ae7094aaac669c22150174}{max\+\_\+committed\+\_\+code\+\_\+space\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}{total\+\_\+committed\+\_\+code\+\_\+space\+\_\+}} \{0\}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5690c15d56eb42cffb868c23ac92f424}{critical\+\_\+committed\+\_\+code\+\_\+space\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a4964601ddec44dd9566edc193900a11b}{native\+\_\+modules\+\_\+mutex\+\_\+}}
\item 
std\+::map$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}, std\+::pair$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $\ast$ $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a282904997b2ddd09190c6b70245e1596}{lookup\+\_\+map\+\_\+}}
\item 
std\+::atomic$<$ \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a058cd97298c26c958e790365aa0153b9}{next\+\_\+code\+\_\+space\+\_\+hint\+\_\+}}
\end{DoxyCompactItemize}
\doxysubsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a6f5398d6af0cd323486b07d55a75b3b4}{Wasm\+Code\+Allocator}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_adcf2e34d98d65c16197a4f27b1f6a780}{Wasm\+Code\+Lookup\+Cache}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ae8c3f3090b503421e6e68ca9d396b62f}{Wasm\+Engine}}
\item 
class \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a558c8e718b18b385d961367381b8652f}{Wasm\+Import\+Wrapper\+Cache}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 1170 of file wasm-\/code-\/manager.\+h.



\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a08c0531d703317ba61ae16c19a505f7a}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a08c0531d703317ba61ae16c19a505f7a}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!WasmCodeManager@{WasmCodeManager}}
\index{WasmCodeManager@{WasmCodeManager}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{WasmCodeManager()}{WasmCodeManager()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Wasm\+Code\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 2179 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2180     : \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a102c2c6b55ae7094aaac669c22150174}{max\_committed\_code\_space\_}}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_max\_committed\_code\_mb * \mbox{\hyperlink{namespacev8_1_1internal_af46551c5713d2a3a1be4dca973e521e0}{MB}}),}
\DoxyCodeLine{2181       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5690c15d56eb42cffb868c23ac92f424}{critical\_committed\_code\_space\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a102c2c6b55ae7094aaac669c22150174}{max\_committed\_code\_space\_}} / 2),}
\DoxyCodeLine{2182       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a058cd97298c26c958e790365aa0153b9}{next\_code\_space\_hint\_}}(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}\textcolor{keyword}{>}(}
\DoxyCodeLine{2183           \mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{GetPlatformPageAllocator}}()-\/>\mbox{\hyperlink{namespacev8_1_1internal_a604a6dd52477843a9531577e32877ca5}{GetRandomMmapAddr}}())) \{}
\DoxyCodeLine{2184   \textcolor{comment}{// Check that -\/-\/wasm-\/max-\/code-\/space-\/size-\/mb is not set bigger than the default}}
\DoxyCodeLine{2185   \textcolor{comment}{// value. Otherwise we run into DCHECKs or other crashes later.}}
\DoxyCodeLine{2186   \mbox{\hyperlink{src_2base_2logging_8h_a1c7c9b7f14b9a33ea69cbe4578016a19}{CHECK\_GE}}(\mbox{\hyperlink{namespacev8_1_1internal_a55676947d895fd4cdd273e53dff16694}{kDefaultMaxWasmCodeSpaceSizeMb}},}
\DoxyCodeLine{2187            \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_max\_code\_space\_size\_mb);}
\DoxyCodeLine{2188 \}}

\end{DoxyCode}


References CHECK\+\_\+\+GE, v8\+::internal\+::k\+Default\+Max\+Wasm\+Code\+Space\+Size\+Mb, and v8\+::internal\+::v8\+\_\+flags.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aadbca7de431a7ea35794d4fdd2dfed19}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aadbca7de431a7ea35794d4fdd2dfed19}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!WasmCodeManager@{WasmCodeManager}}
\index{WasmCodeManager@{WasmCodeManager}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{WasmCodeManager()}{WasmCodeManager()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Wasm\+Code\+Manager (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager}{Wasm\+Code\+Manager}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_af407c29783d5ce7ad5d29928a54adca5}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_af407c29783d5ce7ad5d29928a54adca5}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!````~WasmCodeManager@{$\sim$WasmCodeManager}}
\index{````~WasmCodeManager@{$\sim$WasmCodeManager}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{$\sim$WasmCodeManager()}{~WasmCodeManager()}}
{\footnotesize\ttfamily v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::$\sim$\+Wasm\+Code\+Manager (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 2190 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2190                                   \{}
\DoxyCodeLine{2191   \textcolor{comment}{// No more committed code space.}}
\DoxyCodeLine{2192   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(0, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}{total\_committed\_code\_space\_}}.load());}
\DoxyCodeLine{2193 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, and total\+\_\+committed\+\_\+code\+\_\+space\+\_\+.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aaf8b899ee355da1fbb00c3471867d762}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aaf8b899ee355da1fbb00c3471867d762}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!AssignRange@{AssignRange}}
\index{AssignRange@{AssignRange}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{AssignRange()}{AssignRange()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Assign\+Range (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}}]{region,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $\ast$}]{native\+\_\+module }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2260 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2261                                                                \{}
\DoxyCodeLine{2262   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} lock(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a4964601ddec44dd9566edc193900a11b}{native\_modules\_mutex\_}});}
\DoxyCodeLine{2263   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a282904997b2ddd09190c6b70245e1596}{lookup\_map\_}}.insert(std::make\_pair(}
\DoxyCodeLine{2264       region.begin(), std::make\_pair(region.end(), native\_module)));}
\DoxyCodeLine{2265 \}}

\end{DoxyCode}


References v8\+::base\+::\+Address\+Region\+::begin(), v8\+::base\+::\+Address\+Region\+::end(), lookup\+\_\+map\+\_\+, and native\+\_\+modules\+\_\+mutex\+\_\+.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aaf8b899ee355da1fbb00c3471867d762_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ad4da2816276e107b3a3e54d32e08691a}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ad4da2816276e107b3a3e54d32e08691a}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!Commit@{Commit}}
\index{Commit@{Commit}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{Commit()}{Commit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Commit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}}]{region }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2203 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2203                                                      \{}
\DoxyCodeLine{2204   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{src_2base_2macros_8h_ab7a19c1f785f31f2b190afc19875368a}{IsAligned}}(region.begin(), \mbox{\hyperlink{namespacev8_1_1internal_a6a5f128ae031000011e13ca7534dfc91}{CommitPageSize}}()));}
\DoxyCodeLine{2205   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{src_2base_2macros_8h_ab7a19c1f785f31f2b190afc19875368a}{IsAligned}}(region.size(), \mbox{\hyperlink{namespacev8_1_1internal_a6a5f128ae031000011e13ca7534dfc91}{CommitPageSize}}()));}
\DoxyCodeLine{2206   \textcolor{comment}{// Reserve the size. Use CAS loop to avoid overflow on}}
\DoxyCodeLine{2207   \textcolor{comment}{// \{total\_committed\_code\_space\_\}.}}
\DoxyCodeLine{2208   \textcolor{keywordtype}{size\_t} old\_value = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}{total\_committed\_code\_space\_}}.load();}
\DoxyCodeLine{2209   \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{}
\DoxyCodeLine{2210     \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a102c2c6b55ae7094aaac669c22150174}{max\_committed\_code\_space\_}}, old\_value);}
\DoxyCodeLine{2211     \textcolor{keywordflow}{if} (region.size() > \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a102c2c6b55ae7094aaac669c22150174}{max\_committed\_code\_space\_}} -\/ old\_value) \{}
\DoxyCodeLine{2212       \textcolor{keyword}{auto} oom\_detail = \mbox{\hyperlink{namespacev8_1_1base_a8a96976677371a5201af88b56be08915}{base::FormattedString}}\{\}}
\DoxyCodeLine{2213                         << \textcolor{stringliteral}{"{}trying to commit "{}} << region.size()}
\DoxyCodeLine{2214                         << \textcolor{stringliteral}{"{}, already committed "{}} << old\_value;}
\DoxyCodeLine{2215       \mbox{\hyperlink{classv8_1_1internal_1_1V8_a977b087d4ee58955efe72b33136a4e94}{V8::FatalProcessOutOfMemory}}(\textcolor{keyword}{nullptr},}
\DoxyCodeLine{2216                                   \textcolor{stringliteral}{"{}Exceeding maximum wasm committed code space"{}},}
\DoxyCodeLine{2217                                   oom\_detail.PrintToArray().data());}
\DoxyCodeLine{2218       \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{2219     \}}
\DoxyCodeLine{2220     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}{total\_committed\_code\_space\_}}.compare\_exchange\_weak(}
\DoxyCodeLine{2221             old\_value, old\_value + region.size())) \{}
\DoxyCodeLine{2222       \textcolor{keywordflow}{break};}
\DoxyCodeLine{2223     \}}
\DoxyCodeLine{2224   \}}
\DoxyCodeLine{2225 }
\DoxyCodeLine{2226   \mbox{\hyperlink{wasm-code-manager_8cc_a999acc4125a715214037c81dd456611d}{TRACE\_HEAP}}(\textcolor{stringliteral}{"{}Setting rwx permissions for 0x\%"{}} PRIxPTR \textcolor{stringliteral}{"{}:0x\%"{}} PRIxPTR \textcolor{stringliteral}{"{}\(\backslash\)n"{}},}
\DoxyCodeLine{2227              region.begin(), region.end());}
\DoxyCodeLine{2228   \textcolor{keywordtype}{bool} success = \mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{GetPlatformPageAllocator}}()-\/>\mbox{\hyperlink{classv8_1_1PageAllocator_aa05bfd415492374b712dd1d3f6f4a1f9}{RecommitPages}}(}
\DoxyCodeLine{2229       \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(region.begin()), region.size(),}
\DoxyCodeLine{2230       \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe}{PageAllocator::kReadWriteExecute}});}
\DoxyCodeLine{2231 }
\DoxyCodeLine{2232   \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(!success)) \{}
\DoxyCodeLine{2233     \textcolor{keyword}{auto} oom\_detail = \mbox{\hyperlink{namespacev8_1_1base_a8a96976677371a5201af88b56be08915}{base::FormattedString}}\{\} << \textcolor{stringliteral}{"{}region size: "{}}}
\DoxyCodeLine{2234                                               << region.size();}
\DoxyCodeLine{2235     \mbox{\hyperlink{classv8_1_1internal_1_1V8_a977b087d4ee58955efe72b33136a4e94}{V8::FatalProcessOutOfMemory}}(\textcolor{keyword}{nullptr}, \textcolor{stringliteral}{"{}Commit wasm code space"{}},}
\DoxyCodeLine{2236                                 oom\_detail.PrintToArray().data());}
\DoxyCodeLine{2237     \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{2238   \}}
\DoxyCodeLine{2239 \}}

\end{DoxyCode}


References v8\+::base\+::\+Address\+Region\+::begin(), v8\+::internal\+::\+Commit\+Page\+Size(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+GE, v8\+::base\+::\+Address\+Region\+::end(), v8\+::internal\+::\+V8\+::\+Fatal\+Process\+Out\+Of\+Memory(), v8\+::internal\+::\+Get\+Platform\+Page\+Allocator(), Is\+Aligned(), v8\+::\+Page\+Allocator\+::k\+Read\+Write\+Execute, max\+\_\+committed\+\_\+code\+\_\+space\+\_\+, v8\+::\+Page\+Allocator\+::\+Recommit\+Pages(), v8\+::base\+::\+Address\+Region\+::size(), total\+\_\+committed\+\_\+code\+\_\+space\+\_\+, TRACE\+\_\+\+HEAP, v8\+::internal\+::\+UNREACHABLE(), and V8\+\_\+\+UNLIKELY.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ad4da2816276e107b3a3e54d32e08691a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ab17eb91621a85bc775b4d7a740029f00}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ab17eb91621a85bc775b4d7a740029f00}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!committed\_code\_space@{committed\_code\_space}}
\index{committed\_code\_space@{committed\_code\_space}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{committed\_code\_space()}{committed\_code\_space()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::committed\+\_\+code\+\_\+space (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 1193 of file wasm-\/code-\/manager.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{1193                                       \{}
\DoxyCodeLine{1194     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}{total\_committed\_code\_space\_}}.load();}
\DoxyCodeLine{1195   \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Add\+Potentially\+Dead\+Code(), and v8\+::internal\+::\+Memory\+Measurement\+::\+Finish\+Processing().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ab17eb91621a85bc775b4d7a740029f00_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a1b32b6ad2137dab896d869457d0d21e7}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a1b32b6ad2137dab896d869457d0d21e7}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!Decommit@{Decommit}}
\index{Decommit@{Decommit}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{Decommit()}{Decommit()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Decommit (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1AddressRegion}{base\+::\+Address\+Region}}}]{region }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2241 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2241                                                        \{}
\DoxyCodeLine{2242   \mbox{\hyperlink{namespacecppgc_ae7d41c486a869bec62aa1b8c9c55c142}{PageAllocator}}* allocator = \mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{GetPlatformPageAllocator}}();}
\DoxyCodeLine{2243   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{src_2base_2macros_8h_ab7a19c1f785f31f2b190afc19875368a}{IsAligned}}(region.begin(), allocator-\/>CommitPageSize()));}
\DoxyCodeLine{2244   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{src_2base_2macros_8h_ab7a19c1f785f31f2b190afc19875368a}{IsAligned}}(region.size(), allocator-\/>CommitPageSize()));}
\DoxyCodeLine{2245   [[maybe\_unused]] \textcolor{keywordtype}{size\_t} old\_committed =}
\DoxyCodeLine{2246       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}{total\_committed\_code\_space\_}}.fetch\_sub(region.size());}
\DoxyCodeLine{2247   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(region.size(), old\_committed);}
\DoxyCodeLine{2248   \mbox{\hyperlink{wasm-code-manager_8cc_a999acc4125a715214037c81dd456611d}{TRACE\_HEAP}}(\textcolor{stringliteral}{"{}Decommitting system pages 0x\%"{}} PRIxPTR \textcolor{stringliteral}{"{}:0x\%"{}} PRIxPTR \textcolor{stringliteral}{"{}\(\backslash\)n"{}},}
\DoxyCodeLine{2249              region.begin(), region.end());}
\DoxyCodeLine{2250   \textcolor{keywordflow}{if} (\mbox{\hyperlink{v8config_8h_a67bd29db07c711b0fb11ff1c324ebb60}{V8\_UNLIKELY}}(!allocator-\/>DecommitPages(}
\DoxyCodeLine{2251           \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(region.begin()), region.size()))) \{}
\DoxyCodeLine{2252     \textcolor{comment}{// Decommit can fail in near-\/OOM situations.}}
\DoxyCodeLine{2253     \textcolor{keyword}{auto} oom\_detail = \mbox{\hyperlink{namespacev8_1_1base_a8a96976677371a5201af88b56be08915}{base::FormattedString}}\{\} << \textcolor{stringliteral}{"{}region size: "{}}}
\DoxyCodeLine{2254                                               << region.size();}
\DoxyCodeLine{2255     \mbox{\hyperlink{classv8_1_1internal_1_1V8_a977b087d4ee58955efe72b33136a4e94}{V8::FatalProcessOutOfMemory}}(\textcolor{keyword}{nullptr}, \textcolor{stringliteral}{"{}Decommit Wasm code space"{}},}
\DoxyCodeLine{2256                                 oom\_detail.PrintToArray().data());}
\DoxyCodeLine{2257   \}}
\DoxyCodeLine{2258 \}}

\end{DoxyCode}


References v8\+::base\+::\+Address\+Region\+::begin(), v8\+::\+Page\+Allocator\+::\+Commit\+Page\+Size(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+LE, v8\+::\+Page\+Allocator\+::\+Decommit\+Pages(), v8\+::base\+::\+Address\+Region\+::end(), v8\+::internal\+::\+V8\+::\+Fatal\+Process\+Out\+Of\+Memory(), v8\+::internal\+::\+Get\+Platform\+Page\+Allocator(), Is\+Aligned(), v8\+::base\+::\+Address\+Region\+::size(), total\+\_\+committed\+\_\+code\+\_\+space\+\_\+, TRACE\+\_\+\+HEAP, and V8\+\_\+\+UNLIKELY.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a1b32b6ad2137dab896d869457d0d21e7_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a0fcb42a940eb11201694e507b09fa04c}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a0fcb42a940eb11201694e507b09fa04c}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!EstimateLiftoffCodeSize@{EstimateLiftoffCodeSize}}
\index{EstimateLiftoffCodeSize@{EstimateLiftoffCodeSize}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{EstimateLiftoffCodeSize()}{EstimateLiftoffCodeSize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Liftoff\+Code\+Size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{body\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 2380 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2380                                                              \{}
\DoxyCodeLine{2381   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aec9c68fab0e549d2a7e8c7c55f76508f}{kLiftoffFunctionOverhead}} + \mbox{\hyperlink{namespacev8_1_1internal_a52434390901f205f6bdb0402a183aef3}{kCodeAlignment}} / 2 +}
\DoxyCodeLine{2382          body\_size * \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ae77bb61bd9be7313c88b369cec892fe4}{kLiftoffCodeSizeMultiplier}};}
\DoxyCodeLine{2383 \}}

\end{DoxyCode}


References v8\+::internal\+::k\+Code\+Alignment, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/code-\/manager.\+cc\}\+::k\+Liftoff\+Code\+Size\+Multiplier, and v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/code-\/manager.\+cc\}\+::k\+Liftoff\+Function\+Overhead.



Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{liftoff-\/compiler.\+cc\}\+::\+New\+Liftoff\+Assembler\+Buffer().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a0fcb42a940eb11201694e507b09fa04c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5b6cfe5d63b1c5f3b54fdb34ed91c863}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5b6cfe5d63b1c5f3b54fdb34ed91c863}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!EstimateNativeModuleCodeSize@{EstimateNativeModuleCodeSize}}
\index{EstimateNativeModuleCodeSize@{EstimateNativeModuleCodeSize}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{EstimateNativeModuleCodeSize()}{EstimateNativeModuleCodeSize()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Code\+Size (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $\ast$}]{module }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 2386 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2386                                                                              \{}
\DoxyCodeLine{2387   \textcolor{keywordtype}{int} code\_section\_length = 0;}
\DoxyCodeLine{2388   \textcolor{keywordflow}{if} (module-\/>num\_declared\_functions > 0) \{}
\DoxyCodeLine{2389     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(module-\/>functions.size(),}
\DoxyCodeLine{2390               module-\/>num\_imported\_functions + module-\/>num\_declared\_functions);}
\DoxyCodeLine{2391     \textcolor{keyword}{auto}* first\_fn = \&module-\/>functions[module-\/>num\_imported\_functions];}
\DoxyCodeLine{2392     \textcolor{keyword}{auto}* last\_fn = \&module-\/>functions.back();}
\DoxyCodeLine{2393     code\_section\_length =}
\DoxyCodeLine{2394         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(last\_fn-\/>code.end\_offset() -\/ first\_fn-\/>code.offset());}
\DoxyCodeLine{2395   \}}
\DoxyCodeLine{2396   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5b6cfe5d63b1c5f3b54fdb34ed91c863}{EstimateNativeModuleCodeSize}}(module-\/>num\_declared\_functions,}
\DoxyCodeLine{2397                                       code\_section\_length);}
\DoxyCodeLine{2398 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+EQ, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::functions, v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+declared\+\_\+functions, and v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+imported\+\_\+functions.



Referenced by v8\+::internal\+::wasm\+::\+Deserialize\+Native\+Module(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{module-\/compiler.\+cc\}\+::\+Get\+Or\+Compile\+New\+Native\+Module(), v8\+::internal\+::\+Asm\+Wasm\+Data\+::\+New(), v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+On\+Finished\+Stream(), v8\+::internal\+::wasm\+::\+Async\+Streaming\+Processor\+::\+Process\+Code\+Section\+Header(), and v8\+::internal\+::wasm\+::\+Async\+Compile\+Job\+::\+Decode\+Module\+::\+Run\+In\+Background().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5b6cfe5d63b1c5f3b54fdb34ed91c863_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a1fbaa24f3a0fc9f3abd82032f97e2b53}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a1fbaa24f3a0fc9f3abd82032f97e2b53}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!EstimateNativeModuleCodeSize@{EstimateNativeModuleCodeSize}}
\index{EstimateNativeModuleCodeSize@{EstimateNativeModuleCodeSize}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{EstimateNativeModuleCodeSize()}{EstimateNativeModuleCodeSize()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Code\+Size (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classint}{int}}}]{num\+\_\+functions,  }\item[{\mbox{\hyperlink{classint}{int}}}]{code\+\_\+section\+\_\+length }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 2401 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2402                                                                               \{}
\DoxyCodeLine{2403   \textcolor{comment}{// It can happen that even without any functions we still have a code section}}
\DoxyCodeLine{2404   \textcolor{comment}{// of size 1, defining 0 function bodies. Still report 0 overall in this case.}}
\DoxyCodeLine{2405   \textcolor{keywordflow}{if} (num\_functions == 0) \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{2406 }
\DoxyCodeLine{2407   \textcolor{comment}{// The size for the jump table and far jump table is added later, per code}}
\DoxyCodeLine{2408   \textcolor{comment}{// space (see \{OverheadPerCodeSpace\}). We still need to add the overhead for}}
\DoxyCodeLine{2409   \textcolor{comment}{// the lazy compile table once, though. There are configurations where we do}}
\DoxyCodeLine{2410   \textcolor{comment}{// not need it (non-\/asm.js, no dynamic tiering and no lazy compilation), but}}
\DoxyCodeLine{2411   \textcolor{comment}{// we ignore this here as most of the time we will need it.}}
\DoxyCodeLine{2412   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} lazy\_compile\_table\_size =}
\DoxyCodeLine{2413       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1JumpTableAssembler_a52670982950dc90851cb4a1de6e97781}{JumpTableAssembler::SizeForNumberOfLazyFunctions}}(num\_functions);}
\DoxyCodeLine{2414 }
\DoxyCodeLine{2415   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} overhead\_per\_function\_turbofan =}
\DoxyCodeLine{2416       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a93d8640192430c5aa311574383d61852}{kTurbofanFunctionOverhead}} + \mbox{\hyperlink{namespacev8_1_1internal_a52434390901f205f6bdb0402a183aef3}{kCodeAlignment}} / 2;}
\DoxyCodeLine{2417   \textcolor{keywordtype}{size\_t} size\_of\_turbofan = overhead\_per\_function\_turbofan * num\_functions +}
\DoxyCodeLine{2418                             \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ac6aa19bf8c4fd80552e4c824e68487e7}{kTurbofanCodeSizeMultiplier}} * code\_section\_length;}
\DoxyCodeLine{2419 }
\DoxyCodeLine{2420   \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} overhead\_per\_function\_liftoff =}
\DoxyCodeLine{2421       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_aec9c68fab0e549d2a7e8c7c55f76508f}{kLiftoffFunctionOverhead}} + \mbox{\hyperlink{namespacev8_1_1internal_a52434390901f205f6bdb0402a183aef3}{kCodeAlignment}} / 2;}
\DoxyCodeLine{2422   \textcolor{comment}{// Note: For asm.js we do not have Liftoff support, but this corner case is}}
\DoxyCodeLine{2423   \textcolor{comment}{// being ignored here.}}
\DoxyCodeLine{2424   \textcolor{keywordtype}{size\_t} size\_of\_liftoff =}
\DoxyCodeLine{2425       \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.liftoff ? overhead\_per\_function\_liftoff * num\_functions +}
\DoxyCodeLine{2426                              \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_ae77bb61bd9be7313c88b369cec892fe4}{kLiftoffCodeSizeMultiplier}} * code\_section\_length}
\DoxyCodeLine{2427                        : 0;}
\DoxyCodeLine{2428   \textcolor{comment}{// Expect that typically not more than half of the functions are actually}}
\DoxyCodeLine{2429   \textcolor{comment}{// compiled.}}
\DoxyCodeLine{2430   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_lazy\_compilation) size\_of\_liftoff /= 2;}
\DoxyCodeLine{2431 }
\DoxyCodeLine{2432   \textcolor{comment}{// With dynamic tiering we don't expect to compile more than 25\% with}}
\DoxyCodeLine{2433   \textcolor{comment}{// TurboFan. If there is no liftoff though then all code will get generated}}
\DoxyCodeLine{2434   \textcolor{comment}{// by TurboFan.}}
\DoxyCodeLine{2435   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.liftoff \&\& \mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_dynamic\_tiering) size\_of\_turbofan /= 4;}
\DoxyCodeLine{2436 }
\DoxyCodeLine{2437   \textcolor{keywordflow}{return} lazy\_compile\_table\_size + size\_of\_liftoff + size\_of\_turbofan;}
\DoxyCodeLine{2438 \}}

\end{DoxyCode}


References v8\+::internal\+::k\+Code\+Alignment, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/code-\/manager.\+cc\}\+::k\+Liftoff\+Code\+Size\+Multiplier, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/code-\/manager.\+cc\}\+::k\+Liftoff\+Function\+Overhead, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/code-\/manager.\+cc\}\+::k\+Turbofan\+Code\+Size\+Multiplier, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/code-\/manager.\+cc\}\+::k\+Turbofan\+Function\+Overhead, v8\+::internal\+::wasm\+::\+Jump\+Table\+Assembler\+::\+Size\+For\+Number\+Of\+Lazy\+Functions(), and v8\+::internal\+::v8\+\_\+flags.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a1fbaa24f3a0fc9f3abd82032f97e2b53_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a329950b560b30699bd218b9622eedda7}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a329950b560b30699bd218b9622eedda7}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!EstimateNativeModuleMetaDataSize@{EstimateNativeModuleMetaDataSize}}
\index{EstimateNativeModuleMetaDataSize@{EstimateNativeModuleMetaDataSize}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{EstimateNativeModuleMetaDataSize()}{EstimateNativeModuleMetaDataSize()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Estimate\+Native\+Module\+Meta\+Data\+Size (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $\ast$}]{module }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 2441 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2442                               \{}
\DoxyCodeLine{2443   \textcolor{keywordtype}{size\_t} wasm\_module\_estimate = module-\/>EstimateStoredSize();}
\DoxyCodeLine{2444 }
\DoxyCodeLine{2445   uint32\_t num\_wasm\_functions = module-\/>num\_declared\_functions;}
\DoxyCodeLine{2446 }
\DoxyCodeLine{2447   \textcolor{comment}{// TODO(wasm): Include wire bytes size.}}
\DoxyCodeLine{2448   \textcolor{keywordtype}{size\_t} native\_module\_estimate =}
\DoxyCodeLine{2449       \textcolor{keyword}{sizeof}(NativeModule) +                      \textcolor{comment}{// NativeModule struct}}
\DoxyCodeLine{2450       (\textcolor{keyword}{sizeof}(WasmCode*) * num\_wasm\_functions) +  \textcolor{comment}{// code table size}}
\DoxyCodeLine{2451       (\textcolor{keyword}{sizeof}(WasmCode) * num\_wasm\_functions);    \textcolor{comment}{// code object size}}
\DoxyCodeLine{2452 }
\DoxyCodeLine{2453   \textcolor{keywordtype}{size\_t} jump\_table\_size = RoundUp<kCodeAlignment>(}
\DoxyCodeLine{2454       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1JumpTableAssembler_a5515cdbbc42cf3c78581ea13768f74bb}{JumpTableAssembler::SizeForNumberOfSlots}}(num\_wasm\_functions));}
\DoxyCodeLine{2455   \textcolor{keywordtype}{size\_t} far\_jump\_table\_size =}
\DoxyCodeLine{2456       RoundUp<kCodeAlignment>(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1JumpTableAssembler_a87add92ae969554c1b14d8ff3e8d7cd2}{JumpTableAssembler::SizeForNumberOfFarJumpSlots}}(}
\DoxyCodeLine{2457           \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1BuiltinLookup_a934b529bc9c9104095b6c98ffaba9697}{BuiltinLookup::BuiltinCount}}(),}
\DoxyCodeLine{2458           \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_a20eca43d1fce6cfb2a372f61af3c754f}{NumWasmFunctionsInFarJumpTable}}(num\_wasm\_functions)));}
\DoxyCodeLine{2459 }
\DoxyCodeLine{2460   \textcolor{keywordflow}{return} wasm\_module\_estimate + native\_module\_estimate + jump\_table\_size +}
\DoxyCodeLine{2461          far\_jump\_table\_size;}
\DoxyCodeLine{2462 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Builtin\+Lookup\+::\+Builtin\+Count(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::\+Estimate\+Stored\+Size(), v8\+::internal\+::wasm\+::\+Wasm\+Module\+::num\+\_\+declared\+\_\+functions, v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/code-\/manager.\+cc\}\+::\+Num\+Wasm\+Functions\+In\+Far\+Jump\+Table(), v8\+::internal\+::wasm\+::\+Jump\+Table\+Assembler\+::\+Size\+For\+Number\+Of\+Far\+Jump\+Slots(), and v8\+::internal\+::wasm\+::\+Jump\+Table\+Assembler\+::\+Size\+For\+Number\+Of\+Slots().



Referenced by v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/engine.\+cc\}\+::\+Create\+Wasm\+Script(), v8\+::internal\+::\+Asm\+Wasm\+Data\+::\+New(), and v8\+::internal\+::\+Wasm\+Module\+Object\+::\+New().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a329950b560b30699bd218b9622eedda7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a329950b560b30699bd218b9622eedda7_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aa5c5ecc61ab174d77400fa3082e73537}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aa5c5ecc61ab174d77400fa3082e73537}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!FlushCodeLookupCache@{FlushCodeLookupCache}}
\index{FlushCodeLookupCache@{FlushCodeLookupCache}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{FlushCodeLookupCache()}{FlushCodeLookupCache()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Flush\+Code\+Lookup\+Cache (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate }\end{DoxyParamCaption})}



Definition at line 3025 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{3025                                                            \{}
\DoxyCodeLine{3026   \textcolor{keywordflow}{return} isolate-\/>wasm\_code\_look\_up\_cache()-\/>Flush();}
\DoxyCodeLine{3027 \}}

\end{DoxyCode}


Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Free\+Native\+Module(), and v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Report\+Live\+Code\+From\+Stack\+For\+GC().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_aa5c5ecc61ab174d77400fa3082e73537_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a27ace0686f32545957a6b0948813db9a}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a27ace0686f32545957a6b0948813db9a}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!FreeNativeModule@{FreeNativeModule}}
\index{FreeNativeModule@{FreeNativeModule}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{FreeNativeModule()}{FreeNativeModule()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_ac81d27d6edb00aeed62a3e4745b8cba0}{void}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Free\+Native\+Module (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1base_1_1Vector}{base\+::\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1VirtualMemory}{Virtual\+Memory}} $>$}]{owned\+\_\+code,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{committed\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2934 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2935                                                                        \{}
\DoxyCodeLine{2936   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} lock(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a4964601ddec44dd9566edc193900a11b}{native\_modules\_mutex\_}});}
\DoxyCodeLine{2937   \textcolor{keywordflow}{for} (\textcolor{keyword}{auto}\& code\_space : owned\_code\_space) \{}
\DoxyCodeLine{2938     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(code\_space.IsReserved());}
\DoxyCodeLine{2939     \mbox{\hyperlink{wasm-code-manager_8cc_a999acc4125a715214037c81dd456611d}{TRACE\_HEAP}}(\textcolor{stringliteral}{"{}VMem Release: 0x\%"{}} PRIxPTR \textcolor{stringliteral}{"{}:0x\%"{}} PRIxPTR \textcolor{stringliteral}{"{} (\%zu)\(\backslash\)n"{}},}
\DoxyCodeLine{2940                code\_space.address(), code\_space.end(), code\_space.size());}
\DoxyCodeLine{2941 }
\DoxyCodeLine{2942 \textcolor{preprocessor}{\#if defined(V8\_OS\_WIN64)}}
\DoxyCodeLine{2943     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_1_1win64__unwindinfo_a2af86e498cb6c3f31bc898c6b40d287e}{CanRegisterUnwindInfoForNonABICompliantCodeRange}}()) \{}
\DoxyCodeLine{2944       \mbox{\hyperlink{namespacev8_1_1internal_1_1win64__unwindinfo_a70f996f40a6b9c963c47bb920970d841}{win64\_unwindinfo::UnregisterNonABICompliantCodeRange}}(}
\DoxyCodeLine{2945           \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(code\_space.address()));}
\DoxyCodeLine{2946     \}}
\DoxyCodeLine{2947 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_OS\_WIN64}}
\DoxyCodeLine{2948 }
\DoxyCodeLine{2949     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a282904997b2ddd09190c6b70245e1596}{lookup\_map\_}}.erase(code\_space.address());}
\DoxyCodeLine{2950     \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a6a523c13e4e0f1cd5dc4a57a754a616a}{ThreadIsolation::UnregisterJitPage}}(code\_space.address(), code\_space.size());}
\DoxyCodeLine{2951     code\_space.Free();}
\DoxyCodeLine{2952     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!code\_space.IsReserved());}
\DoxyCodeLine{2953   \}}
\DoxyCodeLine{2954 }
\DoxyCodeLine{2955   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{src_2base_2macros_8h_ab7a19c1f785f31f2b190afc19875368a}{IsAligned}}(committed\_size, \mbox{\hyperlink{namespacev8_1_1internal_a6a5f128ae031000011e13ca7534dfc91}{CommitPageSize}}()));}
\DoxyCodeLine{2956   [[maybe\_unused]] \textcolor{keywordtype}{size\_t} old\_committed =}
\DoxyCodeLine{2957       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}{total\_committed\_code\_space\_}}.fetch\_sub(committed\_size);}
\DoxyCodeLine{2958   \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(committed\_size, old\_committed);}
\DoxyCodeLine{2959 \}}

\end{DoxyCode}


References v8\+::internal\+::win64\+\_\+unwindinfo\+::\+Can\+Register\+Unwind\+Info\+For\+Non\+ABICompliant\+Code\+Range(), v8\+::internal\+::\+Commit\+Page\+Size(), v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+LE, Is\+Aligned(), lookup\+\_\+map\+\_\+, native\+\_\+modules\+\_\+mutex\+\_\+, total\+\_\+committed\+\_\+code\+\_\+space\+\_\+, TRACE\+\_\+\+HEAP, v8\+::internal\+::\+Thread\+Isolation\+::\+Unregister\+Jit\+Page(), and v8\+::internal\+::win64\+\_\+unwindinfo\+::\+Unregister\+Non\+ABICompliant\+Code\+Range().



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Code\+Allocator\+::$\sim$\+Wasm\+Code\+Allocator().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a27ace0686f32545957a6b0948813db9a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a27ace0686f32545957a6b0948813db9a_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a3efdc870dd21f075b3c408101c23feeb}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a3efdc870dd21f075b3c408101c23feeb}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!HasMemoryProtectionKeySupport@{HasMemoryProtectionKeySupport}}
\index{HasMemoryProtectionKeySupport@{HasMemoryProtectionKeySupport}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{HasMemoryProtectionKeySupport()}{HasMemoryProtectionKeySupport()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Has\+Memory\+Protection\+Key\+Support (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 2465 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2465                                                     \{}
\DoxyCodeLine{2466 \textcolor{preprocessor}{\#if V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{2467   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1RwxMemoryWriteScope_a9771bab10900e92154b51ae8884ebd47}{RwxMemoryWriteScope::IsSupported}}();}
\DoxyCodeLine{2468 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2469   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2470 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{2471 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Rwx\+Memory\+Write\+Scope\+::\+Is\+Supported().



Referenced by Memory\+Protection\+Keys\+Enabled(), and v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+New\+Native\+Module().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a3efdc870dd21f075b3c408101c23feeb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a3efdc870dd21f075b3c408101c23feeb_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a2be288a7720a1f7bdf64f5060b7c782a}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a2be288a7720a1f7bdf64f5060b7c782a}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!LookupCode@{LookupCode}}
\index{LookupCode@{LookupCode}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{LookupCode()}{LookupCode()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$ v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Lookup\+Code (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}}]{pc }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2976 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2976                                                       \{}
\DoxyCodeLine{2977   NativeModule* candidate = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a65237f5b80dae7a92d86f131b6df4461}{LookupNativeModule}}(pc);}
\DoxyCodeLine{2978   \textcolor{keywordflow}{if} (candidate) \textcolor{keywordflow}{return} candidate-\/>Lookup(pc);}
\DoxyCodeLine{2979   \textcolor{keywordflow}{return} \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_a36345041662f17bb39d27709c1cb78ac}{GetWasmImportWrapperCache}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache_a14ee1f266c89689eb799afe5f843dc41}{Lookup}}(pc);}
\DoxyCodeLine{2980 \}}

\end{DoxyCode}


References v8\+::internal\+::wasm\+::\+Get\+Wasm\+Import\+Wrapper\+Cache(), v8\+::internal\+::wasm\+::\+Wasm\+Import\+Wrapper\+Cache\+::\+Lookup(), v8\+::internal\+::wasm\+::\+Native\+Module\+::\+Lookup(), and Lookup\+Native\+Module().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a2be288a7720a1f7bdf64f5060b7c782a_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8b17776c8a4fe19718f2b1931544253f}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8b17776c8a4fe19718f2b1931544253f}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!LookupCode@{LookupCode}}
\index{LookupCode@{LookupCode}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{LookupCode()}{LookupCode()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$ v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Lookup\+Code (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}}]{pc }\end{DoxyParamCaption}) const}



Definition at line 2982 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2982                                                                         \{}
\DoxyCodeLine{2983   \textcolor{comment}{// Since kNullAddress is used as a sentinel value, we should not try}}
\DoxyCodeLine{2984   \textcolor{comment}{// to look it up in the cache}}
\DoxyCodeLine{2985   \textcolor{keywordflow}{if} (pc == \mbox{\hyperlink{namespacev8_1_1internal_acf6bafb5b8483a580f375393c413ee02}{kNullAddress}}) \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2986   \textcolor{comment}{// If 'isolate' is nullptr, do not use a cache. This can happen when}}
\DoxyCodeLine{2987   \textcolor{comment}{// called from function V8NameConverter::NameOfAddress}}
\DoxyCodeLine{2988   \textcolor{keywordflow}{if} (isolate) \{}
\DoxyCodeLine{2989     \textcolor{keywordflow}{return} isolate-\/>wasm\_code\_look\_up\_cache()-\/>GetCacheEntry(pc)-\/>code;}
\DoxyCodeLine{2990   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2991     wasm::WasmCodeRefScope code\_ref\_scope;}
\DoxyCodeLine{2992     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8b17776c8a4fe19718f2b1931544253f}{LookupCode}}(pc);}
\DoxyCodeLine{2993   \}}
\DoxyCodeLine{2994 \}}

\end{DoxyCode}


References v8\+::internal\+::k\+Null\+Address.



Referenced by v8\+::internal\+::wasm\+::\+Feedback\+Maker\+::\+Add\+Call\+Indirect\+Candidate(), v8\+::internal\+::\+Deoptimizer\+::\+Deoptimizer(), v8\+::internal\+::\+Deoptimizer\+::\+Ensure\+Valid\+Return\+Address(), v8\+::internal\+::wasm\+::\+Wasm\+Code\+Lookup\+Cache\+::\+Get\+Cache\+Entry(), v8\+::internal\+::anonymous\+\_\+namespace\{frames.\+cc\}\+::\+Get\+State\+For\+Fast\+CCall\+Caller\+FP(), v8\+::internal\+::\+Common\+Frame\+::\+Has\+Tagged\+Outgoing\+Params(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/engine.\+cc\}\+::\+Report\+Live\+Code\+From\+Frame\+For\+GC(), and v8\+::internal\+::\+Isolate\+::\+Unwind\+And\+Find\+Handler().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8b17776c8a4fe19718f2b1931544253f_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a589a55d2b33354d07415b1a22cb00d89}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a589a55d2b33354d07415b1a22cb00d89}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!LookupCodeAndSafepoint@{LookupCodeAndSafepoint}}
\index{LookupCodeAndSafepoint@{LookupCodeAndSafepoint}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{LookupCodeAndSafepoint()}{LookupCodeAndSafepoint()}}
{\footnotesize\ttfamily std\+::pair$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCode}{Wasm\+Code}} $\ast$, \mbox{\hyperlink{classv8_1_1internal_1_1SafepointEntry}{Safepoint\+Entry}} $>$ v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Lookup\+Code\+And\+Safepoint (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}}]{pc }\end{DoxyParamCaption})}



Definition at line 2996 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2997                                   \{}
\DoxyCodeLine{2998   \textcolor{keyword}{auto}* entry = isolate-\/>wasm\_code\_look\_up\_cache()-\/>GetCacheEntry(pc);}
\DoxyCodeLine{2999   WasmCode* \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = entry-\/>code;}
\DoxyCodeLine{3000   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}});}
\DoxyCodeLine{3001   \textcolor{comment}{// For protected instructions we usually do not emit a safepoint because the}}
\DoxyCodeLine{3002   \textcolor{comment}{// frame will be unwound anyway. The exception is debugging code, where the}}
\DoxyCodeLine{3003   \textcolor{comment}{// frame might be inspected if "{}pause on exception"{} is set.}}
\DoxyCodeLine{3004   \textcolor{comment}{// For those instructions, we thus need to explicitly return an empty}}
\DoxyCodeLine{3005   \textcolor{comment}{// safepoint; using any previously registered safepoint can lead to crashes}}
\DoxyCodeLine{3006   \textcolor{comment}{// when we try to visit spill slots that do not hold tagged values at this}}
\DoxyCodeLine{3007   \textcolor{comment}{// point.}}
\DoxyCodeLine{3008   \textcolor{comment}{// Evaluate this condition only on demand (the fast path does not need it).}}
\DoxyCodeLine{3009   \textcolor{keyword}{auto} expect\_safepoint = [\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}, pc]() \{}
\DoxyCodeLine{3010     \textcolor{keyword}{const} \textcolor{keywordtype}{bool} is\_protected\_instruction = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>IsProtectedInstruction(}
\DoxyCodeLine{3011         pc -\/ WasmFrameConstants::kProtectedInstructionReturnAddressOffset);}
\DoxyCodeLine{3012     \textcolor{keywordflow}{return} !is\_protected\_instruction || \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}-\/>for\_debugging();}
\DoxyCodeLine{3013   \};}
\DoxyCodeLine{3014   \textcolor{keywordflow}{if} (!entry-\/>safepoint\_entry.is\_initialized() \&\& expect\_safepoint()) \{}
\DoxyCodeLine{3015     entry-\/>safepoint\_entry = SafepointTable\{\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}\}.TryFindEntry(pc);}
\DoxyCodeLine{3016     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(entry-\/>safepoint\_entry.is\_initialized());}
\DoxyCodeLine{3017   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (expect\_safepoint()) \{}
\DoxyCodeLine{3018     \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(entry-\/>safepoint\_entry, SafepointTable\{code\}.TryFindEntry(pc));}
\DoxyCodeLine{3019   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{3020     \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!entry-\/>safepoint\_entry.is\_initialized());}
\DoxyCodeLine{3021   \}}
\DoxyCodeLine{3022   \textcolor{keywordflow}{return} std::make\_pair(\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}, entry-\/>safepoint\_entry);}
\DoxyCodeLine{3023 \}}

\end{DoxyCode}


References CHECK, code, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+NOT\+\_\+\+NULL, and v8\+::internal\+::\+Safepoint\+Table\+::\+Try\+Find\+Entry().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a589a55d2b33354d07415b1a22cb00d89_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a65237f5b80dae7a92d86f131b6df4461}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a65237f5b80dae7a92d86f131b6df4461}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!LookupNativeModule@{LookupNativeModule}}
\index{LookupNativeModule@{LookupNativeModule}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{LookupNativeModule()}{LookupNativeModule()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $\ast$ v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Lookup\+Native\+Module (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}}]{pc }\end{DoxyParamCaption}) const}



Definition at line 2961 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2961                                                                   \{}
\DoxyCodeLine{2962   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} lock(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a4964601ddec44dd9566edc193900a11b}{native\_modules\_mutex\_}});}
\DoxyCodeLine{2963   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a282904997b2ddd09190c6b70245e1596}{lookup\_map\_}}.empty()) \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2964 }
\DoxyCodeLine{2965   \textcolor{keyword}{auto} iter = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a282904997b2ddd09190c6b70245e1596}{lookup\_map\_}}.upper\_bound(pc);}
\DoxyCodeLine{2966   \textcolor{keywordflow}{if} (iter == \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a282904997b2ddd09190c6b70245e1596}{lookup\_map\_}}.begin()) \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2967   -\/-\/iter;}
\DoxyCodeLine{2968   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} region\_start = iter-\/>first;}
\DoxyCodeLine{2969   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} region\_end = iter-\/>second.first;}
\DoxyCodeLine{2970   NativeModule* candidate = iter-\/>second.second;}
\DoxyCodeLine{2971 }
\DoxyCodeLine{2972   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(candidate);}
\DoxyCodeLine{2973   \textcolor{keywordflow}{return} region\_start <= pc \&\& pc < region\_end ? candidate : \textcolor{keyword}{nullptr};}
\DoxyCodeLine{2974 \}}

\end{DoxyCode}


References DCHECK\+\_\+\+NOT\+\_\+\+NULL, lookup\+\_\+map\+\_\+, and native\+\_\+modules\+\_\+mutex\+\_\+.



Referenced by Lookup\+Code().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a65237f5b80dae7a92d86f131b6df4461_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a930893209d531231682fce4cbef728ed}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a930893209d531231682fce4cbef728ed}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!MemoryProtectionKeysEnabled@{MemoryProtectionKeysEnabled}}
\index{MemoryProtectionKeysEnabled@{MemoryProtectionKeysEnabled}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{MemoryProtectionKeysEnabled()}{MemoryProtectionKeysEnabled()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Memory\+Protection\+Keys\+Enabled (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 2474 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2474                                                   \{}
\DoxyCodeLine{2475   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a3efdc870dd21f075b3c408101c23feeb}{HasMemoryProtectionKeySupport}}();}
\DoxyCodeLine{2476 \}}

\end{DoxyCode}


References Has\+Memory\+Protection\+Key\+Support().



Referenced by Try\+Allocate().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a930893209d531231682fce4cbef728ed_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a930893209d531231682fce4cbef728ed_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a2241851e1074b022606031a831966b17}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a2241851e1074b022606031a831966b17}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!MemoryProtectionKeyWritable@{MemoryProtectionKeyWritable}}
\index{MemoryProtectionKeyWritable@{MemoryProtectionKeyWritable}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{MemoryProtectionKeyWritable()}{MemoryProtectionKeyWritable()}}
{\footnotesize\ttfamily \mbox{\hyperlink{namespacev8_1_1internal_a4e2118a7c0d730210e0cb87b511cba70}{bool}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Memory\+Protection\+Key\+Writable (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 2479 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2479                                                   \{}
\DoxyCodeLine{2480 \textcolor{preprocessor}{\#if V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{2481   \textcolor{keywordflow}{return} RwxMemoryWriteScope::IsPKUWritable();}
\DoxyCodeLine{2482 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2483   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{2484 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{2485 \}}

\end{DoxyCode}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8cbd92108ae1c153f66f40609aed5783}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8cbd92108ae1c153f66f40609aed5783}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!NewNativeModule@{NewNativeModule}}
\index{NewNativeModule@{NewNativeModule}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{NewNativeModule()}{NewNativeModule()}}
{\footnotesize\ttfamily std\+::shared\+\_\+ptr$<$ \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}} $>$ v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+New\+Native\+Module (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Isolate}{Isolate}} $\ast$}]{isolate,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEnabledFeatures}{Wasm\+Enabled\+Features}}}]{enabled\+\_\+features,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmDetectedFeatures}{Wasm\+Detected\+Features}}}]{detected\+\_\+features,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1CompileTimeImports}{Compile\+Time\+Imports}}}]{compile\+\_\+imports,  }\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{code\+\_\+size\+\_\+estimate,  }\item[{std\+::shared\+\_\+ptr$<$ const \mbox{\hyperlink{structv8_1_1internal_1_1wasm_1_1WasmModule}{Wasm\+Module}} $>$}]{module }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2487 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2490                                                                        \{}
\DoxyCodeLine{2491 \textcolor{preprocessor}{\#if V8\_ENABLE\_DRUMBRAKE}}
\DoxyCodeLine{2492   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_jitless) \{}
\DoxyCodeLine{2493     VirtualMemory code\_space;}
\DoxyCodeLine{2494     std::shared\_ptr<NativeModule> ret;}
\DoxyCodeLine{2495     \textcolor{keyword}{new} NativeModule(enabled\_features, detected\_features, compile\_imports,}
\DoxyCodeLine{2496                      std::move(code\_space), std::move(module),}
\DoxyCodeLine{2497                      isolate-\/>async\_counters(), \&ret);}
\DoxyCodeLine{2498     \textcolor{comment}{// The constructor initialized the shared\_ptr.}}
\DoxyCodeLine{2499     \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(ret);}
\DoxyCodeLine{2500     \mbox{\hyperlink{wasm-code-manager_8cc_a999acc4125a715214037c81dd456611d}{TRACE\_HEAP}}(\textcolor{stringliteral}{"{}New NativeModule (wasm-\/jitless) \%p\(\backslash\)n"{}}, ret.get());}
\DoxyCodeLine{2501     \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{2502   \}}
\DoxyCodeLine{2503 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// V8\_ENABLE\_DRUMBRAKE}}
\DoxyCodeLine{2504 }
\DoxyCodeLine{2505   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}{total\_committed\_code\_space\_}}.load() >}
\DoxyCodeLine{2506       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5690c15d56eb42cffb868c23ac92f424}{critical\_committed\_code\_space\_}}.load()) \{}
\DoxyCodeLine{2507     \textcolor{comment}{// Flush Liftoff code and record the flushed code size.}}
\DoxyCodeLine{2508     \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.flush\_liftoff\_code) \{}
\DoxyCodeLine{2509       \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_abc12fc3b25ebfb54c20b8479642acb94}{wasm::GetWasmEngine}}()-\/>\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine_ab84991e9216741ff8c932c1a64d5aced}{FlushLiftoffCode}}();}
\DoxyCodeLine{2510     \}}
\DoxyCodeLine{2511     (\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classv8_1_1Isolate}{v8::Isolate}}*\textcolor{keyword}{>}(isolate))}
\DoxyCodeLine{2512         -\/>MemoryPressureNotification(\mbox{\hyperlink{namespacev8_ae0e9a25bf51e518585f555806e7dc7b9a5a20548c220f372fc701cae6de94040b}{MemoryPressureLevel::kCritical}});}
\DoxyCodeLine{2513     \textcolor{keywordtype}{size\_t} committed = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}{total\_committed\_code\_space\_}}.load();}
\DoxyCodeLine{2514     \mbox{\hyperlink{src_2base_2logging_8h_aabec5c3b7a8628298a25f044dcf89c25}{DCHECK\_GE}}(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a102c2c6b55ae7094aaac669c22150174}{max\_committed\_code\_space\_}}, committed);}
\DoxyCodeLine{2515     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5690c15d56eb42cffb868c23ac92f424}{critical\_committed\_code\_space\_}}.store(}
\DoxyCodeLine{2516         committed + (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a102c2c6b55ae7094aaac669c22150174}{max\_committed\_code\_space\_}} -\/ committed) / 2);}
\DoxyCodeLine{2517   \}}
\DoxyCodeLine{2518 }
\DoxyCodeLine{2519   \textcolor{comment}{// On 32-\/bit platforms where no far jumps are needed between code spaces, use}}
\DoxyCodeLine{2520   \textcolor{comment}{// a reduced code size estimate. This saves some precious address space at the}}
\DoxyCodeLine{2521   \textcolor{comment}{// cost of needing more code spaces, but those are cheaper if they do not}}
\DoxyCodeLine{2522   \textcolor{comment}{// result in more far jumps.}}
\DoxyCodeLine{2523   \textcolor{comment}{// For now it is the case that far jumps are only needed on 64-\/bit platforms,}}
\DoxyCodeLine{2524   \textcolor{comment}{// so those two conditions can be interchanged. Think about which logic to use}}
\DoxyCodeLine{2525   \textcolor{comment}{// once those diverge.}}
\DoxyCodeLine{2526   static\_assert(\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a1c38ae4d35483f2b9c6e5634c7bf4bd6}{NativeModule::kNeedsFarJumpsBetweenCodeSpaces}} ==}
\DoxyCodeLine{2527                 (\mbox{\hyperlink{namespacev8_1_1internal_a72cbfdfeabb9a401f279f7b80bcff67a}{kSystemPointerSize}} == \mbox{\hyperlink{namespacev8_1_1internal_a191fd08d000c1fc6a1c0d14655f1b711}{kInt64Size}}));}
\DoxyCodeLine{2528   \textcolor{keywordflow}{if} constexpr (!\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule_a1c38ae4d35483f2b9c6e5634c7bf4bd6}{NativeModule::kNeedsFarJumpsBetweenCodeSpaces}}) \{}
\DoxyCodeLine{2529     code\_size\_estimate /= 2;}
\DoxyCodeLine{2530   \}}
\DoxyCodeLine{2531 }
\DoxyCodeLine{2532   \textcolor{keywordtype}{size\_t} code\_vmem\_size = \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_1_1anonymous__namespace_02wasm-code-manager_8cc_03_af740a9a06db337429beba5125b64f657}{ReservationSizeForWasmCode}}(}
\DoxyCodeLine{2533       code\_size\_estimate, module-\/>num\_declared\_functions, 0);}
\DoxyCodeLine{2534   \mbox{\hyperlink{src_2base_2logging_8h_af9c313d74155f7f201955a939e24c71f}{DCHECK\_EQ}}(code\_vmem\_size == 0, module-\/>num\_declared\_functions == 0);}
\DoxyCodeLine{2535 }
\DoxyCodeLine{2536   \textcolor{comment}{// The '-\/-\/wasm-\/max-\/initial-\/code-\/space-\/reservation' testing flag can be used to}}
\DoxyCodeLine{2537   \textcolor{comment}{// reduce the maximum size of the initial code space reservation (in MB).}}
\DoxyCodeLine{2538   \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_max\_initial\_code\_space\_reservation > 0) \{}
\DoxyCodeLine{2539     \textcolor{keywordtype}{size\_t} flag\_max\_bytes =}
\DoxyCodeLine{2540         \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.wasm\_max\_initial\_code\_space\_reservation) *}
\DoxyCodeLine{2541         \mbox{\hyperlink{namespacev8_1_1internal_af46551c5713d2a3a1be4dca973e521e0}{MB}};}
\DoxyCodeLine{2542     \textcolor{keywordflow}{if} (flag\_max\_bytes < code\_vmem\_size) code\_vmem\_size = flag\_max\_bytes;}
\DoxyCodeLine{2543   \}}
\DoxyCodeLine{2544 }
\DoxyCodeLine{2545   \textcolor{comment}{// Try up to two times; getting rid of dead JSArrayBuffer allocations might}}
\DoxyCodeLine{2546   \textcolor{comment}{// require two GCs because the first GC maybe incremental and may have}}
\DoxyCodeLine{2547   \textcolor{comment}{// floating garbage.}}
\DoxyCodeLine{2548   \textcolor{keyword}{static} constexpr \textcolor{keywordtype}{int} kAllocationRetries = 2;}
\DoxyCodeLine{2549   VirtualMemory code\_space;}
\DoxyCodeLine{2550   base::AddressRegion code\_space\_region;}
\DoxyCodeLine{2551   \textcolor{keywordflow}{if} (code\_vmem\_size != 0) \{}
\DoxyCodeLine{2552     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} retries = 0;; ++retries) \{}
\DoxyCodeLine{2553       code\_space = \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a7ed36ebeb931a4b5b5cd1097891d60c1}{TryAllocate}}(code\_vmem\_size);}
\DoxyCodeLine{2554       \textcolor{keywordflow}{if} (code\_space.IsReserved()) \textcolor{keywordflow}{break};}
\DoxyCodeLine{2555       \textcolor{keywordflow}{if} (retries == kAllocationRetries) \{}
\DoxyCodeLine{2556         \textcolor{keyword}{auto} oom\_detail = \mbox{\hyperlink{namespacev8_1_1base_a8a96976677371a5201af88b56be08915}{base::FormattedString}}\{\}}
\DoxyCodeLine{2557                           << \textcolor{stringliteral}{"{}NewNativeModule cannot allocate code space of "{}}}
\DoxyCodeLine{2558                           << code\_vmem\_size << \textcolor{stringliteral}{"{} bytes"{}};}
\DoxyCodeLine{2559         \mbox{\hyperlink{classv8_1_1internal_1_1V8_a977b087d4ee58955efe72b33136a4e94}{V8::FatalProcessOutOfMemory}}(isolate, \textcolor{stringliteral}{"{}Allocate initial wasm code space"{}},}
\DoxyCodeLine{2560                                     oom\_detail.PrintToArray().data());}
\DoxyCodeLine{2561         \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{2562       \}}
\DoxyCodeLine{2563       \textcolor{comment}{// Run one GC, then try the allocation again.}}
\DoxyCodeLine{2564       isolate-\/>heap()-\/>MemoryPressureNotification(}
\DoxyCodeLine{2565           \mbox{\hyperlink{namespacev8_ae0e9a25bf51e518585f555806e7dc7b9a5a20548c220f372fc701cae6de94040b}{MemoryPressureLevel::kCritical}}, \textcolor{keyword}{true});}
\DoxyCodeLine{2566     \}}
\DoxyCodeLine{2567     code\_space\_region = code\_space.region();}
\DoxyCodeLine{2568     \mbox{\hyperlink{src_2base_2logging_8h_a16b382527f19b805fc8f856668f2270b}{DCHECK\_LE}}(code\_vmem\_size, code\_space.size());}
\DoxyCodeLine{2569   \}}
\DoxyCodeLine{2570 }
\DoxyCodeLine{2571   std::shared\_ptr<NativeModule> ret;}
\DoxyCodeLine{2572   \textcolor{keyword}{new} NativeModule(enabled\_features, detected\_features,}
\DoxyCodeLine{2573                    std::move(compile\_imports),}
\DoxyCodeLine{2574                    std::move(code\_space), std::move(module),}
\DoxyCodeLine{2575                    isolate-\/>async\_counters(), \&ret);}
\DoxyCodeLine{2576   \textcolor{comment}{// The constructor initialized the shared\_ptr.}}
\DoxyCodeLine{2577   \mbox{\hyperlink{src_2base_2logging_8h_a7b9f9517fedacc2a1a56c2bbb9d03688}{DCHECK\_NOT\_NULL}}(ret);}
\DoxyCodeLine{2578   \mbox{\hyperlink{wasm-code-manager_8cc_a999acc4125a715214037c81dd456611d}{TRACE\_HEAP}}(\textcolor{stringliteral}{"{}New NativeModule \%p: Mem: 0x\%"{}} PRIxPTR \textcolor{stringliteral}{"{},+\%zu\(\backslash\)n"{}}, ret.get(),}
\DoxyCodeLine{2579              code\_space\_region.begin(), code\_space\_region.size());}
\DoxyCodeLine{2580 }
\DoxyCodeLine{2581   \mbox{\hyperlink{namespacev8_1_1base_a40b71b3558e4b5297d51003612578a81}{base::MutexGuard}} lock(\&\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a4964601ddec44dd9566edc193900a11b}{native\_modules\_mutex\_}});}
\DoxyCodeLine{2582   \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a282904997b2ddd09190c6b70245e1596}{lookup\_map\_}}.insert(}
\DoxyCodeLine{2583       std::make\_pair(code\_space\_region.begin(),}
\DoxyCodeLine{2584                      std::make\_pair(code\_space\_region.end(), ret.get())));}
\DoxyCodeLine{2585   \textcolor{keywordflow}{return} ret;}
\DoxyCodeLine{2586 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Isolate\+::async\+\_\+counters(), v8\+::base\+::\+Address\+Region\+::begin(), critical\+\_\+committed\+\_\+code\+\_\+space\+\_\+, DCHECK\+\_\+\+EQ, DCHECK\+\_\+\+GE, DCHECK\+\_\+\+LE, DCHECK\+\_\+\+NOT\+\_\+\+NULL, v8\+::base\+::\+Address\+Region\+::end(), v8\+::internal\+::\+V8\+::\+Fatal\+Process\+Out\+Of\+Memory(), v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+Flush\+Liftoff\+Code(), v8\+::internal\+::wasm\+::\+Get\+Wasm\+Engine(), v8\+::internal\+::\+Isolate\+::heap(), v8\+::internal\+::\+Virtual\+Memory\+::\+Is\+Reserved(), v8\+::k\+Critical, v8\+::internal\+::k\+Int64\+Size, v8\+::internal\+::wasm\+::\+Native\+Module\+::k\+Needs\+Far\+Jumps\+Between\+Code\+Spaces, v8\+::internal\+::k\+System\+Pointer\+Size, lookup\+\_\+map\+\_\+, max\+\_\+committed\+\_\+code\+\_\+space\+\_\+, v8\+::internal\+::\+MB, v8\+::internal\+::\+Heap\+::\+Memory\+Pressure\+Notification(), native\+\_\+modules\+\_\+mutex\+\_\+, v8\+::internal\+::\+Virtual\+Memory\+::region(), v8\+::internal\+::wasm\+::anonymous\+\_\+namespace\{wasm-\/code-\/manager.\+cc\}\+::\+Reservation\+Size\+For\+Wasm\+Code(), v8\+::base\+::\+Address\+Region\+::size(), v8\+::internal\+::\+Virtual\+Memory\+::size(), total\+\_\+committed\+\_\+code\+\_\+space\+\_\+, TRACE\+\_\+\+HEAP, Try\+Allocate(), v8\+::internal\+::\+UNREACHABLE(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Engine\+::\+New\+Native\+Module().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8cbd92108ae1c153f66f40609aed5783_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8cbd92108ae1c153f66f40609aed5783_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a341cd2685f87e88063caaf2fb51eb63d}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a341cd2685f87e88063caaf2fb51eb63d}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!operator=@{operator=}}
\index{operator=@{operator=}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{operator=()}{operator=()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager}{Wasm\+Code\+Manager}}\& v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::operator= (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager}{Wasm\+Code\+Manager}} \&}]{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [delete]}}

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a7ed36ebeb931a4b5b5cd1097891d60c1}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a7ed36ebeb931a4b5b5cd1097891d60c1}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!TryAllocate@{TryAllocate}}
\index{TryAllocate@{TryAllocate}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{TryAllocate()}{TryAllocate()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1VirtualMemory}{Virtual\+Memory}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::\+Try\+Allocate (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 2267 of file wasm-\/code-\/manager.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{2267                                                       \{}
\DoxyCodeLine{2268   \mbox{\hyperlink{classv8_1_1PageAllocator}{v8::PageAllocator}}* page\_allocator = \mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{GetPlatformPageAllocator}}();}
\DoxyCodeLine{2269   \mbox{\hyperlink{src_2base_2logging_8h_afd957f297df7e9ee36c46185e961485f}{DCHECK\_GT}}(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, 0);}
\DoxyCodeLine{2270   \textcolor{keywordtype}{size\_t} allocate\_page\_size = page\_allocator-\/>\mbox{\hyperlink{classv8_1_1PageAllocator_a92c2f6dbb3afa6c47dafd4c12ab4641f}{AllocatePageSize}}();}
\DoxyCodeLine{2271   \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}} = \mbox{\hyperlink{src_2base_2macros_8h_a5113f5db9eec9c30ecea57b8d4175f2d}{RoundUp}}(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, allocate\_page\_size);}
\DoxyCodeLine{2272   \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} hint =}
\DoxyCodeLine{2273       \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a058cd97298c26c958e790365aa0153b9}{next\_code\_space\_hint\_}}.fetch\_add(\mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}}, std::memory\_order\_relaxed);}
\DoxyCodeLine{2274 }
\DoxyCodeLine{2275   \textcolor{comment}{// When we start exposing Wasm in jitless mode, then the jitless flag}}
\DoxyCodeLine{2276   \textcolor{comment}{// will have to determine whether we set kMapAsJittable or not.}}
\DoxyCodeLine{2277   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(!\mbox{\hyperlink{namespacev8_1_1internal_aa9db791c05a0359859a321dcfec42e37}{v8\_flags}}.jitless);}
\DoxyCodeLine{2278   VirtualMemory mem(page\_allocator, \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}},}
\DoxyCodeLine{2279                     PageAllocator::AllocationHint().WithAddress(}
\DoxyCodeLine{2280                         \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(hint)),}
\DoxyCodeLine{2281                     allocate\_page\_size,}
\DoxyCodeLine{2282                     PageAllocator::Permission::kNoAccessWillJitLater);}
\DoxyCodeLine{2283   \textcolor{keywordflow}{if} (!mem.IsReserved()) \{}
\DoxyCodeLine{2284     \textcolor{comment}{// Try resetting \{next\_code\_space\_hint\_\}, which might fail if another thread}}
\DoxyCodeLine{2285     \textcolor{comment}{// bumped it in the meantime.}}
\DoxyCodeLine{2286     \mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}} bumped\_hint = hint + \mbox{\hyperlink{flag-definitions_8h_a3df0b28b666e942ffb9d7d04acdb9715}{size}};}
\DoxyCodeLine{2287     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a058cd97298c26c958e790365aa0153b9}{next\_code\_space\_hint\_}}.compare\_exchange\_weak(bumped\_hint, hint,}
\DoxyCodeLine{2288                                                 std::memory\_order\_relaxed);}
\DoxyCodeLine{2289     \textcolor{keywordflow}{return} \{\};}
\DoxyCodeLine{2290   \}}
\DoxyCodeLine{2291   \mbox{\hyperlink{wasm-code-manager_8cc_a999acc4125a715214037c81dd456611d}{TRACE\_HEAP}}(\textcolor{stringliteral}{"{}VMem alloc: 0x\%"{}} PRIxPTR \textcolor{stringliteral}{"{}:0x\%"{}} PRIxPTR \textcolor{stringliteral}{"{} (\%zu)\(\backslash\)n"{}}, mem.address(),}
\DoxyCodeLine{2292              mem.end(), mem.size());}
\DoxyCodeLine{2293 }
\DoxyCodeLine{2294   \textcolor{keywordflow}{if} (mem.address() != hint) \{}
\DoxyCodeLine{2295     \textcolor{comment}{// If the hint was ignored, just store the end of the new vmem area}}
\DoxyCodeLine{2296     \textcolor{comment}{// unconditionally, potentially racing with other concurrent allocations (it}}
\DoxyCodeLine{2297     \textcolor{comment}{// does not really matter which end pointer we keep in that case).}}
\DoxyCodeLine{2298     \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a058cd97298c26c958e790365aa0153b9}{next\_code\_space\_hint\_}}.store(mem.end(), std::memory\_order\_relaxed);}
\DoxyCodeLine{2299   \}}
\DoxyCodeLine{2300 }
\DoxyCodeLine{2301   \textcolor{comment}{// Don't pre-\/commit the code cage on Windows since it uses memory and it's not}}
\DoxyCodeLine{2302   \textcolor{comment}{// required for recommit.}}
\DoxyCodeLine{2303   \textcolor{comment}{// iOS cannot adjust page permissions for MAP\_JIT'd pages, they are set as RWX}}
\DoxyCodeLine{2304   \textcolor{comment}{// at the start.}}
\DoxyCodeLine{2305 \textcolor{preprocessor}{\#if !defined(V8\_OS\_WIN) \&\& !defined(V8\_OS\_IOS)}}
\DoxyCodeLine{2306   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a930893209d531231682fce4cbef728ed}{MemoryProtectionKeysEnabled}}()) \{}
\DoxyCodeLine{2307 \textcolor{preprocessor}{\#if V8\_HAS\_PKU\_JIT\_WRITE\_PROTECT}}
\DoxyCodeLine{2308     \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a42ebfac4aa3bcade2327daf0cf5efb7f}{ThreadIsolation::Enabled}}()) \{}
\DoxyCodeLine{2309       \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_ad690ad6c8189d648d7cc8ec987d882c1}{ThreadIsolation::MakeExecutable}}(mem.address(), mem.size()));}
\DoxyCodeLine{2310     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2311       \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(base::MemoryProtectionKey::SetPermissionsAndKey(}
\DoxyCodeLine{2312           mem.region(), \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe}{PageAllocator::kReadWriteExecute}},}
\DoxyCodeLine{2313           RwxMemoryWriteScope::memory\_protection\_key()));}
\DoxyCodeLine{2314     \}}
\DoxyCodeLine{2315 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{2316     \mbox{\hyperlink{namespacev8_1_1internal_acdec713c25068019f935e35976f5b666}{UNREACHABLE}}();}
\DoxyCodeLine{2317 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{2318   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{2319     \mbox{\hyperlink{src_2base_2logging_8h_a3e1cfef60e774a81f30eaddf26a3a274}{CHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_a0b20b06fc0f215d9b9eac890977a53e7}{SetPermissions}}(\mbox{\hyperlink{namespacev8_1_1internal_a1b38d6a01927e639b91b6a039899ac1a}{GetPlatformPageAllocator}}(), mem.address(), mem.size(),}
\DoxyCodeLine{2320                          \mbox{\hyperlink{classv8_1_1PageAllocator_a88f74b164fe97e053259f67a95758415adc8515d6a0f879ed482ce27eca7301fe}{PageAllocator::kReadWriteExecute}}));}
\DoxyCodeLine{2321   \}}
\DoxyCodeLine{2322   page\_allocator-\/>\mbox{\hyperlink{classv8_1_1PageAllocator_ad0de847c922e25f63d82494d997f441d}{DiscardSystemPages}}(\textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(mem.address()),}
\DoxyCodeLine{2323                                      mem.size());}
\DoxyCodeLine{2324 \textcolor{preprocessor}{\#endif  }\textcolor{comment}{// !defined(V8\_OS\_WIN) \&\& !defined(V8\_OS\_IOS)}}
\DoxyCodeLine{2325 }
\DoxyCodeLine{2326   \mbox{\hyperlink{classv8_1_1internal_1_1ThreadIsolation_a9fff9d0a2fb22b0853a69400bea0f618}{ThreadIsolation::RegisterJitPage}}(mem.address(), mem.size());}
\DoxyCodeLine{2327 }
\DoxyCodeLine{2328   \textcolor{keywordflow}{return} mem;}
\DoxyCodeLine{2329 \}}

\end{DoxyCode}


References v8\+::internal\+::\+Virtual\+Memory\+::address(), v8\+::\+Page\+Allocator\+::\+Allocate\+Page\+Size(), CHECK, v8\+::internal\+::\+DCHECK(), DCHECK\+\_\+\+GT, v8\+::\+Page\+Allocator\+::\+Discard\+System\+Pages(), v8\+::internal\+::\+Thread\+Isolation\+::\+Enabled(), v8\+::internal\+::\+Virtual\+Memory\+::end(), v8\+::internal\+::\+Get\+Platform\+Page\+Allocator(), v8\+::internal\+::\+Virtual\+Memory\+::\+Is\+Reserved(), v8\+::\+Page\+Allocator\+::k\+Read\+Write\+Execute, v8\+::internal\+::\+Thread\+Isolation\+::\+Make\+Executable(), Memory\+Protection\+Keys\+Enabled(), next\+\_\+code\+\_\+space\+\_\+hint\+\_\+, v8\+::internal\+::\+Virtual\+Memory\+::region(), v8\+::internal\+::\+Thread\+Isolation\+::\+Register\+Jit\+Page(), Round\+Up(), v8\+::internal\+::\+Set\+Permissions(), v8\+::internal\+::\+Virtual\+Memory\+::size(), size(), TRACE\+\_\+\+HEAP, v8\+::internal\+::\+UNREACHABLE(), and v8\+::internal\+::v8\+\_\+flags.



Referenced by v8\+::internal\+::wasm\+::\+Wasm\+Import\+Wrapper\+Cache\+::\+Lazy\+Initialize(), and New\+Native\+Module().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a7ed36ebeb931a4b5b5cd1097891d60c1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a7ed36ebeb931a4b5b5cd1097891d60c1_icgraph}
\end{center}
\end{figure}


\doxysubsection{Friends And Related Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a6f5398d6af0cd323486b07d55a75b3b4}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a6f5398d6af0cd323486b07d55a75b3b4}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!WasmCodeAllocator@{WasmCodeAllocator}}
\index{WasmCodeAllocator@{WasmCodeAllocator}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{WasmCodeAllocator}{WasmCodeAllocator}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeAllocator}{Wasm\+Code\+Allocator}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 1224 of file wasm-\/code-\/manager.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_adcf2e34d98d65c16197a4f27b1f6a780}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_adcf2e34d98d65c16197a4f27b1f6a780}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!WasmCodeLookupCache@{WasmCodeLookupCache}}
\index{WasmCodeLookupCache@{WasmCodeLookupCache}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{WasmCodeLookupCache}{WasmCodeLookupCache}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmCodeLookupCache}{Wasm\+Code\+Lookup\+Cache}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 1225 of file wasm-\/code-\/manager.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ae8c3f3090b503421e6e68ca9d396b62f}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_ae8c3f3090b503421e6e68ca9d396b62f}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!WasmEngine@{WasmEngine}}
\index{WasmEngine@{WasmEngine}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{WasmEngine}{WasmEngine}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmEngine}{Wasm\+Engine}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 1226 of file wasm-\/code-\/manager.\+h.

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a558c8e718b18b385d961367381b8652f}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a558c8e718b18b385d961367381b8652f}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!WasmImportWrapperCache@{WasmImportWrapperCache}}
\index{WasmImportWrapperCache@{WasmImportWrapperCache}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{WasmImportWrapperCache}{WasmImportWrapperCache}}
{\footnotesize\ttfamily friend class \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1WasmImportWrapperCache}{Wasm\+Import\+Wrapper\+Cache}}\hspace{0.3cm}{\ttfamily [friend]}}



Definition at line 1227 of file wasm-\/code-\/manager.\+h.



\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5690c15d56eb42cffb868c23ac92f424}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a5690c15d56eb42cffb868c23ac92f424}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!critical\_committed\_code\_space\_@{critical\_committed\_code\_space\_}}
\index{critical\_committed\_code\_space\_@{critical\_committed\_code\_space\_}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{critical\_committed\_code\_space\_}{critical\_committed\_code\_space\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}$>$ v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::critical\+\_\+committed\+\_\+code\+\_\+space\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1253 of file wasm-\/code-\/manager.\+h.



Referenced by New\+Native\+Module().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a282904997b2ddd09190c6b70245e1596}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a282904997b2ddd09190c6b70245e1596}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!lookup\_map\_@{lookup\_map\_}}
\index{lookup\_map\_@{lookup\_map\_}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{lookup\_map\_}{lookup\_map\_}}
{\footnotesize\ttfamily std\+::map$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}, std\+::pair$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}, \mbox{\hyperlink{classv8_1_1internal_1_1wasm_1_1NativeModule}{Native\+Module}}$\ast$$>$ $>$ v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::lookup\+\_\+map\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1260 of file wasm-\/code-\/manager.\+h.



Referenced by Assign\+Range(), Free\+Native\+Module(), Lookup\+Native\+Module(), and New\+Native\+Module().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a102c2c6b55ae7094aaac669c22150174}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a102c2c6b55ae7094aaac669c22150174}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!max\_committed\_code\_space\_@{max\_committed\_code\_space\_}}
\index{max\_committed\_code\_space\_@{max\_committed\_code\_space\_}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{max\_committed\_code\_space\_}{max\_committed\_code\_space\_}}
{\footnotesize\ttfamily const \mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::max\+\_\+committed\+\_\+code\+\_\+space\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1246 of file wasm-\/code-\/manager.\+h.



Referenced by Commit(), and New\+Native\+Module().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a4964601ddec44dd9566edc193900a11b}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a4964601ddec44dd9566edc193900a11b}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!native\_modules\_mutex\_@{native\_modules\_mutex\_}}
\index{native\_modules\_mutex\_@{native\_modules\_mutex\_}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{native\_modules\_mutex\_}{native\_modules\_mutex\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1base_1_1Mutex}{base\+::\+Mutex}} v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::native\+\_\+modules\+\_\+mutex\+\_\+\hspace{0.3cm}{\ttfamily [mutable]}, {\ttfamily [private]}}



Definition at line 1255 of file wasm-\/code-\/manager.\+h.



Referenced by Assign\+Range(), Free\+Native\+Module(), Lookup\+Native\+Module(), and New\+Native\+Module().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a058cd97298c26c958e790365aa0153b9}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a058cd97298c26c958e790365aa0153b9}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!next\_code\_space\_hint\_@{next\_code\_space\_hint\_}}
\index{next\_code\_space\_hint\_@{next\_code\_space\_hint\_}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{next\_code\_space\_hint\_}{next\_code\_space\_hint\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_1_1wasm_adcd4ca657f5fbce4e3e61f860761470a}{Address}}$>$ v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::next\+\_\+code\+\_\+space\+\_\+hint\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1271 of file wasm-\/code-\/manager.\+h.



Referenced by Try\+Allocate().

\mbox{\Hypertarget{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}\label{classv8_1_1internal_1_1wasm_1_1WasmCodeManager_a8657534718f35b1a258f6e93d2ee07cd}} 
\index{v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}!total\_committed\_code\_space\_@{total\_committed\_code\_space\_}}
\index{total\_committed\_code\_space\_@{total\_committed\_code\_space\_}!v8::internal::wasm::WasmCodeManager@{v8::internal::wasm::WasmCodeManager}}
\doxysubsubsection{\texorpdfstring{total\_committed\_code\_space\_}{total\_committed\_code\_space\_}}
{\footnotesize\ttfamily std\+::atomic$<$\mbox{\hyperlink{namespacev8_1_1internal_a4725962ca3c127eb5871cb47293aee95}{size\+\_\+t}}$>$ v8\+::internal\+::wasm\+::\+Wasm\+Code\+Manager\+::total\+\_\+committed\+\_\+code\+\_\+space\+\_\+ \{0\}\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 1248 of file wasm-\/code-\/manager.\+h.



Referenced by Commit(), Decommit(), Free\+Native\+Module(), New\+Native\+Module(), and $\sim$\+Wasm\+Code\+Manager().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-code-manager_8h}{wasm-\/code-\/manager.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/wasm/\mbox{\hyperlink{wasm-code-manager_8cc}{wasm-\/code-\/manager.\+cc}}\end{DoxyCompactItemize}
