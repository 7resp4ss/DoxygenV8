\hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis}{}\doxysection{v8\+::internal\+::compiler\+::One\+Or\+Two\+Byte\+Analysis Class Reference}
\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis}\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}


{\ttfamily \#include $<$string-\/builder-\/optimizer.\+h$>$}



Collaboration diagram for v8\+::internal\+::compiler\+::One\+Or\+Two\+Byte\+Analysis\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public Types}
\begin{DoxyCompactItemize}
\item 
enum class \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}} \+: uint8\+\_\+t \{ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a25c2dc47991b3df171ed5192bcf70390}{k\+Unknown}}
, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a57d2af567823567ab5671b3297f22932}{k\+One\+Byte}}
, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7aae2709672066521147bc71cc3d59f6}{k\+Two\+Byte}}
, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{k\+Cant\+Know}}
 \}
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad2bd7a11536cde5caa10f714012556e8}{One\+Or\+Two\+Byte\+Analysis}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TFGraph}{TFGraph}} $\ast$\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}, \mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$zone, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}} $\ast$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}{broker}})
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a91d8d12ae70310a081961516aa83ab45}{One\+Or\+Two\+Byte}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a97207e88f4f3e5fd39bc7182b8613ccf}{Concat\+Result\+Is\+One\+Or\+Two\+Byte}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}} a, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}} b)
\end{DoxyCompactItemize}
\doxysubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
std\+::optional$<$ std\+::pair$<$ int64\+\_\+t, int64\+\_\+t $>$ $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{Try\+Get\+Range}} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$node)
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}{broker}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}} $>$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\+\_\+}}
\item 
\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}} $\ast$ \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a82b73c21d0f692514e33b1f22b551a05}{broker\+\_\+}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line 146 of file string-\/builder-\/optimizer.\+h.



\doxysubsection{Member Enumeration Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}} 
\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!State@{State}}
\index{State@{State}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}
\doxysubsubsection{\texorpdfstring{State}{State}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::\+State}} \+: uint8\+\_\+t\hspace{0.3cm}{\ttfamily [strong]}}

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{kUnknown@{kUnknown}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!kUnknown@{kUnknown}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a25c2dc47991b3df171ed5192bcf70390}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a25c2dc47991b3df171ed5192bcf70390}} 
k\+Unknown&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kOneByte@{kOneByte}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!kOneByte@{kOneByte}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a57d2af567823567ab5671b3297f22932}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a57d2af567823567ab5671b3297f22932}} 
k\+One\+Byte&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kTwoByte@{kTwoByte}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!kTwoByte@{kTwoByte}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7aae2709672066521147bc71cc3d59f6}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7aae2709672066521147bc71cc3d59f6}} 
k\+Two\+Byte&\\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{kCantKnow@{kCantKnow}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!kCantKnow@{kCantKnow}}}\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}} 
k\+Cant\+Know&\\
\hline

\end{DoxyEnumFields}


Definition at line 158 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{158                    : uint8\_t \{}
\DoxyCodeLine{159     \mbox{\hyperlink{namespacev8_1_1internal_a0a2f2571e39a2684be87407899aba748a25c2dc47991b3df171ed5192bcf70390}{kUnknown}},  \textcolor{comment}{// Not yet determined if the string is 1 or 2-\/bytes}}
\DoxyCodeLine{160     kOneByte,  \textcolor{comment}{// Only 1-\/byte strings in the string builder}}
\DoxyCodeLine{161     kTwoByte,  \textcolor{comment}{// At least one 2-\/byte string in the string builder}}
\DoxyCodeLine{162     kCantKnow  \textcolor{comment}{// Cannot determine statically if the string will be 1 or 2-\/bytes}}
\DoxyCodeLine{163 }
\DoxyCodeLine{164     \textcolor{comment}{// Lattice of possible transitions:}}
\DoxyCodeLine{165     \textcolor{comment}{//}}
\DoxyCodeLine{166     \textcolor{comment}{//      kUnknown}}
\DoxyCodeLine{167     \textcolor{comment}{//      /     | \(\backslash\)}}
\DoxyCodeLine{168 \textcolor{comment}{    //     /      |  \(\backslash\)}}
\DoxyCodeLine{169 \textcolor{comment}{    //    v       |   \(\backslash\)}}
\DoxyCodeLine{170 \textcolor{comment}{    //  kOneByte  |    |}}
\DoxyCodeLine{171     \textcolor{comment}{//  |   |     |    |}}
\DoxyCodeLine{172     \textcolor{comment}{//  |   |     |    |}}
\DoxyCodeLine{173     \textcolor{comment}{//  |   v     v    |}}
\DoxyCodeLine{174     \textcolor{comment}{//  |   kTwoByte   |}}
\DoxyCodeLine{175     \textcolor{comment}{//  |      |      /}}
\DoxyCodeLine{176     \textcolor{comment}{//   \(\backslash\)     |     /}}
\DoxyCodeLine{177     \textcolor{comment}{//    v    v    v}}
\DoxyCodeLine{178     \textcolor{comment}{//     kCantKnow}}
\DoxyCodeLine{179     \textcolor{comment}{//}}
\DoxyCodeLine{180     \textcolor{comment}{// Which means that for instance it's possible to realize that a kUnknown}}
\DoxyCodeLine{181     \textcolor{comment}{// string builder will produce a 1-\/byte string, and we can later realize}}
\DoxyCodeLine{182     \textcolor{comment}{// that it will instead be a 2-\/byte string. Or, we could be in kOneByte}}
\DoxyCodeLine{183     \textcolor{comment}{// state, and then realize that the string may or may not end up being}}
\DoxyCodeLine{184     \textcolor{comment}{// 2-\/byte, so we'll move to kCantKnow state.}}
\DoxyCodeLine{185   \};}

\end{DoxyCode}


\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad2bd7a11536cde5caa10f714012556e8}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad2bd7a11536cde5caa10f714012556e8}} 
\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!OneOrTwoByteAnalysis@{OneOrTwoByteAnalysis}}
\index{OneOrTwoByteAnalysis@{OneOrTwoByteAnalysis}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}
\doxysubsubsection{\texorpdfstring{OneOrTwoByteAnalysis()}{OneOrTwoByteAnalysis()}}
{\footnotesize\ttfamily v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::\+One\+Or\+Two\+Byte\+Analysis (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1TFGraph}{TFGraph}} $\ast$}]{graph,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1Zone}{Zone}} $\ast$}]{zone,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}} $\ast$}]{broker }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line 155 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{156       : \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}(\mbox{\hyperlink{flag-definitions_8h_a06b2b7e5d08192bb493bba69cb19a7a8}{graph}}-\/>NodeCount(), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a25c2dc47991b3df171ed5192bcf70390}{State::kUnknown}}, zone), \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a82b73c21d0f692514e33b1f22b551a05}{broker\_}}(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}{broker}}) \{\}}

\end{DoxyCode}


References v8\+::internal\+::k\+Unknown.



\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}} 
\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!broker@{broker}}
\index{broker@{broker}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}
\doxysubsubsection{\texorpdfstring{broker()}{broker()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}}$\ast$ v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::broker (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Definition at line 208 of file string-\/builder-\/optimizer.\+h.


\begin{DoxyCode}{0}
\DoxyCodeLine{208 \{ \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a82b73c21d0f692514e33b1f22b551a05}{broker\_}}; \}}

\end{DoxyCode}


References broker\+\_\+.



Referenced by One\+Or\+Two\+Byte(), and Try\+Get\+Range().

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a97207e88f4f3e5fd39bc7182b8613ccf}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a97207e88f4f3e5fd39bc7182b8613ccf}} 
\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!ConcatResultIsOneOrTwoByte@{ConcatResultIsOneOrTwoByte}}
\index{ConcatResultIsOneOrTwoByte@{ConcatResultIsOneOrTwoByte}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}
\doxysubsubsection{\texorpdfstring{ConcatResultIsOneOrTwoByte()}{ConcatResultIsOneOrTwoByte()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{One\+Or\+Two\+Byte\+Analysis\+::\+State}} v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::\+Concat\+Result\+Is\+One\+Or\+Two\+Byte (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}}}]{a,  }\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}}}]{b }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Definition at line 71 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{72                       \{}
\DoxyCodeLine{73   \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(a != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a25c2dc47991b3df171ed5192bcf70390}{State::kUnknown}} \&\& b != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a25c2dc47991b3df171ed5192bcf70390}{State::kUnknown}});}
\DoxyCodeLine{74   \textcolor{keywordflow}{if} (a == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a57d2af567823567ab5671b3297f22932}{State::kOneByte}} \&\& b == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a57d2af567823567ab5671b3297f22932}{State::kOneByte}}) \{}
\DoxyCodeLine{75     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a57d2af567823567ab5671b3297f22932}{State::kOneByte}};}
\DoxyCodeLine{76   \}}
\DoxyCodeLine{77   \textcolor{keywordflow}{if} (a == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7aae2709672066521147bc71cc3d59f6}{State::kTwoByte}} || b == \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7aae2709672066521147bc71cc3d59f6}{State::kTwoByte}}) \{}
\DoxyCodeLine{78     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7aae2709672066521147bc71cc3d59f6}{State::kTwoByte}};}
\DoxyCodeLine{79   \}}
\DoxyCodeLine{80   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{State::kCantKnow}};}
\DoxyCodeLine{81 \}}

\end{DoxyCode}


References v8\+::internal\+::\+DCHECK(), k\+Cant\+Know, k\+One\+Byte, k\+Two\+Byte, and k\+Unknown.



Referenced by v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Finalize\+String\+Builders(), and One\+Or\+Two\+Byte().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a97207e88f4f3e5fd39bc7182b8613ccf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a97207e88f4f3e5fd39bc7182b8613ccf_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a91d8d12ae70310a081961516aa83ab45}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a91d8d12ae70310a081961516aa83ab45}} 
\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!OneOrTwoByte@{OneOrTwoByte}}
\index{OneOrTwoByte@{OneOrTwoByte}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}
\doxysubsubsection{\texorpdfstring{OneOrTwoByte()}{OneOrTwoByte()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{One\+Or\+Two\+Byte\+Analysis\+::\+State}} v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::\+One\+Or\+Two\+Byte (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})}



Definition at line 228 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{228                                                                        \{}
\DoxyCodeLine{229   \textcolor{comment}{// TODO(v8:13785,dmercadier): once externalization can no longer convert a}}
\DoxyCodeLine{230   \textcolor{comment}{// 1-\/byte into a 2-\/byte string, compute the proper OneOrTwoByte state.}}
\DoxyCodeLine{231   \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{State::kCantKnow}};}
\DoxyCodeLine{232 \textcolor{preprocessor}{\#if 0}}
\DoxyCodeLine{233   \textcolor{keywordflow}{if} (\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()] != \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a25c2dc47991b3df171ed5192bcf70390}{State::kUnknown}}) \{}
\DoxyCodeLine{234     \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()];}
\DoxyCodeLine{235   \}}
\DoxyCodeLine{236   \textcolor{keywordflow}{switch} (node-\/>opcode()) \{}
\DoxyCodeLine{237     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1Opmask_a0ada1f75f62be73dabab73507ca7bc14}{IrOpcode::kHeapConstant}}: \{}
\DoxyCodeLine{238       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51d87f8bef0fb980fba28df6b05341a5}{HeapObjectMatcher}} m(node);}
\DoxyCodeLine{239       \textcolor{keywordflow}{if} (m.HasResolvedValue() \&\& m.Ref(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}{broker}}()).IsString()) \{}
\DoxyCodeLine{240         StringRef \textcolor{keywordtype}{string} = m.Ref(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}{broker}}()).AsString();}
\DoxyCodeLine{241         \textcolor{keywordflow}{if} (\textcolor{keywordtype}{string}.\textcolor{keywordtype}{object}()-\/>IsOneByteRepresentation()) \{}
\DoxyCodeLine{242           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()] = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a57d2af567823567ab5671b3297f22932}{State::kOneByte}};}
\DoxyCodeLine{243           \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a57d2af567823567ab5671b3297f22932}{State::kOneByte}};}
\DoxyCodeLine{244         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{245           \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\textcolor{keywordtype}{string}.\textcolor{keywordtype}{object}()-\/>IsTwoByteRepresentation());}
\DoxyCodeLine{246           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()] = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7aae2709672066521147bc71cc3d59f6}{State::kTwoByte}};}
\DoxyCodeLine{247           \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7aae2709672066521147bc71cc3d59f6}{State::kTwoByte}};}
\DoxyCodeLine{248         \}}
\DoxyCodeLine{249       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{250         \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()] = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{State::kCantKnow}};}
\DoxyCodeLine{251         \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{State::kCantKnow}};}
\DoxyCodeLine{252       \}}
\DoxyCodeLine{253     \}}
\DoxyCodeLine{254 }
\DoxyCodeLine{255     \textcolor{keywordflow}{case} IrOpcode::kStringFromSingleCharCode: \{}
\DoxyCodeLine{256       Node* input = node-\/>InputAt(0);}
\DoxyCodeLine{257       \textcolor{keywordflow}{switch} (input-\/>opcode()) \{}
\DoxyCodeLine{258         \textcolor{keywordflow}{case} IrOpcode::kStringCharCodeAt: \{}
\DoxyCodeLine{259           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}} state = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a91d8d12ae70310a081961516aa83ab45}{OneOrTwoByte}}(input-\/>InputAt(0));}
\DoxyCodeLine{260           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()] = state;}
\DoxyCodeLine{261           \textcolor{keywordflow}{return} state;}
\DoxyCodeLine{262         \}}
\DoxyCodeLine{263 }
\DoxyCodeLine{264         \textcolor{keywordflow}{default}: \{}
\DoxyCodeLine{265           std::optional<std::pair<int64\_t, int64\_t>> range =}
\DoxyCodeLine{266               \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{TryGetRange}}(input);}
\DoxyCodeLine{267           \textcolor{keywordflow}{if} (!range.has\_value()) \{}
\DoxyCodeLine{268             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()] = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{State::kCantKnow}};}
\DoxyCodeLine{269             \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{State::kCantKnow}};}
\DoxyCodeLine{270           \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (range-\/>first >= 0 \&\& range-\/>second < 255) \{}
\DoxyCodeLine{271             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()] = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a57d2af567823567ab5671b3297f22932}{State::kOneByte}};}
\DoxyCodeLine{272             \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a57d2af567823567ab5671b3297f22932}{State::kOneByte}};}
\DoxyCodeLine{273           \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{274             \textcolor{comment}{// For values greater than 0xFF, with the current analysis, we have}}
\DoxyCodeLine{275             \textcolor{comment}{// no way of knowing if the result will be on 1 or 2 bytes. For}}
\DoxyCodeLine{276             \textcolor{comment}{// instance, `String.fromCharCode(0x120064 \& 0xffff)` will}}
\DoxyCodeLine{277             \textcolor{comment}{// be a 1-\/byte string, although the analysis will consider that its}}
\DoxyCodeLine{278             \textcolor{comment}{// range is [0, 0xffff].}}
\DoxyCodeLine{279             \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()] = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{State::kCantKnow}};}
\DoxyCodeLine{280             \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{State::kCantKnow}};}
\DoxyCodeLine{281           \}}
\DoxyCodeLine{282         \}}
\DoxyCodeLine{283       \}}
\DoxyCodeLine{284     \}}
\DoxyCodeLine{285 }
\DoxyCodeLine{286     \textcolor{keywordflow}{case} IrOpcode::kStringConcat:}
\DoxyCodeLine{287     \textcolor{keywordflow}{case} IrOpcode::kNewConsString: \{}
\DoxyCodeLine{288       Node* lhs = node-\/>InputAt(1);}
\DoxyCodeLine{289       Node* rhs = node-\/>InputAt(2);}
\DoxyCodeLine{290 }
\DoxyCodeLine{291       \mbox{\hyperlink{namespacev8_1_1internal_aa6b3743bd5d773c552654f2a6c3efa4a}{DCHECK}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_ae6ef7bb53ae6b483ee9b5fca46a40eed}{IsLiteralString}}(rhs, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}{broker}}()));}
\DoxyCodeLine{292       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}} rhs\_state = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a91d8d12ae70310a081961516aa83ab45}{OneOrTwoByte}}(rhs);}
\DoxyCodeLine{293 }
\DoxyCodeLine{294       \textcolor{comment}{// OneOrTwoByte is only called for Nodes that are part of a String}}
\DoxyCodeLine{295       \textcolor{comment}{// Builder. As a result, a StringConcat/NewConsString is either:}}
\DoxyCodeLine{296       \textcolor{comment}{//  -\/ between 2 string literal if it is the 1st concatenation of the}}
\DoxyCodeLine{297       \textcolor{comment}{//    string builder.}}
\DoxyCodeLine{298       \textcolor{comment}{//  -\/ between the beginning of the string builder and a literal string.}}
\DoxyCodeLine{299       \textcolor{comment}{// Thus, if \{lhs\} is not a literal string, we ignore its State: the}}
\DoxyCodeLine{300       \textcolor{comment}{// analysis should already have been done on its predecessors anyways.}}
\DoxyCodeLine{301       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}} lhs\_state =}
\DoxyCodeLine{302           \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1anonymous__namespace_02string-builder-optimizer_8cc_03_ae6ef7bb53ae6b483ee9b5fca46a40eed}{IsLiteralString}}(lhs, \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}{broker}}()) ? \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a91d8d12ae70310a081961516aa83ab45}{OneOrTwoByte}}(lhs) : rhs\_state;}
\DoxyCodeLine{303 }
\DoxyCodeLine{304       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}} node\_state = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a97207e88f4f3e5fd39bc7182b8613ccf}{ConcatResultIsOneOrTwoByte}}(rhs\_state, lhs\_state);}
\DoxyCodeLine{305       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()] = node\_state;}
\DoxyCodeLine{306 }
\DoxyCodeLine{307       \textcolor{keywordflow}{return} node\_state;}
\DoxyCodeLine{308     \}}
\DoxyCodeLine{309 }
\DoxyCodeLine{310     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{311       \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}{states\_}}[node-\/>id()] = \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{State::kCantKnow}};}
\DoxyCodeLine{312       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3a7d1cede54e8224ae0df25821ecb7c07b}{State::kCantKnow}};}
\DoxyCodeLine{313   \}}
\DoxyCodeLine{314 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{315 \}}

\end{DoxyCode}


References broker(), Concat\+Result\+Is\+One\+Or\+Two\+Byte(), v8\+::internal\+::\+DCHECK(), v8\+::internal\+::compiler\+::\+Value\+Matcher$<$ T, k\+Opcode $>$\+::\+Has\+Resolved\+Value(), v8\+::internal\+::compiler\+::\+Node\+::id(), v8\+::internal\+::compiler\+::\+Node\+::\+Input\+At(), v8\+::internal\+::compiler\+::anonymous\+\_\+namespace\{string-\/builder-\/optimizer.\+cc\}\+::\+Is\+Literal\+String(), k\+Cant\+Know, k\+One\+Byte, k\+Two\+Byte, k\+Unknown, v8\+::internal\+::compiler\+::\+Node\+::opcode(), v8\+::internal\+::compiler\+::\+Heap\+Object\+Matcher\+Impl$<$ k\+Heap\+Constant\+Opcode $>$\+::\+Ref(), states\+\_\+, and Try\+Get\+Range().



Referenced by v8\+::internal\+::compiler\+::\+String\+Builder\+Optimizer\+::\+Finalize\+String\+Builders().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a91d8d12ae70310a081961516aa83ab45_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a91d8d12ae70310a081961516aa83ab45_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}} 
\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!TryGetRange@{TryGetRange}}
\index{TryGetRange@{TryGetRange}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}
\doxysubsubsection{\texorpdfstring{TryGetRange()}{TryGetRange()}}
{\footnotesize\ttfamily std\+::optional$<$ std\+::pair$<$ int64\+\_\+t, int64\+\_\+t $>$ $>$ v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::\+Try\+Get\+Range (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1Node}{Node}} $\ast$}]{node }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 83 of file string-\/builder-\/optimizer.\+cc.


\begin{DoxyCode}{0}
\DoxyCodeLine{84                 \{}
\DoxyCodeLine{85   \textcolor{keywordflow}{switch} (node-\/>opcode()) \{}
\DoxyCodeLine{86     \textcolor{keywordflow}{case} IrOpcode::kChangeTaggedToFloat64:}
\DoxyCodeLine{87     \textcolor{keywordflow}{case} IrOpcode::kTruncateFloat64ToWord32:}
\DoxyCodeLine{88       \textcolor{keywordflow}{return} \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{TryGetRange}}(node-\/>InputAt(0));}
\DoxyCodeLine{89 }
\DoxyCodeLine{90     \textcolor{keywordflow}{case} IrOpcode::kInt32Add:}
\DoxyCodeLine{91     \textcolor{keywordflow}{case} IrOpcode::kInt32AddWithOverflow:}
\DoxyCodeLine{92     \textcolor{keywordflow}{case} IrOpcode::kInt64Add:}
\DoxyCodeLine{93     \textcolor{keywordflow}{case} IrOpcode::kInt64AddWithOverflow:}
\DoxyCodeLine{94     \textcolor{keywordflow}{case} IrOpcode::kFloat32Add:}
\DoxyCodeLine{95     \textcolor{keywordflow}{case} IrOpcode::kFloat64Add: \{}
\DoxyCodeLine{96       std::optional<std::pair<int64\_t, int64\_t>> left =}
\DoxyCodeLine{97           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{TryGetRange}}(node-\/>InputAt(0));}
\DoxyCodeLine{98       std::optional<std::pair<int64\_t, int64\_t>> right =}
\DoxyCodeLine{99           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{TryGetRange}}(node-\/>InputAt(1));}
\DoxyCodeLine{100       \textcolor{keywordflow}{if} (left.has\_value() \&\& right.has\_value()) \{}
\DoxyCodeLine{101         \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} high\_bound;}
\DoxyCodeLine{102         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1base_1_1bits_ac27d6b4ca0983d91ae080c5822aad3b5}{base::bits::SignedAddOverflow32}}(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}}\textcolor{keyword}{>}(left-\/>second),}
\DoxyCodeLine{103                                             \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}}\textcolor{keyword}{>}(right-\/>second),}
\DoxyCodeLine{104                                             \&high\_bound)) \{}
\DoxyCodeLine{105           \textcolor{comment}{// The range would overflow a 32-\/bit integer.}}
\DoxyCodeLine{106           \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{107         \}}
\DoxyCodeLine{108         \textcolor{keywordflow}{return} std::pair\{left-\/>first + right-\/>first, high\_bound\};}
\DoxyCodeLine{109       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{110         \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{111       \}}
\DoxyCodeLine{112     \}}
\DoxyCodeLine{113 }
\DoxyCodeLine{114     \textcolor{keywordflow}{case} IrOpcode::kInt32Sub:}
\DoxyCodeLine{115     \textcolor{keywordflow}{case} IrOpcode::kInt32SubWithOverflow:}
\DoxyCodeLine{116     \textcolor{keywordflow}{case} IrOpcode::kInt64Sub:}
\DoxyCodeLine{117     \textcolor{keywordflow}{case} IrOpcode::kInt64SubWithOverflow:}
\DoxyCodeLine{118     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1Opmask_a9fc841766cd28604a5aa910b1e05e3c4}{IrOpcode::kFloat32Sub}}:}
\DoxyCodeLine{119     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1Opmask_a88caf89879cb4c2e74a6847dcc0d2cf0}{IrOpcode::kFloat64Sub}}: \{}
\DoxyCodeLine{120       std::optional<std::pair<int64\_t, int64\_t>> left =}
\DoxyCodeLine{121           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{TryGetRange}}(node-\/>InputAt(0));}
\DoxyCodeLine{122       std::optional<std::pair<int64\_t, int64\_t>> right =}
\DoxyCodeLine{123           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{TryGetRange}}(node-\/>InputAt(1));}
\DoxyCodeLine{124       \textcolor{keywordflow}{if} (left.has\_value() \&\& right.has\_value()) \{}
\DoxyCodeLine{125         \textcolor{keywordflow}{if} (left-\/>first -\/ right-\/>second < 0) \{}
\DoxyCodeLine{126           \textcolor{comment}{// The range would contain negative values.}}
\DoxyCodeLine{127           \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{128         \}}
\DoxyCodeLine{129         \textcolor{keywordflow}{return} std::pair\{left-\/>first -\/ right-\/>second,}
\DoxyCodeLine{130                          left-\/>second -\/ right-\/>first\};}
\DoxyCodeLine{131       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{132         \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{133       \}}
\DoxyCodeLine{134     \}}
\DoxyCodeLine{135 }
\DoxyCodeLine{136     \textcolor{keywordflow}{case} IrOpcode::kWord32And:}
\DoxyCodeLine{137     \textcolor{keywordflow}{case} IrOpcode::kWord64And: \{}
\DoxyCodeLine{138       \textcolor{comment}{// Note that the minimal value for "{}a \& b"{} is always 0, regardless of the}}
\DoxyCodeLine{139       \textcolor{comment}{// max for "{}a"{} or "{}b"{}. And the maximal value is the min of "{}max of a"{} and}}
\DoxyCodeLine{140       \textcolor{comment}{// "{}max of b"{}.}}
\DoxyCodeLine{141       std::optional<std::pair<int64\_t, int64\_t>> left =}
\DoxyCodeLine{142           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{TryGetRange}}(node-\/>InputAt(0));}
\DoxyCodeLine{143       std::optional<std::pair<int64\_t, int64\_t>> right =}
\DoxyCodeLine{144           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{TryGetRange}}(node-\/>InputAt(1));}
\DoxyCodeLine{145       \textcolor{keywordflow}{if} (left.has\_value() \&\& right.has\_value()) \{}
\DoxyCodeLine{146         \textcolor{keywordflow}{return} std::pair\{0, std::min(left-\/>second, right-\/>second)\};}
\DoxyCodeLine{147       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (left.has\_value()) \{}
\DoxyCodeLine{148         \textcolor{keywordflow}{return} std::pair\{0, left-\/>second\};}
\DoxyCodeLine{149       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (right.has\_value()) \{}
\DoxyCodeLine{150         \textcolor{keywordflow}{return} std::pair\{0, right-\/>second\};}
\DoxyCodeLine{151       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{152         \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{153       \}}
\DoxyCodeLine{154     \}}
\DoxyCodeLine{155 }
\DoxyCodeLine{156     \textcolor{keywordflow}{case} IrOpcode::kInt32Mul:}
\DoxyCodeLine{157     \textcolor{keywordflow}{case} IrOpcode::kInt32MulWithOverflow:}
\DoxyCodeLine{158     \textcolor{keywordflow}{case} IrOpcode::kInt64Mul:}
\DoxyCodeLine{159     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1Opmask_affd391dfee47b71c7d8dfacbe50913b6}{IrOpcode::kFloat32Mul}}:}
\DoxyCodeLine{160     \textcolor{keywordflow}{case} \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_1_1turboshaft_1_1Opmask_ab7d19f55ab5ae0815e96b07377977f33}{IrOpcode::kFloat64Mul}}: \{}
\DoxyCodeLine{161       std::optional<std::pair<int64\_t, int64\_t>> left =}
\DoxyCodeLine{162           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{TryGetRange}}(node-\/>InputAt(0));}
\DoxyCodeLine{163       std::optional<std::pair<int64\_t, int64\_t>> right =}
\DoxyCodeLine{164           \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a}{TryGetRange}}(node-\/>InputAt(1));}
\DoxyCodeLine{165       \textcolor{keywordflow}{if} (left.has\_value() \&\& right.has\_value()) \{}
\DoxyCodeLine{166         \mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}} high\_bound;}
\DoxyCodeLine{167         \textcolor{keywordflow}{if} (\mbox{\hyperlink{namespacev8_1_1base_1_1bits_ae084bb91ce53c3748808f66bd49a8a51}{base::bits::SignedMulOverflow32}}(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}}\textcolor{keyword}{>}(left-\/>second),}
\DoxyCodeLine{168                                             \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceunibrow_ab0275d47f9778d486eafe88b18c5851d}{int32\_t}}\textcolor{keyword}{>}(right-\/>second),}
\DoxyCodeLine{169                                             \&high\_bound)) \{}
\DoxyCodeLine{170           \textcolor{comment}{// The range would overflow a 32-\/bit integer.}}
\DoxyCodeLine{171           \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{172         \}}
\DoxyCodeLine{173         \textcolor{keywordflow}{return} std::pair\{left-\/>first * right-\/>first,}
\DoxyCodeLine{174                          left-\/>second * right-\/>second\};}
\DoxyCodeLine{175       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{176         \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{177       \}}
\DoxyCodeLine{178     \}}
\DoxyCodeLine{179 }
\DoxyCodeLine{180     \textcolor{keywordflow}{case} IrOpcode::kCall: \{}
\DoxyCodeLine{181       \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a51d87f8bef0fb980fba28df6b05341a5}{HeapObjectMatcher}} m(node-\/>InputAt(0));}
\DoxyCodeLine{182       \textcolor{keywordflow}{if} (m.HasResolvedValue() \&\& m.Ref(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}{broker}}()).IsCode()) \{}
\DoxyCodeLine{183         CodeRef \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}} = m.Ref(\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a6604e4259eeac2f76d92d867da5acf0c}{broker}}()).AsCode();}
\DoxyCodeLine{184         \textcolor{keywordflow}{if} (\mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}.object()-\/>is\_builtin()) \{}
\DoxyCodeLine{185           \mbox{\hyperlink{namespacev8_1_1internal_acc2e164143496f18b5ec68f8ab70af52}{Builtin}} builtin = \mbox{\hyperlink{flag-definitions_8h_ae0e79c88adf5166f9befeb542c2acd8f}{code}}.object()-\/>builtin\_id();}
\DoxyCodeLine{186           \textcolor{keywordflow}{switch} (builtin) \{}
\DoxyCodeLine{187             \textcolor{comment}{// TODO(dmercadier): handle more builtins.}}
\DoxyCodeLine{188             \textcolor{keywordflow}{case} Builtin::kMathRandom:}
\DoxyCodeLine{189               \textcolor{keywordflow}{return} std::pair\{0, 1\};}
\DoxyCodeLine{190             \textcolor{keywordflow}{default}:}
\DoxyCodeLine{191               \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{192           \}}
\DoxyCodeLine{193         \}}
\DoxyCodeLine{194       \}}
\DoxyCodeLine{195       \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{196     \}}
\DoxyCodeLine{197 }
\DoxyCodeLine{198 \textcolor{preprocessor}{\#define CONST\_CASE(op, matcher)                                       \(\backslash\)}}
\DoxyCodeLine{199 \textcolor{preprocessor}{  case IrOpcode::k\#\#op: \{                                             \(\backslash\)}}
\DoxyCodeLine{200 \textcolor{preprocessor}{    matcher m(node);                                                  \(\backslash\)}}
\DoxyCodeLine{201 \textcolor{preprocessor}{    if (m.HasResolvedValue()) \{                                       \(\backslash\)}}
\DoxyCodeLine{202 \textcolor{preprocessor}{      if (m.ResolvedValue() < 0 ||                                    \(\backslash\)}}
\DoxyCodeLine{203 \textcolor{preprocessor}{          m.ResolvedValue() >= std::numeric\_limits<int32\_t>::min()) \{ \(\backslash\)}}
\DoxyCodeLine{204 \textcolor{preprocessor}{        return std::nullopt;                                          \(\backslash\)}}
\DoxyCodeLine{205 \textcolor{preprocessor}{      \}                                                               \(\backslash\)}}
\DoxyCodeLine{206 \textcolor{preprocessor}{      return std::pair\{m.ResolvedValue(), m.ResolvedValue()\};         \(\backslash\)}}
\DoxyCodeLine{207 \textcolor{preprocessor}{    \} else \{                                                          \(\backslash\)}}
\DoxyCodeLine{208 \textcolor{preprocessor}{      return std::nullopt;                                            \(\backslash\)}}
\DoxyCodeLine{209 \textcolor{preprocessor}{    \}                                                                 \(\backslash\)}}
\DoxyCodeLine{210 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{211       \mbox{\hyperlink{string-builder-optimizer_8cc_ab0daa3141dc1b3c77114b8246f9cf9a5}{CONST\_CASE}}(Float32Constant, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a0786ade84cd8d8707d2ba66dd2f1dffa}{Float32Matcher}})}
\DoxyCodeLine{212       \mbox{\hyperlink{string-builder-optimizer_8cc_ab0daa3141dc1b3c77114b8246f9cf9a5}{CONST\_CASE}}(Float64Constant, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_ab5f1d13cc218c037374bb0f5d2adb280}{Float64Matcher}})}
\DoxyCodeLine{213       \mbox{\hyperlink{string-builder-optimizer_8cc_ab0daa3141dc1b3c77114b8246f9cf9a5}{CONST\_CASE}}(Int32Constant, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a78e7de664586d68b613ac15fd8f30bc7}{Int32Matcher}})}
\DoxyCodeLine{214       \mbox{\hyperlink{string-builder-optimizer_8cc_ab0daa3141dc1b3c77114b8246f9cf9a5}{CONST\_CASE}}(Int64Constant, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a68d39c17707b337f182bebb861cca802}{Int64Matcher}})}
\DoxyCodeLine{215       \mbox{\hyperlink{string-builder-optimizer_8cc_ab0daa3141dc1b3c77114b8246f9cf9a5}{CONST\_CASE}}(\mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a3c392be439ddfcced9509a98e8aa385d}{NumberConstant}}, \mbox{\hyperlink{namespacev8_1_1internal_1_1compiler_a91b013ace4a37c8f3a22972a99e8b817}{NumberMatcher}})}
\DoxyCodeLine{216 \textcolor{preprocessor}{\#undef CONST\_CASE}}
\DoxyCodeLine{217 }
\DoxyCodeLine{218     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{219       \textcolor{keywordflow}{return} std::nullopt;}
\DoxyCodeLine{220   \}}
\DoxyCodeLine{221 \}}

\end{DoxyCode}


References broker(), code, CONST\+\_\+\+CASE, v8\+::internal\+::compiler\+::\+Value\+Matcher$<$ T, k\+Opcode $>$\+::\+Has\+Resolved\+Value(), v8\+::internal\+::compiler\+::\+Node\+::\+Input\+At(), v8\+::internal\+::compiler\+::\+Number\+Constant(), v8\+::internal\+::compiler\+::\+Node\+::opcode(), v8\+::internal\+::compiler\+::\+Heap\+Object\+Matcher\+Impl$<$ k\+Heap\+Constant\+Opcode $>$\+::\+Ref(), v8\+::base\+::bits\+::\+Signed\+Add\+Overflow32(), and v8\+::base\+::bits\+::\+Signed\+Mul\+Overflow32().



Referenced by One\+Or\+Two\+Byte().

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_ad400dd46424f5c8aa6ba220caf9b943a_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a82b73c21d0f692514e33b1f22b551a05}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a82b73c21d0f692514e33b1f22b551a05}} 
\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!broker\_@{broker\_}}
\index{broker\_@{broker\_}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}
\doxysubsubsection{\texorpdfstring{broker\_}{broker\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1JSHeapBroker}{JSHeap\+Broker}}$\ast$ v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::broker\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 211 of file string-\/builder-\/optimizer.\+h.



Referenced by broker().

\mbox{\Hypertarget{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}\label{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_a2e452ee78560b16697c49d89eff9d225}} 
\index{v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}!states\_@{states\_}}
\index{states\_@{states\_}!v8::internal::compiler::OneOrTwoByteAnalysis@{v8::internal::compiler::OneOrTwoByteAnalysis}}
\doxysubsubsection{\texorpdfstring{states\_}{states\_}}
{\footnotesize\ttfamily \mbox{\hyperlink{classv8_1_1internal_1_1ZoneVector}{Zone\+Vector}}$<$\mbox{\hyperlink{classv8_1_1internal_1_1compiler_1_1OneOrTwoByteAnalysis_adcca1015975b6661c18d2c55a797c6a3}{State}}$>$ v8\+::internal\+::compiler\+::\+One\+Or\+Two\+Byte\+Analysis\+::states\+\_\+\hspace{0.3cm}{\ttfamily [private]}}



Definition at line 210 of file string-\/builder-\/optimizer.\+h.



Referenced by One\+Or\+Two\+Byte().



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
/mnt/\+V8\+Source\+Code/src/compiler/\mbox{\hyperlink{string-builder-optimizer_8h}{string-\/builder-\/optimizer.\+h}}\item 
/mnt/\+V8\+Source\+Code/src/compiler/\mbox{\hyperlink{string-builder-optimizer_8cc}{string-\/builder-\/optimizer.\+cc}}\end{DoxyCompactItemize}
